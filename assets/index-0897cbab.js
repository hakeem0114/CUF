var vD=Object.defineProperty;var CD=(t,e,n)=>e in t?vD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oe=(t,e,n)=>(CD(t,typeof e!="symbol"?e+"":e,n),n);function PD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p0={exports:{}},Rf={},g0={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=Symbol.for("react.element"),bD=Symbol.for("react.portal"),ED=Symbol.for("react.fragment"),OD=Symbol.for("react.strict_mode"),SD=Symbol.for("react.profiler"),xD=Symbol.for("react.provider"),TD=Symbol.for("react.context"),RD=Symbol.for("react.forward_ref"),DD=Symbol.for("react.suspense"),ID=Symbol.for("react.memo"),MD=Symbol.for("react.lazy"),Rv=Symbol.iterator;function VD(t){return t===null||typeof t!="object"?null:(t=Rv&&t[Rv]||t["@@iterator"],typeof t=="function"?t:null)}var m0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y0=Object.assign,v0={};function ks(t,e,n){this.props=t,this.context=e,this.refs=v0,this.updater=n||m0}ks.prototype.isReactComponent={};ks.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ks.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C0(){}C0.prototype=ks.prototype;function Vg(t,e,n){this.props=t,this.context=e,this.refs=v0,this.updater=n||m0}var wg=Vg.prototype=new C0;wg.constructor=Vg;y0(wg,ks.prototype);wg.isPureReactComponent=!0;var Dv=Array.isArray,P0=Object.prototype.hasOwnProperty,Ag={current:null},b0={key:!0,ref:!0,__self:!0,__source:!0};function E0(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)P0.call(e,r)&&!b0.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var c=Array(s),C=0;C<s;C++)c[C]=arguments[C+2];i.children=c}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:kl,type:t,key:o,ref:a,props:i,_owner:Ag.current}}function wD(t,e){return{$$typeof:kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===kl}function AD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Iv=/\/+/g;function zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AD(""+t.key):e.toString(36)}function rc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case kl:case bD:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+zd(a,0):r,Dv(i)?(n="",t!=null&&(n=t.replace(Iv,"$&/")+"/"),rc(i,e,n,"",function(C){return C})):i!=null&&(Lg(i)&&(i=wD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Iv,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Dv(t))for(var s=0;s<t.length;s++){o=t[s];var c=r+zd(o,s);a+=rc(o,e,n,c,i)}else if(c=VD(t),typeof c=="function")for(t=c.call(t),s=0;!(o=t.next()).done;)o=o.value,c=r+zd(o,s++),a+=rc(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Pu(t,e,n){if(t==null)return t;var r=[],i=0;return rc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function LD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},ic={transition:null},BD={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:ic,ReactCurrentOwner:Ag};Fe.Children={map:Pu,forEach:function(t,e,n){Pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pu(t,function(){e++}),e},toArray:function(t){return Pu(t,function(e){return e})||[]},only:function(t){if(!Lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=ks;Fe.Fragment=ED;Fe.Profiler=SD;Fe.PureComponent=Vg;Fe.StrictMode=OD;Fe.Suspense=DD;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BD;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=y0({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Ag.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)P0.call(e,c)&&!b0.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var C=0;C<c;C++)s[C]=arguments[C+2];r.children=s}return{$$typeof:kl,type:t.type,key:i,ref:o,props:r,_owner:a}};Fe.createContext=function(t){return t={$$typeof:TD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xD,_context:t},t.Consumer=t};Fe.createElement=E0;Fe.createFactory=function(t){var e=E0.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:RD,render:t}};Fe.isValidElement=Lg;Fe.lazy=function(t){return{$$typeof:MD,_payload:{_status:-1,_result:t},_init:LD}};Fe.memo=function(t,e){return{$$typeof:ID,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=ic.transition;ic.transition={};try{t()}finally{ic.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(t,e){return hn.current.useCallback(t,e)};Fe.useContext=function(t){return hn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return hn.current.useEffect(t,e)};Fe.useId=function(){return hn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return hn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};Fe.useRef=function(t){return hn.current.useRef(t)};Fe.useState=function(t){return hn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return hn.current.useTransition()};Fe.version="18.2.0";g0.exports=Fe;var X=g0.exports;const Ve=h0(X),ND=PD({__proto__:null,default:Ve},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jD=X,FD=Symbol.for("react.element"),UD=Symbol.for("react.fragment"),WD=Object.prototype.hasOwnProperty,QD=jD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zD={key:!0,ref:!0,__self:!0,__source:!0};function O0(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)WD.call(e,r)&&!zD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FD,type:t,key:o,ref:a,props:i,_owner:QD.current}}Rf.Fragment=UD;Rf.jsx=O0;Rf.jsxs=O0;p0.exports=Rf;var Z=p0.exports,zh={},S0={exports:{}},Fn={},x0={exports:{}},T0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,F){var W=L.length;L.push(F);e:for(;0<W;){var U=W-1>>>1,Q=L[U];if(0<i(Q,F))L[U]=F,L[W]=Q,W=U;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],W=L.pop();if(W!==F){L[0]=W;e:for(var U=0,Q=L.length,$=Q>>>1;U<$;){var z=2*(U+1)-1,q=L[z],K=z+1,re=L[K];if(0>i(q,W))K<Q&&0>i(re,q)?(L[U]=re,L[K]=W,U=K):(L[U]=q,L[z]=W,U=z);else if(K<Q&&0>i(re,W))L[U]=re,L[K]=W,U=K;else break e}}return F}function i(L,F){var W=L.sortIndex-F.sortIndex;return W!==0?W:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var c=[],C=[],E=1,O=null,y=3,b=!1,P=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function l(L){for(var F=n(C);F!==null;){if(F.callback===null)r(C);else if(F.startTime<=L)r(C),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(C)}}function d(L){if(g=!1,l(L),!P)if(n(c)!==null)P=!0,I(h);else{var F=n(C);F!==null&&w(d,F.startTime-L)}}function h(L,F){P=!1,g&&(g=!1,v(x),x=-1),b=!0;var W=y;try{for(l(F),O=n(c);O!==null&&(!(O.expirationTime>F)||L&&!M());){var U=O.callback;if(typeof U=="function"){O.callback=null,y=O.priorityLevel;var Q=U(O.expirationTime<=F);F=t.unstable_now(),typeof Q=="function"?O.callback=Q:O===n(c)&&r(c),l(F)}else r(c);O=n(c)}if(O!==null)var $=!0;else{var z=n(C);z!==null&&w(d,z.startTime-F),$=!1}return $}finally{O=null,y=W,b=!1}}var p=!1,u=null,x=-1,V=5,A=-1;function M(){return!(t.unstable_now()-A<V)}function T(){if(u!==null){var L=t.unstable_now();A=L;var F=!0;try{F=u(!0,L)}finally{F?D():(p=!1,u=null)}}else p=!1}var D;if(typeof f=="function")D=function(){f(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,S=R.port2;R.port1.onmessage=T,D=function(){S.postMessage(null)}}else D=function(){m(T,0)};function I(L){u=L,p||(p=!0,D())}function w(L,F){x=m(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){P||b||(P=!0,I(h))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var W=y;y=F;try{return L()}finally{y=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=y;y=L;try{return F()}finally{y=W}},t.unstable_scheduleCallback=function(L,F,W){var U=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?U+W:U):W=U,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,L={id:E++,callback:F,priorityLevel:L,startTime:W,expirationTime:Q,sortIndex:-1},W>U?(L.sortIndex=W,e(C,L),n(c)===null&&L===n(C)&&(g?(v(x),x=-1):g=!0,w(d,W-U))):(L.sortIndex=Q,e(c,L),P||b||(P=!0,I(h))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var F=y;return function(){var W=y;y=F;try{return L.apply(this,arguments)}finally{y=W}}}})(T0);x0.exports=T0;var HD=x0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0=X,Bn=HD;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D0=new Set,hl={};function _o(t,e){Ms(t,e),Ms(t+"Capture",e)}function Ms(t,e){for(hl[t]=e,t=0;t<e.length;t++)D0.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hh=Object.prototype.hasOwnProperty,KD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mv={},Vv={};function $D(t){return Hh.call(Vv,t)?!0:Hh.call(Mv,t)?!1:KD.test(t)?Vv[t]=!0:(Mv[t]=!0,!1)}function qD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _D(t,e,n,r){if(e===null||typeof e>"u"||qD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bg=/[\-:]([a-z])/g;function Ng(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bg,Ng);Yt[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bg,Ng);Yt[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bg,Ng);Yt[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function jg(t,e,n,r){var i=Yt.hasOwnProperty(e)?Yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_D(e,n,i,r)&&(n=null),r||i===null?$D(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ri=R0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),ss=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),M0=Symbol.for("react.context"),Ug=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),qh=Symbol.for("react.suspense_list"),Wg=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),V0=Symbol.for("react.offscreen"),wv=Symbol.iterator;function ua(t){return t===null||typeof t!="object"?null:(t=wv&&t[wv]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,Hd;function Ma(t){if(Hd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hd=e&&e[1]||""}return`
`+Hd+t}var Kd=!1;function $d(t,e){if(!t||Kd)return"";Kd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(C){var r=C}Reflect.construct(t,[],e)}else{try{e.call()}catch(C){r=C}t.call(e.prototype)}else{try{throw Error()}catch(C){r=C}t()}}catch(C){if(C&&r&&typeof C.stack=="string"){for(var i=C.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=s);break}}}finally{Kd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ma(t):""}function GD(t){switch(t.tag){case 5:return Ma(t.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return t=$d(t.type,!1),t;case 11:return t=$d(t.type.render,!1),t;case 1:return t=$d(t.type,!0),t;default:return""}}function _h(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case as:return"Fragment";case ss:return"Portal";case Kh:return"Profiler";case Fg:return"StrictMode";case $h:return"Suspense";case qh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M0:return(t.displayName||"Context")+".Consumer";case I0:return(t._context.displayName||"Context")+".Provider";case Ug:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wg:return e=t.displayName||null,e!==null?e:_h(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return _h(t(e))}catch{}}return null}function kD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _h(e);case 8:return e===Fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function w0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JD(t){var e=w0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eu(t){t._valueTracker||(t._valueTracker=JD(t))}function A0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=w0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gh(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Av(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L0(t,e){e=e.checked,e!=null&&jg(t,"checked",e,!1)}function kh(t,e){L0(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jh(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jh(t,e,n){(e!=="number"||Ic(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(Va(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function B0(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function N0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?N0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ou,j0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YD=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(t){YD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),za[e]=za[t]})});function F0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||za.hasOwnProperty(t)&&za[t]?(""+e).trim():e+"px"}function U0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=F0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var XD=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zh(t,e){if(e){if(XD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function ep(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tp=null;function Qg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var np=null,Es=null,Os=null;function jv(t){if(t=Xl(t)){if(typeof np!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=wf(e),np(t.stateNode,t.type,e))}}function W0(t){Es?Os?Os.push(t):Os=[t]:Es=t}function Q0(){if(Es){var t=Es,e=Os;if(Os=Es=null,jv(t),e)for(t=0;t<e.length;t++)jv(e[t])}}function z0(t,e){return t(e)}function H0(){}var qd=!1;function K0(t,e,n){if(qd)return t(e,n);qd=!0;try{return z0(t,e,n)}finally{qd=!1,(Es!==null||Os!==null)&&(H0(),Q0())}}function gl(t,e){var n=t.stateNode;if(n===null)return null;var r=wf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var rp=!1;if(Xr)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){rp=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{rp=!1}function ZD(t,e,n,r,i,o,a,s,c){var C=Array.prototype.slice.call(arguments,3);try{e.apply(n,C)}catch(E){this.onError(E)}}var Ha=!1,Mc=null,Vc=!1,ip=null,eI={onError:function(t){Ha=!0,Mc=t}};function tI(t,e,n,r,i,o,a,s,c){Ha=!1,Mc=null,ZD.apply(eI,arguments)}function nI(t,e,n,r,i,o,a,s,c){if(tI.apply(this,arguments),Ha){if(Ha){var C=Mc;Ha=!1,Mc=null}else throw Error(ne(198));Vc||(Vc=!0,ip=C)}}function Go(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fv(t){if(Go(t)!==t)throw Error(ne(188))}function rI(t){var e=t.alternate;if(!e){if(e=Go(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Fv(i),t;if(o===r)return Fv(i),e;o=o.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function q0(t){return t=rI(t),t!==null?_0(t):null}function _0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_0(t);if(e!==null)return e;t=t.sibling}return null}var G0=Bn.unstable_scheduleCallback,Uv=Bn.unstable_cancelCallback,iI=Bn.unstable_shouldYield,oI=Bn.unstable_requestPaint,Dt=Bn.unstable_now,sI=Bn.unstable_getCurrentPriorityLevel,zg=Bn.unstable_ImmediatePriority,k0=Bn.unstable_UserBlockingPriority,wc=Bn.unstable_NormalPriority,aI=Bn.unstable_LowPriority,J0=Bn.unstable_IdlePriority,Df=null,Tr=null;function lI(t){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Df,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:fI,uI=Math.log,cI=Math.LN2;function fI(t){return t>>>=0,t===0?32:31-(uI(t)/cI|0)|0}var Su=64,xu=4194304;function wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ac(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=wa(s):(o&=a,o!==0&&(r=wa(o)))}else a=n&~i,a!==0?r=wa(a):o!==0&&(r=wa(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function dI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-dr(o),s=1<<a,c=i[a];c===-1?(!(s&n)||s&r)&&(i[a]=dI(s,e)):c<=e&&(t.expiredLanes|=s),o&=~s}}function op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Y0(){var t=Su;return Su<<=1,!(Su&4194240)&&(Su=64),t}function _d(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function pI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Hg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function X0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Z0,Kg,eO,tO,nO,sp=!1,Tu=[],Di=null,Ii=null,Mi=null,ml=new Map,yl=new Map,vi=[],gI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wv(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(e.pointerId)}}function fa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Xl(e),e!==null&&Kg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mI(t,e,n,r,i){switch(e){case"focusin":return Di=fa(Di,t,e,n,r,i),!0;case"dragenter":return Ii=fa(Ii,t,e,n,r,i),!0;case"mouseover":return Mi=fa(Mi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ml.set(o,fa(ml.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yl.set(o,fa(yl.get(o)||null,t,e,n,r,i)),!0}return!1}function rO(t){var e=Eo(t.target);if(e!==null){var n=Go(e);if(n!==null){if(e=n.tag,e===13){if(e=$0(n),e!==null){t.blockedOn=e,nO(t.priority,function(){eO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ap(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tp=r,n.target.dispatchEvent(r),tp=null}else return e=Xl(n),e!==null&&Kg(e),t.blockedOn=n,!1;e.shift()}return!0}function Qv(t,e,n){oc(t)&&n.delete(e)}function yI(){sp=!1,Di!==null&&oc(Di)&&(Di=null),Ii!==null&&oc(Ii)&&(Ii=null),Mi!==null&&oc(Mi)&&(Mi=null),ml.forEach(Qv),yl.forEach(Qv)}function da(t,e){t.blockedOn===e&&(t.blockedOn=null,sp||(sp=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,yI)))}function vl(t){function e(i){return da(i,t)}if(0<Tu.length){da(Tu[0],t);for(var n=1;n<Tu.length;n++){var r=Tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Di!==null&&da(Di,t),Ii!==null&&da(Ii,t),Mi!==null&&da(Mi,t),ml.forEach(e),yl.forEach(e),n=0;n<vi.length;n++)r=vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vi.length&&(n=vi[0],n.blockedOn===null);)rO(n),n.blockedOn===null&&vi.shift()}var Ss=ri.ReactCurrentBatchConfig,Lc=!0;function vI(t,e,n,r){var i=ke,o=Ss.transition;Ss.transition=null;try{ke=1,$g(t,e,n,r)}finally{ke=i,Ss.transition=o}}function CI(t,e,n,r){var i=ke,o=Ss.transition;Ss.transition=null;try{ke=4,$g(t,e,n,r)}finally{ke=i,Ss.transition=o}}function $g(t,e,n,r){if(Lc){var i=ap(t,e,n,r);if(i===null)rh(t,e,r,Bc,n),Wv(t,r);else if(mI(i,t,e,n,r))r.stopPropagation();else if(Wv(t,r),e&4&&-1<gI.indexOf(t)){for(;i!==null;){var o=Xl(i);if(o!==null&&Z0(o),o=ap(t,e,n,r),o===null&&rh(t,e,r,Bc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else rh(t,e,r,null,n)}}var Bc=null;function ap(t,e,n,r){if(Bc=null,t=Qg(r),t=Eo(t),t!==null)if(e=Go(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bc=t,null}function iO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sI()){case zg:return 1;case k0:return 4;case wc:case aI:return 16;case J0:return 536870912;default:return 16}default:return 16}}var Pi=null,qg=null,sc=null;function oO(){if(sc)return sc;var t,e=qg,n=e.length,r,i="value"in Pi?Pi.value:Pi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return sc=i.slice(t,1<r?1-r:void 0)}function ac(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ru(){return!0}function zv(){return!1}function Un(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ru:zv,this.isPropagationStopped=zv,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),e}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_g=Un(Js),Yl=bt({},Js,{view:0,detail:0}),PI=Un(Yl),Gd,kd,ha,If=bt({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ha&&(ha&&t.type==="mousemove"?(Gd=t.screenX-ha.screenX,kd=t.screenY-ha.screenY):kd=Gd=0,ha=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:kd}}),Hv=Un(If),bI=bt({},If,{dataTransfer:0}),EI=Un(bI),OI=bt({},Yl,{relatedTarget:0}),Jd=Un(OI),SI=bt({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),xI=Un(SI),TI=bt({},Js,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RI=Un(TI),DI=bt({},Js,{data:0}),Kv=Un(DI),II={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VI[t])?!!e[t]:!1}function Gg(){return wI}var AI=bt({},Yl,{key:function(t){if(t.key){var e=II[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ac(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gg,charCode:function(t){return t.type==="keypress"?ac(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ac(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LI=Un(AI),BI=bt({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$v=Un(BI),NI=bt({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gg}),jI=Un(NI),FI=bt({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),UI=Un(FI),WI=bt({},If,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QI=Un(WI),zI=[9,13,27,32],kg=Xr&&"CompositionEvent"in window,Ka=null;Xr&&"documentMode"in document&&(Ka=document.documentMode);var HI=Xr&&"TextEvent"in window&&!Ka,sO=Xr&&(!kg||Ka&&8<Ka&&11>=Ka),qv=String.fromCharCode(32),_v=!1;function aO(t,e){switch(t){case"keyup":return zI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ls=!1;function KI(t,e){switch(t){case"compositionend":return lO(e);case"keypress":return e.which!==32?null:(_v=!0,qv);case"textInput":return t=e.data,t===qv&&_v?null:t;default:return null}}function $I(t,e){if(ls)return t==="compositionend"||!kg&&aO(t,e)?(t=oO(),sc=qg=Pi=null,ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sO&&e.locale!=="ko"?null:e.data;default:return null}}var qI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qI[t.type]:e==="textarea"}function uO(t,e,n,r){W0(r),e=Nc(e,"onChange"),0<e.length&&(n=new _g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $a=null,Cl=null;function _I(t){PO(t,0)}function Mf(t){var e=fs(t);if(A0(e))return t}function GI(t,e){if(t==="change")return e}var cO=!1;if(Xr){var Yd;if(Xr){var Xd="oninput"in document;if(!Xd){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),Xd=typeof kv.oninput=="function"}Yd=Xd}else Yd=!1;cO=Yd&&(!document.documentMode||9<document.documentMode)}function Jv(){$a&&($a.detachEvent("onpropertychange",fO),Cl=$a=null)}function fO(t){if(t.propertyName==="value"&&Mf(Cl)){var e=[];uO(e,Cl,t,Qg(t)),K0(_I,e)}}function kI(t,e,n){t==="focusin"?(Jv(),$a=e,Cl=n,$a.attachEvent("onpropertychange",fO)):t==="focusout"&&Jv()}function JI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mf(Cl)}function YI(t,e){if(t==="click")return Mf(e)}function XI(t,e){if(t==="input"||t==="change")return Mf(e)}function ZI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:ZI;function Pl(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hh.call(e,i)||!gr(t[i],e[i]))return!1}return!0}function Yv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xv(t,e){var n=Yv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yv(n)}}function dO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hO(){for(var t=window,e=Ic();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ic(t.document)}return e}function Jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eM(t){var e=hO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dO(n.ownerDocument.documentElement,n)){if(r!==null&&Jg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Xv(n,o);var a=Xv(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tM=Xr&&"documentMode"in document&&11>=document.documentMode,us=null,lp=null,qa=null,up=!1;function Zv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;up||us==null||us!==Ic(r)||(r=us,"selectionStart"in r&&Jg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qa&&Pl(qa,r)||(qa=r,r=Nc(lp,"onSelect"),0<r.length&&(e=new _g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=us)))}function Du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cs={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},Zd={},pO={};Xr&&(pO=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Vf(t){if(Zd[t])return Zd[t];if(!cs[t])return t;var e=cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pO)return Zd[t]=e[n];return t}var gO=Vf("animationend"),mO=Vf("animationiteration"),yO=Vf("animationstart"),vO=Vf("transitionend"),CO=new Map,eC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){CO.set(t,e),_o(e,[t])}for(var eh=0;eh<eC.length;eh++){var th=eC[eh],nM=th.toLowerCase(),rM=th[0].toUpperCase()+th.slice(1);Yi(nM,"on"+rM)}Yi(gO,"onAnimationEnd");Yi(mO,"onAnimationIteration");Yi(yO,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(vO,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);_o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_o("onBeforeInput",["compositionend","keypress","textInput","paste"]);_o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function tC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nI(r,e,void 0,t),t.currentTarget=null}function PO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,C=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;tC(i,s,C),o=c}else for(a=0;a<r.length;a++){if(s=r[a],c=s.instance,C=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;tC(i,s,C),o=c}}}if(Vc)throw t=ip,Vc=!1,ip=null,t}function lt(t,e){var n=e[pp];n===void 0&&(n=e[pp]=new Set);var r=t+"__bubble";n.has(r)||(bO(e,t,2,!1),n.add(r))}function nh(t,e,n){var r=0;e&&(r|=4),bO(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function bl(t){if(!t[Iu]){t[Iu]=!0,D0.forEach(function(n){n!=="selectionchange"&&(iM.has(n)||nh(n,!1,t),nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,nh("selectionchange",!1,e))}}function bO(t,e,n,r){switch(iO(e)){case 1:var i=vI;break;case 4:i=CI;break;default:i=$g}n=i.bind(null,e,n,t),i=void 0,!rp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Eo(s),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}s=s.parentNode}}r=r.return}K0(function(){var C=o,E=Qg(n),O=[];e:{var y=CO.get(t);if(y!==void 0){var b=_g,P=t;switch(t){case"keypress":if(ac(n)===0)break e;case"keydown":case"keyup":b=LI;break;case"focusin":P="focus",b=Jd;break;case"focusout":P="blur",b=Jd;break;case"beforeblur":case"afterblur":b=Jd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=EI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=jI;break;case gO:case mO:case yO:b=xI;break;case vO:b=UI;break;case"scroll":b=PI;break;case"wheel":b=QI;break;case"copy":case"cut":case"paste":b=RI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=$v}var g=(e&4)!==0,m=!g&&t==="scroll",v=g?y!==null?y+"Capture":null:y;g=[];for(var f=C,l;f!==null;){l=f;var d=l.stateNode;if(l.tag===5&&d!==null&&(l=d,v!==null&&(d=gl(f,v),d!=null&&g.push(El(f,d,l)))),m)break;f=f.return}0<g.length&&(y=new b(y,P,null,n,E),O.push({event:y,listeners:g}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",y&&n!==tp&&(P=n.relatedTarget||n.fromElement)&&(Eo(P)||P[Zr]))break e;if((b||y)&&(y=E.window===E?E:(y=E.ownerDocument)?y.defaultView||y.parentWindow:window,b?(P=n.relatedTarget||n.toElement,b=C,P=P?Eo(P):null,P!==null&&(m=Go(P),P!==m||P.tag!==5&&P.tag!==6)&&(P=null)):(b=null,P=C),b!==P)){if(g=Hv,d="onMouseLeave",v="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(g=$v,d="onPointerLeave",v="onPointerEnter",f="pointer"),m=b==null?y:fs(b),l=P==null?y:fs(P),y=new g(d,f+"leave",b,n,E),y.target=m,y.relatedTarget=l,d=null,Eo(E)===C&&(g=new g(v,f+"enter",P,n,E),g.target=l,g.relatedTarget=m,d=g),m=d,b&&P)t:{for(g=b,v=P,f=0,l=g;l;l=es(l))f++;for(l=0,d=v;d;d=es(d))l++;for(;0<f-l;)g=es(g),f--;for(;0<l-f;)v=es(v),l--;for(;f--;){if(g===v||v!==null&&g===v.alternate)break t;g=es(g),v=es(v)}g=null}else g=null;b!==null&&nC(O,y,b,g,!1),P!==null&&m!==null&&nC(O,m,P,g,!0)}}e:{if(y=C?fs(C):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var h=GI;else if(Gv(y))if(cO)h=XI;else{h=JI;var p=kI}else(b=y.nodeName)&&b.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(h=YI);if(h&&(h=h(t,C))){uO(O,h,n,E);break e}p&&p(t,y,C),t==="focusout"&&(p=y._wrapperState)&&p.controlled&&y.type==="number"&&Jh(y,"number",y.value)}switch(p=C?fs(C):window,t){case"focusin":(Gv(p)||p.contentEditable==="true")&&(us=p,lp=C,qa=null);break;case"focusout":qa=lp=us=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,Zv(O,n,E);break;case"selectionchange":if(tM)break;case"keydown":case"keyup":Zv(O,n,E)}var u;if(kg)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ls?aO(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(sO&&n.locale!=="ko"&&(ls||x!=="onCompositionStart"?x==="onCompositionEnd"&&ls&&(u=oO()):(Pi=E,qg="value"in Pi?Pi.value:Pi.textContent,ls=!0)),p=Nc(C,x),0<p.length&&(x=new Kv(x,t,null,n,E),O.push({event:x,listeners:p}),u?x.data=u:(u=lO(n),u!==null&&(x.data=u)))),(u=HI?KI(t,n):$I(t,n))&&(C=Nc(C,"onBeforeInput"),0<C.length&&(E=new Kv("onBeforeInput","beforeinput",null,n,E),O.push({event:E,listeners:C}),E.data=u))}PO(O,e)})}function El(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gl(t,n),o!=null&&r.unshift(El(t,o,i)),o=gl(t,e),o!=null&&r.push(El(t,o,i))),t=t.return}return r}function es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nC(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,c=s.alternate,C=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&C!==null&&(s=C,i?(c=gl(n,o),c!=null&&a.unshift(El(n,c,s))):i||(c=gl(n,o),c!=null&&a.push(El(n,c,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var oM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function rC(t){return(typeof t=="string"?t:""+t).replace(oM,`
`).replace(sM,"")}function Mu(t,e,n){if(e=rC(e),rC(t)!==e&&n)throw Error(ne(425))}function jc(){}var cp=null,fp=null;function dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,aM=typeof clearTimeout=="function"?clearTimeout:void 0,iC=typeof Promise=="function"?Promise:void 0,lM=typeof queueMicrotask=="function"?queueMicrotask:typeof iC<"u"?function(t){return iC.resolve(null).then(t).catch(uM)}:hp;function uM(t){setTimeout(function(){throw t})}function ih(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vl(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),xr="__reactFiber$"+Ys,Ol="__reactProps$"+Ys,Zr="__reactContainer$"+Ys,pp="__reactEvents$"+Ys,cM="__reactListeners$"+Ys,fM="__reactHandles$"+Ys;function Eo(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=oC(t);t!==null;){if(n=t[xr])return n;t=oC(t)}return e}t=n,n=t.parentNode}return null}function Xl(t){return t=t[xr]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function wf(t){return t[Ol]||null}var gp=[],ds=-1;function Xi(t){return{current:t}}function ct(t){0>ds||(t.current=gp[ds],gp[ds]=null,ds--)}function it(t,e){ds++,gp[ds]=t.current,t.current=e}var zi={},on=Xi(zi),On=Xi(!1),Bo=zi;function Vs(t,e){var n=t.type.contextTypes;if(!n)return zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function Fc(){ct(On),ct(on)}function sC(t,e,n){if(on.current!==zi)throw Error(ne(168));it(on,e),it(On,n)}function EO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,kD(t)||"Unknown",i));return bt({},n,r)}function Uc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zi,Bo=on.current,it(on,t),it(On,On.current),!0}function aC(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=EO(t,e,Bo),r.__reactInternalMemoizedMergedChildContext=t,ct(On),ct(on),it(on,t)):ct(On),it(On,n)}var Wr=null,Af=!1,oh=!1;function OO(t){Wr===null?Wr=[t]:Wr.push(t)}function dM(t){Af=!0,OO(t)}function Zi(){if(!oh&&Wr!==null){oh=!0;var t=0,e=ke;try{var n=Wr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wr=null,Af=!1}catch(i){throw Wr!==null&&(Wr=Wr.slice(t+1)),G0(zg,Zi),i}finally{ke=e,oh=!1}}return null}var hs=[],ps=0,Wc=null,Qc=0,$n=[],qn=0,No=null,zr=1,Hr="";function po(t,e){hs[ps++]=Qc,hs[ps++]=Wc,Wc=t,Qc=e}function SO(t,e,n){$n[qn++]=zr,$n[qn++]=Hr,$n[qn++]=No,No=t;var r=zr;t=Hr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var o=32-dr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,zr=1<<32-dr(e)+i|n<<i|r,Hr=o+t}else zr=1<<o|n<<i|r,Hr=t}function Yg(t){t.return!==null&&(po(t,1),SO(t,1,0))}function Xg(t){for(;t===Wc;)Wc=hs[--ps],hs[ps]=null,Qc=hs[--ps],hs[ps]=null;for(;t===No;)No=$n[--qn],$n[qn]=null,Hr=$n[--qn],$n[qn]=null,zr=$n[--qn],$n[qn]=null}var An=null,wn=null,pt=!1,ur=null;function xO(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,wn=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=No!==null?{id:zr,overflow:Hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,wn=null,!0):!1;default:return!1}}function mp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yp(t){if(pt){var e=wn;if(e){var n=e;if(!lC(t,e)){if(mp(t))throw Error(ne(418));e=Vi(n.nextSibling);var r=An;e&&lC(t,e)?xO(r,n):(t.flags=t.flags&-4097|2,pt=!1,An=t)}}else{if(mp(t))throw Error(ne(418));t.flags=t.flags&-4097|2,pt=!1,An=t}}}function uC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function Vu(t){if(t!==An)return!1;if(!pt)return uC(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dp(t.type,t.memoizedProps)),e&&(e=wn)){if(mp(t))throw TO(),Error(ne(418));for(;e;)xO(t,e),e=Vi(e.nextSibling)}if(uC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=An?Vi(t.stateNode.nextSibling):null;return!0}function TO(){for(var t=wn;t;)t=Vi(t.nextSibling)}function ws(){wn=An=null,pt=!1}function Zg(t){ur===null?ur=[t]:ur.push(t)}var hM=ri.ReactCurrentBatchConfig;function or(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var zc=Xi(null),Hc=null,gs=null,em=null;function tm(){em=gs=Hc=null}function nm(t){var e=zc.current;ct(zc),t._currentValue=e}function vp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xs(t,e){Hc=t,em=gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(em!==t)if(t={context:t,memoizedValue:e,next:null},gs===null){if(Hc===null)throw Error(ne(308));gs=t,Hc.dependencies={lanes:0,firstContext:t}}else gs=gs.next=t;return e}var Oo=null;function rm(t){Oo===null?Oo=[t]:Oo.push(t)}function RO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rm(e)):(n.next=i.next,i.next=n),e.interleaved=n,ei(t,r)}function ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yi=!1;function im(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ei(t,n)}return i=r.interleaved,i===null?(e.next=e,rm(r)):(e.next=i.next,i.next=e),r.interleaved=e,ei(t,n)}function lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hg(t,n)}}function cC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kc(t,e,n,r){var i=t.updateQueue;yi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,C=c.next;c.next=null,a===null?o=C:a.next=C,a=c;var E=t.alternate;E!==null&&(E=E.updateQueue,s=E.lastBaseUpdate,s!==a&&(s===null?E.firstBaseUpdate=C:s.next=C,E.lastBaseUpdate=c))}if(o!==null){var O=i.baseState;a=0,E=C=c=null,s=o;do{var y=s.lane,b=s.eventTime;if((r&y)===y){E!==null&&(E=E.next={eventTime:b,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var P=t,g=s;switch(y=e,b=n,g.tag){case 1:if(P=g.payload,typeof P=="function"){O=P.call(b,O,y);break e}O=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=g.payload,y=typeof P=="function"?P.call(b,O,y):P,y==null)break e;O=bt({},O,y);break e;case 2:yi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[s]:y.push(s))}else b={eventTime:b,lane:y,tag:s.tag,payload:s.payload,callback:s.callback,next:null},E===null?(C=E=b,c=O):E=E.next=b,a|=y;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;y=s,s=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(E===null&&(c=O),i.baseState=c,i.firstBaseUpdate=C,i.lastBaseUpdate=E,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Fo|=a,t.lanes=a,t.memoizedState=O}}function fC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var IO=new R0.Component().refs;function Cp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lf={isMounted:function(t){return(t=t._reactInternals)?Go(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Li(t),o=kr(r,i);o.payload=e,n!=null&&(o.callback=n),e=wi(t,o,i),e!==null&&(hr(e,t,i,r),lc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Li(t),o=kr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=wi(t,o,i),e!==null&&(hr(e,t,i,r),lc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=Li(t),i=kr(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(hr(e,t,r,n),lc(e,t,r))}};function dC(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Pl(n,r)||!Pl(i,o):!0}function MO(t,e,n){var r=!1,i=zi,o=e.contextType;return typeof o=="object"&&o!==null?o=Yn(o):(i=Sn(e)?Bo:on.current,r=e.contextTypes,o=(r=r!=null)?Vs(t,i):zi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function hC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lf.enqueueReplaceState(e,e.state,null)}function Pp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=IO,im(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Yn(o):(o=Sn(e)?Bo:on.current,i.context=Vs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Cp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lf.enqueueReplaceState(i,i.state,null),Kc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===IO&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function wu(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pC(t){var e=t._init;return e(t._payload)}function VO(t){function e(v,f){if(t){var l=v.deletions;l===null?(v.deletions=[f],v.flags|=16):l.push(f)}}function n(v,f){if(!t)return null;for(;f!==null;)e(v,f),f=f.sibling;return null}function r(v,f){for(v=new Map;f!==null;)f.key!==null?v.set(f.key,f):v.set(f.index,f),f=f.sibling;return v}function i(v,f){return v=Bi(v,f),v.index=0,v.sibling=null,v}function o(v,f,l){return v.index=l,t?(l=v.alternate,l!==null?(l=l.index,l<f?(v.flags|=2,f):l):(v.flags|=2,f)):(v.flags|=1048576,f)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,f,l,d){return f===null||f.tag!==6?(f=dh(l,v.mode,d),f.return=v,f):(f=i(f,l),f.return=v,f)}function c(v,f,l,d){var h=l.type;return h===as?E(v,f,l.props.children,d,l.key):f!==null&&(f.elementType===h||typeof h=="object"&&h!==null&&h.$$typeof===mi&&pC(h)===f.type)?(d=i(f,l.props),d.ref=pa(v,f,l),d.return=v,d):(d=pc(l.type,l.key,l.props,null,v.mode,d),d.ref=pa(v,f,l),d.return=v,d)}function C(v,f,l,d){return f===null||f.tag!==4||f.stateNode.containerInfo!==l.containerInfo||f.stateNode.implementation!==l.implementation?(f=hh(l,v.mode,d),f.return=v,f):(f=i(f,l.children||[]),f.return=v,f)}function E(v,f,l,d,h){return f===null||f.tag!==7?(f=Mo(l,v.mode,d,h),f.return=v,f):(f=i(f,l),f.return=v,f)}function O(v,f,l){if(typeof f=="string"&&f!==""||typeof f=="number")return f=dh(""+f,v.mode,l),f.return=v,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case bu:return l=pc(f.type,f.key,f.props,null,v.mode,l),l.ref=pa(v,null,f),l.return=v,l;case ss:return f=hh(f,v.mode,l),f.return=v,f;case mi:var d=f._init;return O(v,d(f._payload),l)}if(Va(f)||ua(f))return f=Mo(f,v.mode,l,null),f.return=v,f;wu(v,f)}return null}function y(v,f,l,d){var h=f!==null?f.key:null;if(typeof l=="string"&&l!==""||typeof l=="number")return h!==null?null:s(v,f,""+l,d);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case bu:return l.key===h?c(v,f,l,d):null;case ss:return l.key===h?C(v,f,l,d):null;case mi:return h=l._init,y(v,f,h(l._payload),d)}if(Va(l)||ua(l))return h!==null?null:E(v,f,l,d,null);wu(v,l)}return null}function b(v,f,l,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return v=v.get(l)||null,s(f,v,""+d,h);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case bu:return v=v.get(d.key===null?l:d.key)||null,c(f,v,d,h);case ss:return v=v.get(d.key===null?l:d.key)||null,C(f,v,d,h);case mi:var p=d._init;return b(v,f,l,p(d._payload),h)}if(Va(d)||ua(d))return v=v.get(l)||null,E(f,v,d,h,null);wu(f,d)}return null}function P(v,f,l,d){for(var h=null,p=null,u=f,x=f=0,V=null;u!==null&&x<l.length;x++){u.index>x?(V=u,u=null):V=u.sibling;var A=y(v,u,l[x],d);if(A===null){u===null&&(u=V);break}t&&u&&A.alternate===null&&e(v,u),f=o(A,f,x),p===null?h=A:p.sibling=A,p=A,u=V}if(x===l.length)return n(v,u),pt&&po(v,x),h;if(u===null){for(;x<l.length;x++)u=O(v,l[x],d),u!==null&&(f=o(u,f,x),p===null?h=u:p.sibling=u,p=u);return pt&&po(v,x),h}for(u=r(v,u);x<l.length;x++)V=b(u,v,x,l[x],d),V!==null&&(t&&V.alternate!==null&&u.delete(V.key===null?x:V.key),f=o(V,f,x),p===null?h=V:p.sibling=V,p=V);return t&&u.forEach(function(M){return e(v,M)}),pt&&po(v,x),h}function g(v,f,l,d){var h=ua(l);if(typeof h!="function")throw Error(ne(150));if(l=h.call(l),l==null)throw Error(ne(151));for(var p=h=null,u=f,x=f=0,V=null,A=l.next();u!==null&&!A.done;x++,A=l.next()){u.index>x?(V=u,u=null):V=u.sibling;var M=y(v,u,A.value,d);if(M===null){u===null&&(u=V);break}t&&u&&M.alternate===null&&e(v,u),f=o(M,f,x),p===null?h=M:p.sibling=M,p=M,u=V}if(A.done)return n(v,u),pt&&po(v,x),h;if(u===null){for(;!A.done;x++,A=l.next())A=O(v,A.value,d),A!==null&&(f=o(A,f,x),p===null?h=A:p.sibling=A,p=A);return pt&&po(v,x),h}for(u=r(v,u);!A.done;x++,A=l.next())A=b(u,v,x,A.value,d),A!==null&&(t&&A.alternate!==null&&u.delete(A.key===null?x:A.key),f=o(A,f,x),p===null?h=A:p.sibling=A,p=A);return t&&u.forEach(function(T){return e(v,T)}),pt&&po(v,x),h}function m(v,f,l,d){if(typeof l=="object"&&l!==null&&l.type===as&&l.key===null&&(l=l.props.children),typeof l=="object"&&l!==null){switch(l.$$typeof){case bu:e:{for(var h=l.key,p=f;p!==null;){if(p.key===h){if(h=l.type,h===as){if(p.tag===7){n(v,p.sibling),f=i(p,l.props.children),f.return=v,v=f;break e}}else if(p.elementType===h||typeof h=="object"&&h!==null&&h.$$typeof===mi&&pC(h)===p.type){n(v,p.sibling),f=i(p,l.props),f.ref=pa(v,p,l),f.return=v,v=f;break e}n(v,p);break}else e(v,p);p=p.sibling}l.type===as?(f=Mo(l.props.children,v.mode,d,l.key),f.return=v,v=f):(d=pc(l.type,l.key,l.props,null,v.mode,d),d.ref=pa(v,f,l),d.return=v,v=d)}return a(v);case ss:e:{for(p=l.key;f!==null;){if(f.key===p)if(f.tag===4&&f.stateNode.containerInfo===l.containerInfo&&f.stateNode.implementation===l.implementation){n(v,f.sibling),f=i(f,l.children||[]),f.return=v,v=f;break e}else{n(v,f);break}else e(v,f);f=f.sibling}f=hh(l,v.mode,d),f.return=v,v=f}return a(v);case mi:return p=l._init,m(v,f,p(l._payload),d)}if(Va(l))return P(v,f,l,d);if(ua(l))return g(v,f,l,d);wu(v,l)}return typeof l=="string"&&l!==""||typeof l=="number"?(l=""+l,f!==null&&f.tag===6?(n(v,f.sibling),f=i(f,l),f.return=v,v=f):(n(v,f),f=dh(l,v.mode,d),f.return=v,v=f),a(v)):n(v,f)}return m}var As=VO(!0),wO=VO(!1),Zl={},Rr=Xi(Zl),Sl=Xi(Zl),xl=Xi(Zl);function So(t){if(t===Zl)throw Error(ne(174));return t}function om(t,e){switch(it(xl,e),it(Sl,t),it(Rr,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xh(e,t)}ct(Rr),it(Rr,e)}function Ls(){ct(Rr),ct(Sl),ct(xl)}function AO(t){So(xl.current);var e=So(Rr.current),n=Xh(e,t.type);e!==n&&(it(Sl,t),it(Rr,n))}function sm(t){Sl.current===t&&(ct(Rr),ct(Sl))}var vt=Xi(0);function $c(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sh=[];function am(){for(var t=0;t<sh.length;t++)sh[t]._workInProgressVersionPrimary=null;sh.length=0}var uc=ri.ReactCurrentDispatcher,ah=ri.ReactCurrentBatchConfig,jo=0,Pt=null,Nt=null,zt=null,qc=!1,_a=!1,Tl=0,pM=0;function Xt(){throw Error(ne(321))}function lm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function um(t,e,n,r,i,o){if(jo=o,Pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uc.current=t===null||t.memoizedState===null?vM:CM,t=n(r,i),_a){o=0;do{if(_a=!1,Tl=0,25<=o)throw Error(ne(301));o+=1,zt=Nt=null,e.updateQueue=null,uc.current=PM,t=n(r,i)}while(_a)}if(uc.current=_c,e=Nt!==null&&Nt.next!==null,jo=0,zt=Nt=Pt=null,qc=!1,e)throw Error(ne(300));return t}function cm(){var t=Tl!==0;return Tl=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Pt.memoizedState=zt=t:zt=zt.next=t,zt}function Xn(){if(Nt===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=zt===null?Pt.memoizedState:zt.next;if(e!==null)zt=e,Nt=t;else{if(t===null)throw Error(ne(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},zt===null?Pt.memoizedState=zt=t:zt=zt.next=t}return zt}function Rl(t,e){return typeof e=="function"?e(t):e}function lh(t){var e=Xn(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,c=null,C=o;do{var E=C.lane;if((jo&E)===E)c!==null&&(c=c.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),r=C.hasEagerState?C.eagerState:t(r,C.action);else{var O={lane:E,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};c===null?(s=c=O,a=r):c=c.next=O,Pt.lanes|=E,Fo|=E}C=C.next}while(C!==null&&C!==o);c===null?a=r:c.next=s,gr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Pt.lanes|=o,Fo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uh(t){var e=Xn(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);gr(o,e.memoizedState)||(bn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function LO(){}function BO(t,e){var n=Pt,r=Xn(),i=e(),o=!gr(r.memoizedState,i);if(o&&(r.memoizedState=i,bn=!0),r=r.queue,fm(FO.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,Dl(9,jO.bind(null,n,r,i,e),void 0,null),qt===null)throw Error(ne(349));jo&30||NO(n,e,i)}return i}function NO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jO(t,e,n,r){e.value=n,e.getSnapshot=r,UO(e)&&WO(t)}function FO(t,e,n){return n(function(){UO(e)&&WO(t)})}function UO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function WO(t){var e=ei(t,1);e!==null&&hr(e,t,1,-1)}function gC(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:t},e.queue=t,t=t.dispatch=yM.bind(null,Pt,t),[e.memoizedState,t]}function Dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function QO(){return Xn().memoizedState}function cc(t,e,n,r){var i=Er();Pt.flags|=t,i.memoizedState=Dl(1|e,n,void 0,r===void 0?null:r)}function Bf(t,e,n,r){var i=Xn();r=r===void 0?null:r;var o=void 0;if(Nt!==null){var a=Nt.memoizedState;if(o=a.destroy,r!==null&&lm(r,a.deps)){i.memoizedState=Dl(e,n,o,r);return}}Pt.flags|=t,i.memoizedState=Dl(1|e,n,o,r)}function mC(t,e){return cc(8390656,8,t,e)}function fm(t,e){return Bf(2048,8,t,e)}function zO(t,e){return Bf(4,2,t,e)}function HO(t,e){return Bf(4,4,t,e)}function KO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $O(t,e,n){return n=n!=null?n.concat([t]):null,Bf(4,4,KO.bind(null,e,t),n)}function dm(){}function qO(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _O(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GO(t,e,n){return jo&21?(gr(n,e)||(n=Y0(),Pt.lanes|=n,Fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function gM(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=ah.transition;ah.transition={};try{t(!1),e()}finally{ke=n,ah.transition=r}}function kO(){return Xn().memoizedState}function mM(t,e,n){var r=Li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JO(t))YO(e,n);else if(n=RO(t,e,n,r),n!==null){var i=dn();hr(n,t,r,i),XO(n,e,r)}}function yM(t,e,n){var r=Li(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JO(t))YO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,gr(s,a)){var c=e.interleaved;c===null?(i.next=i,rm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=RO(t,e,i,r),n!==null&&(i=dn(),hr(n,t,r,i),XO(n,e,r))}}function JO(t){var e=t.alternate;return t===Pt||e!==null&&e===Pt}function YO(t,e){_a=qc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hg(t,n)}}var _c={readContext:Yn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},vM={readContext:Yn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:mC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cc(4194308,4,KO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cc(4194308,4,t,e)},useInsertionEffect:function(t,e){return cc(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mM.bind(null,Pt,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:gC,useDebugValue:dm,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=gC(!1),e=t[0];return t=gM.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pt,i=Er();if(pt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),qt===null)throw Error(ne(349));jo&30||NO(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,mC(FO.bind(null,r,o,t),[t]),r.flags|=2048,Dl(9,jO.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Er(),e=qt.identifierPrefix;if(pt){var n=Hr,r=zr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CM={readContext:Yn,useCallback:qO,useContext:Yn,useEffect:fm,useImperativeHandle:$O,useInsertionEffect:zO,useLayoutEffect:HO,useMemo:_O,useReducer:lh,useRef:QO,useState:function(){return lh(Rl)},useDebugValue:dm,useDeferredValue:function(t){var e=Xn();return GO(e,Nt.memoizedState,t)},useTransition:function(){var t=lh(Rl)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:LO,useSyncExternalStore:BO,useId:kO,unstable_isNewReconciler:!1},PM={readContext:Yn,useCallback:qO,useContext:Yn,useEffect:fm,useImperativeHandle:$O,useInsertionEffect:zO,useLayoutEffect:HO,useMemo:_O,useReducer:uh,useRef:QO,useState:function(){return uh(Rl)},useDebugValue:dm,useDeferredValue:function(t){var e=Xn();return Nt===null?e.memoizedState=t:GO(e,Nt.memoizedState,t)},useTransition:function(){var t=uh(Rl)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:LO,useSyncExternalStore:BO,useId:kO,unstable_isNewReconciler:!1};function Bs(t,e){try{var n="",r=e;do n+=GD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ch(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bM=typeof WeakMap=="function"?WeakMap:Map;function ZO(t,e,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kc||(kc=!0,Vp=r),bp(t,e)},n}function eS(t,e,n){n=kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bp(t,e),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function yC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BM.bind(null,t,e,n),e.then(t,t))}function vC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function CC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kr(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t)}var EM=ri.ReactCurrentOwner,bn=!1;function un(t,e,n,r){e.child=t===null?wO(e,null,n,r):As(e,t.child,n,r)}function PC(t,e,n,r,i){n=n.render;var o=e.ref;return xs(e,i),r=um(t,e,n,r,o,i),n=cm(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ti(t,e,i)):(pt&&n&&Yg(e),e.flags|=1,un(t,e,r,i),e.child)}function bC(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Pm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,tS(t,e,o,r,i)):(t=pc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Pl,n(a,r)&&t.ref===e.ref)return ti(t,e,i)}return e.flags|=1,t=Bi(o,r),t.ref=e.ref,t.return=e,e.child=t}function tS(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Pl(o,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,ti(t,e,i)}return Ep(t,e,n,r,i)}function nS(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ys,Mn),Mn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(ys,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,it(ys,Mn),Mn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,it(ys,Mn),Mn|=r;return un(t,e,i,n),e.child}function rS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ep(t,e,n,r,i){var o=Sn(n)?Bo:on.current;return o=Vs(e,o),xs(e,i),n=um(t,e,n,r,o,i),r=cm(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ti(t,e,i)):(pt&&r&&Yg(e),e.flags|=1,un(t,e,n,i),e.child)}function EC(t,e,n,r,i){if(Sn(n)){var o=!0;Uc(e)}else o=!1;if(xs(e,i),e.stateNode===null)fc(t,e),MO(e,n,r),Pp(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var c=a.context,C=n.contextType;typeof C=="object"&&C!==null?C=Yn(C):(C=Sn(n)?Bo:on.current,C=Vs(e,C));var E=n.getDerivedStateFromProps,O=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function";O||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||c!==C)&&hC(e,a,r,C),yi=!1;var y=e.memoizedState;a.state=y,Kc(e,r,a,i),c=e.memoizedState,s!==r||y!==c||On.current||yi?(typeof E=="function"&&(Cp(e,n,E,r),c=e.memoizedState),(s=yi||dC(e,n,s,r,y,c,C))?(O||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=C,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,DO(t,e),s=e.memoizedProps,C=e.type===e.elementType?s:or(e.type,s),a.props=C,O=e.pendingProps,y=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yn(c):(c=Sn(n)?Bo:on.current,c=Vs(e,c));var b=n.getDerivedStateFromProps;(E=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==O||y!==c)&&hC(e,a,r,c),yi=!1,y=e.memoizedState,a.state=y,Kc(e,r,a,i);var P=e.memoizedState;s!==O||y!==P||On.current||yi?(typeof b=="function"&&(Cp(e,n,b,r),P=e.memoizedState),(C=yi||dC(e,n,C,r,y,P,c)||!1)?(E||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,P,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,P,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),a.props=r,a.state=P,a.context=c,r=C):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Op(t,e,n,r,o,i)}function Op(t,e,n,r,i,o){rS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&aC(e,n,!1),ti(t,e,o);r=e.stateNode,EM.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=As(e,t.child,null,o),e.child=As(e,null,s,o)):un(t,e,s,o),e.memoizedState=r.state,i&&aC(e,n,!0),e.child}function iS(t){var e=t.stateNode;e.pendingContext?sC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sC(t,e.context,!1),om(t,e.containerInfo)}function OC(t,e,n,r,i){return ws(),Zg(i),e.flags|=256,un(t,e,n,r),e.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function xp(t){return{baseLanes:t,cachePool:null,transitions:null}}function oS(t,e,n){var r=e.pendingProps,i=vt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),it(vt,i&1),t===null)return yp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ff(a,r,0,null),t=Mo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=xp(n),e.memoizedState=Sp,t):hm(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return OM(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Bi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Bi(s,o):(o=Mo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?xp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Sp,r}return o=t.child,t=o.sibling,r=Bi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hm(t,e){return e=Ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Au(t,e,n,r){return r!==null&&Zg(r),As(e,t.child,null,n),t=hm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OM(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=ch(Error(ne(422))),Au(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ff({mode:"visible",children:r.children},i,0,null),o=Mo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&As(e,t.child,null,a),e.child.memoizedState=xp(a),e.memoizedState=Sp,o);if(!(e.mode&1))return Au(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ne(419)),r=ch(o,r,void 0),Au(t,e,a,r)}if(s=(a&t.childLanes)!==0,bn||s){if(r=qt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ei(t,i),hr(r,t,i,-1))}return Cm(),r=ch(Error(ne(421))),Au(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=NM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,wn=Vi(i.nextSibling),An=e,pt=!0,ur=null,t!==null&&($n[qn++]=zr,$n[qn++]=Hr,$n[qn++]=No,zr=t.id,Hr=t.overflow,No=e),e=hm(e,r.children),e.flags|=4096,e)}function SC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vp(t.return,e,n)}function fh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function sS(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(un(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&SC(t,n,e);else if(t.tag===19)SC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(it(vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$c(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$c(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fh(e,!0,n,null,o);break;case"together":fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SM(t,e,n){switch(e.tag){case 3:iS(e),ws();break;case 5:AO(e);break;case 1:Sn(e.type)&&Uc(e);break;case 4:om(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;it(zc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(it(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?oS(t,e,n):(it(vt,vt.current&1),t=ti(t,e,n),t!==null?t.sibling:null);it(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,nS(t,e,n)}return ti(t,e,n)}var aS,Tp,lS,uS;aS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tp=function(){};lS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,So(Rr.current);var o=null;switch(n){case"input":i=Gh(t,i),r=Gh(t,r),o=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),o=[];break;case"textarea":i=Yh(t,i),r=Yh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jc)}Zh(n,r);var a;n=null;for(C in i)if(!r.hasOwnProperty(C)&&i.hasOwnProperty(C)&&i[C]!=null)if(C==="style"){var s=i[C];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(hl.hasOwnProperty(C)?o||(o=[]):(o=o||[]).push(C,null));for(C in r){var c=r[C];if(s=i!=null?i[C]:void 0,r.hasOwnProperty(C)&&c!==s&&(c!=null||s!=null))if(C==="style")if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(C,n)),n=c;else C==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(o=o||[]).push(C,c)):C==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(C,""+c):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(hl.hasOwnProperty(C)?(c!=null&&C==="onScroll"&&lt("scroll",t),o||s===c||(o=[])):(o=o||[]).push(C,c))}n&&(o=o||[]).push("style",n);var C=o;(e.updateQueue=C)&&(e.flags|=4)}};uS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ga(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xM(t,e,n){var r=e.pendingProps;switch(Xg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Sn(e.type)&&Fc(),Zt(e),null;case 3:return r=e.stateNode,Ls(),ct(On),ct(on),am(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ur!==null&&(Lp(ur),ur=null))),Tp(t,e),Zt(e),null;case 5:sm(e);var i=So(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)lS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return Zt(e),null}if(t=So(Rr.current),Vu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[xr]=e,r[Ol]=o,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(i=0;i<Aa.length;i++)lt(Aa[i],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":Av(r,o),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},lt("invalid",r);break;case"textarea":Bv(r,o),lt("invalid",r)}Zh(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Mu(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Mu(r.textContent,s,t),i=["children",""+s]):hl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&lt("scroll",r)}switch(n){case"input":Eu(r),Lv(r,o,!0);break;case"textarea":Eu(r),Nv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=jc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=N0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[xr]=e,t[Ol]=r,aS(t,e,!1,!1),e.stateNode=t;e:{switch(a=ep(n,r),n){case"dialog":lt("cancel",t),lt("close",t),i=r;break;case"iframe":case"object":case"embed":lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Aa.length;i++)lt(Aa[i],t);i=r;break;case"source":lt("error",t),i=r;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=r;break;case"details":lt("toggle",t),i=r;break;case"input":Av(t,r),i=Gh(t,r),lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),lt("invalid",t);break;case"textarea":Bv(t,r),i=Yh(t,r),lt("invalid",t);break;default:i=r}Zh(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="style"?U0(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&j0(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pl(t,c):typeof c=="number"&&pl(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&lt("scroll",t):c!=null&&jg(t,o,c,a))}switch(n){case"input":Eu(t),Lv(t,r,!1);break;case"textarea":Eu(t),Nv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?bs(t,!!r.multiple,o,!1):r.defaultValue!=null&&bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)uS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=So(xl.current),So(Rr.current),Vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[xr]=e,(o=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Mu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=e,e.stateNode=r}return Zt(e),null;case 13:if(ct(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&wn!==null&&e.mode&1&&!(e.flags&128))TO(),ws(),e.flags|=98560,o=!1;else if(o=Vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ne(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[xr]=e}else ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),o=!1}else ur!==null&&(Lp(ur),ur=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?Ft===0&&(Ft=3):Cm())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return Ls(),Tp(t,e),t===null&&bl(e.stateNode.containerInfo),Zt(e),null;case 10:return nm(e.type._context),Zt(e),null;case 17:return Sn(e.type)&&Fc(),Zt(e),null;case 19:if(ct(vt),o=e.memoizedState,o===null)return Zt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ga(o,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=$c(t),a!==null){for(e.flags|=128,ga(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return it(vt,vt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Dt()>Ns&&(e.flags|=128,r=!0,ga(o,!1),e.lanes=4194304)}else{if(!r)if(t=$c(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ga(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!pt)return Zt(e),null}else 2*Dt()-o.renderingStartTime>Ns&&n!==1073741824&&(e.flags|=128,r=!0,ga(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dt(),e.sibling=null,n=vt.current,it(vt,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return vm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function TM(t,e){switch(Xg(e),e.tag){case 1:return Sn(e.type)&&Fc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ls(),ct(On),ct(on),am(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sm(e),null;case 13:if(ct(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(vt),null;case 4:return Ls(),null;case 10:return nm(e.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var Lu=!1,nn=!1,RM=typeof WeakSet=="function"?WeakSet:Set,de=null;function ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(t,e,r)}else n.current=null}function Rp(t,e,n){try{n()}catch(r){St(t,e,r)}}var xC=!1;function DM(t,e){if(cp=Lc,t=hO(),Jg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,c=-1,C=0,E=0,O=t,y=null;t:for(;;){for(var b;O!==n||i!==0&&O.nodeType!==3||(s=a+i),O!==o||r!==0&&O.nodeType!==3||(c=a+r),O.nodeType===3&&(a+=O.nodeValue.length),(b=O.firstChild)!==null;)y=O,O=b;for(;;){if(O===t)break t;if(y===n&&++C===i&&(s=a),y===o&&++E===r&&(c=a),(b=O.nextSibling)!==null)break;O=y,y=O.parentNode}O=b}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fp={focusedElem:t,selectionRange:n},Lc=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var g=P.memoizedProps,m=P.memoizedState,v=e.stateNode,f=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:or(e.type,g),m);v.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var l=e.stateNode.containerInfo;l.nodeType===1?l.textContent="":l.nodeType===9&&l.documentElement&&l.removeChild(l.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(d){St(e,e.return,d)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return P=xC,xC=!1,P}function Ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rp(e,n,o)}i=i.next}while(i!==r)}}function Nf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cS(t){var e=t.alternate;e!==null&&(t.alternate=null,cS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xr],delete e[Ol],delete e[pp],delete e[cM],delete e[fM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fS(t){return t.tag===5||t.tag===3||t.tag===4}function TC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jc));else if(r!==4&&(t=t.child,t!==null))for(Ip(t,e,n),t=t.sibling;t!==null;)Ip(t,e,n),t=t.sibling}function Mp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mp(t,e,n),t=t.sibling;t!==null;)Mp(t,e,n),t=t.sibling}var Gt=null,ar=!1;function pi(t,e,n){for(n=n.child;n!==null;)dS(t,e,n),n=n.sibling}function dS(t,e,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Df,n)}catch{}switch(n.tag){case 5:nn||ms(n,e);case 6:var r=Gt,i=ar;Gt=null,pi(t,e,n),Gt=r,ar=i,Gt!==null&&(ar?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(ar?(t=Gt,n=n.stateNode,t.nodeType===8?ih(t.parentNode,n):t.nodeType===1&&ih(t,n),vl(t)):ih(Gt,n.stateNode));break;case 4:r=Gt,i=ar,Gt=n.stateNode.containerInfo,ar=!0,pi(t,e,n),Gt=r,ar=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Rp(n,e,a),i=i.next}while(i!==r)}pi(t,e,n);break;case 1:if(!nn&&(ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){St(n,e,s)}pi(t,e,n);break;case 21:pi(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,pi(t,e,n),nn=r):pi(t,e,n);break;default:pi(t,e,n)}}function RC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RM),e.forEach(function(r){var i=jM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Gt=s.stateNode,ar=!1;break e;case 3:Gt=s.stateNode.containerInfo,ar=!0;break e;case 4:Gt=s.stateNode.containerInfo,ar=!0;break e}s=s.return}if(Gt===null)throw Error(ne(160));dS(o,a,i),Gt=null,ar=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(C){St(i,e,C)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hS(e,t),e=e.sibling}function hS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),Pr(t),r&4){try{Ga(3,t,t.return),Nf(3,t)}catch(g){St(t,t.return,g)}try{Ga(5,t,t.return)}catch(g){St(t,t.return,g)}}break;case 1:tr(e,t),Pr(t),r&512&&n!==null&&ms(n,n.return);break;case 5:if(tr(e,t),Pr(t),r&512&&n!==null&&ms(n,n.return),t.flags&32){var i=t.stateNode;try{pl(i,"")}catch(g){St(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&L0(i,o),ep(s,a);var C=ep(s,o);for(a=0;a<c.length;a+=2){var E=c[a],O=c[a+1];E==="style"?U0(i,O):E==="dangerouslySetInnerHTML"?j0(i,O):E==="children"?pl(i,O):jg(i,E,O,C)}switch(s){case"input":kh(i,o);break;case"textarea":B0(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?bs(i,!!o.multiple,b,!1):y!==!!o.multiple&&(o.defaultValue!=null?bs(i,!!o.multiple,o.defaultValue,!0):bs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ol]=o}catch(g){St(t,t.return,g)}}break;case 6:if(tr(e,t),Pr(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){St(t,t.return,g)}}break;case 3:if(tr(e,t),Pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vl(e.containerInfo)}catch(g){St(t,t.return,g)}break;case 4:tr(e,t),Pr(t);break;case 13:tr(e,t),Pr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(mm=Dt())),r&4&&RC(t);break;case 22:if(E=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(C=nn)||E,tr(e,t),nn=C):tr(e,t),Pr(t),r&8192){if(C=t.memoizedState!==null,(t.stateNode.isHidden=C)&&!E&&t.mode&1)for(de=t,E=t.child;E!==null;){for(O=de=E;de!==null;){switch(y=de,b=y.child,y.tag){case 0:case 11:case 14:case 15:Ga(4,y,y.return);break;case 1:ms(y,y.return);var P=y.stateNode;if(typeof P.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(g){St(r,n,g)}}break;case 5:ms(y,y.return);break;case 22:if(y.memoizedState!==null){IC(O);continue}}b!==null?(b.return=y,de=b):IC(O)}E=E.sibling}e:for(E=null,O=t;;){if(O.tag===5){if(E===null){E=O;try{i=O.stateNode,C?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=O.stateNode,c=O.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=F0("display",a))}catch(g){St(t,t.return,g)}}}else if(O.tag===6){if(E===null)try{O.stateNode.nodeValue=C?"":O.memoizedProps}catch(g){St(t,t.return,g)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===t)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===t)break e;for(;O.sibling===null;){if(O.return===null||O.return===t)break e;E===O&&(E=null),O=O.return}E===O&&(E=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:tr(e,t),Pr(t),r&4&&RC(t);break;case 21:break;default:tr(e,t),Pr(t)}}function Pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fS(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pl(i,""),r.flags&=-33);var o=TC(t);Mp(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=TC(t);Ip(t,s,a);break;default:throw Error(ne(161))}}catch(c){St(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IM(t,e,n){de=t,pS(t)}function pS(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Lu;if(!a){var s=i.alternate,c=s!==null&&s.memoizedState!==null||nn;s=Lu;var C=nn;if(Lu=a,(nn=c)&&!C)for(de=i;de!==null;)a=de,c=a.child,a.tag===22&&a.memoizedState!==null?MC(i):c!==null?(c.return=a,de=c):MC(i);for(;o!==null;)de=o,pS(o),o=o.sibling;de=i,Lu=s,nn=C}DC(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):DC(t)}}function DC(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Nf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:or(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&fC(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fC(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var C=e.alternate;if(C!==null){var E=C.memoizedState;if(E!==null){var O=E.dehydrated;O!==null&&vl(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}nn||e.flags&512&&Dp(e)}catch(y){St(e,e.return,y)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function IC(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function MC(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nf(4,e)}catch(c){St(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){St(e,i,c)}}var o=e.return;try{Dp(e)}catch(c){St(e,o,c)}break;case 5:var a=e.return;try{Dp(e)}catch(c){St(e,a,c)}}}catch(c){St(e,e.return,c)}if(e===t){de=null;break}var s=e.sibling;if(s!==null){s.return=e.return,de=s;break}de=e.return}}var MM=Math.ceil,Gc=ri.ReactCurrentDispatcher,pm=ri.ReactCurrentOwner,Jn=ri.ReactCurrentBatchConfig,Qe=0,qt=null,wt=null,kt=0,Mn=0,ys=Xi(0),Ft=0,Il=null,Fo=0,jf=0,gm=0,ka=null,vn=null,mm=0,Ns=1/0,Ur=null,kc=!1,Vp=null,Ai=null,Bu=!1,bi=null,Jc=0,Ja=0,wp=null,dc=-1,hc=0;function dn(){return Qe&6?Dt():dc!==-1?dc:dc=Dt()}function Li(t){return t.mode&1?Qe&2&&kt!==0?kt&-kt:hM.transition!==null?(hc===0&&(hc=Y0()),hc):(t=ke,t!==0||(t=window.event,t=t===void 0?16:iO(t.type)),t):1}function hr(t,e,n,r){if(50<Ja)throw Ja=0,wp=null,Error(ne(185));Jl(t,n,r),(!(Qe&2)||t!==qt)&&(t===qt&&(!(Qe&2)&&(jf|=n),Ft===4&&Ci(t,kt)),xn(t,r),n===1&&Qe===0&&!(e.mode&1)&&(Ns=Dt()+500,Af&&Zi()))}function xn(t,e){var n=t.callbackNode;hI(t,e);var r=Ac(t,t===qt?kt:0);if(r===0)n!==null&&Uv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uv(n),e===1)t.tag===0?dM(VC.bind(null,t)):OO(VC.bind(null,t)),lM(function(){!(Qe&6)&&Zi()}),n=null;else{switch(X0(r)){case 1:n=zg;break;case 4:n=k0;break;case 16:n=wc;break;case 536870912:n=J0;break;default:n=wc}n=ES(n,gS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gS(t,e){if(dc=-1,hc=0,Qe&6)throw Error(ne(327));var n=t.callbackNode;if(Ts()&&t.callbackNode!==n)return null;var r=Ac(t,t===qt?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yc(t,r);else{e=r;var i=Qe;Qe|=2;var o=yS();(qt!==t||kt!==e)&&(Ur=null,Ns=Dt()+500,Io(t,e));do try{AM();break}catch(s){mS(t,s)}while(1);tm(),Gc.current=o,Qe=i,wt!==null?e=0:(qt=null,kt=0,e=Ft)}if(e!==0){if(e===2&&(i=op(t),i!==0&&(r=i,e=Ap(t,i))),e===1)throw n=Il,Io(t,0),Ci(t,r),xn(t,Dt()),n;if(e===6)Ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!VM(i)&&(e=Yc(t,r),e===2&&(o=op(t),o!==0&&(r=o,e=Ap(t,o))),e===1))throw n=Il,Io(t,0),Ci(t,r),xn(t,Dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:go(t,vn,Ur);break;case 3:if(Ci(t,r),(r&130023424)===r&&(e=mm+500-Dt(),10<e)){if(Ac(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hp(go.bind(null,t,vn,Ur),e);break}go(t,vn,Ur);break;case 4:if(Ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-dr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MM(r/1960))-r,10<r){t.timeoutHandle=hp(go.bind(null,t,vn,Ur),r);break}go(t,vn,Ur);break;case 5:go(t,vn,Ur);break;default:throw Error(ne(329))}}}return xn(t,Dt()),t.callbackNode===n?gS.bind(null,t):null}function Ap(t,e){var n=ka;return t.current.memoizedState.isDehydrated&&(Io(t,e).flags|=256),t=Yc(t,e),t!==2&&(e=vn,vn=n,e!==null&&Lp(e)),t}function Lp(t){vn===null?vn=t:vn.push.apply(vn,t)}function VM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~gm,e&=~jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function VC(t){if(Qe&6)throw Error(ne(327));Ts();var e=Ac(t,0);if(!(e&1))return xn(t,Dt()),null;var n=Yc(t,e);if(t.tag!==0&&n===2){var r=op(t);r!==0&&(e=r,n=Ap(t,r))}if(n===1)throw n=Il,Io(t,0),Ci(t,e),xn(t,Dt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,go(t,vn,Ur),xn(t,Dt()),null}function ym(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(Ns=Dt()+500,Af&&Zi())}}function Uo(t){bi!==null&&bi.tag===0&&!(Qe&6)&&Ts();var e=Qe;Qe|=1;var n=Jn.transition,r=ke;try{if(Jn.transition=null,ke=1,t)return t()}finally{ke=r,Jn.transition=n,Qe=e,!(Qe&6)&&Zi()}}function vm(){Mn=ys.current,ct(ys)}function Io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aM(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(Xg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fc();break;case 3:Ls(),ct(On),ct(on),am();break;case 5:sm(r);break;case 4:Ls();break;case 13:ct(vt);break;case 19:ct(vt);break;case 10:nm(r.type._context);break;case 22:case 23:vm()}n=n.return}if(qt=t,wt=t=Bi(t.current,null),kt=Mn=e,Ft=0,Il=null,gm=jf=Fo=0,vn=ka=null,Oo!==null){for(e=0;e<Oo.length;e++)if(n=Oo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Oo=null}return t}function mS(t,e){do{var n=wt;try{if(tm(),uc.current=_c,qc){for(var r=Pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qc=!1}if(jo=0,zt=Nt=Pt=null,_a=!1,Tl=0,pm.current=null,n===null||n.return===null){Ft=1,Il=e,wt=null;break}e:{var o=t,a=n.return,s=n,c=e;if(e=kt,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var C=c,E=s,O=E.tag;if(!(E.mode&1)&&(O===0||O===11||O===15)){var y=E.alternate;y?(E.updateQueue=y.updateQueue,E.memoizedState=y.memoizedState,E.lanes=y.lanes):(E.updateQueue=null,E.memoizedState=null)}var b=vC(a);if(b!==null){b.flags&=-257,CC(b,a,s,o,e),b.mode&1&&yC(o,C,e),e=b,c=C;var P=e.updateQueue;if(P===null){var g=new Set;g.add(c),e.updateQueue=g}else P.add(c);break e}else{if(!(e&1)){yC(o,C,e),Cm();break e}c=Error(ne(426))}}else if(pt&&s.mode&1){var m=vC(a);if(m!==null){!(m.flags&65536)&&(m.flags|=256),CC(m,a,s,o,e),Zg(Bs(c,s));break e}}o=c=Bs(c,s),Ft!==4&&(Ft=2),ka===null?ka=[o]:ka.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=ZO(o,c,e);cC(o,v);break e;case 1:s=c;var f=o.type,l=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Ai===null||!Ai.has(l)))){o.flags|=65536,e&=-e,o.lanes|=e;var d=eS(o,s,e);cC(o,d);break e}}o=o.return}while(o!==null)}CS(n)}catch(h){e=h,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(1)}function yS(){var t=Gc.current;return Gc.current=_c,t===null?_c:t}function Cm(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),qt===null||!(Fo&268435455)&&!(jf&268435455)||Ci(qt,kt)}function Yc(t,e){var n=Qe;Qe|=2;var r=yS();(qt!==t||kt!==e)&&(Ur=null,Io(t,e));do try{wM();break}catch(i){mS(t,i)}while(1);if(tm(),Qe=n,Gc.current=r,wt!==null)throw Error(ne(261));return qt=null,kt=0,Ft}function wM(){for(;wt!==null;)vS(wt)}function AM(){for(;wt!==null&&!iI();)vS(wt)}function vS(t){var e=bS(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?CS(t):wt=e,pm.current=null}function CS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TM(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,wt=null;return}}else if(n=xM(n,e,Mn),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);Ft===0&&(Ft=5)}function go(t,e,n){var r=ke,i=Jn.transition;try{Jn.transition=null,ke=1,LM(t,e,n,r)}finally{Jn.transition=i,ke=r}return null}function LM(t,e,n,r){do Ts();while(bi!==null);if(Qe&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(pI(t,o),t===qt&&(wt=qt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bu||(Bu=!0,ES(wc,function(){return Ts(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Jn.transition,Jn.transition=null;var a=ke;ke=1;var s=Qe;Qe|=4,pm.current=null,DM(t,n),hS(n,t),eM(fp),Lc=!!cp,fp=cp=null,t.current=n,IM(n),oI(),Qe=s,ke=a,Jn.transition=o}else t.current=n;if(Bu&&(Bu=!1,bi=t,Jc=i),o=t.pendingLanes,o===0&&(Ai=null),lI(n.stateNode),xn(t,Dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kc)throw kc=!1,t=Vp,Vp=null,t;return Jc&1&&t.tag!==0&&Ts(),o=t.pendingLanes,o&1?t===wp?Ja++:(Ja=0,wp=t):Ja=0,Zi(),null}function Ts(){if(bi!==null){var t=X0(Jc),e=Jn.transition,n=ke;try{if(Jn.transition=null,ke=16>t?16:t,bi===null)var r=!1;else{if(t=bi,bi=null,Jc=0,Qe&6)throw Error(ne(331));var i=Qe;for(Qe|=4,de=t.current;de!==null;){var o=de,a=o.child;if(de.flags&16){var s=o.deletions;if(s!==null){for(var c=0;c<s.length;c++){var C=s[c];for(de=C;de!==null;){var E=de;switch(E.tag){case 0:case 11:case 15:Ga(8,E,o)}var O=E.child;if(O!==null)O.return=E,de=O;else for(;de!==null;){E=de;var y=E.sibling,b=E.return;if(cS(E),E===C){de=null;break}if(y!==null){y.return=b,de=y;break}de=b}}}var P=o.alternate;if(P!==null){var g=P.child;if(g!==null){P.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}de=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,de=a;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ga(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,de=v;break e}de=o.return}}var f=t.current;for(de=f;de!==null;){a=de;var l=a.child;if(a.subtreeFlags&2064&&l!==null)l.return=a,de=l;else e:for(a=f;de!==null;){if(s=de,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Nf(9,s)}}catch(h){St(s,s.return,h)}if(s===a){de=null;break e}var d=s.sibling;if(d!==null){d.return=s.return,de=d;break e}de=s.return}}if(Qe=i,Zi(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Df,t)}catch{}r=!0}return r}finally{ke=n,Jn.transition=e}}return!1}function wC(t,e,n){e=Bs(n,e),e=ZO(t,e,1),t=wi(t,e,1),e=dn(),t!==null&&(Jl(t,1,e),xn(t,e))}function St(t,e,n){if(t.tag===3)wC(t,t,n);else for(;e!==null;){if(e.tag===3){wC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=Bs(n,t),t=eS(e,t,1),e=wi(e,t,1),t=dn(),e!==null&&(Jl(e,1,t),xn(e,t));break}}e=e.return}}function BM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,qt===t&&(kt&n)===n&&(Ft===4||Ft===3&&(kt&130023424)===kt&&500>Dt()-mm?Io(t,0):gm|=n),xn(t,e)}function PS(t,e){e===0&&(t.mode&1?(e=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):e=1);var n=dn();t=ei(t,e),t!==null&&(Jl(t,e,n),xn(t,n))}function NM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PS(t,n)}function jM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),PS(t,n)}var bS;bS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,SM(t,e,n);bn=!!(t.flags&131072)}else bn=!1,pt&&e.flags&1048576&&SO(e,Qc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fc(t,e),t=e.pendingProps;var i=Vs(e,on.current);xs(e,n),i=um(null,e,r,t,i,n);var o=cm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(o=!0,Uc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,im(e),i.updater=Lf,e.stateNode=i,i._reactInternals=e,Pp(e,r,t,n),e=Op(null,e,r,!0,o,n)):(e.tag=0,pt&&o&&Yg(e),un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UM(r),t=or(r,t),i){case 0:e=Ep(null,e,r,t,n);break e;case 1:e=EC(null,e,r,t,n);break e;case 11:e=PC(null,e,r,t,n);break e;case 14:e=bC(null,e,r,or(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Ep(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),EC(t,e,r,i,n);case 3:e:{if(iS(e),t===null)throw Error(ne(387));r=e.pendingProps,o=e.memoizedState,i=o.element,DO(t,e),Kc(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Bs(Error(ne(423)),e),e=OC(t,e,r,n,i);break e}else if(r!==i){i=Bs(Error(ne(424)),e),e=OC(t,e,r,n,i);break e}else for(wn=Vi(e.stateNode.containerInfo.firstChild),An=e,pt=!0,ur=null,n=wO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),r===i){e=ti(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return AO(e),t===null&&yp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,dp(r,i)?a=null:o!==null&&dp(r,o)&&(e.flags|=32),rS(t,e),un(t,e,a,n),e.child;case 6:return t===null&&yp(e),null;case 13:return oS(t,e,n);case 4:return om(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),PC(t,e,r,i,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,it(zc,r._currentValue),r._currentValue=a,o!==null)if(gr(o.value,a)){if(o.children===i.children&&!On.current){e=ti(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=kr(-1,n&-n),c.tag=2;var C=o.updateQueue;if(C!==null){C=C.shared;var E=C.pending;E===null?c.next=c:(c.next=E.next,E.next=c),C.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),vp(o.return,n,e),s.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ne(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),vp(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xs(e,n),i=Yn(i),r=r(i),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,i=or(r,e.pendingProps),i=or(r.type,i),bC(t,e,r,i,n);case 15:return tS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),fc(t,e),e.tag=1,Sn(r)?(t=!0,Uc(e)):t=!1,xs(e,n),MO(e,r,i),Pp(e,r,i,n),Op(null,e,r,!0,t,n);case 19:return sS(t,e,n);case 22:return nS(t,e,n)}throw Error(ne(156,e.tag))};function ES(t,e){return G0(t,e)}function FM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new FM(t,e,n,r)}function Pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UM(t){if(typeof t=="function")return Pm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ug)return 11;if(t===Wg)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Pm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case as:return Mo(n.children,i,o,e);case Fg:a=8,i|=8;break;case Kh:return t=_n(12,n,e,i|2),t.elementType=Kh,t.lanes=o,t;case $h:return t=_n(13,n,e,i),t.elementType=$h,t.lanes=o,t;case qh:return t=_n(19,n,e,i),t.elementType=qh,t.lanes=o,t;case V0:return Ff(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I0:a=10;break e;case M0:a=9;break e;case Ug:a=11;break e;case Wg:a=14;break e;case mi:a=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=_n(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Mo(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function Ff(t,e,n,r){return t=_n(22,t,r,e),t.elementType=V0,t.lanes=n,t.stateNode={isHidden:!1},t}function dh(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function hh(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_d(0),this.expirationTimes=_d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_d(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bm(t,e,n,r,i,o,a,s,c){return t=new WM(t,e,n,s,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=_n(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},im(o),t}function QM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ss,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OS(t){if(!t)return zi;t=t._reactInternals;e:{if(Go(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Sn(n))return EO(t,n,e)}return e}function SS(t,e,n,r,i,o,a,s,c){return t=bm(n,r,!0,t,i,o,a,s,c),t.context=OS(null),n=t.current,r=dn(),i=Li(n),o=kr(r,i),o.callback=e??null,wi(n,o,i),t.current.lanes=i,Jl(t,i,r),xn(t,r),t}function Uf(t,e,n,r){var i=e.current,o=dn(),a=Li(i);return n=OS(n),e.context===null?e.context=n:e.pendingContext=n,e=kr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,a),t!==null&&(hr(t,i,a,o),lc(t,i,a)),a}function Xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Em(t,e){AC(t,e),(t=t.alternate)&&AC(t,e)}function zM(){return null}var xS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Om(t){this._internalRoot=t}Wf.prototype.render=Om.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Uf(t,e,null,null)};Wf.prototype.unmount=Om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Uo(function(){Uf(null,t,null,null)}),e[Zr]=null}};function Wf(t){this._internalRoot=t}Wf.prototype.unstable_scheduleHydration=function(t){if(t){var e=tO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vi.length&&e!==0&&e<vi[n].priority;n++);vi.splice(n,0,t),n===0&&rO(t)}};function Sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LC(){}function HM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var C=Xc(a);o.call(C)}}var a=SS(e,r,t,0,null,!1,!1,"",LC);return t._reactRootContainer=a,t[Zr]=a.current,bl(t.nodeType===8?t.parentNode:t),Uo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var C=Xc(c);s.call(C)}}var c=bm(t,0,!1,null,null,!1,!1,"",LC);return t._reactRootContainer=c,t[Zr]=c.current,bl(t.nodeType===8?t.parentNode:t),Uo(function(){Uf(e,c,n,r)}),c}function zf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var c=Xc(a);s.call(c)}}Uf(e,a,t,i)}else a=HM(n,e,t,i,r);return Xc(a)}Z0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wa(e.pendingLanes);n!==0&&(Hg(e,n|1),xn(e,Dt()),!(Qe&6)&&(Ns=Dt()+500,Zi()))}break;case 13:Uo(function(){var r=ei(t,1);if(r!==null){var i=dn();hr(r,t,1,i)}}),Em(t,1)}};Kg=function(t){if(t.tag===13){var e=ei(t,134217728);if(e!==null){var n=dn();hr(e,t,134217728,n)}Em(t,134217728)}};eO=function(t){if(t.tag===13){var e=Li(t),n=ei(t,e);if(n!==null){var r=dn();hr(n,t,e,r)}Em(t,e)}};tO=function(){return ke};nO=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};np=function(t,e,n){switch(e){case"input":if(kh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wf(r);if(!i)throw Error(ne(90));A0(r),kh(r,i)}}}break;case"textarea":B0(t,n);break;case"select":e=n.value,e!=null&&bs(t,!!n.multiple,e,!1)}};z0=ym;H0=Uo;var KM={usingClientEntryPoint:!1,Events:[Xl,fs,wf,W0,Q0,ym]},ma={findFiberByHostInstance:Eo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$M={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q0(t),t===null?null:t.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||zM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Df=Nu.inject($M),Tr=Nu}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KM;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sm(e))throw Error(ne(200));return QM(t,e,null,n)};Fn.createRoot=function(t,e){if(!Sm(t))throw Error(ne(299));var n=!1,r="",i=xS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bm(t,1,!1,null,null,n,!1,r,i),t[Zr]=e.current,bl(t.nodeType===8?t.parentNode:t),new Om(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=q0(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return Uo(t)};Fn.hydrate=function(t,e,n){if(!Qf(e))throw Error(ne(200));return zf(null,t,e,!0,n)};Fn.hydrateRoot=function(t,e,n){if(!Sm(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=xS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=SS(e,null,t,1,n??null,i,!1,o,a),t[Zr]=e.current,bl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wf(e)};Fn.render=function(t,e,n){if(!Qf(e))throw Error(ne(200));return zf(null,t,e,!1,n)};Fn.unmountComponentAtNode=function(t){if(!Qf(t))throw Error(ne(40));return t._reactRootContainer?(Uo(function(){zf(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};Fn.unstable_batchedUpdates=ym;Fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qf(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return zf(t,e,n,!1,r)};Fn.version="18.2.0-next-9e3b772b8-20220608";function TS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TS)}catch(t){console.error(t)}}TS(),S0.exports=Fn;var RS=S0.exports,BC=RS;zh.createRoot=BC.createRoot,zh.hydrateRoot=BC.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ht(){return ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ht.apply(this,arguments)}var Vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vt||(Vt={}));const NC="popstate";function qM(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return Ml("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wo(i)}return GM(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function js(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _M(){return Math.random().toString(36).substr(2,8)}function jC(t,e){return{usr:t.state,key:t.key,idx:e}}function Ml(t,e,n,r){return n===void 0&&(n=null),ht({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ii(e):e,{state:n,key:e&&e.key||r||_M()})}function Wo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Vt.Pop,c=null,C=E();C==null&&(C=0,a.replaceState(ht({},a.state,{idx:C}),""));function E(){return(a.state||{idx:null}).idx}function O(){s=Vt.Pop;let m=E(),v=m==null?null:m-C;C=m,c&&c({action:s,location:g.location,delta:v})}function y(m,v){s=Vt.Push;let f=Ml(g.location,m,v);n&&n(f,m),C=E()+1;let l=jC(f,C),d=g.createHref(f);try{a.pushState(l,"",d)}catch(h){if(h instanceof DOMException&&h.name==="DataCloneError")throw h;i.location.assign(d)}o&&c&&c({action:s,location:g.location,delta:1})}function b(m,v){s=Vt.Replace;let f=Ml(g.location,m,v);n&&n(f,m),C=E();let l=jC(f,C),d=g.createHref(f);a.replaceState(l,"",d),o&&c&&c({action:s,location:g.location,delta:0})}function P(m){let v=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof m=="string"?m:Wo(m);return we(v,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,v)}let g={get action(){return s},get location(){return t(i,a)},listen(m){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(NC,O),c=m,()=>{i.removeEventListener(NC,O),c=null}},createHref(m){return e(i,m)},createURL:P,encodeLocation(m){let v=P(m);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:y,replace:b,go(m){return a.go(m)}};return g}var Bt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bt||(Bt={}));const kM=new Set(["lazy","caseSensitive","path","id","index","children"]);function JM(t){return t.index===!0}function Bp(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let a=[...n,o],s=typeof i.id=="string"?i.id:a.join("-");if(we(i.index!==!0||!i.children,"Cannot specify children on an index route"),we(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),JM(i)){let c=ht({},i,e(i),{id:s});return r[s]=c,c}else{let c=ht({},i,e(i),{id:s,children:void 0});return r[s]=c,i.children&&(c.children=Bp(i.children,e,a,r)),c}})}function vs(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ii(e):e,i=Xs(r.pathname||"/",n);if(i==null)return null;let o=DS(t);YM(o);let a=null;for(let s=0;a==null&&s<o.length;++s)a=sV(o[s],uV(i));return a}function DS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let c={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let C=Jr([r,c.relativePath]),E=n.concat(c);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+C+'".')),DS(o.children,e,E,C)),!(o.path==null&&!o.index)&&e.push({path:C,score:iV(C,o.index),routesMeta:E})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let c of IS(o.path))i(o,a,c)}),e}function IS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=IS(r.join("/")),s=[];return s.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&s.push(...a),s.map(c=>t.startsWith("/")&&c===""?"/":c)}function YM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XM=/^:\w+$/,ZM=3,eV=2,tV=1,nV=10,rV=-2,FC=t=>t==="*";function iV(t,e){let n=t.split("/"),r=n.length;return n.some(FC)&&(r+=rV),e&&(r+=eV),n.filter(i=>!FC(i)).reduce((i,o)=>i+(XM.test(o)?ZM:o===""?tV:nV),r)}function oV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function sV(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let a=0;a<n.length;++a){let s=n[a],c=a===n.length-1,C=i==="/"?e:e.slice(i.length)||"/",E=aV({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},C);if(!E)return null;Object.assign(r,E.params);let O=s.route;o.push({params:r,pathname:Jr([i,E.pathname]),pathnameBase:hV(Jr([i,E.pathnameBase])),route:O}),E.pathnameBase!=="/"&&(i=Jr([i,E.pathnameBase]))}return o}function aV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((C,E,O)=>{if(E==="*"){let y=s[O]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}return C[E]=cV(s[O]||"",E),C},{}),pathname:o,pathnameBase:a,pattern:t}}function lV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),js(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,s)=>(r.push(s),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uV(t){try{return decodeURI(t)}catch(e){return js(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cV(t,e){try{return decodeURIComponent(t)}catch(n){return js(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ii(t):t;return{pathname:n?n.startsWith("/")?n:dV(n,e):e,search:pV(r),hash:gV(i)}}function dV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ph(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hf(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ii(t):(i=ht({},t),we(!i.pathname||!i.pathname.includes("?"),ph("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),ph("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),ph("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(r||a==null)s=n;else{let O=e.length-1;if(a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),O-=1;i.pathname=y.join("/")}s=O>=0?e[O]:"/"}let c=fV(i,s),C=a&&a!=="/"&&a.endsWith("/"),E=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(C||E)&&(c.pathname+="/"),c}const Jr=t=>t.join("/").replace(/\/\/+/g,"/"),hV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Tm{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function MS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VS=["post","put","patch","delete"],mV=new Set(VS),yV=["get",...VS],vV=new Set(yV),CV=new Set([301,302,303,307,308]),PV=new Set([307,308]),gh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ya={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EV=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function OV(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;we(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=J=>({hasErrorBoundary:k(J)})}else i=EV;let o={},a=Bp(t.routes,i,void 0,o),s,c=t.basename||"/",C=ht({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),E=null,O=new Set,y=null,b=null,P=null,g=t.hydrationData!=null,m=vs(a,t.history.location,c),v=null;if(m==null){let k=Hn(404,{pathname:t.history.location.pathname}),{matches:J,route:ee}=qC(a);m=J,v={[ee.id]:k}}let f=!m.some(k=>k.route.lazy)&&(!m.some(k=>k.route.loader)||t.hydrationData!=null),l,d={historyAction:t.history.action,location:t.history.location,matches:m,initialized:f,navigation:gh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},h=Vt.Pop,p=!1,u,x=!1,V=!1,A=[],M=[],T=new Map,D=0,R=-1,S=new Map,I=new Set,w=new Map,L=new Map,F=new Map,W=!1;function U(){return E=t.history.listen(k=>{let{action:J,location:ee,delta:ue}=k;if(W){W=!1;return}js(F.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=Qt({currentLocation:d.location,nextLocation:ee,historyAction:J});if(Se&&ue!=null){W=!0,t.history.go(ue*-1),gn(Se,{state:"blocked",location:ee,proceed(){gn(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),t.history.go(ue)},reset(){let Pe=new Map(d.blockers);Pe.set(Se,ya),z({blockers:Pe})}});return}return Y(J,ee)}),d.initialized||Y(Vt.Pop,d.location),l}function Q(){E&&E(),O.clear(),u&&u.abort(),d.fetchers.forEach((k,J)=>an(J)),d.blockers.forEach((k,J)=>$e(J))}function $(k){return O.add(k),()=>O.delete(k)}function z(k){d=ht({},d,k),O.forEach(J=>J(d))}function q(k,J){var ee,ue;let Se=d.actionData!=null&&d.navigation.formMethod!=null&&lr(d.navigation.formMethod)&&d.navigation.state==="loading"&&((ee=k.state)==null?void 0:ee._isRedirect)!==!0,Pe;J.actionData?Object.keys(J.actionData).length>0?Pe=J.actionData:Pe=null:Se?Pe=d.actionData:Pe=null;let be=J.loaderData?$C(d.loaderData,J.loaderData,J.matches||[],J.errors):d.loaderData,me=d.blockers;me.size>0&&(me=new Map(me),me.forEach((Ue,Be)=>me.set(Be,ya)));let he=p===!0||d.navigation.formMethod!=null&&lr(d.navigation.formMethod)&&((ue=k.state)==null?void 0:ue._isRedirect)!==!0;s&&(a=s,s=void 0),x||h===Vt.Pop||(h===Vt.Push?t.history.push(k,k.state):h===Vt.Replace&&t.history.replace(k,k.state)),z(ht({},J,{actionData:Pe,loaderData:be,historyAction:h,location:k,initialized:!0,navigation:gh,revalidation:"idle",restoreScrollPosition:si(k,J.matches||d.matches),preventScrollReset:he,blockers:me})),h=Vt.Pop,p=!1,x=!1,V=!1,A=[],M=[]}async function K(k,J){if(typeof k=="number"){t.history.go(k);return}let ee=Np(d.location,d.matches,c,C.v7_prependBasename,k,J==null?void 0:J.fromRouteId,J==null?void 0:J.relative),{path:ue,submission:Se,error:Pe}=UC(C.v7_normalizeFormMethod,!1,ee,J),be=d.location,me=Ml(d.location,ue,J&&J.state);me=ht({},me,t.history.encodeLocation(me));let he=J&&J.replace!=null?J.replace:void 0,Ue=Vt.Push;he===!0?Ue=Vt.Replace:he===!1||Se!=null&&lr(Se.formMethod)&&Se.formAction===d.location.pathname+d.location.search&&(Ue=Vt.Replace);let Be=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,Lt=Qt({currentLocation:be,nextLocation:me,historyAction:Ue});if(Lt){gn(Lt,{state:"blocked",location:me,proceed(){gn(Lt,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),K(k,J)},reset(){let nt=new Map(d.blockers);nt.set(Lt,ya),z({blockers:nt})}});return}return await Y(Ue,me,{submission:Se,pendingError:Pe,preventScrollReset:Be,replace:J&&J.replace})}function re(){if(Ie(),z({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){Y(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}Y(h||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function Y(k,J,ee){u&&u.abort(),u=null,h=k,x=(ee&&ee.startUninterruptedRevalidation)===!0,io(d.location,d.matches),p=(ee&&ee.preventScrollReset)===!0;let ue=s||a,Se=ee&&ee.overrideNavigation,Pe=vs(ue,J,c);if(!Pe){let nt=Hn(404,{pathname:J.pathname}),{matches:It,route:Ot}=qC(ue);At(),q(J,{matches:It,loaderData:{},errors:{[Ot.id]:nt}});return}if(d.initialized&&!V&&DV(d.location,J)&&!(ee&&ee.submission&&lr(ee.submission.formMethod))){q(J,{matches:Pe});return}u=new AbortController;let be=Ca(t.history,J,u.signal,ee&&ee.submission),me,he;if(ee&&ee.pendingError)he={[Cs(Pe).route.id]:ee.pendingError};else if(ee&&ee.submission&&lr(ee.submission.formMethod)){let nt=await Ee(be,J,ee.submission,Pe,{replace:ee.replace});if(nt.shortCircuited)return;me=nt.pendingActionData,he=nt.pendingActionError,Se=ju(J,ee.submission),be=new Request(be.url,{signal:be.signal})}let{shortCircuited:Ue,loaderData:Be,errors:Lt}=await ve(be,J,Pe,Se,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,me,he);Ue||(u=null,q(J,ht({matches:Pe},me?{actionData:me}:{},{loaderData:Be,errors:Lt})))}async function Ee(k,J,ee,ue,Se){Se===void 0&&(Se={}),Ie();let Pe=AV(J,ee);z({navigation:Pe});let be,me=Fp(ue,J);if(!me.route.action&&!me.route.lazy)be={type:Bt.error,error:Hn(405,{method:k.method,pathname:J.pathname,routeId:me.route.id})};else if(be=await va("action",k,me,ue,o,i,c),k.signal.aborted)return{shortCircuited:!0};if(Rs(be)){let he;return Se&&Se.replace!=null?he=Se.replace:he=be.location===d.location.pathname+d.location.search,await Te(d,be,{submission:ee,replace:he}),{shortCircuited:!0}}if(Ya(be)){let he=Cs(ue,me.route.id);return(Se&&Se.replace)!==!0&&(h=Vt.Push),{pendingActionData:{},pendingActionError:{[he.route.id]:be.error}}}if(xo(be))throw Hn(400,{type:"defer-action"});return{pendingActionData:{[me.route.id]:be.data}}}async function ve(k,J,ee,ue,Se,Pe,be,me,he){let Ue=ue||ju(J,Se),Be=Se||Pe||kC(Ue),Lt=s||a,[nt,It]=WC(t.history,d,ee,Be,J,V,A,M,w,I,Lt,c,me,he);if(At(Xe=>!(ee&&ee.some(mn=>mn.route.id===Xe))||nt&&nt.some(mn=>mn.route.id===Xe)),nt.length===0&&It.length===0){let Xe=ln();return q(J,ht({matches:ee,loaderData:{},errors:he||null},me?{actionData:me}:{},Xe?{fetchers:new Map(d.fetchers)}:{})),{shortCircuited:!0}}if(!x){It.forEach(mn=>{let di=d.fetchers.get(mn.key),Mt=Pa(void 0,di?di.data:void 0);d.fetchers.set(mn.key,Mt)});let Xe=me||d.actionData;z(ht({navigation:Ue},Xe?Object.keys(Xe).length===0?{actionData:null}:{actionData:Xe}:{},It.length>0?{fetchers:new Map(d.fetchers)}:{}))}R=++D,It.forEach(Xe=>{T.has(Xe.key)&&We(Xe.key),Xe.controller&&T.set(Xe.key,Xe.controller)});let Ot=()=>It.forEach(Xe=>We(Xe.key));u&&u.signal.addEventListener("abort",Ot);let{results:Lr,loaderResults:Br,fetcherResults:li}=await at(d.matches,ee,nt,It,k);if(k.signal.aborted)return{shortCircuited:!0};u&&u.signal.removeEventListener("abort",Ot),It.forEach(Xe=>T.delete(Xe.key));let Dn=_C(Lr);if(Dn)return await Te(d,Dn,{replace:be}),{shortCircuited:!0};let{loaderData:ui,errors:vr}=KC(d,ee,nt,Br,he,It,li,L);L.forEach((Xe,mn)=>{Xe.subscribe(di=>{(di||Xe.done)&&L.delete(mn)})});let oo=ln(),ci=yt(R),fi=oo||ci||It.length>0;return ht({loaderData:ui,errors:vr},fi?{fetchers:new Map(d.fetchers)}:{})}function Oe(k){return d.fetchers.get(k)||bV}function pe(k,J,ee,ue){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");T.has(k)&&We(k);let Se=s||a,Pe=Np(d.location,d.matches,c,C.v7_prependBasename,ee,J,ue==null?void 0:ue.relative),be=vs(Se,Pe,c);if(!be){Ye(k,J,Hn(404,{pathname:Pe}));return}let{path:me,submission:he,error:Ue}=UC(C.v7_normalizeFormMethod,!0,Pe,ue);if(Ue){Ye(k,J,Ue);return}let Be=Fp(be,me);if(p=(ue&&ue.preventScrollReset)===!0,he&&lr(he.formMethod)){Ze(k,J,me,Be,be,he);return}w.set(k,{routeId:J,path:me}),st(k,J,me,Be,be,he)}async function Ze(k,J,ee,ue,Se,Pe){if(Ie(),w.delete(k),!ue.route.action&&!ue.route.lazy){let Mt=Hn(405,{method:Pe.formMethod,pathname:ee,routeId:J});Ye(k,J,Mt);return}let be=d.fetchers.get(k),me=LV(Pe,be);d.fetchers.set(k,me),z({fetchers:new Map(d.fetchers)});let he=new AbortController,Ue=Ca(t.history,ee,he.signal,Pe);T.set(k,he);let Be=await va("action",Ue,ue,Se,o,i,c);if(Ue.signal.aborted){T.get(k)===he&&T.delete(k);return}if(Rs(Be)){T.delete(k),I.add(k);let Mt=Pa(Pe);return d.fetchers.set(k,Mt),z({fetchers:new Map(d.fetchers)}),Te(d,Be,{submission:Pe,isFetchActionRedirect:!0})}if(Ya(Be)){Ye(k,J,Be.error);return}if(xo(Be))throw Hn(400,{type:"defer-action"});let Lt=d.navigation.location||d.location,nt=Ca(t.history,Lt,he.signal),It=s||a,Ot=d.navigation.state!=="idle"?vs(It,d.navigation.location,c):d.matches;we(Ot,"Didn't find any matches after fetcher action");let Lr=++D;S.set(k,Lr);let Br=Pa(Pe,Be.data);d.fetchers.set(k,Br);let[li,Dn]=WC(t.history,d,Ot,Pe,Lt,V,A,M,w,I,It,c,{[ue.route.id]:Be.data},void 0);Dn.filter(Mt=>Mt.key!==k).forEach(Mt=>{let hi=Mt.key,aa=d.fetchers.get(hi),mu=Pa(void 0,aa?aa.data:void 0);d.fetchers.set(hi,mu),T.has(hi)&&We(hi),Mt.controller&&T.set(hi,Mt.controller)}),z({fetchers:new Map(d.fetchers)});let ui=()=>Dn.forEach(Mt=>We(Mt.key));he.signal.addEventListener("abort",ui);let{results:vr,loaderResults:oo,fetcherResults:ci}=await at(d.matches,Ot,li,Dn,nt);if(he.signal.aborted)return;he.signal.removeEventListener("abort",ui),S.delete(k),T.delete(k),Dn.forEach(Mt=>T.delete(Mt.key));let fi=_C(vr);if(fi)return Te(d,fi);let{loaderData:Xe,errors:mn}=KC(d,d.matches,li,oo,void 0,Dn,ci,L);if(d.fetchers.has(k)){let Mt=gc(Be.data);d.fetchers.set(k,Mt)}let di=yt(Lr);d.navigation.state==="loading"&&Lr>R?(we(h,"Expected pending action"),u&&u.abort(),q(d.navigation.location,{matches:Ot,loaderData:Xe,errors:mn,fetchers:new Map(d.fetchers)})):(z(ht({errors:mn,loaderData:$C(d.loaderData,Xe,Ot,mn)},di||Dn.length>0?{fetchers:new Map(d.fetchers)}:{})),V=!1)}async function st(k,J,ee,ue,Se,Pe){let be=d.fetchers.get(k),me=Pa(Pe,be?be.data:void 0);d.fetchers.set(k,me),z({fetchers:new Map(d.fetchers)});let he=new AbortController,Ue=Ca(t.history,ee,he.signal);T.set(k,he);let Be=await va("loader",Ue,ue,Se,o,i,c);if(xo(Be)&&(Be=await BS(Be,Ue.signal,!0)||Be),T.get(k)===he&&T.delete(k),Ue.signal.aborted)return;if(Rs(Be)){I.add(k),await Te(d,Be);return}if(Ya(Be)){let nt=Cs(d.matches,J);d.fetchers.delete(k),z({fetchers:new Map(d.fetchers),errors:{[nt.route.id]:Be.error}});return}we(!xo(Be),"Unhandled fetcher deferred data");let Lt=gc(Be.data);d.fetchers.set(k,Lt),z({fetchers:new Map(d.fetchers)})}async function Te(k,J,ee){let{submission:ue,replace:Se,isFetchActionRedirect:Pe}=ee===void 0?{}:ee;J.revalidate&&(V=!0);let be=Ml(k.location,J.location,ht({_isRedirect:!0},Pe?{_isFetchActionRedirect:!0}:{}));if(we(be,"Expected a location on the redirect navigation"),wS.test(J.location)&&n){let Ue=t.history.createURL(J.location),Be=Xs(Ue.pathname,c)==null;if(e.location.origin!==Ue.origin||Be){Se?e.location.replace(J.location):e.location.assign(J.location);return}}u=null;let me=Se===!0?Vt.Replace:Vt.Push,he=ue||kC(k.navigation);if(PV.has(J.status)&&he&&lr(he.formMethod))await Y(me,be,{submission:ht({},he,{formAction:J.location}),preventScrollReset:p});else if(Pe)await Y(me,be,{overrideNavigation:ju(be),fetcherSubmission:he,preventScrollReset:p});else{let Ue=ju(be,he);await Y(me,be,{overrideNavigation:Ue,preventScrollReset:p})}}async function at(k,J,ee,ue,Se){let Pe=await Promise.all([...ee.map(he=>va("loader",Se,he,J,o,i,c)),...ue.map(he=>he.matches&&he.match&&he.controller?va("loader",Ca(t.history,he.path,he.controller.signal),he.match,he.matches,o,i,c):{type:Bt.error,error:Hn(404,{pathname:he.path})})]),be=Pe.slice(0,ee.length),me=Pe.slice(ee.length);return await Promise.all([GC(k,ee,be,be.map(()=>Se.signal),!1,d.loaderData),GC(k,ue.map(he=>he.match),me,ue.map(he=>he.controller?he.controller.signal:null),!0)]),{results:Pe,loaderResults:be,fetcherResults:me}}function Ie(){V=!0,A.push(...At()),w.forEach((k,J)=>{T.has(J)&&(M.push(J),We(J))})}function Ye(k,J,ee){let ue=Cs(d.matches,J);an(k),z({errors:{[ue.route.id]:ee},fetchers:new Map(d.fetchers)})}function an(k){let J=d.fetchers.get(k);T.has(k)&&!(J&&J.state==="loading"&&S.has(k))&&We(k),w.delete(k),S.delete(k),I.delete(k),d.fetchers.delete(k)}function We(k){let J=T.get(k);we(J,"Expected fetch controller: "+k),J.abort(),T.delete(k)}function Rn(k){for(let J of k){let ee=Oe(J),ue=gc(ee.data);d.fetchers.set(J,ue)}}function ln(){let k=[],J=!1;for(let ee of I){let ue=d.fetchers.get(ee);we(ue,"Expected fetcher: "+ee),ue.state==="loading"&&(I.delete(ee),k.push(ee),J=!0)}return Rn(k),J}function yt(k){let J=[];for(let[ee,ue]of S)if(ue<k){let Se=d.fetchers.get(ee);we(Se,"Expected fetcher: "+ee),Se.state==="loading"&&(We(ee),S.delete(ee),J.push(ee))}return Rn(J),J.length>0}function Ce(k,J){let ee=d.blockers.get(k)||ya;return F.get(k)!==J&&F.set(k,J),ee}function $e(k){d.blockers.delete(k),F.delete(k)}function gn(k,J){let ee=d.blockers.get(k)||ya;we(ee.state==="unblocked"&&J.state==="blocked"||ee.state==="blocked"&&J.state==="blocked"||ee.state==="blocked"&&J.state==="proceeding"||ee.state==="blocked"&&J.state==="unblocked"||ee.state==="proceeding"&&J.state==="unblocked","Invalid blocker state transition: "+ee.state+" -> "+J.state);let ue=new Map(d.blockers);ue.set(k,J),z({blockers:ue})}function Qt(k){let{currentLocation:J,nextLocation:ee,historyAction:ue}=k;if(F.size===0)return;F.size>1&&js(!1,"A router only supports one blocker at a time");let Se=Array.from(F.entries()),[Pe,be]=Se[Se.length-1],me=d.blockers.get(Pe);if(!(me&&me.state==="proceeding")&&be({currentLocation:J,nextLocation:ee,historyAction:ue}))return Pe}function At(k){let J=[];return L.forEach((ee,ue)=>{(!k||k(ue))&&(ee.cancel(),J.push(ue),L.delete(ue))}),J}function ro(k,J,ee){if(y=k,P=J,b=ee||null,!g&&d.navigation===gh){g=!0;let ue=si(d.location,d.matches);ue!=null&&z({restoreScrollPosition:ue})}return()=>{y=null,P=null,b=null}}function oi(k,J){return b&&b(k,J.map(ue=>wV(ue,d.loaderData)))||k.key}function io(k,J){if(y&&P){let ee=oi(k,J);y[ee]=P()}}function si(k,J){if(y){let ee=oi(k,J),ue=y[ee];if(typeof ue=="number")return ue}return null}function ai(k){o={},s=Bp(k,i,void 0,o)}return l={get basename(){return c},get state(){return d},get routes(){return a},initialize:U,subscribe:$,enableScrollRestoration:ro,navigate:K,fetch:pe,revalidate:re,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:Oe,deleteFetcher:an,dispose:Q,getBlocker:Ce,deleteBlocker:$e,_internalFetchControllers:T,_internalActiveDeferreds:L,_internalSetRoutes:ai},l}function SV(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Np(t,e,n,r,i,o,a){let s,c;if(o!=null&&a!=="path"){s=[];for(let E of e)if(s.push(E),E.route.id===o){c=E;break}}else s=e,c=e[e.length-1];let C=xm(i||".",Hf(s).map(E=>E.pathnameBase),Xs(t.pathname,n)||t.pathname,a==="path");return i==null&&(C.search=t.search,C.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Rm(C.search)&&(C.search=C.search?C.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(C.pathname=C.pathname==="/"?n:Jr([n,C.pathname])),Wo(C)}function UC(t,e,n,r){if(!r||!SV(r))return{path:n};if(r.formMethod&&!VV(r.formMethod))return{path:n,error:Hn(405,{method:r.formMethod})};let i=()=>({path:n,error:Hn(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=t?o.toUpperCase():o.toLowerCase(),s=LS(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!lr(a))return i();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,P)=>{let[g,m]=P;return""+b+g+"="+m+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!lr(a))return i();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}we(typeof FormData=="function","FormData is not available in this environment");let c,C;if(r.formData)c=jp(r.formData),C=r.formData;else if(r.body instanceof FormData)c=jp(r.body),C=r.body;else if(r.body instanceof URLSearchParams)c=r.body,C=HC(c);else if(r.body==null)c=new URLSearchParams,C=new FormData;else try{c=new URLSearchParams(r.body),C=HC(c)}catch{return i()}let E={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:C,json:void 0,text:void 0};if(lr(E.formMethod))return{path:n,submission:E};let O=ii(n);return e&&O.search&&Rm(O.search)&&c.append("index",""),O.search="?"+c,{path:Wo(O),submission:E}}function xV(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function WC(t,e,n,r,i,o,a,s,c,C,E,O,y,b){let P=b?Object.values(b)[0]:y?Object.values(y)[0]:void 0,g=t.createURL(e.location),m=t.createURL(i),v=b?Object.keys(b)[0]:void 0,l=xV(n,v).filter((h,p)=>{if(h.route.lazy)return!0;if(h.route.loader==null)return!1;if(TV(e.loaderData,e.matches[p],h)||a.some(V=>V===h.route.id))return!0;let u=e.matches[p],x=h;return QC(h,ht({currentUrl:g,currentParams:u.params,nextUrl:m,nextParams:x.params},r,{actionResult:P,defaultShouldRevalidate:o||g.pathname+g.search===m.pathname+m.search||g.search!==m.search||AS(u,x)}))}),d=[];return c.forEach((h,p)=>{if(!n.some(T=>T.route.id===h.routeId))return;let u=vs(E,h.path,O);if(!u){d.push({key:p,routeId:h.routeId,path:h.path,matches:null,match:null,controller:null});return}let x=e.fetchers.get(p),V=x&&x.state!=="idle"&&x.data===void 0&&!C.has(p),A=Fp(u,h.path);(s.includes(p)||V||QC(A,ht({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:P,defaultShouldRevalidate:o})))&&d.push({key:p,routeId:h.routeId,path:h.path,matches:u,match:A,controller:new AbortController})}),[l,d]}function TV(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function AS(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function QC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function zC(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];we(i,"No route found in manifest");let o={};for(let a in r){let c=i[a]!==void 0&&a!=="hasErrorBoundary";js(!c,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!c&&!kM.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,ht({},e(i),{lazy:void 0}))}async function va(t,e,n,r,i,o,a,s){s===void 0&&(s={});let c,C,E,O=P=>{let g,m=new Promise((v,f)=>g=f);return E=()=>g(),e.signal.addEventListener("abort",E),Promise.race([P({request:e,params:n.params,context:s.requestContext}),m])};try{let P=n.route[t];if(n.route.lazy)if(P)C=(await Promise.all([O(P),zC(n.route,o,i)]))[0];else if(await zC(n.route,o,i),P=n.route[t],P)C=await O(P);else if(t==="action"){let g=new URL(e.url),m=g.pathname+g.search;throw Hn(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Bt.data,data:void 0};else if(P)C=await O(P);else{let g=new URL(e.url),m=g.pathname+g.search;throw Hn(404,{pathname:m})}we(C!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(P){c=Bt.error,C=P}finally{E&&e.signal.removeEventListener("abort",E)}if(MV(C)){let P=C.status;if(CV.has(P)){let v=C.headers.get("Location");if(we(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!wS.test(v))v=Np(new URL(e.url),r.slice(0,r.indexOf(n)+1),a,!0,v);else if(!s.isStaticRequest){let f=new URL(e.url),l=v.startsWith("//")?new URL(f.protocol+v):new URL(v),d=Xs(l.pathname,a)!=null;l.origin===f.origin&&d&&(v=l.pathname+l.search+l.hash)}if(s.isStaticRequest)throw C.headers.set("Location",v),C;return{type:Bt.redirect,status:P,location:v,revalidate:C.headers.get("X-Remix-Revalidate")!==null}}if(s.isRouteRequest)throw{type:c||Bt.data,response:C};let g,m=C.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?g=await C.json():g=await C.text(),c===Bt.error?{type:c,error:new Tm(P,C.statusText,g),headers:C.headers}:{type:Bt.data,data:g,statusCode:C.status,headers:C.headers}}if(c===Bt.error)return{type:c,error:C};if(IV(C)){var y,b;return{type:Bt.deferred,deferredData:C,statusCode:(y=C.init)==null?void 0:y.status,headers:((b=C.init)==null?void 0:b.headers)&&new Headers(C.init.headers)}}return{type:Bt.data,data:C}}function Ca(t,e,n,r){let i=t.createURL(LS(e)).toString(),o={signal:n};if(r&&lr(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=jp(r.formData):o.body=r.formData}return new Request(i,o)}function jp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function HC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function RV(t,e,n,r,i){let o={},a=null,s,c=!1,C={};return n.forEach((E,O)=>{let y=e[O].route.id;if(we(!Rs(E),"Cannot handle redirect results in processLoaderData"),Ya(E)){let b=Cs(t,y),P=E.error;r&&(P=Object.values(r)[0],r=void 0),a=a||{},a[b.route.id]==null&&(a[b.route.id]=P),o[y]=void 0,c||(c=!0,s=MS(E.error)?E.error.status:500),E.headers&&(C[y]=E.headers)}else xo(E)?(i.set(y,E.deferredData),o[y]=E.deferredData.data):o[y]=E.data,E.statusCode!=null&&E.statusCode!==200&&!c&&(s=E.statusCode),E.headers&&(C[y]=E.headers)}),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:C}}function KC(t,e,n,r,i,o,a,s){let{loaderData:c,errors:C}=RV(e,n,r,i,s);for(let E=0;E<o.length;E++){let{key:O,match:y,controller:b}=o[E];we(a!==void 0&&a[E]!==void 0,"Did not find corresponding fetcher result");let P=a[E];if(!(b&&b.signal.aborted))if(Ya(P)){let g=Cs(t.matches,y==null?void 0:y.route.id);C&&C[g.route.id]||(C=ht({},C,{[g.route.id]:P.error})),t.fetchers.delete(O)}else if(Rs(P))we(!1,"Unhandled fetcher revalidation redirect");else if(xo(P))we(!1,"Unhandled fetcher deferred data");else{let g=gc(P.data);t.fetchers.set(O,g)}}return{loaderData:c,errors:C}}function $C(t,e,n,r){let i=ht({},e);for(let o of n){let a=o.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&o.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function Cs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function qC(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,a="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):t===403?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",s='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new Tm(t||500,a,new Error(s),!0)}function _C(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Rs(n))return n}}function LS(t){let e=typeof t=="string"?ii(t):t;return Wo(ht({},e,{hash:""}))}function DV(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function xo(t){return t.type===Bt.deferred}function Ya(t){return t.type===Bt.error}function Rs(t){return(t&&t.type)===Bt.redirect}function IV(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function MV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function VV(t){return vV.has(t.toLowerCase())}function lr(t){return mV.has(t.toLowerCase())}async function GC(t,e,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],c=e[a];if(!c)continue;let C=t.find(O=>O.route.id===c.route.id),E=C!=null&&!AS(C,c)&&(o&&o[c.route.id])!==void 0;if(xo(s)&&(i||E)){let O=r[a];we(O,"Expected an AbortSignal for revalidating fetcher deferred result"),await BS(s,O,i).then(y=>{y&&(n[a]=y||n[a])})}}}async function BS(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Bt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Bt.error,error:i}}return{type:Bt.data,data:t.deferredData.data}}}function Rm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function wV(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Fp(t,e){let n=typeof e=="string"?ii(e).search:e.search;if(t[t.length-1].route.index&&Rm(n||""))return t[t.length-1];let r=Hf(t);return r[r.length-1]}function kC(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function ju(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AV(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Pa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function LV(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function gc(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}const Kf=X.createContext(null),NS=X.createContext(null),Zs=X.createContext(null),$f=X.createContext(null),eo=X.createContext({outlet:null,matches:[],isDataRoute:!1}),jS=X.createContext(null);function BV(t,e){let{relative:n}=e===void 0?{}:e;eu()||we(!1);let{basename:r,navigator:i}=X.useContext(Zs),{hash:o,pathname:a,search:s}=WS(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Jr([r,a])),i.createHref({pathname:c,search:s,hash:o})}function eu(){return X.useContext($f)!=null}function qf(){return eu()||we(!1),X.useContext($f).location}function FS(t){X.useContext(Zs).static||X.useLayoutEffect(t)}function US(){let{isDataRoute:t}=X.useContext(eo);return t?kV():NV()}function NV(){eu()||we(!1);let t=X.useContext(Kf),{basename:e,navigator:n}=X.useContext(Zs),{matches:r}=X.useContext(eo),{pathname:i}=qf(),o=JSON.stringify(Hf(r).map(c=>c.pathnameBase)),a=X.useRef(!1);return FS(()=>{a.current=!0}),X.useCallback(function(c,C){if(C===void 0&&(C={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let E=xm(c,JSON.parse(o),i,C.relative==="path");t==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Jr([e,E.pathname])),(C.replace?n.replace:n.push)(E,C.state,C)},[e,n,o,i,t])}const jV=X.createContext(null);function FV(t){let e=X.useContext(eo).outlet;return e&&X.createElement(jV.Provider,{value:t},e)}function WS(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=X.useContext(eo),{pathname:i}=qf(),o=JSON.stringify(Hf(r).map(a=>a.pathnameBase));return X.useMemo(()=>xm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function UV(t,e,n){eu()||we(!1);let{navigator:r}=X.useContext(Zs),{matches:i}=X.useContext(eo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let c=qf(),C;if(e){var E;let g=typeof e=="string"?ii(e):e;s==="/"||(E=g.pathname)!=null&&E.startsWith(s)||we(!1),C=g}else C=c;let O=C.pathname||"/",y=s==="/"?O:O.slice(s.length)||"/",b=vs(t,{pathname:y}),P=KV(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Jr([s,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?s:Jr([s,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n);return e&&P?X.createElement($f.Provider,{value:{location:Zc({pathname:"/",search:"",hash:"",state:null,key:"default"},C),navigationType:Vt.Pop}},P):P}function WV(){let t=GV(),e=MS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,o)}const QV=X.createElement(WV,null);class zV extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?X.createElement(eo.Provider,{value:this.props.routeContext},X.createElement(jS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HV(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(Kf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(eo.Provider,{value:e},r)}function KV(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let s=o.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));s>=0||we(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((s,c,C)=>{let E=c.route.id?a==null?void 0:a[c.route.id]:null,O=null;n&&(O=c.route.errorElement||QV);let y=e.concat(o.slice(0,C+1)),b=()=>{let P;return E?P=O:c.route.Component?P=X.createElement(c.route.Component,null):c.route.element?P=c.route.element:P=s,X.createElement(HV,{match:c,routeContext:{outlet:s,matches:y,isDataRoute:n!=null},children:P})};return n&&(c.route.ErrorBoundary||c.route.errorElement||C===0)?X.createElement(zV,{location:n.location,revalidation:n.revalidation,component:O,error:E,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var Up;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Up||(Up={}));var Vl;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Vl||(Vl={}));function $V(t){let e=X.useContext(Kf);return e||we(!1),e}function qV(t){let e=X.useContext(NS);return e||we(!1),e}function _V(t){let e=X.useContext(eo);return e||we(!1),e}function QS(t){let e=_V(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function GV(){var t;let e=X.useContext(jS),n=qV(Vl.UseRouteError),r=QS(Vl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function kV(){let{router:t}=$V(Up.UseNavigateStable),e=QS(Vl.UseNavigateStable),n=X.useRef(!1);return FS(()=>{n.current=!0}),X.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zc({fromRouteId:e},o)))},[t,e])}const JV="startTransition",JC=ND[JV];function YV(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=X.useState(n.state),{v7_startTransition:a}=r||{},s=X.useCallback(O=>{a&&JC?JC(()=>o(O)):o(O)},[o,a]);X.useLayoutEffect(()=>n.subscribe(s),[n,s]);let c=X.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:O=>n.navigate(O),push:(O,y,b)=>n.navigate(O,{state:y,preventScrollReset:b==null?void 0:b.preventScrollReset}),replace:(O,y,b)=>n.navigate(O,{replace:!0,state:y,preventScrollReset:b==null?void 0:b.preventScrollReset})}),[n]),C=n.basename||"/",E=X.useMemo(()=>({router:n,navigator:c,static:!1,basename:C}),[n,c,C]);return X.createElement(X.Fragment,null,X.createElement(Kf.Provider,{value:E},X.createElement(NS.Provider,{value:i},X.createElement(ew,{basename:C,location:i.location,navigationType:i.historyAction,navigator:c},i.initialized?X.createElement(XV,{routes:n.routes,state:i}):e))),null)}function XV(t){let{routes:e,state:n}=t;return UV(e,void 0,n)}function ZV(t){return FV(t.context)}function La(t){we(!1)}function ew(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vt.Pop,navigator:o,static:a=!1}=t;eu()&&we(!1);let s=e.replace(/^\/*/,"/"),c=X.useMemo(()=>({basename:s,navigator:o,static:a}),[s,o,a]);typeof r=="string"&&(r=ii(r));let{pathname:C="/",search:E="",hash:O="",state:y=null,key:b="default"}=r,P=X.useMemo(()=>{let g=Xs(C,s);return g==null?null:{location:{pathname:g,search:E,hash:O,state:y,key:b},navigationType:i}},[s,C,E,O,y,b,i]);return P==null?null:X.createElement(Zs.Provider,{value:c},X.createElement($f.Provider,{children:n,value:P}))}var YC;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(YC||(YC={}));new Promise(()=>{});function Wp(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;let o=[...e,i];if(r.type===X.Fragment){n.push.apply(n,Wp(r.props.children,o));return}r.type!==La&&we(!1),!r.props.index||!r.props.children||we(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Wp(r.props.children,o)),n.push(a)}),n}function tw(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:X.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:X.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function nw(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iw(t,e){return t.button===0&&(!e||e==="_self")&&!rw(t)}const ow=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function sw(t,e){return OV({basename:e==null?void 0:e.basename,future:wl({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:qM({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||aw(),routes:t,mapRouteProperties:tw}).initialize()}function aw(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=wl({},e,{errors:lw(e.errors)})),e}function lw(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Tm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}const uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mc=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:c,to:C,preventScrollReset:E}=e,O=nw(e,ow),{basename:y}=X.useContext(Zs),b,P=!1;if(typeof C=="string"&&cw.test(C)&&(b=C,uw))try{let f=new URL(window.location.href),l=C.startsWith("//")?new URL(f.protocol+C):new URL(C),d=Xs(l.pathname,y);l.origin===f.origin&&d!=null?C=d+l.search+l.hash:P=!0}catch{}let g=BV(C,{relative:i}),m=fw(C,{replace:a,state:s,target:c,preventScrollReset:E,relative:i});function v(f){r&&r(f),f.defaultPrevented||m(f)}return X.createElement("a",wl({},O,{href:b||g,onClick:P||o?r:v,ref:n,target:c}))});var XC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(XC||(XC={}));var ZC;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ZC||(ZC={}));function fw(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a}=e===void 0?{}:e,s=US(),c=qf(),C=WS(t,{relative:a});return X.useCallback(E=>{if(iw(E,n)){E.preventDefault();let O=r!==void 0?r:Wo(c)===Wo(C);s(t,{replace:O,state:i,preventScrollReset:o,relative:a})}},[c,s,C,r,i,n,t,o,a])}const dw="/CUF/assets/home-705ff7c7.jpg";var zS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eP=Ve.createContext&&Ve.createContext(zS),Ni=globalThis&&globalThis.__assign||function(){return Ni=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ni.apply(this,arguments)},hw=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function HS(t){return t&&t.map(function(e,n){return Ve.createElement(e.tag,Ni({key:n},e.attr),HS(e.child))})}function ea(t){return function(e){return Ve.createElement(pw,Ni({attr:Ni({},t.attr)},e),HS(t.child))}}function pw(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,a=hw(t,["attr","size","title"]),s=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Ve.createElement("svg",Ni({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:Ni(Ni({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&Ve.createElement("title",null,o),t.children)};return eP!==void 0?Ve.createElement(eP.Consumer,null,function(n){return e(n)}):e(zS)}function gw(t){return ea({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18.36 6.64a9 9 0 1 1-12.73 0"}},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"12"}}]})(t)}const mw=()=>Z.jsxs("div",{className:"z-0 relative min-h-screen flex flex-col justify-center items-center ",children:[Z.jsx("img",{className:"  w-full h-screen object-cover",src:dw,alt:"home image"}),Z.jsxs("div",{className:"absolute z-20 flex justify-center items-center text-white flex-col gap-20  transition-all duration-500 ",children:[Z.jsxs("div",{className:"text-center ",children:[Z.jsx("h1",{className:"uppercase font-bold text-6xl",children:"Canadian Univeristy Filter"}),Z.jsx("p",{className:"text-lg",children:"A quick way to find out which university is right for you!"})]}),Z.jsx("div",{className:" rounded-yellow-700 flex flex-col items-center justify-center rounded-full bg-[#e7e5e4] w-32 h-32 shadow-lg shadow-amber-200",children:Z.jsx(mc,{to:"/CUF/Find",children:Z.jsx(gw,{className:" text-rose-700 transition duration-500 ease-in-out  animate-pulse hover:text-green-600 hover:scale-105",size:50})})})]})]});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function tu(t){return t+.5|0}const Ei=(t,e,n)=>Math.max(Math.min(t,n),e);function Ba(t){return Ei(tu(t*2.55),0,255)}function ji(t){return Ei(tu(t*255),0,255)}function Qr(t){return Ei(tu(t/2.55)/100,0,1)}function tP(t){return Ei(tu(t*100),0,100)}const zn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qp=[..."0123456789ABCDEF"],yw=t=>Qp[t&15],vw=t=>Qp[(t&240)>>4]+Qp[t&15],Fu=t=>(t&240)>>4===(t&15),Cw=t=>Fu(t.r)&&Fu(t.g)&&Fu(t.b)&&Fu(t.a);function Pw(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&zn[t[1]]*17,g:255&zn[t[2]]*17,b:255&zn[t[3]]*17,a:e===5?zn[t[4]]*17:255}:(e===7||e===9)&&(n={r:zn[t[1]]<<4|zn[t[2]],g:zn[t[3]]<<4|zn[t[4]],b:zn[t[5]]<<4|zn[t[6]],a:e===9?zn[t[7]]<<4|zn[t[8]]:255})),n}const bw=(t,e)=>t<255?e(t):"";function Ew(t){var e=Cw(t)?yw:vw;return t?"#"+e(t.r)+e(t.g)+e(t.b)+bw(t.a,e):void 0}const Ow=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function KS(t,e,n){const r=e*Math.min(n,1-n),i=(o,a=(o+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Sw(t,e,n){const r=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function xw(t,e,n){const r=KS(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Tw(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Dm(t){const n=t.r/255,r=t.g/255,i=t.b/255,o=Math.max(n,r,i),a=Math.min(n,r,i),s=(o+a)/2;let c,C,E;return o!==a&&(E=o-a,C=s>.5?E/(2-o-a):E/(o+a),c=Tw(n,r,i,E,o),c=c*60+.5),[c|0,C||0,s]}function Im(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ji)}function Mm(t,e,n){return Im(KS,t,e,n)}function Rw(t,e,n){return Im(xw,t,e,n)}function Dw(t,e,n){return Im(Sw,t,e,n)}function $S(t){return(t%360+360)%360}function Iw(t){const e=Ow.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Ba(+e[5]):ji(+e[5]));const i=$S(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=Rw(i,o,a):e[1]==="hsv"?r=Dw(i,o,a):r=Mm(i,o,a),{r:r[0],g:r[1],b:r[2],a:n}}function Mw(t,e){var n=Dm(t);n[0]=$S(n[0]+e),n=Mm(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Vw(t){if(!t)return;const e=Dm(t),n=e[0],r=tP(e[1]),i=tP(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Qr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const nP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ww(){const t={},e=Object.keys(rP),n=Object.keys(nP);let r,i,o,a,s;for(r=0;r<e.length;r++){for(a=s=e[r],i=0;i<n.length;i++)o=n[i],s=s.replace(o,nP[o]);o=parseInt(rP[a],16),t[s]=[o>>16&255,o>>8&255,o&255]}return t}let Uu;function Aw(t){Uu||(Uu=ww(),Uu.transparent=[0,0,0,0]);const e=Uu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Lw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Bw(t){const e=Lw.exec(t);let n=255,r,i,o;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Ba(a):Ei(a*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?Ba(r):Ei(r,0,255)),i=255&(e[4]?Ba(i):Ei(i,0,255)),o=255&(e[6]?Ba(o):Ei(o,0,255)),{r,g:i,b:o,a:n}}}function Nw(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Qr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const mh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ts=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function jw(t,e,n){const r=ts(Qr(t.r)),i=ts(Qr(t.g)),o=ts(Qr(t.b));return{r:ji(mh(r+n*(ts(Qr(e.r))-r))),g:ji(mh(i+n*(ts(Qr(e.g))-i))),b:ji(mh(o+n*(ts(Qr(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Wu(t,e,n){if(t){let r=Dm(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Mm(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function qS(t,e){return t&&Object.assign(e||{},t)}function iP(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ji(t[3]))):(e=qS(t,{r:0,g:0,b:0,a:1}),e.a=ji(e.a)),e}function Fw(t){return t.charAt(0)==="r"?Bw(t):Iw(t)}class Al{constructor(e){if(e instanceof Al)return e;const n=typeof e;let r;n==="object"?r=iP(e):n==="string"&&(r=Pw(e)||Aw(e)||Fw(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=qS(this._rgb);return e&&(e.a=Qr(e.a)),e}set rgb(e){this._rgb=iP(e)}rgbString(){return this._valid?Nw(this._rgb):void 0}hexString(){return this._valid?Ew(this._rgb):void 0}hslString(){return this._valid?Vw(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let o;const a=n===o?.5:n,s=2*a-1,c=r.a-i.a,C=((s*c===-1?s:(s+c)/(1+s*c))+1)/2;o=1-C,r.r=255&C*r.r+o*i.r+.5,r.g=255&C*r.g+o*i.g+.5,r.b=255&C*r.b+o*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=jw(this._rgb,e._rgb,n)),this}clone(){return new Al(this.rgb)}alpha(e){return this._rgb.a=ji(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=tu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Wu(this._rgb,2,e),this}darken(e){return Wu(this._rgb,2,-e),this}saturate(e){return Wu(this._rgb,1,e),this}desaturate(e){return Wu(this._rgb,1,-e),this}rotate(e){return Mw(this._rgb,e),this}}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Nr(){}const Uw=(()=>{let t=0;return()=>t++})();function ze(t){return t===null||typeof t>"u"}function ut(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function je(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function xt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function In(t,e){return xt(t)?t:e}function De(t,e){return typeof t>"u"?e:t}const Ww=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,_S=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function rt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ge(t,e,n,r){let i,o,a;if(ut(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(je(t))for(a=Object.keys(t),o=a.length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function ef(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function tf(t){if(ut(t))return t.map(tf);if(je(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=tf(t[n[i]]);return e}return t}function GS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Qw(t,e,n,r){if(!GS(t))return;const i=e[t],o=n[t];je(i)&&je(o)?Ll(i,o,r):e[t]=tf(o)}function Ll(t,e,n){const r=ut(e)?e:[e],i=r.length;if(!je(t))return t;n=n||{};const o=n.merger||Qw;let a;for(let s=0;s<i;++s){if(a=r[s],!je(a))continue;const c=Object.keys(a);for(let C=0,E=c.length;C<E;++C)o(c[C],t,a,n)}return t}function Xa(t,e){return Ll(t,e,{merger:zw})}function zw(t,e,n){if(!GS(t))return;const r=e[t],i=n[t];je(r)&&je(i)?Xa(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=tf(i))}const oP={"":t=>t,x:t=>t.x,y:t=>t.y};function Hw(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Kw(t){const e=Hw(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Hi(t,e){return(oP[e]||(oP[e]=Kw(e)))(t)}function Vm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Bl=t=>typeof t<"u",Ki=t=>typeof t=="function",sP=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function $w(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const mt=Math.PI,ft=2*mt,qw=ft+mt,nf=Number.POSITIVE_INFINITY,_w=mt/180,Tt=mt/2,lo=mt/4,aP=mt*2/3,Oi=Math.log10,Dr=Math.sign;function Za(t,e,n){return Math.abs(t-e)<n}function lP(t){const e=Math.round(t);t=Za(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Oi(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Gw(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,o)=>i-o).pop(),e}function Fs(t){return!isNaN(parseFloat(t))&&isFinite(t)}function kw(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function kS(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function cr(t){return t*(mt/180)}function wm(t){return t*(180/mt)}function uP(t){if(!xt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function JS(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*mt&&(o+=ft),{angle:o,distance:i}}function zp(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Jw(t,e){return(t-e+qw)%ft-mt}function Vn(t){return(t%ft+ft)%ft}function Nl(t,e,n,r){const i=Vn(t),o=Vn(e),a=Vn(n),s=Vn(o-i),c=Vn(a-i),C=Vn(i-o),E=Vn(i-a);return i===o||i===a||r&&o===a||s>c&&C<E}function $t(t,e,n){return Math.max(e,Math.min(n,t))}function Yw(t){return $t(t,-32768,32767)}function Kr(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Am(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,n(o)?i=o:r=o;return{lo:i,hi:r}}const $r=(t,e,n,r)=>Am(t,n,r?i=>{const o=t[i][e];return o<n||o===n&&t[i+1][e]===n}:i=>t[i][e]<n),Xw=(t,e,n)=>Am(t,n,r=>t[r][e]>=n);function Zw(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const YS=["push","pop","shift","splice","unshift"];function eA(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),YS.forEach(n=>{const r="_onData"+Vm(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const a=i.apply(this,o);return t._chartjs.listeners.forEach(s=>{typeof s[r]=="function"&&s[r](...o)}),a}})})}function cP(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(YS.forEach(o=>{delete t[o]}),delete t._chartjs)}function XS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ZS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ex(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,ZS.call(window,()=>{r=!1,t.apply(e,n)}))}}function tA(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Lm=t=>t==="start"?"left":t==="end"?"right":"center",tn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,nA=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function tx(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:a,_parsed:s}=t,c=a.axis,{min:C,max:E,minDefined:O,maxDefined:y}=a.getUserBounds();O&&(i=$t(Math.min($r(s,a.axis,C).lo,n?r:$r(e,c,a.getPixelForValue(C)).lo),0,r-1)),y?o=$t(Math.max($r(s,a.axis,E,!0).hi+1,n?0:$r(e,c,a.getPixelForValue(E),!0).hi+1),i,r)-i:o=r-i}return{start:i,count:o}}function nx(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const Qu=t=>t===0||t===1,fP=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ft/n)),dP=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ft/n)+1,el={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Tt)+1,easeOutSine:t=>Math.sin(t*Tt),easeInOutSine:t=>-.5*(Math.cos(mt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Qu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Qu(t)?t:fP(t,.075,.3),easeOutElastic:t=>Qu(t)?t:dP(t,.075,.3),easeInOutElastic(t){return Qu(t)?t:t<.5?.5*fP(t*2,.1125,.45):.5+.5*dP(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-el.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?el.easeInBounce(t*2)*.5:el.easeOutBounce(t*2-1)*.5+.5};function Bm(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function hP(t){return Bm(t)?t:new Al(t)}function yh(t){return Bm(t)?t:new Al(t).saturate(.5).darken(.1).hexString()}const rA=["x","y","borderWidth","radius","tension"],iA=["color","borderColor","backgroundColor"];function oA(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:iA},numbers:{type:"number",properties:rA}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function sA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const pP=new Map;function aA(t,e){e=e||{};const n=t+JSON.stringify(e);let r=pP.get(n);return r||(r=new Intl.NumberFormat(t,e),pP.set(n,r)),r}function nu(t,e,n){return aA(e,n).format(t)}const rx={values(t){return ut(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const C=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(C<1e-4||C>1e15)&&(i="scientific"),o=lA(t,n)}const a=Oi(Math.abs(o)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(c,this.options.ticks.format),nu(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Oi(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?rx.numeric.call(this,t,e,n):""}};function lA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var _f={formatters:rx};function uA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_f.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Qo=Object.create(null),Hp=Object.create(null);function tl(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function vh(t,e,n){return typeof e=="string"?Ll(tl(t,e),n):Ll(tl(t,""),e)}class cA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>yh(i.backgroundColor),this.hoverBorderColor=(r,i)=>yh(i.borderColor),this.hoverColor=(r,i)=>yh(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return vh(this,e,n)}get(e){return tl(this,e)}describe(e,n){return vh(Hp,e,n)}override(e,n){return vh(Qo,e,n)}route(e,n,r,i){const o=tl(this,e),a=tl(this,r),s="_"+n;Object.defineProperties(o,{[s]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[s],C=a[i];return je(c)?Object.assign({},C,c):De(c,C)},set(c){this[s]=c}}})}apply(e){e.forEach(n=>n(this))}}var Rt=new cA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oA,sA,uA]);function fA(t){return!t||ze(t.size)||ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function rf(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function dA(t,e,n,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const s=n.length;let c,C,E,O,y;for(c=0;c<s;c++)if(O=n[c],O!=null&&!ut(O))a=rf(t,i,o,a,O);else if(ut(O))for(C=0,E=O.length;C<E;C++)y=O[C],y!=null&&!ut(y)&&(a=rf(t,i,o,a,y));t.restore();const b=o.length/2;if(b>n.length){for(c=0;c<b;c++)delete i[o[c]];o.splice(0,b)}return a}function uo(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function gP(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Kp(t,e,n,r){ix(t,e,n,r,null)}function ix(t,e,n,r,i){let o,a,s,c,C,E,O,y;const b=e.pointStyle,P=e.rotation,g=e.radius;let m=(P||0)*_w;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(m),t.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),b){default:i?t.ellipse(n,r,i/2,g,0,0,ft):t.arc(n,r,g,0,ft),t.closePath();break;case"triangle":E=i?i/2:g,t.moveTo(n+Math.sin(m)*E,r-Math.cos(m)*g),m+=aP,t.lineTo(n+Math.sin(m)*E,r-Math.cos(m)*g),m+=aP,t.lineTo(n+Math.sin(m)*E,r-Math.cos(m)*g),t.closePath();break;case"rectRounded":C=g*.516,c=g-C,a=Math.cos(m+lo)*c,O=Math.cos(m+lo)*(i?i/2-C:c),s=Math.sin(m+lo)*c,y=Math.sin(m+lo)*(i?i/2-C:c),t.arc(n-O,r-s,C,m-mt,m-Tt),t.arc(n+y,r-a,C,m-Tt,m),t.arc(n+O,r+s,C,m,m+Tt),t.arc(n-y,r+a,C,m+Tt,m+mt),t.closePath();break;case"rect":if(!P){c=Math.SQRT1_2*g,E=i?i/2:c,t.rect(n-E,r-c,2*E,2*c);break}m+=lo;case"rectRot":O=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,y=Math.sin(m)*(i?i/2:g),t.moveTo(n-O,r-s),t.lineTo(n+y,r-a),t.lineTo(n+O,r+s),t.lineTo(n-y,r+a),t.closePath();break;case"crossRot":m+=lo;case"cross":O=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,y=Math.sin(m)*(i?i/2:g),t.moveTo(n-O,r-s),t.lineTo(n+O,r+s),t.moveTo(n+y,r-a),t.lineTo(n-y,r+a);break;case"star":O=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,y=Math.sin(m)*(i?i/2:g),t.moveTo(n-O,r-s),t.lineTo(n+O,r+s),t.moveTo(n+y,r-a),t.lineTo(n-y,r+a),m+=lo,O=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,y=Math.sin(m)*(i?i/2:g),t.moveTo(n-O,r-s),t.lineTo(n+O,r+s),t.moveTo(n+y,r-a),t.lineTo(n-y,r+a);break;case"line":a=i?i/2:Math.cos(m)*g,s=Math.sin(m)*g,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function qr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Gf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function kf(t){t.restore()}function hA(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function pA(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function gA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ze(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function mA(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),a=e-o.actualBoundingBoxLeft,s=e+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,C=n+o.actualBoundingBoxDescent,E=i.strikethrough?(c+C)/2:C;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,E),t.lineTo(s,E),t.stroke()}}function yA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function zo(t,e,n,r,i,o={}){const a=ut(e)?e:[e],s=o.strokeWidth>0&&o.strokeColor!=="";let c,C;for(t.save(),t.font=i.string,gA(t,o),c=0;c<a.length;++c)C=a[c],o.backdrop&&yA(t,o.backdrop),s&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),ze(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(C,n,r,o.maxWidth)),t.fillText(C,n,r,o.maxWidth),mA(t,n,r,C,o),r+=Number(i.lineHeight);t.restore()}function jl(t,e){const{x:n,y:r,w:i,h:o,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-Tt,mt,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,mt,Tt,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,Tt,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Tt,!0),t.lineTo(n+a.topLeft,r)}const vA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,CA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function PA(t,e){const n=(""+t).match(vA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const bA=t=>+t||0;function Nm(t,e){const n={},r=je(e),i=r?Object.keys(e):e,o=je(t)?r?a=>De(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=bA(o(a));return n}function ox(t){return Nm(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Vo(t){return Nm(t,["topLeft","topRight","bottomLeft","bottomRight"])}function sn(t){const e=ox(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ut(t,e){t=t||{},e=e||Rt.font;let n=De(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=De(t.style,e.style);r&&!(""+r).match(CA)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:De(t.family,e.family),lineHeight:PA(De(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:De(t.weight,e.weight),string:""};return i.string=fA(i),i}function Na(t,e,n,r){let i=!0,o,a,s;for(o=0,a=t.length;o<a;++o)if(s=t[o],s!==void 0&&(e!==void 0&&typeof s=="function"&&(s=s(e),i=!1),n!==void 0&&ut(s)&&(s=s[n%s.length],i=!1),s!==void 0))return r&&!i&&(r.cacheable=!1),s}function EA(t,e,n){const{min:r,max:i}=t,o=_S(e,(i-r)/2),a=(s,c)=>n&&s===0?0:s+c;return{min:a(r,-Math.abs(o)),max:a(i,o)}}function to(t,e){return Object.assign(Object.create(t),e)}function jm(t,e=[""],n,r,i=()=>t[0]){const o=n||t;typeof r>"u"&&(r=ux("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:r,_getTarget:i,override:s=>jm([s,...t],e,o,r)};return new Proxy(a,{deleteProperty(s,c){return delete s[c],delete s._keys,delete t[0][c],!0},get(s,c){return ax(s,c,()=>MA(c,e,t,s))},getOwnPropertyDescriptor(s,c){return Reflect.getOwnPropertyDescriptor(s._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(s,c){return yP(s).includes(c)},ownKeys(s){return yP(s)},set(s,c,C){const E=s._storage||(s._storage=i());return s[c]=E[c]=C,delete s._keys,!0}})}function Us(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:sx(t,r),setContext:o=>Us(t,o,n,r),override:o=>Us(t.override(o),e,n,r)};return new Proxy(i,{deleteProperty(o,a){return delete o[a],delete t[a],!0},get(o,a,s){return ax(o,a,()=>SA(o,a,s))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(o,a,s){return t[a]=s,delete o[a],!0}})}function sx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ki(n)?n:()=>n,isIndexable:Ki(r)?r:()=>r}}const OA=(t,e)=>t?t+Vm(e):e,Fm=(t,e)=>je(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function ax(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function SA(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=t;let s=r[e];return Ki(s)&&a.isScriptable(e)&&(s=xA(e,s,t,n)),ut(s)&&s.length&&(s=TA(e,s,t,a.isIndexable)),Fm(e,s)&&(s=Us(s,i,o&&o[e],a)),s}function xA(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:s}=n;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t);let c=e(o,a||r);return s.delete(t),Fm(t,c)&&(c=Um(i._scopes,i,t,c)),c}function TA(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:s}=n;if(typeof o.index<"u"&&r(t))return e[o.index%e.length];if(je(e[0])){const c=e,C=i._scopes.filter(E=>E!==c);e=[];for(const E of c){const O=Um(C,i,t,E);e.push(Us(O,o,a&&a[t],s))}}return e}function lx(t,e,n){return Ki(t)?t(e,n):t}const RA=(t,e)=>t===!0?e:typeof t=="string"?Hi(e,t):void 0;function DA(t,e,n,r,i){for(const o of e){const a=RA(n,o);if(a){t.add(a);const s=lx(a._fallback,n,i);if(typeof s<"u"&&s!==n&&s!==r)return s}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function Um(t,e,n,r){const i=e._rootScopes,o=lx(e._fallback,n,r),a=[...t,...i],s=new Set;s.add(r);let c=mP(s,a,n,o||n,r);return c===null||typeof o<"u"&&o!==n&&(c=mP(s,a,o,c,r),c===null)?!1:jm(Array.from(s),[""],i,o,()=>IA(e,n,r))}function mP(t,e,n,r,i){for(;n;)n=DA(t,e,n,r,i);return n}function IA(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return ut(i)&&je(n)?n:i||{}}function MA(t,e,n,r){let i;for(const o of e)if(i=ux(OA(o,t),n),typeof i<"u")return Fm(t,i)?Um(n,r,t,i):i}function ux(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function yP(t){let e=t._keys;return e||(e=t._keys=VA(t._scopes)),e}function VA(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function cx(t,e,n,r){const{iScale:i}=t,{key:o="r"}=this._parsing,a=new Array(r);let s,c,C,E;for(s=0,c=r;s<c;++s)C=s+n,E=e[C],a[s]={r:i.parse(Hi(E,o),C)};return a}const wA=Number.EPSILON||1e-14,Ws=(t,e)=>e<t.length&&!t[e].skip&&t[e],fx=t=>t==="x"?"y":"x";function AA(t,e,n,r){const i=t.skip?e:t,o=e,a=n.skip?e:n,s=zp(o,i),c=zp(a,o);let C=s/(s+c),E=c/(s+c);C=isNaN(C)?0:C,E=isNaN(E)?0:E;const O=r*C,y=r*E;return{previous:{x:o.x-O*(a.x-i.x),y:o.y-O*(a.y-i.y)},next:{x:o.x+y*(a.x-i.x),y:o.y+y*(a.y-i.y)}}}function LA(t,e,n){const r=t.length;let i,o,a,s,c,C=Ws(t,0);for(let E=0;E<r-1;++E)if(c=C,C=Ws(t,E+1),!(!c||!C)){if(Za(e[E],0,wA)){n[E]=n[E+1]=0;continue}i=n[E]/e[E],o=n[E+1]/e[E],s=Math.pow(i,2)+Math.pow(o,2),!(s<=9)&&(a=3/Math.sqrt(s),n[E]=i*a*e[E],n[E+1]=o*a*e[E])}}function BA(t,e,n="x"){const r=fx(n),i=t.length;let o,a,s,c=Ws(t,0);for(let C=0;C<i;++C){if(a=s,s=c,c=Ws(t,C+1),!s)continue;const E=s[n],O=s[r];a&&(o=(E-a[n])/3,s[`cp1${n}`]=E-o,s[`cp1${r}`]=O-o*e[C]),c&&(o=(c[n]-E)/3,s[`cp2${n}`]=E+o,s[`cp2${r}`]=O+o*e[C])}}function NA(t,e="x"){const n=fx(e),r=t.length,i=Array(r).fill(0),o=Array(r);let a,s,c,C=Ws(t,0);for(a=0;a<r;++a)if(s=c,c=C,C=Ws(t,a+1),!!c){if(C){const E=C[e]-c[e];i[a]=E!==0?(C[n]-c[n])/E:0}o[a]=s?C?Dr(i[a-1])!==Dr(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}LA(t,i,o),BA(t,o,e)}function zu(t,e,n){return Math.max(Math.min(t,n),e)}function jA(t,e){let n,r,i,o,a,s=qr(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=s,s=n<r-1&&qr(t[n+1],e),o&&(i=t[n],a&&(i.cp1x=zu(i.cp1x,e.left,e.right),i.cp1y=zu(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=zu(i.cp2x,e.left,e.right),i.cp2y=zu(i.cp2y,e.top,e.bottom)))}function FA(t,e,n,r,i){let o,a,s,c;if(e.spanGaps&&(t=t.filter(C=>!C.skip)),e.cubicInterpolationMode==="monotone")NA(t,i);else{let C=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)s=t[o],c=AA(C,s,t[Math.min(o+1,a-(r?0:1))%a],e.tension),s.cp1x=c.previous.x,s.cp1y=c.previous.y,s.cp2x=c.next.x,s.cp2y=c.next.y,C=s}e.capBezierPoints&&jA(t,n)}function dx(){return typeof window<"u"&&typeof document<"u"}function Wm(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function of(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Jf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function UA(t,e){return Jf(t).getPropertyValue(e)}const WA=["top","right","bottom","left"];function wo(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=WA[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const QA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function zA(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let a=!1,s,c;if(QA(i,o,t.target))s=i,c=o;else{const C=e.getBoundingClientRect();s=r.clientX-C.left,c=r.clientY-C.top,a=!0}return{x:s,y:c,box:a}}function mo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Jf(n),o=i.boxSizing==="border-box",a=wo(i,"padding"),s=wo(i,"border","width"),{x:c,y:C,box:E}=zA(t,n),O=a.left+(E&&s.left),y=a.top+(E&&s.top);let{width:b,height:P}=e;return o&&(b-=a.width+s.width,P-=a.height+s.height),{x:Math.round((c-O)/b*n.width/r),y:Math.round((C-y)/P*n.height/r)}}function HA(t,e,n){let r,i;if(e===void 0||n===void 0){const o=Wm(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const a=o.getBoundingClientRect(),s=Jf(o),c=wo(s,"border","width"),C=wo(s,"padding");e=a.width-C.width-c.width,n=a.height-C.height-c.height,r=of(s.maxWidth,o,"clientWidth"),i=of(s.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:r||nf,maxHeight:i||nf}}const Hu=t=>Math.round(t*10)/10;function KA(t,e,n,r){const i=Jf(t),o=wo(i,"margin"),a=of(i.maxWidth,t,"clientWidth")||nf,s=of(i.maxHeight,t,"clientHeight")||nf,c=HA(t,e,n);let{width:C,height:E}=c;if(i.boxSizing==="content-box"){const y=wo(i,"border","width"),b=wo(i,"padding");C-=b.width+y.width,E-=b.height+y.height}return C=Math.max(0,C-o.width),E=Math.max(0,r?C/r:E-o.height),C=Hu(Math.min(C,a,c.maxWidth)),E=Hu(Math.min(E,s,c.maxHeight)),C&&!E&&(E=Hu(C/2)),(e!==void 0||n!==void 0)&&r&&c.height&&E>c.height&&(E=c.height,C=Hu(Math.floor(E*r))),{width:C,height:E}}function vP(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o?(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const $A=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function CP(t,e){const n=UA(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function yo(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function qA(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function _A(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=yo(t,i,n),s=yo(i,o,n),c=yo(o,e,n),C=yo(a,s,n),E=yo(s,c,n);return yo(C,E,n)}const GA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},kA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ds(t,e,n){return t?GA(e,n):kA()}function hx(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function px(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function gx(t){return t==="angle"?{between:Nl,compare:Jw,normalize:Vn}:{between:Kr,compare:(e,n)=>e-n,normalize:e=>e}}function PP({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function JA(t,e,n){const{property:r,start:i,end:o}=n,{between:a,normalize:s}=gx(r),c=e.length;let{start:C,end:E,loop:O}=t,y,b;if(O){for(C+=c,E+=c,y=0,b=c;y<b&&a(s(e[C%c][r]),i,o);++y)C--,E--;C%=c,E%=c}return E<C&&(E+=c),{start:C,end:E,loop:O,style:t.style}}function mx(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,a=e.length,{compare:s,between:c,normalize:C}=gx(r),{start:E,end:O,loop:y,style:b}=JA(t,e,n),P=[];let g=!1,m=null,v,f,l;const d=()=>c(i,l,v)&&s(i,l)!==0,h=()=>s(o,v)===0||c(o,l,v),p=()=>g||d(),u=()=>!g||h();for(let x=E,V=E;x<=O;++x)f=e[x%a],!f.skip&&(v=C(f[r]),v!==l&&(g=c(v,i,o),m===null&&p()&&(m=s(v,i)===0?x:V),m!==null&&u()&&(P.push(PP({start:m,end:x,loop:y,count:a,style:b})),m=null),V=x,l=v));return m!==null&&P.push(PP({start:m,end:O,loop:y,count:a,style:b})),P}function yx(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=mx(r[i],t.points,e);o.length&&n.push(...o)}return n}function YA(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function XA(t,e,n,r){const i=t.length,o=[];let a=e,s=t[e],c;for(c=e+1;c<=n;++c){const C=t[c%i];C.skip||C.stop?s.skip||(r=!1,o.push({start:e%i,end:(c-1)%i,loop:r}),e=a=C.stop?c:null):(a=c,s.skip&&(e=c)),s=C}return a!==null&&o.push({start:e%i,end:a%i,loop:r}),o}function ZA(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:a,end:s}=YA(n,i,o,r);if(r===!0)return bP(t,[{start:a,end:s,loop:o}],n,e);const c=s<a?s+i:s,C=!!t._fullLoop&&a===0&&s===i-1;return bP(t,XA(n,a,c,C),n,e)}function bP(t,e,n,r){return!r||!r.setContext||!n?e:eL(t,e,n,r)}function eL(t,e,n,r){const i=t._chart.getContext(),o=EP(t.options),{_datasetIndex:a,options:{spanGaps:s}}=t,c=n.length,C=[];let E=o,O=e[0].start,y=O;function b(P,g,m,v){const f=s?-1:1;if(P!==g){for(P+=c;n[P%c].skip;)P-=f;for(;n[g%c].skip;)g+=f;P%c!==g%c&&(C.push({start:P%c,end:g%c,loop:m,style:v}),E=v,O=g%c)}}for(const P of e){O=s?O:P.start;let g=n[O%c],m;for(y=O+1;y<=P.end;y++){const v=n[y%c];m=EP(r.setContext(to(i,{type:"segment",p0:g,p1:v,p0DataIndex:(y-1)%c,p1DataIndex:y%c,datasetIndex:a}))),tL(m,E)&&b(O,y-1,P.loop,E),g=v,E=m}O<y-1&&b(O,y-1,P.loop,E)}return C}function EP(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function tL(t,e){if(!e)return!1;const n=[],r=function(i,o){return Bm(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class nL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const o=n.listeners[i],a=n.duration;o.forEach(s=>s({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=ZS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let a=o.length-1,s=!1,c;for(;a>=0;--a)c=o[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),s=!0):(o[a]=o[o.length-1],o.pop());s&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var jr=new nL;const OP="transparent",rL={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=hP(t||OP),i=r.valid&&hP(e||OP);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class iL{constructor(e,n,r,i){const o=n[r];i=Na([e.to,i,o,e.from]);const a=Na([e.from,o,i]);this._active=!0,this._fn=e.fn||rL[e.type||typeof a],this._easing=el[e.easing]||el.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,a=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Na([e.to,n,i,e.from]),this._from=Na([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,o=this._from,a=this._loop,s=this._to;let c;if(this._active=o!==s&&(a||n<r),!this._active){this._target[i]=s,this._notify(!0);return}if(n<0){this._target[i]=o;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,s,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class vx{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!je(e))return;const n=Object.keys(Rt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!je(o))return;const a={};for(const s of n)a[s]=o[s];(ut(o.properties)&&o.properties||[i]).forEach(s=>{(s===i||!r.has(s))&&r.set(s,a)})})}_animateOptions(e,n){const r=n.options,i=sL(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&oL(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,n){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),a=Object.keys(n),s=Date.now();let c;for(c=a.length-1;c>=0;--c){const C=a[c];if(C.charAt(0)==="$")continue;if(C==="options"){i.push(...this._animateOptions(e,n));continue}const E=n[C];let O=o[C];const y=r.get(C);if(O)if(y&&O.active()){O.update(y,E,s);continue}else O.cancel();if(!y||!y.duration){e[C]=E;continue}o[C]=O=new iL(y,e,C,E),i.push(O)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return jr.add(this._chart,r),!0}}function oL(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=t[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function sL(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function SP(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function aL(t,e,n){if(n===!1)return!1;const r=SP(t,n),i=SP(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function lL(t){let e,n,r,i;return je(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function Cx(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function xP(t,e,n,r={}){const i=t.keys,o=r.mode==="single";let a,s,c,C;if(e!==null){for(a=0,s=i.length;a<s;++a){if(c=+i[a],c===n){if(r.all)continue;break}C=t.values[c],xt(C)&&(o||e===0||Dr(e)===Dr(C))&&(e+=C)}return e}}function uL(t){const e=Object.keys(t),n=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],n[r]={x:o,y:t[o]};return n}function TP(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function cL(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function fL(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function dL(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function RP(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=t[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function DP(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=r,c=o.axis,C=a.axis,E=cL(o,a,r),O=e.length;let y;for(let b=0;b<O;++b){const P=e[b],{[c]:g,[C]:m}=P,v=P._stacks||(P._stacks={});y=v[C]=dL(i,E,g),y[s]=m,y._top=RP(y,a,!0,r.type),y._bottom=RP(y,a,!1,r.type);const f=y._visualValues||(y._visualValues={});f[s]=m}}function Ch(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function hL(t,e){return to(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function pL(t,e,n){return to(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ba(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n],o[r]._visualValues!==void 0&&o[r]._visualValues[n]!==void 0&&delete o[r]._visualValues[n]}}}const Ph=t=>t==="reset"||t==="none",IP=(t,e)=>e?t:Object.assign({},t),gL=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Cx(n,!0),values:null};class pr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=TP(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ba(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(O,y,b,P)=>O==="x"?y:O==="r"?P:b,o=n.xAxisID=De(r.xAxisID,Ch(e,"x")),a=n.yAxisID=De(r.yAxisID,Ch(e,"y")),s=n.rAxisID=De(r.rAxisID,Ch(e,"r")),c=n.indexAxis,C=n.iAxisID=i(c,o,a,s),E=n.vAxisID=i(c,a,o,s);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(s),n.iScale=this.getScaleForId(C),n.vScale=this.getScaleForId(E)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&cP(this._data,this),e._stacked&&ba(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(je(n))this._data=uL(n);else if(r!==n){if(r){cP(r,this);const i=this._cachedMeta;ba(i),i._parsed=[]}n&&Object.isExtensible(n)&&eA(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=TP(n.vScale,n),n.stack!==r.stack&&(i=!0,ba(n),n.stack=r.stack),this._resyncElements(e),(i||o!==n._stacked)&&DP(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:a}=r,s=o.axis;let c=e===0&&n===i.length?!0:r._sorted,C=e>0&&r._parsed[e-1],E,O,y;if(this._parsing===!1)r._parsed=i,r._sorted=!0,y=i;else{ut(i[e])?y=this.parseArrayData(r,i,e,n):je(i[e])?y=this.parseObjectData(r,i,e,n):y=this.parsePrimitiveData(r,i,e,n);const b=()=>O[s]===null||C&&O[s]<C[s];for(E=0;E<n;++E)r._parsed[E+e]=O=y[E],c&&(b()&&(c=!1),C=O);r._sorted=c}a&&DP(this,y)}parsePrimitiveData(e,n,r,i){const{iScale:o,vScale:a}=e,s=o.axis,c=a.axis,C=o.getLabels(),E=o===a,O=new Array(i);let y,b,P;for(y=0,b=i;y<b;++y)P=y+r,O[y]={[s]:E||o.parse(C[P],P),[c]:a.parse(n[P],P)};return O}parseArrayData(e,n,r,i){const{xScale:o,yScale:a}=e,s=new Array(i);let c,C,E,O;for(c=0,C=i;c<C;++c)E=c+r,O=n[E],s[c]={x:o.parse(O[0],E),y:a.parse(O[1],E)};return s}parseObjectData(e,n,r,i){const{xScale:o,yScale:a}=e,{xAxisKey:s="x",yAxisKey:c="y"}=this._parsing,C=new Array(i);let E,O,y,b;for(E=0,O=i;E<O;++E)y=E+r,b=n[y],C[E]={x:o.parse(Hi(b,s),y),y:a.parse(Hi(b,c),y)};return C}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,o=this._cachedMeta,a=n[e.axis],s={keys:Cx(i,!0),values:n._stacks[e.axis]._visualValues};return xP(s,a,o.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const o=r[n.axis];let a=o===null?NaN:o;const s=i&&r._stacks[n.axis];i&&s&&(i.values=s,a=xP(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,a=i.length,s=this._getOtherScale(e),c=gL(n,r,this.chart),C={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:E,max:O}=fL(s);let y,b;function P(){b=i[y];const g=b[s.axis];return!xt(b[e.axis])||E>g||O<g}for(y=0;y<a&&!(!P()&&(this.updateRangeFromParsed(C,e,b,c),o));++y);if(o){for(y=a-1;y>=0;--y)if(!P()){this.updateRangeFromParsed(C,e,b,c);break}}return C}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,o,a;for(i=0,o=n.length;i<o;++i)a=n[i][e.axis],xt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=lL(De(this.options.clip,aL(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],o=n.chartArea,a=[],s=this._drawStart||0,c=this._drawCount||i.length-s,C=this.options.drawActiveElementsOnTop;let E;for(r.dataset&&r.dataset.draw(e,o,s,c),E=s;E<s+c;++E){const O=i[E];O.hidden||(O.active&&C?a.push(O):O.draw(e,o))}for(E=0;E<a.length;++E)a[E].draw(e,o)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=pL(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=hL(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",o=this._cachedDataOpts,a=e+"-"+n,s=o[a],c=this.enableOptionSharing&&Bl(r);if(s)return IP(s,c);const C=this.chart.config,E=C.datasetElementScopeKeys(this._type,e),O=i?[`${e}Hover`,"hover",e,""]:[e,""],y=C.getOptionScopes(this.getDataset(),E),b=Object.keys(Rt.elements[e]),P=()=>this.getContext(r,i,n),g=C.resolveNamedOptions(y,b,P,O);return g.$shared&&(g.$shared=c,o[a]=Object.freeze(IP(g,c))),g}_resolveAnimations(e,n,r){const i=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,s=o[a];if(s)return s;let c;if(i.options.animation!==!1){const E=this.chart.config,O=E.datasetAnimationScopeKeys(this._type,n),y=E.getOptionScopes(this.getDataset(),O);c=E.createResolver(y,this.getContext(e,r,n))}const C=new vx(i,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(C)),C}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ph(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:a}}updateElement(e,n,r,i){Ph(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Ph(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[s,c,C]of this._syncList)this[s](c,C);this._syncList=[];const i=r.length,o=n.length,a=Math.min(o,i);a&&this.parse(0,a),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,n,r=!0){const i=this._cachedMeta,o=i.data,a=e+n;let s;const c=C=>{for(C.length+=n,s=C.length-1;s>=a;s--)C[s]=C[s-n]};for(c(o),s=e;s<a;++s)o[s]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&ba(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}oe(pr,"defaults",{}),oe(pr,"datasetElementType",null),oe(pr,"dataElementType",null);function mL(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,o=n.length;i<o;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=XS(r.sort((i,o)=>i-o))}return t._cache.$bar}function yL(t){const e=t.iScale,n=mL(e,t.type);let r=e._length,i,o,a,s;const c=()=>{a===32767||a===-32768||(Bl(s)&&(r=Math.min(r,Math.abs(a-s)||r)),s=a)};for(i=0,o=n.length;i<o;++i)a=e.getPixelForValue(n[i]),c();for(s=void 0,i=0,o=e.ticks.length;i<o;++i)a=e.getPixelForTick(i),c();return r}function vL(t,e,n,r){const i=n.barThickness;let o,a;return ze(i)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:e.pixels[t]-o/2}}function CL(t,e,n,r){const i=e.pixels,o=i[t];let a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;a===null&&(a=o-(s===null?e.end-e.start:s-o)),s===null&&(s=o+o-a);const C=o-(o-Math.min(a,s))/2*c;return{chunk:Math.abs(s-a)/2*c/r,ratio:n.barPercentage,start:C}}function PL(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),s=Math.max(i,o);let c=a,C=s;Math.abs(a)>Math.abs(s)&&(c=s,C=a),e[n.axis]=C,e._custom={barStart:c,barEnd:C,start:i,end:o,min:a,max:s}}function Px(t,e,n,r){return ut(t)?PL(t,e,n,r):e[n.axis]=n.parse(t,r),e}function MP(t,e,n,r){const i=t.iScale,o=t.vScale,a=i.getLabels(),s=i===o,c=[];let C,E,O,y;for(C=n,E=n+r;C<E;++C)y=e[C],O={},O[i.axis]=s||i.parse(a[C],C),c.push(Px(y,O,o,C));return c}function bh(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function bL(t,e,n){return t!==0?Dr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function EL(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}function OL(t,e,n,r){let i=e.borderSkipped;const o={};if(!i){t.borderSkipped=o;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:s,reverse:c,top:C,bottom:E}=EL(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=C:(n._bottom||0)===r?i=E:(o[VP(E,a,s,c)]=!0,i=C)),o[VP(i,a,s,c)]=!0,t.borderSkipped=o}function VP(t,e,n,r){return r?(t=SL(t,e,n),t=wP(t,n,e)):t=wP(t,e,n),t}function SL(t,e,n){return t===e?n:t===n?e:t}function wP(t,e,n){return t==="start"?e:t==="end"?n:t}function xL(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class yc extends pr{parsePrimitiveData(e,n,r,i){return MP(e,n,r,i)}parseArrayData(e,n,r,i){return MP(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:o,vScale:a}=e,{xAxisKey:s="x",yAxisKey:c="y"}=this._parsing,C=o.axis==="x"?s:c,E=a.axis==="x"?s:c,O=[];let y,b,P,g;for(y=r,b=r+i;y<b;++y)g=n[y],P={},P[o.axis]=o.parse(Hi(g,C),y),O.push(Px(Hi(g,E),P,a,y));return O}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,o=this.getParsed(e),a=o._custom,s=bh(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const o=i==="reset",{index:a,_cachedMeta:{vScale:s}}=this,c=s.getBasePixel(),C=s.isHorizontal(),E=this._getRuler(),{sharedOptions:O,includeOptions:y}=this._getSharedOptions(n,i);for(let b=n;b<n+r;b++){const P=this.getParsed(b),g=o||ze(P[s.axis])?{base:c,head:c}:this._calculateBarValuePixels(b),m=this._calculateBarIndexPixels(b,E),v=(P._stacks||{})[s.axis],f={horizontal:C,base:g.base,enableBorderRadius:!v||bh(P._custom)||a===v._top||a===v._bottom,x:C?g.head:m.center,y:C?m.center:g.head,height:C?m.size:Math.abs(g.size),width:C?Math.abs(g.size):m.size};y&&(f.options=O||this.resolveDataElementOptions(b,e[b].active?"active":i));const l=f.options||e[b].options;OL(f,l,v,a),xL(f,l,E.ratio),this.updateElement(e[b],b,f,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),o=r.options.stacked,a=[],s=c=>{const C=c.controller.getParsed(n),E=C&&C[c.vScale.axis];if(ze(E)||isNaN(E))return!0};for(const c of i)if(!(n!==void 0&&s(c))&&((o===!1||a.indexOf(c.stack)===-1||o===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),o=n!==void 0?i.indexOf(n):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let o,a;for(o=0,a=n.data.length;o<a;++o)i.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const s=e.barThickness;return{min:s||yL(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:o,minBarLength:a}}=this,s=o||0,c=this.getParsed(e),C=c._custom,E=bh(C);let O=c[n.axis],y=0,b=r?this.applyStack(n,c,r):O,P,g;b!==O&&(y=b-O,b=O),E&&(O=C.barStart,b=C.barEnd-C.barStart,O!==0&&Dr(O)!==Dr(C.barEnd)&&(y=0),y+=O);const m=!ze(o)&&!E?o:y;let v=n.getPixelForValue(m);if(this.chart.getDataVisibility(e)?P=n.getPixelForValue(y+b):P=v,g=P-v,Math.abs(g)<a){g=bL(g,n,s)*a,O===s&&(v-=g/2);const f=n.getPixelForDecimal(0),l=n.getPixelForDecimal(1),d=Math.min(f,l),h=Math.max(f,l);v=Math.max(Math.min(v,h),d),P=v+g,r&&!E&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(P)-n.getValueForPixel(v))}if(v===n.getPixelForValue(s)){const f=Dr(g)*n.getLineWidthForValue(s)/2;v+=f,g-=f}return{size:g,base:v,head:P,center:P+g/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,o=i.skipNull,a=De(i.maxBarThickness,1/0);let s,c;if(n.grouped){const C=o?this._getStackCount(e):n.stackCount,E=i.barThickness==="flex"?CL(e,n,i,C):vL(e,n,i,C),O=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);s=E.start+E.chunk*O+E.chunk/2,c=Math.min(a,E.chunk*E.ratio)}else s=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,n.min*n.ratio);return{base:s-c/2,head:s+c/2,center:s,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let o=0;for(;o<i;++o)this.getParsed(o)[n.axis]!==null&&r[o].draw(this._ctx)}}oe(yc,"id","bar"),oe(yc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),oe(yc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class vc extends pr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const o=super.parsePrimitiveData(e,n,r,i);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(e,n,r,i){const o=super.parseArrayData(e,n,r,i);for(let a=0;a<o.length;a++){const s=n[r+a];o[a]._custom=De(s[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(e,n,r,i){const o=super.parseObjectData(e,n,r,i);for(let a=0;a<o.length;a++){const s=n[r+a];o[a]._custom=De(s&&s.r&&+s.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:o}=n,a=this.getParsed(e),s=i.getLabelForValue(a.x),c=o.getLabelForValue(a.y),C=a._custom;return{label:r[e]||"",value:"("+s+", "+c+(C?", "+C:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const o=i==="reset",{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:c,includeOptions:C}=this._getSharedOptions(n,i),E=a.axis,O=s.axis;for(let y=n;y<n+r;y++){const b=e[y],P=!o&&this.getParsed(y),g={},m=g[E]=o?a.getPixelForDecimal(.5):a.getPixelForValue(P[E]),v=g[O]=o?s.getBasePixel():s.getPixelForValue(P[O]);g.skip=isNaN(m)||isNaN(v),C&&(g.options=c||this.resolveDataElementOptions(y,b.active?"active":i),o&&(g.options.radius=0)),this.updateElement(b,y,g,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return n!=="active"&&(i.radius=0),i.radius+=De(r&&r._custom,o),i}}oe(vc,"id","bubble"),oe(vc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),oe(vc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function TL(t,e,n){let r=1,i=1,o=0,a=0;if(e<ft){const s=t,c=s+e,C=Math.cos(s),E=Math.sin(s),O=Math.cos(c),y=Math.sin(c),b=(l,d,h)=>Nl(l,s,c,!0)?1:Math.max(d,d*n,h,h*n),P=(l,d,h)=>Nl(l,s,c,!0)?-1:Math.min(d,d*n,h,h*n),g=b(0,C,O),m=b(Tt,E,y),v=P(mt,C,O),f=P(mt+Tt,E,y);r=(g-v)/2,i=(m-f)/2,o=-(g+v)/2,a=-(m+f)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}class To extends pr{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=c=>+r[c];if(je(r[e])){const{key:c="value"}=this._parsing;o=C=>+Hi(r[C],c)}let a,s;for(a=e,s=e+n;a<s;++a)i._parsed[a]=o(a)}}_getRotation(){return cr(this.options.rotation-90)}_getCircumference(){return cr(this.options.circumference)}_getRotationExtents(){let e=ft,n=-ft;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),a=i._getCircumference();e=Math.min(e,o),n=Math.max(n,o+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,o=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(Ww(this.options.cutout,s),1),C=this._getRingWeight(this.index),{circumference:E,rotation:O}=this._getRotationExtents(),{ratioX:y,ratioY:b,offsetX:P,offsetY:g}=TL(O,E,c),m=(r.width-a)/y,v=(r.height-a)/b,f=Math.max(Math.min(m,v)/2,0),l=_S(this.options.radius,f),d=Math.max(l*c,0),h=(l-d)/this._getVisibleDatasetWeightTotal();this.offsetX=P*l,this.offsetY=g*l,i.total=this.calculateTotal(),this.outerRadius=l-h*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-h*C,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/ft)}updateElements(e,n,r,i){const o=i==="reset",a=this.chart,s=a.chartArea,C=a.options.animation,E=(s.left+s.right)/2,O=(s.top+s.bottom)/2,y=o&&C.animateScale,b=y?0:this.innerRadius,P=y?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(n,i);let v=this._getRotation(),f;for(f=0;f<n;++f)v+=this._circumference(f,o);for(f=n;f<n+r;++f){const l=this._circumference(f,o),d=e[f],h={x:E+this.offsetX,y:O+this.offsetY,startAngle:v,endAngle:v+l,circumference:l,outerRadius:P,innerRadius:b};m&&(h.options=g||this.resolveDataElementOptions(f,d.active?"active":i)),v+=l,this.updateElement(d,f,h,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ft*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=nu(n._parsed[e],r.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,o,a,s,c;if(!e){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,s=a.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)c=s.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(De(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}oe(To,"id","doughnut"),oe(To,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),oe(To,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),oe(To,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((o,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Cc extends pr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:o}=n,a=this.chart._animationsDisabled;let{start:s,count:c}=tx(n,i,a);this._drawStart=s,this._drawCount=c,nx(n)&&(s=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const C=this.resolveDatasetElementOptions(e);this.options.showLine||(C.borderWidth=0),C.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:C},e),this.updateElements(i,s,c,e)}updateElements(e,n,r,i){const o=i==="reset",{iScale:a,vScale:s,_stacked:c,_dataset:C}=this._cachedMeta,{sharedOptions:E,includeOptions:O}=this._getSharedOptions(n,i),y=a.axis,b=s.axis,{spanGaps:P,segment:g}=this.options,m=Fs(P)?P:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||i==="none",f=n+r,l=e.length;let d=n>0&&this.getParsed(n-1);for(let h=0;h<l;++h){const p=e[h],u=v?p:{};if(h<n||h>=f){u.skip=!0;continue}const x=this.getParsed(h),V=ze(x[b]),A=u[y]=a.getPixelForValue(x[y],h),M=u[b]=o||V?s.getBasePixel():s.getPixelForValue(c?this.applyStack(s,x,c):x[b],h);u.skip=isNaN(A)||isNaN(M)||V,u.stop=h>0&&Math.abs(x[y]-d[y])>m,g&&(u.parsed=x,u.raw=C.data[h]),O&&(u.options=E||this.resolveDataElementOptions(h,p.active?"active":i)),v||this.updateElement(p,h,u,i),d=x}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}oe(Cc,"id","line"),oe(Cc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),oe(Cc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class nl extends pr{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=nu(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,n,r,i){return cx.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),s=(o-a)/e.getVisibleDatasetCount();this.outerRadius=o-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,n,r,i){const o=i==="reset",a=this.chart,c=a.options.animation,C=this._cachedMeta.rScale,E=C.xCenter,O=C.yCenter,y=C.getIndexAngle(0)-.5*mt;let b=y,P;const g=360/this.countVisibleElements();for(P=0;P<n;++P)b+=this._computeAngle(P,i,g);for(P=n;P<n+r;P++){const m=e[P];let v=b,f=b+this._computeAngle(P,i,g),l=a.getDataVisibility(P)?C.getDistanceFromCenterForValue(this.getParsed(P).r):0;b=f,o&&(c.animateScale&&(l=0),c.animateRotate&&(v=f=y));const d={x:E,y:O,innerRadius:0,outerRadius:l,startAngle:v,endAngle:f,options:this.resolveDataElementOptions(P,m.active?"active":i)};this.updateElement(m,P,d,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?cr(this.resolveDataElementOptions(e,n).angle||r):0}}oe(nl,"id","polarArea"),oe(nl,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),oe(nl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((o,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class $p extends To{}oe($p,"id","pie"),oe($p,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Pc extends pr{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return cx.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],o=n.iScale.getLabels();if(r.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const s={_loop:!0,_fullLoop:o.length===i.length,options:a};this.updateElement(r,void 0,s,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const o=this._cachedMeta.rScale,a=i==="reset";for(let s=n;s<n+r;s++){const c=e[s],C=this.resolveDataElementOptions(s,c.active?"active":i),E=o.getPointPositionForValue(s,this.getParsed(s).r),O=a?o.xCenter:E.x,y=a?o.yCenter:E.y,b={x:O,y,angle:E.angle,skip:isNaN(O)||isNaN(y),options:C};this.updateElement(c,s,b,i)}}}oe(Pc,"id","radar"),oe(Pc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),oe(Pc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class bc extends pr{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:o}=n,a=this.getParsed(e),s=i.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:r[e]||"",value:"("+s+", "+c+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:o,count:a}=tx(n,r,i);if(this._drawStart=o,this._drawCount=a,nx(n)&&(o=0,a=r.length),this.options.showLine){const{dataset:s,_dataset:c}=n;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!c._decimated,s.points=r;const C=this.resolveDatasetElementOptions(e);C.segment=this.options.segment,this.updateElement(s,void 0,{animated:!i,options:C},e)}this.updateElements(r,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const o=i==="reset",{iScale:a,vScale:s,_stacked:c,_dataset:C}=this._cachedMeta,E=this.resolveDataElementOptions(n,i),O=this.getSharedOptions(E),y=this.includeOptions(i,O),b=a.axis,P=s.axis,{spanGaps:g,segment:m}=this.options,v=Fs(g)?g:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||o||i==="none";let l=n>0&&this.getParsed(n-1);for(let d=n;d<n+r;++d){const h=e[d],p=this.getParsed(d),u=f?h:{},x=ze(p[P]),V=u[b]=a.getPixelForValue(p[b],d),A=u[P]=o||x?s.getBasePixel():s.getPixelForValue(c?this.applyStack(s,p,c):p[P],d);u.skip=isNaN(V)||isNaN(A)||x,u.stop=d>0&&Math.abs(p[b]-l[b])>v,m&&(u.parsed=p,u.raw=C.data[d]),y&&(u.options=O||this.resolveDataElementOptions(d,h.active?"active":i)),f||this.updateElement(h,d,u,i),l=p}this.updateSharedOptions(O,i,E)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let s=0;for(let c=n.length-1;c>=0;--c)s=Math.max(s,n[c].size(this.resolveDataElementOptions(c))/2);return s>0&&s}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,o,a)/2}}oe(bc,"id","scatter"),oe(bc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),oe(bc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var RL=Object.freeze({__proto__:null,BarController:yc,BubbleController:vc,DoughnutController:To,LineController:Cc,PieController:$p,PolarAreaController:nl,RadarController:Pc,ScatterController:bc});function co(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qm{constructor(e){oe(this,"options");this.options=e||{}}static override(e){Object.assign(Qm.prototype,e)}init(){}formats(){return co()}parse(){return co()}format(){return co()}add(){return co()}diff(){return co()}startOf(){return co()}endOf(){return co()}}var DL={_date:Qm};function IL(t,e,n,r){const{controller:i,data:o,_sorted:a}=t,s=i._cachedMeta.iScale;if(s&&e===s.axis&&e!=="r"&&a&&o.length){const c=s._reversePixels?Xw:$r;if(r){if(i._sharedOptions){const C=o[0],E=typeof C.getRange=="function"&&C.getRange(e);if(E){const O=c(o,e,n-E),y=c(o,e,n+E);return{lo:O.lo,hi:y.hi}}}}else return c(o,e,n)}return{lo:0,hi:o.length-1}}function ru(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let s=0,c=o.length;s<c;++s){const{index:C,data:E}=o[s],{lo:O,hi:y}=IL(o[s],e,a,i);for(let b=O;b<=y;++b){const P=E[b];P.skip||r(P,C,b)}}}function ML(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Eh(t,e,n,r,i){const o=[];return!i&&!t.isPointInArea(e)||ru(t,n,e,function(s,c,C){!i&&!qr(s,t.chartArea,0)||s.inRange(e.x,e.y,r)&&o.push({element:s,datasetIndex:c,index:C})},!0),o}function VL(t,e,n,r){let i=[];function o(a,s,c){const{startAngle:C,endAngle:E}=a.getProps(["startAngle","endAngle"],r),{angle:O}=JS(a,{x:e.x,y:e.y});Nl(O,C,E)&&i.push({element:a,datasetIndex:s,index:c})}return ru(t,n,e,o),i}function wL(t,e,n,r,i,o){let a=[];const s=ML(n);let c=Number.POSITIVE_INFINITY;function C(E,O,y){const b=E.inRange(e.x,e.y,i);if(r&&!b)return;const P=E.getCenterPoint(i);if(!(!!o||t.isPointInArea(P))&&!b)return;const m=s(e,P);m<c?(a=[{element:E,datasetIndex:O,index:y}],c=m):m===c&&a.push({element:E,datasetIndex:O,index:y})}return ru(t,n,e,C),a}function Oh(t,e,n,r,i,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!r?VL(t,e,n,i):wL(t,e,n,r,i,o)}function AP(t,e,n,r,i){const o=[],a=n==="x"?"inXRange":"inYRange";let s=!1;return ru(t,n,e,(c,C,E)=>{c[a](e[n],i)&&(o.push({element:c,datasetIndex:C,index:E}),s=s||c.inRange(e.x,e.y,i))}),r&&!s?[]:o}var AL={evaluateInteractionItems:ru,modes:{index(t,e,n,r){const i=mo(e,t),o=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?Eh(t,i,o,r,a):Oh(t,i,o,!1,r,a),c=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach(C=>{const E=s[0].index,O=C.data[E];O&&!O.skip&&c.push({element:O,datasetIndex:C.index,index:E})}),c):[]},dataset(t,e,n,r){const i=mo(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?Eh(t,i,o,r,a):Oh(t,i,o,!1,r,a);if(s.length>0){const c=s[0].datasetIndex,C=t.getDatasetMeta(c).data;s=[];for(let E=0;E<C.length;++E)s.push({element:C[E],datasetIndex:c,index:E})}return s},point(t,e,n,r){const i=mo(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return Eh(t,i,o,r,a)},nearest(t,e,n,r){const i=mo(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return Oh(t,i,o,n.intersect,r,a)},x(t,e,n,r){const i=mo(e,t);return AP(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=mo(e,t);return AP(t,i,"y",n.intersect,r)}}};const bx=["left","top","right","bottom"];function Ea(t,e){return t.filter(n=>n.pos===e)}function LP(t,e){return t.filter(n=>bx.indexOf(n.pos)===-1&&n.box.axis===e)}function Oa(t,e){return t.sort((n,r)=>{const i=e?r:n,o=e?n:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function LL(t){const e=[];let n,r,i,o,a,s;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:o,options:{stack:a,stackWeight:s=1}}=i,e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:s});return e}function BL(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:o}=n;if(!r||!bx.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function NL(t,e){const n=BL(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,a,s;for(o=0,a=t.length;o<a;++o){s=t[o];const{fullSize:c}=s.box,C=n[s.stack],E=C&&s.stackWeight/C.weight;s.horizontal?(s.width=E?E*r:c&&e.availableWidth,s.height=i):(s.width=r,s.height=E?E*i:c&&e.availableHeight)}return n}function jL(t){const e=LL(t),n=Oa(e.filter(C=>C.box.fullSize),!0),r=Oa(Ea(e,"left"),!0),i=Oa(Ea(e,"right")),o=Oa(Ea(e,"top"),!0),a=Oa(Ea(e,"bottom")),s=LP(e,"x"),c=LP(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(a).concat(s),chartArea:Ea(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(a).concat(s)}}function BP(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Ex(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function FL(t,e,n,r){const{pos:i,box:o}=n,a=t.maxPadding;if(!je(i)){n.size&&(t[i]-=n.size);const O=r[n.stack]||{size:0,count:1};O.size=Math.max(O.size,n.horizontal?o.height:o.width),n.size=O.size/O.count,t[i]+=n.size}o.getPadding&&Ex(a,o.getPadding());const s=Math.max(0,e.outerWidth-BP(a,t,"left","right")),c=Math.max(0,e.outerHeight-BP(a,t,"top","bottom")),C=s!==t.w,E=c!==t.h;return t.w=s,t.h=c,n.horizontal?{same:C,other:E}:{same:E,other:C}}function UL(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function WL(t,e){const n=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{o[a]=Math.max(e[a],n[a])}),o}return r(t?["left","right"]:["top","bottom"])}function ja(t,e,n,r){const i=[];let o,a,s,c,C,E;for(o=0,a=t.length,C=0;o<a;++o){s=t[o],c=s.box,c.update(s.width||e.w,s.height||e.h,WL(s.horizontal,e));const{same:O,other:y}=FL(e,n,s,r);C|=O&&i.length,E=E||y,c.fullSize||i.push(s)}return C&&ja(i,e,n,r)||E}function Ku(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function NP(t,e,n,r){const i=n.padding;let{x:o,y:a}=e;for(const s of t){const c=s.box,C=r[s.stack]||{count:1,placed:0,weight:1},E=s.stackWeight/C.weight||1;if(s.horizontal){const O=e.w*E,y=C.size||c.height;Bl(C.start)&&(a=C.start),c.fullSize?Ku(c,i.left,a,n.outerWidth-i.right-i.left,y):Ku(c,e.left+C.placed,a,O,y),C.start=a,C.placed+=O,a=c.bottom}else{const O=e.h*E,y=C.size||c.width;Bl(C.start)&&(o=C.start),c.fullSize?Ku(c,o,i.top,y,n.outerHeight-i.bottom-i.top):Ku(c,o,e.top+C.placed,y,O),C.start=o,C.placed+=O,o=c.right}}e.x=o,e.y=a}var rn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=sn(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),s=jL(t.boxes),c=s.vertical,C=s.horizontal;Ge(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const E=c.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,O=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/E,hBoxMaxHeight:a/2}),y=Object.assign({},i);Ex(y,sn(r));const b=Object.assign({maxPadding:y,w:o,h:a,x:i.left,y:i.top},i),P=NL(c.concat(C),O);ja(s.fullSize,b,O,P),ja(c,b,O,P),ja(C,b,O,P)&&ja(c,b,O,P),UL(b),NP(s.leftAndTop,b,O,P),b.x+=b.w,b.y+=b.h,NP(s.rightAndBottom,b,O,P),t.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Ge(s.chartArea,g=>{const m=g.box;Object.assign(m,t.chartArea),m.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class Ox{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class QL extends Ox{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ec="$chartjs",zL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jP=t=>t===null||t==="";function HL(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ec]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",jP(i)){const o=CP(t,"width");o!==void 0&&(t.width=o)}if(jP(r))if(t.style.height==="")t.height=t.width/(e||2);else{const o=CP(t,"height");o!==void 0&&(t.height=o)}return t}const Sx=$A?{passive:!0}:!1;function KL(t,e,n){t.addEventListener(e,n,Sx)}function $L(t,e,n){t.canvas.removeEventListener(e,n,Sx)}function qL(t,e){const n=zL[t.type]||t.type,{x:r,y:i}=mo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function sf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function _L(t,e,n){const r=t.canvas,i=new MutationObserver(o=>{let a=!1;for(const s of o)a=a||sf(s.addedNodes,r),a=a&&!sf(s.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function GL(t,e,n){const r=t.canvas,i=new MutationObserver(o=>{let a=!1;for(const s of o)a=a||sf(s.removedNodes,r),a=a&&!sf(s.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Fl=new Map;let FP=0;function xx(){const t=window.devicePixelRatio;t!==FP&&(FP=t,Fl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function kL(t,e){Fl.size||window.addEventListener("resize",xx),Fl.set(t,e)}function JL(t){Fl.delete(t),Fl.size||window.removeEventListener("resize",xx)}function YL(t,e,n){const r=t.canvas,i=r&&Wm(r);if(!i)return;const o=ex((s,c)=>{const C=i.clientWidth;n(s,c),C<i.clientWidth&&n()},window),a=new ResizeObserver(s=>{const c=s[0],C=c.contentRect.width,E=c.contentRect.height;C===0&&E===0||o(C,E)});return a.observe(i),kL(t,o),a}function Sh(t,e,n){n&&n.disconnect(),e==="resize"&&JL(t)}function XL(t,e,n){const r=t.canvas,i=ex(o=>{t.ctx!==null&&n(qL(o,t))},t);return KL(r,e,i),i}class ZL extends Ox{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(HL(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Ec])return!1;const r=n[Ec].initial;["height","width"].forEach(o=>{const a=r[o];ze(a)?n.removeAttribute(o):n.setAttribute(o,a)});const i=r.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[Ec],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:_L,detach:GL,resize:YL}[n]||XL;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Sh,detach:Sh,resize:Sh}[n]||$L)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return KA(e,n,r,i)}isAttached(e){const n=Wm(e);return!!(n&&n.isConnected)}}function e2(t){return!dx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?QL:ZL}class mr{constructor(){oe(this,"x");oe(this,"y");oe(this,"active",!1);oe(this,"options");oe(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Fs(this.x)&&Fs(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}oe(mr,"defaults",{}),oe(mr,"defaultRoutes");function t2(t,e){const n=t.options.ticks,r=n2(t),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?i2(e):[],a=o.length,s=o[0],c=o[a-1],C=[];if(a>i)return o2(e,C,o,a/i),C;const E=r2(o,e,i);if(a>0){let O,y;const b=a>1?Math.round((c-s)/(a-1)):null;for($u(e,C,E,ze(b)?0:s-b,s),O=0,y=a-1;O<y;O++)$u(e,C,E,o[O],o[O+1]);return $u(e,C,E,c,ze(b)?e.length:c+b),C}return $u(e,C,E),C}function n2(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function r2(t,e,n){const r=s2(t),i=e.length/n;if(!r)return Math.max(i,1);const o=Gw(r);for(let a=0,s=o.length-1;a<s;a++){const c=o[a];if(c>i)return c}return Math.max(i,1)}function i2(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function o2(t,e,n,r){let i=0,o=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===o&&(e.push(t[a]),i++,o=n[i*r])}function $u(t,e,n,r,i){const o=De(r,0),a=Math.min(De(i,t.length),t.length);let s=0,c,C,E;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),E=o;E<0;)s++,E=Math.round(o+s*n);for(C=Math.max(o,0);C<a;C++)C===E&&(e.push(t[C]),s++,E=Math.round(o+s*n))}function s2(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const a2=t=>t==="left"?"right":t==="right"?"left":t,UP=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,WP=(t,e)=>Math.min(e||t,t);function QP(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function l2(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,a=t._endPixel,s=1e-6;let c=t.getPixelForTick(i),C;if(!(n&&(r===1?C=Math.max(c-o,a-c):e===0?C=(t.getPixelForTick(1)-c)/2:C=(c-t.getPixelForTick(i-1))/2,c+=i<e?C:-C,c<o-s||c>a+s)))return c}function u2(t,e){Ge(t,n=>{const r=n.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete n.data[r[o]];r.splice(0,i)}})}function Sa(t){return t.drawTicks?t.tickLength:0}function zP(t,e){if(!t.display)return 0;const n=Ut(t.font,e),r=sn(t.padding);return(ut(t.text)?t.text.length:1)*n.lineHeight+r.height}function c2(t,e){return to(t,{scale:e,type:"scale"})}function f2(t,e,n){return to(t,{tick:n,index:e,type:"tick"})}function d2(t,e,n){let r=Lm(t);return(n&&e!=="right"||!n&&e==="right")&&(r=a2(r)),r}function h2(t,e,n,r){const{top:i,left:o,bottom:a,right:s,chart:c}=t,{chartArea:C,scales:E}=c;let O=0,y,b,P;const g=a-i,m=s-o;if(t.isHorizontal()){if(b=tn(r,o,s),je(n)){const v=Object.keys(n)[0],f=n[v];P=E[v].getPixelForValue(f)+g-e}else n==="center"?P=(C.bottom+C.top)/2+g-e:P=UP(t,n,e);y=s-o}else{if(je(n)){const v=Object.keys(n)[0],f=n[v];b=E[v].getPixelForValue(f)-m+e}else n==="center"?b=(C.left+C.right)/2-m+e:b=UP(t,n,e);P=tn(r,a,i),O=n==="left"?-Tt:Tt}return{titleX:b,titleY:P,maxWidth:y,rotation:O}}class ko extends mr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=In(e,Number.POSITIVE_INFINITY),n=In(n,Number.NEGATIVE_INFINITY),r=In(r,Number.POSITIVE_INFINITY),i=In(i,Number.NEGATIVE_INFINITY),{min:In(e,r),max:In(n,i),minDefined:xt(e),maxDefined:xt(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),a;if(i&&o)return{min:n,max:r};const s=this.getMatchingVisibleMetas();for(let c=0,C=s.length;c<C;++c)a=s[c].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),o||(r=Math.max(r,a.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:In(n,In(r,n)),max:In(r,In(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:o,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=EA(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=s<this.ticks.length;this._convertTicksToLabels(c?QP(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=t2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rt(this.options.afterUpdate,[this])}beforeSetDimensions(){rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),rt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=rt(n.callback,[o.value,r,e],this)}afterTickToLabelConversion(){rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=WP(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let a=i,s,c,C;if(!this._isVisible()||!n.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const E=this._getLabelSizes(),O=E.widest.width,y=E.highest.height,b=$t(this.chart.width-O,0,this.maxWidth);s=e.offset?this.maxWidth/r:b/(r-1),O+6>s&&(s=b/(r-(e.offset?.5:1)),c=this.maxHeight-Sa(e.grid)-n.padding-zP(e.title,this.chart.options.font),C=Math.sqrt(O*O+y*y),a=wm(Math.min(Math.asin($t((E.highest.height+6)/s,-1,1)),Math.asin($t(c/C,-1,1))-Math.asin($t(y/C,-1,1)))),a=Math.max(i,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:o}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){const c=zP(i,n.options.font);if(s?(e.width=this.maxWidth,e.height=Sa(o)+c):(e.height=this.maxHeight,e.width=Sa(o)+c),r.display&&this.ticks.length){const{first:C,last:E,widest:O,highest:y}=this._getLabelSizes(),b=r.padding*2,P=cr(this.labelRotation),g=Math.cos(P),m=Math.sin(P);if(s){const v=r.mirror?0:m*O.width+g*y.height;e.height=Math.min(this.maxHeight,e.height+v+b)}else{const v=r.mirror?0:g*O.width+m*y.height;e.width=Math.min(this.maxWidth,e.width+v+b)}this._calculatePadding(C,E,m,g)}}this._handleMargins(),s?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:o,padding:a},position:s}=this.options,c=this.labelRotation!==0,C=s!=="top"&&this.axis==="x";if(this.isHorizontal()){const E=this.getPixelForTick(0)-this.left,O=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,b=0;c?C?(y=i*e.width,b=r*n.height):(y=r*e.height,b=i*n.width):o==="start"?b=n.width:o==="end"?y=e.width:o!=="inner"&&(y=e.width/2,b=n.width/2),this.paddingLeft=Math.max((y-E+a)*this.width/(this.width-E),0),this.paddingRight=Math.max((b-O+a)*this.width/(this.width-O),0)}else{let E=n.height/2,O=e.height/2;o==="start"?(E=0,O=e.height):o==="end"&&(E=n.height,O=0),this.paddingTop=E+a,this.paddingBottom=O+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ze(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=QP(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:o}=this,a=[],s=[],c=Math.floor(n/WP(n,r));let C=0,E=0,O,y,b,P,g,m,v,f,l,d,h;for(O=0;O<n;O+=c){if(P=e[O].label,g=this._resolveTickFontOptions(O),i.font=m=g.string,v=o[m]=o[m]||{data:{},gc:[]},f=g.lineHeight,l=d=0,!ze(P)&&!ut(P))l=rf(i,v.data,v.gc,l,P),d=f;else if(ut(P))for(y=0,b=P.length;y<b;++y)h=P[y],!ze(h)&&!ut(h)&&(l=rf(i,v.data,v.gc,l,h),d+=f);a.push(l),s.push(d),C=Math.max(l,C),E=Math.max(d,E)}u2(o,n);const p=a.indexOf(C),u=s.indexOf(E),x=V=>({width:a[V]||0,height:s[V]||0});return{first:x(0),last:x(n-1),widest:x(p),highest:x(u),widths:a,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Yw(this._alignToPixels?uo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=f2(this.getContext(),e,r))}return this.$context||(this.$context=c2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=cr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,s=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*r>s*i?s/r:c/i:c*i<s*r?c/r:s/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:o,position:a,border:s}=i,c=o.offset,C=this.isHorizontal(),O=this.ticks.length+(c?1:0),y=Sa(o),b=[],P=s.setContext(this.getContext()),g=P.display?P.width:0,m=g/2,v=function(I){return uo(r,I,g)};let f,l,d,h,p,u,x,V,A,M,T,D;if(a==="top")f=v(this.bottom),u=this.bottom-y,V=f-m,M=v(e.top)+m,D=e.bottom;else if(a==="bottom")f=v(this.top),M=e.top,D=v(e.bottom)-m,u=f+m,V=this.top+y;else if(a==="left")f=v(this.right),p=this.right-y,x=f-m,A=v(e.left)+m,T=e.right;else if(a==="right")f=v(this.left),A=e.left,T=v(e.right)-m,p=f+m,x=this.left+y;else if(n==="x"){if(a==="center")f=v((e.top+e.bottom)/2+.5);else if(je(a)){const I=Object.keys(a)[0],w=a[I];f=v(this.chart.scales[I].getPixelForValue(w))}M=e.top,D=e.bottom,u=f+m,V=u+y}else if(n==="y"){if(a==="center")f=v((e.left+e.right)/2);else if(je(a)){const I=Object.keys(a)[0],w=a[I];f=v(this.chart.scales[I].getPixelForValue(w))}p=f-m,x=p-y,A=e.left,T=e.right}const R=De(i.ticks.maxTicksLimit,O),S=Math.max(1,Math.ceil(O/R));for(l=0;l<O;l+=S){const I=this.getContext(l),w=o.setContext(I),L=s.setContext(I),F=w.lineWidth,W=w.color,U=L.dash||[],Q=L.dashOffset,$=w.tickWidth,z=w.tickColor,q=w.tickBorderDash||[],K=w.tickBorderDashOffset;d=l2(this,l,c),d!==void 0&&(h=uo(r,d,F),C?p=x=A=T=h:u=V=M=D=h,b.push({tx1:p,ty1:u,tx2:x,ty2:V,x1:A,y1:M,x2:T,y2:D,width:F,color:W,borderDash:U,borderDashOffset:Q,tickWidth:$,tickColor:z,tickBorderDash:q,tickBorderDashOffset:K}))}return this._ticksLength=O,this._borderValue=f,b}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:o}=r,a=this.isHorizontal(),s=this.ticks,{align:c,crossAlign:C,padding:E,mirror:O}=o,y=Sa(r.grid),b=y+E,P=O?-E:b,g=-cr(this.labelRotation),m=[];let v,f,l,d,h,p,u,x,V,A,M,T,D="middle";if(i==="top")p=this.bottom-P,u=this._getXAxisLabelAlignment();else if(i==="bottom")p=this.top+P,u=this._getXAxisLabelAlignment();else if(i==="left"){const S=this._getYAxisLabelAlignment(y);u=S.textAlign,h=S.x}else if(i==="right"){const S=this._getYAxisLabelAlignment(y);u=S.textAlign,h=S.x}else if(n==="x"){if(i==="center")p=(e.top+e.bottom)/2+b;else if(je(i)){const S=Object.keys(i)[0],I=i[S];p=this.chart.scales[S].getPixelForValue(I)+b}u=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")h=(e.left+e.right)/2-b;else if(je(i)){const S=Object.keys(i)[0],I=i[S];h=this.chart.scales[S].getPixelForValue(I)}u=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));const R=this._getLabelSizes();for(v=0,f=s.length;v<f;++v){l=s[v],d=l.label;const S=o.setContext(this.getContext(v));x=this.getPixelForTick(v)+o.labelOffset,V=this._resolveTickFontOptions(v),A=V.lineHeight,M=ut(d)?d.length:1;const I=M/2,w=S.color,L=S.textStrokeColor,F=S.textStrokeWidth;let W=u;a?(h=x,u==="inner"&&(v===f-1?W=this.options.reverse?"left":"right":v===0?W=this.options.reverse?"right":"left":W="center"),i==="top"?C==="near"||g!==0?T=-M*A+A/2:C==="center"?T=-R.highest.height/2-I*A+A:T=-R.highest.height+A/2:C==="near"||g!==0?T=A/2:C==="center"?T=R.highest.height/2-I*A:T=R.highest.height-M*A,O&&(T*=-1),g!==0&&!S.showLabelBackdrop&&(h+=A/2*Math.sin(g))):(p=x,T=(1-M)*A/2);let U;if(S.showLabelBackdrop){const Q=sn(S.backdropPadding),$=R.heights[v],z=R.widths[v];let q=T-Q.top,K=0-Q.left;switch(D){case"middle":q-=$/2;break;case"bottom":q-=$;break}switch(u){case"center":K-=z/2;break;case"right":K-=z;break}U={left:K,top:q,width:z+Q.width,height:$+Q.height,color:S.backdropColor}}m.push({label:d,font:V,textOffset:T,options:{rotation:g,color:w,strokeColor:L,strokeWidth:F,textAlign:W,textBaseline:D,translation:[h,p],backdrop:U}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-cr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,a=this._getLabelSizes(),s=e+o,c=a.widest.width;let C,E;return n==="left"?i?(E=this.right+o,r==="near"?C="left":r==="center"?(C="center",E+=c/2):(C="right",E+=c)):(E=this.right-s,r==="near"?C="right":r==="center"?(C="center",E-=c/2):(C="left",E=this.left)):n==="right"?i?(E=this.left+o,r==="near"?C="right":r==="center"?(C="center",E-=c/2):(C="left",E-=c)):(E=this.left+s,r==="near"?C="left":r==="center"?(C="center",E+=c/2):(C="right",E=this.right)):C="right",{textAlign:C,x:E}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:o,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,o,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,a;const s=(c,C,E)=>{!E.width||!E.color||(r.save(),r.lineWidth=E.width,r.strokeStyle=E.color,r.setLineDash(E.borderDash||[]),r.lineDashOffset=E.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(C.x,C.y),r.stroke(),r.restore())};if(n.display)for(o=0,a=i.length;o<a;++o){const c=i[o];n.drawOnChartArea&&s({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&s({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),a=r.display?o.width:0;if(!a)return;const s=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let C,E,O,y;this.isHorizontal()?(C=uo(e,this.left,a)-a/2,E=uo(e,this.right,s)+s/2,O=y=c):(O=uo(e,this.top,a)-a/2,y=uo(e,this.bottom,s)+s/2,C=E=c),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(C,O),n.lineTo(E,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Gf(r,i);const o=this.getLabelItems(e);for(const a of o){const s=a.options,c=a.font,C=a.label,E=a.textOffset;zo(r,C,0,E,c,s)}i&&kf(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const o=Ut(r.font),a=sn(r.padding),s=r.align;let c=o.lineHeight/2;n==="bottom"||n==="center"||je(n)?(c+=a.bottom,ut(r.text)&&(c+=o.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:C,titleY:E,maxWidth:O,rotation:y}=h2(this,c,n,s);zo(e,r.text,0,0,o,{color:r.color,maxWidth:O,rotation:y,textAlign:d2(s,n,i),textBaseline:"middle",translation:[C,E]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=De(e.grid&&e.grid.z,-1),i=De(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ko.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,a;for(o=0,a=n.length;o<a;++o){const s=n[o];s[r]===this.id&&(!e||s.type===e)&&i.push(s)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ut(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class qu{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;m2(n)&&(r=this.register(n));const i=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,p2(e,a,r),this.override&&Rt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Rt[i]&&(delete Rt[i][r],this.override&&delete Qo[r])}}function p2(t,e,n){const r=Ll(Object.create(null),[n?Rt.get(n):{},Rt.get(e),t.defaults]);Rt.set(e,r),t.defaultRoutes&&g2(e,t.defaultRoutes),t.descriptors&&Rt.describe(e,t.descriptors)}function g2(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),s=a.pop(),c=a.join(".");Rt.route(o,i,c,s)})}function m2(t){return"id"in t&&"defaults"in t}class y2{constructor(){this.controllers=new qu(pr,"datasets",!0),this.elements=new qu(mr,"elements"),this.plugins=new qu(Object,"plugins"),this.scales=new qu(ko,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Ge(i,a=>{const s=r||this._getRegistryForType(a);this._exec(e,s,a)})})}_exec(e,n,r){const i=Vm(e);rt(r["before"+i],[],r),n[e](r),rt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Or=new y2;class v2{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(o,e,n,r);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,i){i=i||{};for(const o of e){const a=o.plugin,s=a[r],c=[n,i,o.options];if(rt(s,c,a)===!1&&i.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=De(r.options&&r.options.plugins,{}),o=C2(r);return i===!1&&!n?[]:b2(e,o,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(o,a)=>o.filter(s=>!a.some(c=>s.plugin.id===c.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function C2(t){const e={},n=[],r=Object.keys(Or.plugins.items);for(let o=0;o<r.length;o++)n.push(Or.getPlugin(r[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const a=i[o];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function P2(t,e){return!e&&t===!1?null:t===!0?{}:t}function b2(t,{plugins:e,localIds:n},r,i){const o=[],a=t.getContext();for(const s of e){const c=s.id,C=P2(r[c],i);C!==null&&o.push({plugin:s,options:E2(t.config,{plugin:s,local:n[c]},C,a)})}return o}function E2(t,{plugin:e,local:n},r,i){const o=t.pluginScopeKeys(e),a=t.getOptionScopes(r,o);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qp(t,e){const n=Rt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function O2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function S2(t,e){return t===e?"_index_":"_value_"}function HP(t){if(t==="x"||t==="y"||t==="r")return t}function x2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function _p(t,...e){if(HP(t))return t;for(const n of e){const r=n.axis||x2(n.position)||t.length>1&&HP(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function KP(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function T2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return KP(t,"x",n[0])||KP(t,"y",n[0])}return{}}function R2(t,e){const n=Qo[t.type]||{scales:{}},r=e.scales||{},i=qp(t.type,e),o=Object.create(null);return Object.keys(r).forEach(a=>{const s=r[a];if(!je(s))return console.error(`Invalid scale configuration for scale: ${a}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=_p(a,s,T2(a,t),Rt.scales[s.type]),C=S2(c,i),E=n.scales||{};o[a]=Xa(Object.create(null),[{axis:c},s,E[c],E[C]])}),t.data.datasets.forEach(a=>{const s=a.type||t.type,c=a.indexAxis||qp(s,e),E=(Qo[s]||{}).scales||{};Object.keys(E).forEach(O=>{const y=O2(O,c),b=a[y+"AxisID"]||y;o[b]=o[b]||Object.create(null),Xa(o[b],[{axis:y},r[b],E[O]])})}),Object.keys(o).forEach(a=>{const s=o[a];Xa(s,[Rt.scales[s.type],Rt.scale])}),o}function Tx(t){const e=t.options||(t.options={});e.plugins=De(e.plugins,{}),e.scales=R2(t,e)}function Rx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function D2(t){return t=t||{},t.data=Rx(t.data),Tx(t),t}const $P=new Map,Dx=new Set;function _u(t,e){let n=$P.get(t);return n||(n=e(),$P.set(t,n),Dx.add(n)),n}const xa=(t,e,n)=>{const r=Hi(e,n);r!==void 0&&t.add(r)};class I2{constructor(e){this._config=D2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Rx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Tx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return _u(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return _u(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return _u(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return _u(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:o}=this,a=this._cachedScopes(e,r),s=a.get(n);if(s)return s;const c=new Set;n.forEach(E=>{e&&(c.add(e),E.forEach(O=>xa(c,e,O))),E.forEach(O=>xa(c,i,O)),E.forEach(O=>xa(c,Qo[o]||{},O)),E.forEach(O=>xa(c,Rt,O)),E.forEach(O=>xa(c,Hp,O))});const C=Array.from(c);return C.length===0&&C.push(Object.create(null)),Dx.has(n)&&a.set(n,C),C}chartOptionScopes(){const{options:e,type:n}=this;return[e,Qo[n]||{},Rt.datasets[n]||{},{type:n},Rt,Hp]}resolveNamedOptions(e,n,r,i=[""]){const o={$shared:!0},{resolver:a,subPrefixes:s}=qP(this._resolverCache,e,i);let c=a;if(V2(a,n)){o.$shared=!1,r=Ki(r)?r():r;const C=this.createResolver(e,r,s);c=Us(a,r,C)}for(const C of n)o[C]=c[C];return o}createResolver(e,n,r=[""],i){const{resolver:o}=qP(this._resolverCache,e,r);return je(n)?Us(o,n,void 0,i):o}}function qP(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);return o||(o={resolver:jm(e,n),subPrefixes:n.filter(s=>!s.toLowerCase().includes("hover"))},r.set(i,o)),o}const M2=t=>je(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Ki(t[n]),!1);function V2(t,e){const{isScriptable:n,isIndexable:r}=sx(t);for(const i of e){const o=n(i),a=r(i),s=(a||o)&&t[i];if(o&&(Ki(s)||M2(s))||a&&ut(s))return!0}return!1}var w2="4.3.0";const A2=["top","bottom","left","right","chartArea"];function _P(t,e){return t==="top"||t==="bottom"||A2.indexOf(t)===-1&&e==="x"}function GP(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function kP(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),rt(n&&n.onComplete,[t],e)}function L2(t){const e=t.chart,n=e.options.animation;rt(n&&n.onProgress,[t],e)}function Ix(t){return dx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Oc={},JP=t=>{const e=Ix(t);return Object.values(Oc).filter(n=>n.canvas===e).pop()};function B2(t,e,n){const r=Object.keys(t);for(const i of r){const o=+i;if(o>=e){const a=t[i];delete t[i],(n>0||o>e)&&(t[o+n]=a)}}}function N2(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function j2(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}class Sr{static register(...e){Or.add(...e),YP()}static unregister(...e){Or.remove(...e),YP()}constructor(e,n){const r=this.config=new I2(n),i=Ix(e),o=JP(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||e2(i)),this.platform.updateConfig(r);const s=this.platform.acquireContext(i,a.aspectRatio),c=s&&s.canvas,C=c&&c.height,E=c&&c.width;if(this.id=Uw(),this.ctx=s,this.canvas=c,this.width=E,this.height=C,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new v2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tA(O=>this.update(O),a.resizeDelay||0),this._dataChanges=[],Oc[this.id]=this,!s||!c){console.error("Failed to create chart: can't acquire context from the given item");return}jr.listen(this,"complete",kP),jr.listen(this,"progress",L2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:o}=this;return ze(e)?n&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Or}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gP(this.canvas,this.ctx),this}stop(){return jr.stop(this),this}resize(e,n){jr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,o),s=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,vP(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),rt(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ge(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,s)=>(a[s]=!1,a),{});let o=[];n&&(o=o.concat(Object.keys(n).map(a=>{const s=n[a],c=_p(a,s),C=c==="r",E=c==="x";return{options:s,dposition:C?"chartArea":E?"bottom":"left",dtype:C?"radialLinear":E?"category":"linear"}}))),Ge(o,a=>{const s=a.options,c=s.id,C=_p(c,s),E=De(s.type,a.dtype);(s.position===void 0||_P(s.position,C)!==_P(a.dposition))&&(s.position=a.dposition),i[c]=!0;let O=null;if(c in r&&r[c].type===E)O=r[c];else{const y=Or.getScale(E);O=new y({id:c,type:E,ctx:this.ctx,chart:this}),r[O.id]=O}O.init(s,e)}),Ge(i,(a,s)=>{a||delete r[s]}),Ge(r,a=>{rn.configure(this,a,a.options),rn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(GP("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const o=n[r];let a=this.getDatasetMeta(r);const s=o.type||this.config.type;if(a.type&&a.type!==s&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=s,a.indexAxis=o.indexAxis||qp(s,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=Or.getController(s),{datasetElementType:C,dataElementType:E}=Rt.datasets[s];Object.assign(c,{dataElementType:Or.getElement(E),datasetElementType:C&&Or.getElement(C)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ge(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let C=0,E=this.data.datasets.length;C<E;C++){const{controller:O}=this.getDatasetMeta(C),y=!i&&o.indexOf(O)===-1;O.buildOrUpdateElements(y),a=Math.max(+O.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||Ge(o,C=>{C.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(GP("z","_idx"));const{_active:s,_lastEvent:c}=this;c?this._eventHandler(c,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Ge(this.scales,e=>{rn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!sP(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of n){const a=r==="_removeElements"?-o:o;B2(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(e.filter(a=>a[0]===o).map((a,s)=>s+","+a.splice(1).join(","))),i=r(0);for(let o=1;o<n;o++)if(!sP(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ge(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ki(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(jr.has(this)?this.attached&&!jr.running(this)&&jr.start(this):(this.draw(),kP({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,o=j2(e)||this.chartArea,a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&Gf(n,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),e.controller.draw(),i&&kf(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return qr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const o=AL.modes[n];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=to(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,i);Bl(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(o,{visible:r}),this.update(s=>s.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),jr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),gP(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Oc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(o,a)=>{n.addEventListener(this,o,a),e[o]=a},i=(o,a,s)=>{o.offsetX=a,o.offsetY=s,this._eventHandler(o)};Ge(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,C)=>{n.addEventListener(this,c,C),e[c]=C},i=(c,C)=>{e[c]&&(n.removeEventListener(this,c,C),delete e[c])},o=(c,C)=>{this.canvas&&this.resize(c,C)};let a;const s=()=>{i("attach",s),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",s)},n.isAttached(this.canvas)?s():a()}unbindEvents(){Ge(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ge(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let o,a,s,c;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),s=0,c=e.length;s<c;++s){a=e[s];const C=a&&this.getDatasetMeta(a.datasetIndex).controller;C&&C[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:o,index:a})=>{const s=this.getDatasetMeta(o);if(!s)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:s.data[a],index:a}});!ef(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,o=(c,C)=>c.filter(E=>!C.some(O=>E.datasetIndex===O.datasetIndex&&E.index===O.index)),a=o(n,e),s=r?e:o(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:o}=this,a=n,s=this._getActiveElements(e,i,r,a),c=$w(e),C=N2(e,this._lastEvent,r,c);r&&(this._lastEvent=null,rt(o.onHover,[e,s,this],this),c&&rt(o.onClick,[e,s,this],this));const E=!ef(s,i);return(E||n)&&(this._active=s,this._updateHoverStyles(s,i,n)),this._lastEvent=C,E}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}}oe(Sr,"defaults",Rt),oe(Sr,"instances",Oc),oe(Sr,"overrides",Qo),oe(Sr,"registry",Or),oe(Sr,"version",w2),oe(Sr,"getChart",JP);function YP(){return Ge(Sr.instances,t=>t._plugins.invalidate())}function F2(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:a,outerRadius:s,innerRadius:c}=e;let C=i/s;t.beginPath(),t.arc(o,a,s,r-C,n+C),c>i?(C=i/c,t.arc(o,a,c,n+C,r-C,!0)):t.arc(o,a,i,n+Tt,r-Tt),t.closePath(),t.clip()}function U2(t){return Nm(t,["outerStart","outerEnd","innerStart","innerEnd"])}function W2(t,e,n,r){const i=U2(t.options.borderRadius),o=(n-e)/2,a=Math.min(o,r*e/2),s=c=>{const C=(n-Math.min(o,c))*r/2;return $t(c,0,Math.min(o,C))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:$t(i.innerStart,0,a),innerEnd:$t(i.innerEnd,0,a)}}function ns(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function af(t,e,n,r,i,o){const{x:a,y:s,startAngle:c,pixelMargin:C,innerRadius:E}=e,O=Math.max(e.outerRadius+r+n-C,0),y=E>0?E+r+n+C:0;let b=0;const P=i-c;if(r){const S=E>0?E-r:0,I=O>0?O-r:0,w=(S+I)/2,L=w!==0?P*w/(w+r):P;b=(P-L)/2}const g=Math.max(.001,P*O-n/mt)/O,m=(P-g)/2,v=c+m+b,f=i-m-b,{outerStart:l,outerEnd:d,innerStart:h,innerEnd:p}=W2(e,y,O,f-v),u=O-l,x=O-d,V=v+l/u,A=f-d/x,M=y+h,T=y+p,D=v+h/M,R=f-p/T;if(t.beginPath(),o){const S=(V+A)/2;if(t.arc(a,s,O,V,S),t.arc(a,s,O,S,A),d>0){const F=ns(x,A,a,s);t.arc(F.x,F.y,d,A,f+Tt)}const I=ns(T,f,a,s);if(t.lineTo(I.x,I.y),p>0){const F=ns(T,R,a,s);t.arc(F.x,F.y,p,f+Tt,R+Math.PI)}const w=(f-p/y+(v+h/y))/2;if(t.arc(a,s,y,f-p/y,w,!0),t.arc(a,s,y,w,v+h/y,!0),h>0){const F=ns(M,D,a,s);t.arc(F.x,F.y,h,D+Math.PI,v-Tt)}const L=ns(u,v,a,s);if(t.lineTo(L.x,L.y),l>0){const F=ns(u,V,a,s);t.arc(F.x,F.y,l,v-Tt,V)}}else{t.moveTo(a,s);const S=Math.cos(V)*O+a,I=Math.sin(V)*O+s;t.lineTo(S,I);const w=Math.cos(A)*O+a,L=Math.sin(A)*O+s;t.lineTo(w,L)}t.closePath()}function Q2(t,e,n,r,i){const{fullCircles:o,startAngle:a,circumference:s}=e;let c=e.endAngle;if(o){af(t,e,n,r,c,i);for(let C=0;C<o;++C)t.fill();isNaN(s)||(c=a+(s%ft||ft))}return af(t,e,n,r,c,i),t.fill(),c}function z2(t,e,n,r,i){const{fullCircles:o,startAngle:a,circumference:s,options:c}=e,{borderWidth:C,borderJoinStyle:E,borderDash:O,borderDashOffset:y}=c,b=c.borderAlign==="inner";if(!C)return;t.setLineDash(O||[]),t.lineDashOffset=y,b?(t.lineWidth=C*2,t.lineJoin=E||"round"):(t.lineWidth=C,t.lineJoin=E||"bevel");let P=e.endAngle;if(o){af(t,e,n,r,P,i);for(let g=0;g<o;++g)t.stroke();isNaN(s)||(P=a+(s%ft||ft))}b&&F2(t,e,P),o||(af(t,e,n,r,P,i),t.stroke())}class Fa extends mr{constructor(n){super();oe(this,"circumference");oe(this,"endAngle");oe(this,"fullCircles");oe(this,"innerRadius");oe(this,"outerRadius");oe(this,"pixelMargin");oe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const o=this.getProps(["x","y"],i),{angle:a,distance:s}=JS(o,{x:n,y:r}),{startAngle:c,endAngle:C,innerRadius:E,outerRadius:O,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,g=De(y,C-c)>=ft||Nl(a,c,C),m=Kr(s,E+b,O+b);return g&&m}getCenterPoint(n){const{x:r,y:i,startAngle:o,endAngle:a,innerRadius:s,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:C,spacing:E}=this.options,O=(o+a)/2,y=(s+c+E+C)/2;return{x:r+Math.cos(O)*y,y:i+Math.sin(O)*y}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,o=(r.offset||0)/4,a=(r.spacing||0)/2,s=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>ft?Math.floor(i/ft):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*o,Math.sin(c)*o);const C=1-Math.sin(Math.min(mt,i||0)),E=o*C;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,Q2(n,this,E,a,s),z2(n,this,E,a,s),n.restore()}}oe(Fa,"id","arc"),oe(Fa,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),oe(Fa,"defaultRoutes",{backgroundColor:"backgroundColor"}),oe(Fa,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Mx(t,e,n=e){t.lineCap=De(n.borderCapStyle,e.borderCapStyle),t.setLineDash(De(n.borderDash,e.borderDash)),t.lineDashOffset=De(n.borderDashOffset,e.borderDashOffset),t.lineJoin=De(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=De(n.borderWidth,e.borderWidth),t.strokeStyle=De(n.borderColor,e.borderColor)}function H2(t,e,n){t.lineTo(n.x,n.y)}function K2(t){return t.stepped?hA:t.tension||t.cubicInterpolationMode==="monotone"?pA:H2}function Vx(t,e,n={}){const r=t.length,{start:i=0,end:o=r-1}=n,{start:a,end:s}=e,c=Math.max(i,a),C=Math.min(o,s),E=i<a&&o<a||i>s&&o>s;return{count:r,start:c,loop:e.loop,ilen:C<c&&!E?r+C-c:C-c}}function $2(t,e,n,r){const{points:i,options:o}=e,{count:a,start:s,loop:c,ilen:C}=Vx(i,n,r),E=K2(o);let{move:O=!0,reverse:y}=r||{},b,P,g;for(b=0;b<=C;++b)P=i[(s+(y?C-b:b))%a],!P.skip&&(O?(t.moveTo(P.x,P.y),O=!1):E(t,g,P,y,o.stepped),g=P);return c&&(P=i[(s+(y?C:0))%a],E(t,g,P,y,o.stepped)),!!c}function q2(t,e,n,r){const i=e.points,{count:o,start:a,ilen:s}=Vx(i,n,r),{move:c=!0,reverse:C}=r||{};let E=0,O=0,y,b,P,g,m,v;const f=d=>(a+(C?s-d:d))%o,l=()=>{g!==m&&(t.lineTo(E,m),t.lineTo(E,g),t.lineTo(E,v))};for(c&&(b=i[f(0)],t.moveTo(b.x,b.y)),y=0;y<=s;++y){if(b=i[f(y)],b.skip)continue;const d=b.x,h=b.y,p=d|0;p===P?(h<g?g=h:h>m&&(m=h),E=(O*E+d)/++O):(l(),t.lineTo(d,h),P=p,O=0,g=m=h),v=h}l()}function Gp(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?q2:$2}function _2(t){return t.stepped?qA:t.tension||t.cubicInterpolationMode==="monotone"?_A:yo}function G2(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),Mx(t,e.options),t.stroke(i)}function k2(t,e,n,r){const{segments:i,options:o}=e,a=Gp(e);for(const s of i)Mx(t,o,s.style),t.beginPath(),a(t,e,s,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const J2=typeof Path2D=="function";function Y2(t,e,n,r){J2&&!e.options.segment?G2(t,e,n,r):k2(t,e,n,r)}class Si extends mr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;FA(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ZA(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],o=this.points,a=yx(this,{property:n,start:i,end:i});if(!a.length)return;const s=[],c=_2(r);let C,E;for(C=0,E=a.length;C<E;++C){const{start:O,end:y}=a[C],b=o[O],P=o[y];if(b===P){s.push(b);continue}const g=Math.abs((i-b[n])/(P[n]-b[n])),m=c(b,P,g,r.stepped);m[n]=e[n],s.push(m)}return s.length===1?s[0]:s}pathSegment(e,n,r){return Gp(this)(e,this,n,r)}path(e,n,r){const i=this.segments,o=Gp(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const s of i)a&=o(e,this,s,{start:n,end:n+r-1});return!!a}draw(e,n,r,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Y2(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}oe(Si,"id","line"),oe(Si,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),oe(Si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),oe(Si,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function XP(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}class Sc extends mr{constructor(n){super();oe(this,"parsed");oe(this,"skip");oe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const o=this.options,{x:a,y:s}=this.getProps(["x","y"],i);return Math.pow(n-a,2)+Math.pow(r-s,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,r){return XP(this,n,"x",r)}inYRange(n,r){return XP(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!qr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Kp(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}oe(Sc,"id","point"),oe(Sc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),oe(Sc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function wx(t,e){const{x:n,y:r,base:i,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let s,c,C,E,O;return t.horizontal?(O=a/2,s=Math.min(n,i),c=Math.max(n,i),C=r-O,E=r+O):(O=o/2,s=n-O,c=n+O,C=Math.min(r,i),E=Math.max(r,i)),{left:s,top:C,right:c,bottom:E}}function xi(t,e,n,r){return t?0:$t(e,n,r)}function X2(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=ox(r);return{t:xi(i.top,o.top,0,n),r:xi(i.right,o.right,0,e),b:xi(i.bottom,o.bottom,0,n),l:xi(i.left,o.left,0,e)}}function Z2(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=Vo(i),a=Math.min(e,n),s=t.borderSkipped,c=r||je(i);return{topLeft:xi(!c||s.top||s.left,o.topLeft,0,a),topRight:xi(!c||s.top||s.right,o.topRight,0,a),bottomLeft:xi(!c||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:xi(!c||s.bottom||s.right,o.bottomRight,0,a)}}function eB(t){const e=wx(t),n=e.right-e.left,r=e.bottom-e.top,i=X2(t,n/2,r/2),o=Z2(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function xh(t,e,n,r){const i=e===null,o=n===null,s=t&&!(i&&o)&&wx(t,r);return s&&(i||Kr(e,s.left,s.right))&&(o||Kr(n,s.top,s.bottom))}function tB(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function nB(t,e){t.rect(e.x,e.y,e.w,e.h)}function Th(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+a,radius:t.radius}}class xc extends mr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:a}=eB(this),s=tB(a.radius)?jl:nB;e.save(),(a.w!==o.w||a.h!==o.h)&&(e.beginPath(),s(e,Th(a,n,o)),e.clip(),s(e,Th(o,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),s(e,Th(o,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return xh(this,e,n,r)}inXRange(e,n){return xh(this,e,null,n)}inYRange(e,n){return xh(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+i)/2:n,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}oe(xc,"id","bar"),oe(xc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),oe(xc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var rB=Object.freeze({__proto__:null,ArcElement:Fa,BarElement:xc,LineElement:Si,PointElement:Sc});const kp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ZP=kp.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ax(t){return kp[t%kp.length]}function Lx(t){return ZP[t%ZP.length]}function iB(t,e){return t.borderColor=Ax(e),t.backgroundColor=Lx(e),++e}function oB(t,e){return t.backgroundColor=t.data.map(()=>Ax(e++)),e}function sB(t,e){return t.backgroundColor=t.data.map(()=>Lx(e++)),e}function aB(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof To?e=oB(n,e):i instanceof nl?e=sB(n,e):i&&(e=iB(n,e))}}function eb(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function lB(t){return t&&(t.borderColor||t.backgroundColor)}var uB={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:o}=i;if(!n.forceOverride&&(eb(r)||lB(i)||o&&eb(o)))return;const a=aB(t);r.forEach(a)}};function cB(t,e,n,r,i){const o=i.samples||r;if(o>=n)return t.slice(e,e+n);const a=[],s=(n-2)/(o-2);let c=0;const C=e+n-1;let E=e,O,y,b,P,g;for(a[c++]=t[E],O=0;O<o-2;O++){let m=0,v=0,f;const l=Math.floor((O+1)*s)+1+e,d=Math.min(Math.floor((O+2)*s)+1,n)+e,h=d-l;for(f=l;f<d;f++)m+=t[f].x,v+=t[f].y;m/=h,v/=h;const p=Math.floor(O*s)+1+e,u=Math.min(Math.floor((O+1)*s)+1,n)+e,{x,y:V}=t[E];for(b=P=-1,f=p;f<u;f++)P=.5*Math.abs((x-m)*(t[f].y-V)-(x-t[f].x)*(v-V)),P>b&&(b=P,y=t[f],g=f);a[c++]=y,E=g}return a[c++]=t[C],a}function fB(t,e,n,r){let i=0,o=0,a,s,c,C,E,O,y,b,P,g;const m=[],v=e+n-1,f=t[e].x,d=t[v].x-f;for(a=e;a<e+n;++a){s=t[a],c=(s.x-f)/d*r,C=s.y;const h=c|0;if(h===E)C<P?(P=C,O=a):C>g&&(g=C,y=a),i=(o*i+s.x)/++o;else{const p=a-1;if(!ze(O)&&!ze(y)){const u=Math.min(O,y),x=Math.max(O,y);u!==b&&u!==p&&m.push({...t[u],x:i}),x!==b&&x!==p&&m.push({...t[x],x:i})}a>0&&p!==b&&m.push(t[p]),m.push(s),E=h,o=0,P=g=C,O=y=b=a}}return m}function Bx(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function tb(t){t.data.datasets.forEach(e=>{Bx(e)})}function dB(t,e){const n=e.length;let r=0,i;const{iScale:o}=t,{min:a,max:s,minDefined:c,maxDefined:C}=o.getUserBounds();return c&&(r=$t($r(e,o.axis,a).lo,0,n-1)),C?i=$t($r(e,o.axis,s).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var hB={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){tb(t);return}const r=t.width;t.data.datasets.forEach((i,o)=>{const{_data:a,indexAxis:s}=i,c=t.getDatasetMeta(o),C=a||i.data;if(Na([s,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const E=t.scales[c.xAxisID];if(E.type!=="linear"&&E.type!=="time"||t.options.parsing)return;let{start:O,count:y}=dB(c,C);const b=n.threshold||4*r;if(y<=b){Bx(i);return}ze(a)&&(i._data=C,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let P;switch(n.algorithm){case"lttb":P=cB(C,O,y,r,n);break;case"min-max":P=fB(C,O,y,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=P})},destroy(t){tb(t)}};function pB(t,e,n){const r=t.segments,i=t.points,o=e.points,a=[];for(const s of r){let{start:c,end:C}=s;C=zm(c,C,i);const E=Jp(n,i[c],i[C],s.loop);if(!e.segments){a.push({source:s,target:E,start:i[c],end:i[C]});continue}const O=yx(e,E);for(const y of O){const b=Jp(n,o[y.start],o[y.end],y.loop),P=mx(s,i,b);for(const g of P)a.push({source:g,target:y,start:{[n]:nb(E,b,"start",Math.max)},end:{[n]:nb(E,b,"end",Math.min)}})}}return a}function Jp(t,e,n,r){if(r)return;let i=e[t],o=n[t];return t==="angle"&&(i=Vn(i),o=Vn(o)),{property:t,start:i,end:o}}function gB(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,o=[];return e.segments.forEach(({start:a,end:s})=>{s=zm(a,s,i);const c=i[a],C=i[s];r!==null?(o.push({x:c.x,y:r}),o.push({x:C.x,y:r})):n!==null&&(o.push({x:n,y:c.y}),o.push({x:n,y:C.y}))}),o}function zm(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function nb(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function Nx(t,e){let n=[],r=!1;return ut(t)?(r=!0,n=t):n=gB(t,e),n.length?new Si({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function rb(t){return t&&t.fill!==!1}function mB(t,e,n){let i=t[e].fill;const o=[e];let a;if(!n)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!xt(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;o.push(i),i=a.fill}return!1}function yB(t,e,n){const r=bB(t);if(je(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return xt(i)&&Math.floor(i)===i?vB(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function vB(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function CB(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:je(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function PB(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:je(t)?r=t.value:r=e.getBaseValue(),r}function bB(t){const e=t.options,n=e.fill;let r=De(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function EB(t){const{scale:e,index:n,line:r}=t,i=[],o=r.segments,a=r.points,s=OB(e,n);s.push(Nx({x:null,y:e.bottom},r));for(let c=0;c<o.length;c++){const C=o[c];for(let E=C.start;E<=C.end;E++)SB(i,a[E],s)}return new Si({points:i,options:{}})}function OB(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const o=r[i];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function SB(t,e,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:a,last:s,point:c}=xB(o,e,"x");if(!(!c||a&&s)){if(a)r.unshift(c);else if(t.push(c),!s)break}}t.push(...r)}function xB(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],o=t.segments,a=t.points;let s=!1,c=!1;for(let C=0;C<o.length;C++){const E=o[C],O=a[E.start][n],y=a[E.end][n];if(Kr(i,O,y)){s=i===O,c=i===y;break}}return{first:s,last:c,point:r}}class jx{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:o,radius:a}=this;return n=n||{start:0,end:ft},e.arc(i,o,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,o=e.angle;return{x:n+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}}function TB(t){const{chart:e,fill:n,line:r}=t;if(xt(n))return RB(e,n);if(n==="stack")return EB(t);if(n==="shape")return!0;const i=DB(t);return i instanceof jx?i:Nx(i,r)}function RB(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function DB(t){return(t.scale||{}).getPointPositionForValue?MB(t):IB(t)}function IB(t){const{scale:e={},fill:n}=t,r=CB(n,e);if(xt(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function MB(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,o=r.reverse?e.max:e.min,a=PB(n,e,o),s=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,o);return new jx({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;c<i;++c)s.push(e.getPointPositionForValue(c,a));return s}function Rh(t,e,n){const r=TB(e),{line:i,scale:o,axis:a}=e,s=i.options,c=s.fill,C=s.backgroundColor,{above:E=C,below:O=C}=c||{};r&&i.points.length&&(Gf(t,n),VB(t,{line:i,target:r,above:E,below:O,area:n,scale:o,axis:a}),kf(t))}function VB(t,e){const{line:n,target:r,above:i,below:o,area:a,scale:s}=e,c=n._loop?"angle":e.axis;t.save(),c==="x"&&o!==i&&(ib(t,r,a.top),ob(t,{line:n,target:r,color:i,scale:s,property:c}),t.restore(),t.save(),ib(t,r,a.bottom)),ob(t,{line:n,target:r,color:o,scale:s,property:c}),t.restore()}function ib(t,e,n){const{segments:r,points:i}=e;let o=!0,a=!1;t.beginPath();for(const s of r){const{start:c,end:C}=s,E=i[c],O=i[zm(c,C,i)];o?(t.moveTo(E.x,E.y),o=!1):(t.lineTo(E.x,n),t.lineTo(E.x,E.y)),a=!!e.pathSegment(t,s,{move:a}),a?t.closePath():t.lineTo(O.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function ob(t,e){const{line:n,target:r,property:i,color:o,scale:a}=e,s=pB(n,r,i);for(const{source:c,target:C,start:E,end:O}of s){const{style:{backgroundColor:y=o}={}}=c,b=r!==!0;t.save(),t.fillStyle=y,wB(t,a,b&&Jp(i,E,O)),t.beginPath();const P=!!n.pathSegment(t,c);let g;if(b){P?t.closePath():sb(t,r,O,i);const m=!!r.pathSegment(t,C,{move:P,reverse:!0});g=P&&m,g||sb(t,r,E,i)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function wB(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:o,start:a,end:s}=n||{};o==="x"&&(t.beginPath(),t.rect(a,r,s-a,i-r),t.clip())}function sb(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var AB={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let o,a,s,c;for(a=0;a<r;++a)o=t.getDatasetMeta(a),s=o.dataset,c=null,s&&s.options&&s instanceof Si&&(c={visible:t.isDatasetVisible(a),index:a,fill:yB(s,a,r),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:s}),o.$filler=c,i.push(c);for(a=0;a<r;++a)c=i[a],!(!c||c.fill===!1)&&(c.fill=mB(i,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let a=i.length-1;a>=0;--a){const s=i[a].$filler;s&&(s.line.updateControlPoints(o,s.axis),r&&s.fill&&Rh(t.ctx,s,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const o=r[i].$filler;rb(o)&&Rh(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!rb(r)||n.drawTime!=="beforeDatasetDraw"||Rh(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ab=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},LB=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class lb extends mr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=rt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Ut(r.font),o=i.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:c}=ab(r,o);let C,E;n.font=i.string,this.isHorizontal()?(C=this.maxWidth,E=this._fitRows(a,o,s,c)+10):(E=this.maxHeight,C=this._fitCols(a,i,s,c)+10),this.width=Math.min(C,e.maxWidth||this.maxWidth),this.height=Math.min(E,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:o,maxWidth:a,options:{labels:{padding:s}}}=this,c=this.legendHitBoxes=[],C=this.lineWidths=[0],E=i+s;let O=e;o.textAlign="left",o.textBaseline="middle";let y=-1,b=-E;return this.legendItems.forEach((P,g)=>{const m=r+n/2+o.measureText(P.text).width;(g===0||C[C.length-1]+m+2*s>a)&&(O+=E,C[C.length-(g>0?0:1)]=0,b+=E,y++),c[g]={left:0,top:b,row:y,width:m,height:i},C[C.length-1]+=m+s}),O}_fitCols(e,n,r,i){const{ctx:o,maxHeight:a,options:{labels:{padding:s}}}=this,c=this.legendHitBoxes=[],C=this.columnSizes=[],E=a-e;let O=s,y=0,b=0,P=0,g=0;return this.legendItems.forEach((m,v)=>{const{itemWidth:f,itemHeight:l}=BB(r,n,o,m,i);v>0&&b+l+2*s>E&&(O+=y+s,C.push({width:y,height:b}),P+=y+s,g++,y=b=0),c[v]={left:P,top:b,col:g,width:f,height:l},y=Math.max(y,f),b+=l+s}),O+=y,C.push({width:y,height:b}),O}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:o}}=this,a=Ds(o,this.left,this.width);if(this.isHorizontal()){let s=0,c=tn(r,this.left+i,this.right-this.lineWidths[s]);for(const C of n)s!==C.row&&(s=C.row,c=tn(r,this.left+i,this.right-this.lineWidths[s])),C.top+=this.top+e+i,C.left=a.leftForLtr(a.x(c),C.width),c+=C.width+i}else{let s=0,c=tn(r,this.top+e+i,this.bottom-this.columnSizes[s].height);for(const C of n)C.col!==s&&(s=C.col,c=tn(r,this.top+e+i,this.bottom-this.columnSizes[s].height)),C.top=c,C.left+=this.left+i,C.left=a.leftForLtr(a.x(C.left),C.width),c+=C.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Gf(e,this),this._draw(),kf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:o,labels:a}=e,s=Rt.color,c=Ds(e.rtl,this.left,this.width),C=Ut(a.font),{padding:E}=a,O=C.size,y=O/2;let b;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=C.string;const{boxWidth:P,boxHeight:g,itemHeight:m}=ab(a,O),v=function(p,u,x){if(isNaN(P)||P<=0||isNaN(g)||g<0)return;i.save();const V=De(x.lineWidth,1);if(i.fillStyle=De(x.fillStyle,s),i.lineCap=De(x.lineCap,"butt"),i.lineDashOffset=De(x.lineDashOffset,0),i.lineJoin=De(x.lineJoin,"miter"),i.lineWidth=V,i.strokeStyle=De(x.strokeStyle,s),i.setLineDash(De(x.lineDash,[])),a.usePointStyle){const A={radius:g*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:V},M=c.xPlus(p,P/2),T=u+y;ix(i,A,M,T,a.pointStyleWidth&&P)}else{const A=u+Math.max((O-g)/2,0),M=c.leftForLtr(p,P),T=Vo(x.borderRadius);i.beginPath(),Object.values(T).some(D=>D!==0)?jl(i,{x:M,y:A,w:P,h:g,radius:T}):i.rect(M,A,P,g),i.fill(),V!==0&&i.stroke()}i.restore()},f=function(p,u,x){zo(i,x.text,p,u+m/2,C,{strikethrough:x.hidden,textAlign:c.textAlign(x.textAlign)})},l=this.isHorizontal(),d=this._computeTitleHeight();l?b={x:tn(o,this.left+E,this.right-r[0]),y:this.top+E+d,line:0}:b={x:this.left+E,y:tn(o,this.top+d+E,this.bottom-n[0].height),line:0},hx(this.ctx,e.textDirection);const h=m+E;this.legendItems.forEach((p,u)=>{i.strokeStyle=p.fontColor,i.fillStyle=p.fontColor;const x=i.measureText(p.text).width,V=c.textAlign(p.textAlign||(p.textAlign=a.textAlign)),A=P+y+x;let M=b.x,T=b.y;c.setWidth(this.width),l?u>0&&M+A+E>this.right&&(T=b.y+=h,b.line++,M=b.x=tn(o,this.left+E,this.right-r[b.line])):u>0&&T+h>this.bottom&&(M=b.x=M+n[b.line].width+E,b.line++,T=b.y=tn(o,this.top+d+E,this.bottom-n[b.line].height));const D=c.x(M);if(v(D,T,p),M=nA(V,M+P+y,l?M+A:this.right,e.rtl),f(c.x(M),T,p),l)b.x+=A+E;else if(typeof p.text!="string"){const R=C.lineHeight;b.y+=Fx(p,R)}else b.y+=h}),px(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Ut(n.font),i=sn(n.padding);if(!n.display)return;const o=Ds(e.rtl,this.left,this.width),a=this.ctx,s=n.position,c=r.size/2,C=i.top+c;let E,O=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),E=this.top+C,O=tn(e.align,O,this.right-y);else{const P=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);E=C+tn(e.align,this.top,this.bottom-P-e.labels.padding-this._computeTitleHeight())}const b=tn(s,O,O+y);a.textAlign=o.textAlign(Lm(s)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,zo(a,n.text,b,E,r)}_computeTitleHeight(){const e=this.options.title,n=Ut(e.font),r=sn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,o;if(Kr(e,this.left,this.right)&&Kr(n,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Kr(e,i.left,i.left+i.width)&&Kr(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!FB(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=LB(i,r);i&&!o&&rt(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&rt(n.onHover,[e,r,this],this)}else r&&rt(n.onClick,[e,r,this],this)}}function BB(t,e,n,r,i){const o=NB(r,t,e,n),a=jB(i,r,e.lineHeight);return{itemWidth:o,itemHeight:a}}function NB(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((o,a)=>o.length>a.length?o:a)),e+n.size/2+r.measureText(i).width}function jB(t,e,n){let r=t;return typeof e.text!="string"&&(r=Fx(e,n)),r}function Fx(t,e){const n=t.text?t.text.length+.5:0;return e*n}function FB(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var UB={id:"legend",_element:lb,start(t,e,n){const r=t.legend=new lb({ctx:t.ctx,options:n,chart:t});rn.configure(t,r,n),rn.addBox(t,r)},stop(t){rn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;rn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:a,borderRadius:s}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const C=c.controller.getStyle(n?0:void 0),E=sn(C.borderWidth);return{text:e[c.index].label,fillStyle:C.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:C.borderCapStyle,lineDash:C.borderDash,lineDashOffset:C.borderDashOffset,lineJoin:C.borderJoinStyle,lineWidth:(E.width+E.height)/4,strokeStyle:C.borderColor,pointStyle:r||C.pointStyle,rotation:C.rotation,textAlign:i||C.textAlign,borderRadius:a&&(s||C.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Hm extends mr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=ut(r.text)?r.text.length:1;this._padding=sn(r.padding);const o=i*Ut(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:o,options:a}=this,s=a.align;let c=0,C,E,O;return this.isHorizontal()?(E=tn(s,r,o),O=n+e,C=o-r):(a.position==="left"?(E=r+e,O=tn(s,i,n),c=mt*-.5):(E=o-e,O=tn(s,n,i),c=mt*.5),C=i-n),{titleX:E,titleY:O,maxWidth:C,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Ut(n.font),o=r.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:c,rotation:C}=this._drawArgs(o);zo(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:C,textAlign:Lm(n.align),textBaseline:"middle",translation:[a,s]})}}function WB(t,e){const n=new Hm({ctx:t.ctx,options:e,chart:t});rn.configure(t,n,e),rn.addBox(t,n),t.titleBlock=n}var QB={id:"title",_element:Hm,start(t,e,n){WB(t,n)},stop(t){const e=t.titleBlock;rn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;rn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gu=new WeakMap;var zB={id:"subtitle",start(t,e,n){const r=new Hm({ctx:t.ctx,options:n,chart:t});rn.configure(t,r,n),rn.addBox(t,r),Gu.set(t,r)},stop(t){rn.removeBox(t,Gu.get(t)),Gu.delete(t)},beforeUpdate(t,e,n){const r=Gu.get(t);rn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ua={average(t){if(!t.length)return!1;let e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const s=a.tooltipPosition();r+=s.x,i+=s.y,++o}}return{x:r/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,a,s;for(o=0,a=t.length;o<a;++o){const c=t[o].element;if(c&&c.hasValue()){const C=c.getCenterPoint(),E=zp(e,C);E<i&&(i=E,s=c)}}if(s){const c=s.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function br(t,e){return e&&(ut(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Fr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function HB(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:a,value:s}=o.getLabelAndValue(i);return{chart:t,label:a,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:s,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function ub(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:a,boxHeight:s}=e,c=Ut(e.bodyFont),C=Ut(e.titleFont),E=Ut(e.footerFont),O=o.length,y=i.length,b=r.length,P=sn(e.padding);let g=P.height,m=0,v=r.reduce((d,h)=>d+h.before.length+h.lines.length+h.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,O&&(g+=O*C.lineHeight+(O-1)*e.titleSpacing+e.titleMarginBottom),v){const d=e.displayColors?Math.max(s,c.lineHeight):c.lineHeight;g+=b*d+(v-b)*c.lineHeight+(v-1)*e.bodySpacing}y&&(g+=e.footerMarginTop+y*E.lineHeight+(y-1)*e.footerSpacing);let f=0;const l=function(d){m=Math.max(m,n.measureText(d).width+f)};return n.save(),n.font=C.string,Ge(t.title,l),n.font=c.string,Ge(t.beforeBody.concat(t.afterBody),l),f=e.displayColors?a+2+e.boxPadding:0,Ge(r,d=>{Ge(d.before,l),Ge(d.lines,l),Ge(d.after,l)}),f=0,n.font=E.string,Ge(t.footer,l),n.restore(),m+=P.width,{width:m,height:g}}function KB(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function $B(t,e,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+o+a>e.width||t==="right"&&i-o-a<0)return!0}function qB(t,e,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:s,right:c}}=t;let C="center";return r==="center"?C=i<=(s+c)/2?"left":"right":i<=o/2?C="left":i>=a-o/2&&(C="right"),$B(C,t,e,n)&&(C="center"),C}function cb(t,e,n){const r=n.yAlign||e.yAlign||KB(t,n);return{xAlign:n.xAlign||e.xAlign||qB(t,e,n,r),yAlign:r}}function _B(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function GB(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function fb(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=t,{xAlign:s,yAlign:c}=n,C=i+o,{topLeft:E,topRight:O,bottomLeft:y,bottomRight:b}=Vo(a);let P=_B(e,s);const g=GB(e,c,C);return c==="center"?s==="left"?P+=C:s==="right"&&(P-=C):s==="left"?P-=Math.max(E,y)+i:s==="right"&&(P+=Math.max(O,b)+i),{x:$t(P,0,r.width-e.width),y:$t(g,0,r.height-e.height)}}function ku(t,e,n){const r=sn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function db(t){return br([],Fr(t))}function kB(t,e,n){return to(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function hb(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Ux={beforeTitle:Nr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Nr,beforeBody:Nr,beforeLabel:Nr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ze(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Nr,afterBody:Nr,beforeFooter:Nr,footer:Nr,afterFooter:Nr};function yn(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?Ux[e].call(n,r):i}class Yp extends mr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,o=new vx(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=kB(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=yn(r,"beforeTitle",this,e),o=yn(r,"title",this,e),a=yn(r,"afterTitle",this,e);let s=[];return s=br(s,Fr(i)),s=br(s,Fr(o)),s=br(s,Fr(a)),s}getBeforeBody(e,n){return db(yn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Ge(e,o=>{const a={before:[],lines:[],after:[]},s=hb(r,o);br(a.before,Fr(yn(s,"beforeLabel",this,o))),br(a.lines,yn(s,"label",this,o)),br(a.after,Fr(yn(s,"afterLabel",this,o))),i.push(a)}),i}getAfterBody(e,n){return db(yn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=yn(r,"beforeFooter",this,e),o=yn(r,"footer",this,e),a=yn(r,"afterFooter",this,e);let s=[];return s=br(s,Fr(i)),s=br(s,Fr(o)),s=br(s,Fr(a)),s}_createItems(e){const n=this._active,r=this.chart.data,i=[],o=[],a=[];let s=[],c,C;for(c=0,C=n.length;c<C;++c)s.push(HB(this.chart,n[c]));return e.filter&&(s=s.filter((E,O,y)=>e.filter(E,O,y,r))),e.itemSort&&(s=s.sort((E,O)=>e.itemSort(E,O,r))),Ge(s,E=>{const O=hb(e.callbacks,E);i.push(yn(O,"labelColor",this,E)),o.push(yn(O,"labelPointStyle",this,E)),a.push(yn(O,"labelTextColor",this,E))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=s,s}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let o,a=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const s=Ua[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=ub(this,r),C=Object.assign({},s,c),E=cb(this.chart,r,C),O=fb(r,C,E,this.chart);this.xAlign=E.xAlign,this.yAlign=E.yAlign,o={opacity:1,x:O.x,y:O.y,width:c.width,height:c.height,caretX:s.x,caretY:s.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const o=this.getCaretPosition(e,r,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:o}=this,{caretSize:a,cornerRadius:s}=r,{topLeft:c,topRight:C,bottomLeft:E,bottomRight:O}=Vo(s),{x:y,y:b}=e,{width:P,height:g}=n;let m,v,f,l,d,h;return o==="center"?(d=b+g/2,i==="left"?(m=y,v=m-a,l=d+a,h=d-a):(m=y+P,v=m+a,l=d-a,h=d+a),f=m):(i==="left"?v=y+Math.max(c,E)+a:i==="right"?v=y+P-Math.max(C,O)-a:v=this.caretX,o==="top"?(l=b,d=l-a,m=v-a,f=v+a):(l=b+g,d=l+a,m=v+a,f=v-a),h=l),{x1:m,x2:v,x3:f,y1:l,y2:d,y3:h}}drawTitle(e,n,r){const i=this.title,o=i.length;let a,s,c;if(o){const C=Ds(r.rtl,this.x,this.width);for(e.x=ku(this,r.titleAlign,r),n.textAlign=C.textAlign(r.titleAlign),n.textBaseline="middle",a=Ut(r.titleFont),s=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<o;++c)n.fillText(i[c],C.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s,c+1===o&&(e.y+=r.titleMarginBottom-s)}}_drawColorBox(e,n,r,i,o){const a=this.labelColors[r],s=this.labelPointStyles[r],{boxHeight:c,boxWidth:C}=o,E=Ut(o.bodyFont),O=ku(this,"left",o),y=i.x(O),b=c<E.lineHeight?(E.lineHeight-c)/2:0,P=n.y+b;if(o.usePointStyle){const g={radius:Math.min(C,c)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},m=i.leftForLtr(y,C)+C/2,v=P+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Kp(e,g,m,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Kp(e,g,m,v)}else{e.lineWidth=je(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const g=i.leftForLtr(y,C),m=i.leftForLtr(i.xPlus(y,1),C-2),v=Vo(a.borderRadius);Object.values(v).some(f=>f!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,jl(e,{x:g,y:P,w:C,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),jl(e,{x:m,y:P+1,w:C-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(g,P,C,c),e.strokeRect(g,P,C,c),e.fillStyle=a.backgroundColor,e.fillRect(m,P+1,C-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:o,bodyAlign:a,displayColors:s,boxHeight:c,boxWidth:C,boxPadding:E}=r,O=Ut(r.bodyFont);let y=O.lineHeight,b=0;const P=Ds(r.rtl,this.x,this.width),g=function(x){n.fillText(x,P.x(e.x+b),e.y+y/2),e.y+=y+o},m=P.textAlign(a);let v,f,l,d,h,p,u;for(n.textAlign=a,n.textBaseline="middle",n.font=O.string,e.x=ku(this,m,r),n.fillStyle=r.bodyColor,Ge(this.beforeBody,g),b=s&&m!=="right"?a==="center"?C/2+E:C+2+E:0,d=0,p=i.length;d<p;++d){for(v=i[d],f=this.labelTextColors[d],n.fillStyle=f,Ge(v.before,g),l=v.lines,s&&l.length&&(this._drawColorBox(n,e,d,P,r),y=Math.max(O.lineHeight,c)),h=0,u=l.length;h<u;++h)g(l[h]),y=O.lineHeight;Ge(v.after,g)}b=0,y=O.lineHeight,Ge(this.afterBody,g),e.y-=o}drawFooter(e,n,r){const i=this.footer,o=i.length;let a,s;if(o){const c=Ds(r.rtl,this.x,this.width);for(e.x=ku(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=Ut(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,s=0;s<o;++s)n.fillText(i[s],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:o,yAlign:a}=this,{x:s,y:c}=e,{width:C,height:E}=r,{topLeft:O,topRight:y,bottomLeft:b,bottomRight:P}=Vo(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(s+O,c),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(s+C-y,c),n.quadraticCurveTo(s+C,c,s+C,c+y),a==="center"&&o==="right"&&this.drawCaret(e,n,r,i),n.lineTo(s+C,c+E-P),n.quadraticCurveTo(s+C,c+E,s+C-P,c+E),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(s+b,c+E),n.quadraticCurveTo(s,c+E,s,c+E-b),a==="center"&&o==="left"&&this.drawCaret(e,n,r,i),n.lineTo(s,c+O),n.quadraticCurveTo(s,c,s+O,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const a=Ua[e.position].call(this,this._active,this._eventPosition);if(!a)return;const s=this._size=ub(this,e),c=Object.assign({},a,this._size),C=cb(n,e,c),E=fb(e,c,C,n);(i._to!==E.x||o._to!==E.y)&&(this.xAlign=C.xAlign,this.yAlign=C.yAlign,this.width=s.width,this.height=s.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,E))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=sn(n.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&s&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,n),hx(e,n.textDirection),o.y+=a.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),px(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:s,index:c})=>{const C=this.chart.getDatasetMeta(s);if(!C)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:C.data[c],index:c}}),o=!ef(r,i),a=this._positionChanged(i,n);(o||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],a=this._getActiveElements(e,o,n,r),s=this._positionChanged(a,e),c=n||!ef(a,o)||s;return c&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return n;const a=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:o}=this,a=Ua[o.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}oe(Yp,"positioners",Ua);var JB={id:"tooltip",_element:Yp,positioners:Ua,afterInit(t,e,n){n&&(t.tooltip=new Yp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ux},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},YB=Object.freeze({__proto__:null,Colors:uB,Decimation:hB,Filler:AB,Legend:UB,SubTitle:zB,Title:QB,Tooltip:JB});const XB=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function ZB(t,e,n,r){const i=t.indexOf(e);if(i===-1)return XB(t,e,n,r);const o=t.lastIndexOf(e);return i!==o?n:i}const eN=(t,e)=>t===null?null:$t(Math.round(t),0,e);function pb(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Xp extends ko{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:o}of n)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ze(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:ZB(r,e,De(n,e),this._addedLabels),eN(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return pb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}oe(Xp,"id","category"),oe(Xp,"defaults",{ticks:{callback:pb}});function tN(t,e){const n=[],{bounds:i,step:o,min:a,max:s,precision:c,count:C,maxTicks:E,maxDigits:O,includeBounds:y}=t,b=o||1,P=E-1,{min:g,max:m}=e,v=!ze(a),f=!ze(s),l=!ze(C),d=(m-g)/(O+1);let h=lP((m-g)/P/b)*b,p,u,x,V;if(h<1e-14&&!v&&!f)return[{value:g},{value:m}];V=Math.ceil(m/h)-Math.floor(g/h),V>P&&(h=lP(V*h/P/b)*b),ze(c)||(p=Math.pow(10,c),h=Math.ceil(h*p)/p),i==="ticks"?(u=Math.floor(g/h)*h,x=Math.ceil(m/h)*h):(u=g,x=m),v&&f&&o&&kw((s-a)/o,h/1e3)?(V=Math.round(Math.min((s-a)/h,E)),h=(s-a)/V,u=a,x=s):l?(u=v?a:u,x=f?s:x,V=C-1,h=(x-u)/V):(V=(x-u)/h,Za(V,Math.round(V),h/1e3)?V=Math.round(V):V=Math.ceil(V));const A=Math.max(uP(h),uP(u));p=Math.pow(10,ze(c)?A:c),u=Math.round(u*p)/p,x=Math.round(x*p)/p;let M=0;for(v&&(y&&u!==a?(n.push({value:a}),u<a&&M++,Za(Math.round((u+M*h)*p)/p,a,gb(a,d,t))&&M++):u<a&&M++);M<V;++M){const T=Math.round((u+M*h)*p)/p;if(f&&T>s)break;n.push({value:T})}return f&&y&&x!==s?n.length&&Za(n[n.length-1].value,s,gb(s,d,t))?n[n.length-1].value=s:n.push({value:s}):(!f||x===s)&&n.push({value:x}),n}function gb(t,e,{horizontal:n,minRotation:r}){const i=cr(r),o=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class lf extends ko{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const a=c=>i=n?i:c,s=c=>o=r?o:c;if(e){const c=Dr(i),C=Dr(o);c<0&&C<0?s(0):c>0&&C>0&&a(0)}if(i===o){let c=o===0?1:Math.abs(o*.05);s(o+c),e||a(i-c)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,a=tN(i,o);return e.bounds==="ticks"&&kS(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return nu(e,this.chart.options.locale,this.options.ticks.format)}}class Zp extends lf{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=xt(e)?e:0,this.max=xt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=cr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}oe(Zp,"id","linear"),oe(Zp,"defaults",{ticks:{callback:_f.formatters.numeric}});const Ul=t=>Math.floor(Oi(t)),fo=(t,e)=>Math.pow(10,Ul(t)+e);function mb(t){return t/Math.pow(10,Ul(t))===1}function yb(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function nN(t,e){const n=e-t;let r=Ul(n);for(;yb(t,e,r)>10;)r++;for(;yb(t,e,r)<10;)r--;return Math.min(r,Ul(t))}function rN(t,{min:e,max:n}){e=In(t.min,e);const r=[],i=Ul(e);let o=nN(e,n),a=o<0?Math.pow(10,Math.abs(o)):1;const s=Math.pow(10,o),c=i>o?Math.pow(10,i):0,C=Math.round((e-c)*a)/a,E=Math.floor((e-c)/s/10)*s*10;let O=Math.floor((C-E)/Math.pow(10,o)),y=In(t.min,Math.round((c+E+O*Math.pow(10,o))*a)/a);for(;y<n;)r.push({value:y,major:mb(y),significand:O}),O>=10?O=O<15?15:20:O++,O>=20&&(o++,O=2,a=o>=0?1:a),y=Math.round((c+E+O*Math.pow(10,o))*a)/a;const b=In(t.max,y);return r.push({value:b,major:mb(b),significand:O}),r}class eg extends ko{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=lf.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return xt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=xt(e)?Math.max(0,e):null,this.max=xt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xt(this._userMin)&&(this.min=e===fo(this.min,0)?fo(this.min,-1):fo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const o=s=>r=e?r:s,a=s=>i=n?i:s;r===i&&(r<=0?(o(1),a(10)):(o(fo(r,-1)),a(fo(i,1)))),r<=0&&o(fo(i,-1)),i<=0&&a(fo(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=rN(n,this);return e.bounds==="ticks"&&kS(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":nu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Oi(e),this._valueRange=Oi(this.max)-Oi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Oi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}oe(eg,"id","logarithmic"),oe(eg,"defaults",{ticks:{callback:_f.formatters.logarithmic,major:{enabled:!0}}});function tg(t){const e=t.ticks;if(e.display&&t.display){const n=sn(e.backdropPadding);return De(e.font&&e.font.size,Rt.font.size)+n.height}return 0}function iN(t,e,n){return n=ut(n)?n:[n],{w:dA(t,e.string,n),h:n.length*e.lineHeight}}function vb(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function oN(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],o=t._pointLabels.length,a=t.options.pointLabels,s=a.centerPointLabels?mt/o:0;for(let c=0;c<o;c++){const C=a.setContext(t.getPointLabelContext(c));i[c]=C.padding;const E=t.getPointPosition(c,t.drawingArea+i[c],s),O=Ut(C.font),y=iN(t.ctx,O,t._pointLabels[c]);r[c]=y;const b=Vn(t.getIndexAngle(c)+s),P=Math.round(wm(b)),g=vb(P,E.x,y.w,0,180),m=vb(P,E.y,y.h,90,270);sN(n,e,b,g,m)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=uN(t,r,i)}function sN(t,e,n,r,i){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let s=0,c=0;r.start<e.l?(s=(e.l-r.start)/o,t.l=Math.min(t.l,e.l-s)):r.end>e.r&&(s=(r.end-e.r)/o,t.r=Math.max(t.r,e.r+s)),i.start<e.t?(c=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+c))}function aN(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:o,padding:a,size:s}=n,c=t.getPointPosition(e,r+i+a,o),C=Math.round(wm(Vn(c.angle+Tt))),E=dN(c.y,s.h,C),O=cN(C),y=fN(c.x,s.w,O);return{visible:!0,x:c.x,y:E,textAlign:O,left:y,top:E,right:y+s.w,bottom:E+s.h}}function lN(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:o}=t;return!(qr({x:n,y:r},e)||qr({x:n,y:o},e)||qr({x:i,y:r},e)||qr({x:i,y:o},e))}function uN(t,e,n){const r=[],i=t._pointLabels.length,o=t.options,{centerPointLabels:a,display:s}=o.pointLabels,c={extra:tg(o)/2,additionalAngle:a?mt/i:0};let C;for(let E=0;E<i;E++){c.padding=n[E],c.size=e[E];const O=aN(t,E,c);r.push(O),s==="auto"&&(O.visible=lN(O,C),O.visible&&(C=O))}return r}function cN(t){return t===0||t===180?"center":t<180?"left":"right"}function fN(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function dN(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function hN(t,e,n){const{left:r,top:i,right:o,bottom:a}=n,{backdropColor:s}=e;if(!ze(s)){const c=Vo(e.borderRadius),C=sn(e.backdropPadding);t.fillStyle=s;const E=r-C.left,O=i-C.top,y=o-r+C.width,b=a-i+C.height;Object.values(c).some(P=>P!==0)?(t.beginPath(),jl(t,{x:E,y:O,w:y,h:b,radius:c}),t.fill()):t.fillRect(E,O,y,b)}}function pN(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const o=t._pointLabelItems[i];if(!o.visible)continue;const a=r.setContext(t.getPointLabelContext(i));hN(n,a,o);const s=Ut(a.font),{x:c,y:C,textAlign:E}=o;zo(n,t._pointLabels[i],c,C+s.lineHeight/2,s,{color:a.color,textAlign:E,textBaseline:"middle"})}}function Wx(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,ft);else{let o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let a=1;a<r;a++)o=t.getPointPosition(a,e),i.lineTo(o.x,o.y)}}function gN(t,e,n,r,i){const o=t.ctx,a=e.circular,{color:s,lineWidth:c}=e;!a&&!r||!s||!c||n<0||(o.save(),o.strokeStyle=s,o.lineWidth=c,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),Wx(t,n,a,r),o.closePath(),o.stroke(),o.restore())}function mN(t,e,n){return to(t,{label:n,index:e,type:"pointLabel"})}class Wa extends lf{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=sn(tg(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=xt(e)&&!isNaN(e)?e:0,this.max=xt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/tg(this.options))}generateTickLabels(e){lf.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=rt(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?oN(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=ft/(this._pointLabels.length||1),r=this.options.startAngle||0;return Vn(e*n+cr(r))}getDistanceFromCenterForValue(e){if(ze(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ze(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return mN(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-Tt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),Wx(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:o}=n,a=this._pointLabels.length;let s,c,C;if(n.pointLabels.display&&pN(this,a),i.display&&this.ticks.forEach((E,O)=>{if(O!==0){c=this.getDistanceFromCenterForValue(E.value);const y=this.getContext(O),b=i.setContext(y),P=o.setContext(y);gN(this,b,c,a,P)}}),r.display){for(e.save(),s=a-1;s>=0;s--){const E=r.setContext(this.getPointLabelContext(s)),{color:O,lineWidth:y}=E;!y||!O||(e.lineWidth=y,e.strokeStyle=O,e.setLineDash(E.borderDash),e.lineDashOffset=E.borderDashOffset,c=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),C=this.getPointPosition(s,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(C.x,C.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let o,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,c)=>{if(c===0&&!n.reverse)return;const C=r.setContext(this.getContext(c)),E=Ut(C.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),C.showLabelBackdrop){e.font=E.string,a=e.measureText(s.label).width,e.fillStyle=C.backdropColor;const O=sn(C.backdropPadding);e.fillRect(-a/2-O.left,-o-E.size/2-O.top,a+O.width,E.size+O.height)}zo(e,s.label,0,-o,E,{color:C.color})}),e.restore()}drawTitle(){}}oe(Wa,"id","radialLinear"),oe(Wa,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_f.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),oe(Wa,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),oe(Wa,"descriptors",{angleLines:{_fallback:"grid"}});const Yf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cn=Object.keys(Yf);function yN(t,e){return t-e}function Cb(t,e){if(ze(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),xt(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Fs(o)||o===!0)?n.startOf(a,"isoWeek",o):n.startOf(a,i)),+a)}function Pb(t,e,n,r){const i=Cn.length;for(let o=Cn.indexOf(t);o<i-1;++o){const a=Yf[Cn[o]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(s*a.size))<=r)return Cn[o]}return Cn[i-1]}function vN(t,e,n,r,i){for(let o=Cn.length-1;o>=Cn.indexOf(n);o--){const a=Cn[o];if(Yf[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Cn[n?Cn.indexOf(n):0]}function CN(t){for(let e=Cn.indexOf(t)+1,n=Cn.length;e<n;++e)if(Yf[Cn[e]].common)return Cn[e]}function bb(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Am(n,e),o=n[r]>=e?n[r]:n[i];t[o]=!0}}function PN(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),a=e[e.length-1].value;let s,c;for(s=o;s<=a;s=+i.add(s,1,r))c=n[s],c>=0&&(e[c].major=!0);return e}function Eb(t,e,n){const r=[],i={},o=e.length;let a,s;for(a=0;a<o;++a)s=e[a],i[s]=a,r.push({value:s,major:!1});return o===0||!n?r:PN(t,r,i,n)}class Wl extends ko{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new DL._date(e.adapters.date);i.init(n),Xa(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Cb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:a,maxDefined:s}=this.getUserBounds();function c(C){!a&&!isNaN(C.min)&&(i=Math.min(i,C.min)),!s&&!isNaN(C.max)&&(o=Math.max(o,C.max))}(!a||!s)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=xt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),o=xt(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,a=this.max,s=Zw(i,o,a);return this._unit=n.unit||(r.autoSkip?Pb(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):vN(this,s.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:CN(this._unit),this.initOffsets(i),e.reverse&&s.reverse(),Eb(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=$t(n,0,a),r=$t(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,o=i.time,a=o.unit||Pb(o.minUnit,n,r,this._getLabelCapacity(n)),s=De(i.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,C=Fs(c)||c===!0,E={};let O=n,y,b;if(C&&(O=+e.startOf(O,"isoWeek",c)),O=+e.startOf(O,C?"day":a),e.diff(r,n,a)>1e5*s)throw new Error(n+" and "+r+" are too far apart with stepSize of "+s+" "+a);const P=i.ticks.source==="data"&&this.getDataTimestamps();for(y=O,b=0;y<r;y=+e.add(y,s,a),b++)bb(E,y,P);return(y===r||i.bounds==="ticks"||b===1)&&bb(E,y,P),Object.keys(E).sort((g,m)=>g-m).map(g=>+g)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,o=this._unit,a=n||i[o];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const o=this.options,a=o.ticks.callback;if(a)return rt(a,[e,n,r],this);const s=o.time.displayFormats,c=this._unit,C=this._majorUnit,E=c&&s[c],O=C&&s[C],y=r[n],b=C&&O&&y&&y.major;return this._adapter.format(e,i||(b?O:E))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=cr(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),a=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:r*o+s*a,h:r*a+s*o}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,Eb(this,[e],this._majorUnit),i),a=this._getLabelSize(o),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Cb(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return XS(e.sort(yN))}}oe(Wl,"id","time"),oe(Wl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ju(t,e,n){let r=0,i=t.length-1,o,a,s,c;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=$r(t,"pos",e)),{pos:o,time:s}=t[r],{pos:a,time:c}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=$r(t,"time",e)),{time:o,pos:s}=t[r],{time:a,pos:c}=t[i]);const C=a-o;return C?s+(c-s)*(e-o)/C:s}class ng extends Wl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ju(n,this.min),this._tableRange=Ju(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],o=[];let a,s,c,C,E;for(a=0,s=e.length;a<s;++a)C=e[a],C>=n&&C<=r&&i.push(C);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,s=i.length;a<s;++a)E=i[a+1],c=i[a-1],C=i[a],Math.round((E+c)/2)!==C&&o.push({time:C,pos:a/(s-1)});return o}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Ju(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Ju(this._table,r*this._tableRange+this._minPos,!0)}}oe(ng,"id","timeseries"),oe(ng,"defaults",Wl.defaults);var bN=Object.freeze({__proto__:null,CategoryScale:Xp,LinearScale:Zp,LogarithmicScale:eg,RadialLinearScale:Wa,TimeScale:Wl,TimeSeriesScale:ng});const EN=[RL,rB,YB,bN];Sr.register(...EN);const ON=t=>(X.useEffect(()=>{const e=document.getElementById("chart").getContext("2d");window.myLine=new Sr(e,{type:"bar",data:{padding:3,labels:t.names.map(r=>r),datasets:[{label:"Entrance Grades",data:t.grades.map(r=>r),borderWidth:.2}]},options:{maintainAspectRatio:!1,responsive:!0,scales:{y:{beginAtZero:!0,gridLines:{color:"rgba(255,255,255,0.3)",borderDash:[3],borderDashOffset:[10]},ticks:{color:"white"}},x:{ticks:{color:"white"}}},plugins:{title:{display:!0,text:"Average Entrance Grades For Each University",color:"white",font:{weight:"bold",size:18}}}}});const n=document.getElementById("chart2").getContext("2d");window.myLine=new Sr(n,{type:"doughnut",data:{fontColor:"white",padding:3,labels:["CAD Student","Foreign Student"],datasets:[{label:"Tuition",data:[t.cadTuition,t.foreignTuition],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)"],hoverOffset:4}]},options:{maintainAspectRatio:!1,responsive:!0,legend:{labels:{fontColor:"white"}},plugins:{title:{display:!0,text:"Tuition Details",color:"white",font:{weight:"bold",size:18}}}}})},[]),Z.jsxs("div",{className:" transition-all ease-in-out duration-300 delay-75  ",children:[Z.jsx("div",{className:" mb-6  rounded shadow shadow-amber-200  p-[.025rem] hover:shadow-md hover:shadow-orange-400 hover:tracking-wide",children:Z.jsx("canvas",{id:"chart2",className:"h-96 w-full p-3"})}),Z.jsx("div",{className:" rounded shadow shadow-amber-200  p-[.025rem] hover:shadow-md hover:shadow-orange-400 hover:tracking-wide",children:Z.jsx("canvas",{id:"chart",className:"h-96 w-full p-3"})})]})),rs=t=>Z.jsxs("div",{className:" transition-all ease-in-out duration-300 delay-75   h-40 w-full bg-purple-500 rounded shadow shadow-amber-200 flex flex-col justify-center items-center  text-center p-5 gap-4 hover:shadow-md hover:shadow-orange-400 hover:tracking-wide",children:[Z.jsx("div",{children:Z.jsx("h3",{className:"text-white text-sm uppercase  ",children:t.cardLabel})}),Z.jsx("div",{className:`flex items-center ${t.color} `,children:Z.jsx("h1",{className:"text-2xl font-black",children:t.cardContent})})]});var SN=function(t){return{display:t?"flex":"none"}},xN="#4fa94d",TN={"aria-busy":!0,role:"status"},Ob=globalThis&&globalThis.__assign||function(){return Ob=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ob.apply(this,arguments)},Sb=globalThis&&globalThis.__assign||function(){return Sb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sb.apply(this,arguments)},xb=globalThis&&globalThis.__assign||function(){return xb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xb.apply(this,arguments)},Tb=globalThis&&globalThis.__assign||function(){return Tb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tb.apply(this,arguments)},Rb=globalThis&&globalThis.__assign||function(){return Rb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rb.apply(this,arguments)},Db=globalThis&&globalThis.__assign||function(){return Db=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Db.apply(this,arguments)},Ib=globalThis&&globalThis.__assign||function(){return Ib=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ib.apply(this,arguments)},Qx={exports:{}},Je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _t=typeof Symbol=="function"&&Symbol.for,Km=_t?Symbol.for("react.element"):60103,$m=_t?Symbol.for("react.portal"):60106,Xf=_t?Symbol.for("react.fragment"):60107,Zf=_t?Symbol.for("react.strict_mode"):60108,ed=_t?Symbol.for("react.profiler"):60114,td=_t?Symbol.for("react.provider"):60109,nd=_t?Symbol.for("react.context"):60110,qm=_t?Symbol.for("react.async_mode"):60111,rd=_t?Symbol.for("react.concurrent_mode"):60111,id=_t?Symbol.for("react.forward_ref"):60112,od=_t?Symbol.for("react.suspense"):60113,RN=_t?Symbol.for("react.suspense_list"):60120,sd=_t?Symbol.for("react.memo"):60115,ad=_t?Symbol.for("react.lazy"):60116,DN=_t?Symbol.for("react.block"):60121,IN=_t?Symbol.for("react.fundamental"):60117,MN=_t?Symbol.for("react.responder"):60118,VN=_t?Symbol.for("react.scope"):60119;function Wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Km:switch(t=t.type,t){case qm:case rd:case Xf:case ed:case Zf:case od:return t;default:switch(t=t&&t.$$typeof,t){case nd:case id:case ad:case sd:case td:return t;default:return e}}case $m:return e}}}function zx(t){return Wn(t)===rd}Je.AsyncMode=qm;Je.ConcurrentMode=rd;Je.ContextConsumer=nd;Je.ContextProvider=td;Je.Element=Km;Je.ForwardRef=id;Je.Fragment=Xf;Je.Lazy=ad;Je.Memo=sd;Je.Portal=$m;Je.Profiler=ed;Je.StrictMode=Zf;Je.Suspense=od;Je.isAsyncMode=function(t){return zx(t)||Wn(t)===qm};Je.isConcurrentMode=zx;Je.isContextConsumer=function(t){return Wn(t)===nd};Je.isContextProvider=function(t){return Wn(t)===td};Je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Km};Je.isForwardRef=function(t){return Wn(t)===id};Je.isFragment=function(t){return Wn(t)===Xf};Je.isLazy=function(t){return Wn(t)===ad};Je.isMemo=function(t){return Wn(t)===sd};Je.isPortal=function(t){return Wn(t)===$m};Je.isProfiler=function(t){return Wn(t)===ed};Je.isStrictMode=function(t){return Wn(t)===Zf};Je.isSuspense=function(t){return Wn(t)===od};Je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xf||t===rd||t===ed||t===Zf||t===od||t===RN||typeof t=="object"&&t!==null&&(t.$$typeof===ad||t.$$typeof===sd||t.$$typeof===td||t.$$typeof===nd||t.$$typeof===id||t.$$typeof===IN||t.$$typeof===MN||t.$$typeof===VN||t.$$typeof===DN)};Je.typeOf=Wn;Qx.exports=Je;var _m=Qx.exports;function wN(t){function e(Q,$,z,q,K){for(var re=0,Y=0,Ee=0,ve=0,Oe,pe,Ze=0,st=0,Te,at=Te=Oe=0,Ie=0,Ye=0,an=0,We=0,Rn=z.length,ln=Rn-1,yt,Ce="",$e="",gn="",Qt="",At;Ie<Rn;){if(pe=z.charCodeAt(Ie),Ie===ln&&Y+ve+Ee+re!==0&&(Y!==0&&(pe=Y===47?10:47),ve=Ee=re=0,Rn++,ln++),Y+ve+Ee+re===0){if(Ie===ln&&(0<Ye&&(Ce=Ce.replace(y,"")),0<Ce.trim().length)){switch(pe){case 32:case 9:case 59:case 13:case 10:break;default:Ce+=z.charAt(Ie)}pe=59}switch(pe){case 123:for(Ce=Ce.trim(),Oe=Ce.charCodeAt(0),Te=1,We=++Ie;Ie<Rn;){switch(pe=z.charCodeAt(Ie)){case 123:Te++;break;case 125:Te--;break;case 47:switch(pe=z.charCodeAt(Ie+1)){case 42:case 47:e:{for(at=Ie+1;at<ln;++at)switch(z.charCodeAt(at)){case 47:if(pe===42&&z.charCodeAt(at-1)===42&&Ie+2!==at){Ie=at+1;break e}break;case 10:if(pe===47){Ie=at+1;break e}}Ie=at}}break;case 91:pe++;case 40:pe++;case 34:case 39:for(;Ie++<ln&&z.charCodeAt(Ie)!==pe;);}if(Te===0)break;Ie++}switch(Te=z.substring(We,Ie),Oe===0&&(Oe=(Ce=Ce.replace(O,"").trim()).charCodeAt(0)),Oe){case 64:switch(0<Ye&&(Ce=Ce.replace(y,"")),pe=Ce.charCodeAt(1),pe){case 100:case 109:case 115:case 45:Ye=$;break;default:Ye=I}if(Te=e($,Ye,Te,pe,K+1),We=Te.length,0<L&&(Ye=n(I,Ce,an),At=s(3,Te,Ye,$,D,T,We,pe,K,q),Ce=Ye.join(""),At!==void 0&&(We=(Te=At.trim()).length)===0&&(pe=0,Te="")),0<We)switch(pe){case 115:Ce=Ce.replace(p,a);case 100:case 109:case 45:Te=Ce+"{"+Te+"}";break;case 107:Ce=Ce.replace(f,"$1 $2"),Te=Ce+"{"+Te+"}",Te=S===1||S===2&&o("@"+Te,3)?"@-webkit-"+Te+"@"+Te:"@"+Te;break;default:Te=Ce+Te,q===112&&(Te=($e+=Te,""))}else Te="";break;default:Te=e($,n($,Ce,an),Te,q,K+1)}gn+=Te,Te=an=Ye=at=Oe=0,Ce="",pe=z.charCodeAt(++Ie);break;case 125:case 59:if(Ce=(0<Ye?Ce.replace(y,""):Ce).trim(),1<(We=Ce.length))switch(at===0&&(Oe=Ce.charCodeAt(0),Oe===45||96<Oe&&123>Oe)&&(We=(Ce=Ce.replace(" ",":")).length),0<L&&(At=s(1,Ce,$,Q,D,T,$e.length,q,K,q))!==void 0&&(We=(Ce=At.trim()).length)===0&&(Ce="\0\0"),Oe=Ce.charCodeAt(0),pe=Ce.charCodeAt(1),Oe){case 0:break;case 64:if(pe===105||pe===99){Qt+=Ce+z.charAt(Ie);break}default:Ce.charCodeAt(We-1)!==58&&($e+=i(Ce,Oe,pe,Ce.charCodeAt(2)))}an=Ye=at=Oe=0,Ce="",pe=z.charCodeAt(++Ie)}}switch(pe){case 13:case 10:Y===47?Y=0:1+Oe===0&&q!==107&&0<Ce.length&&(Ye=1,Ce+="\0"),0<L*W&&s(0,Ce,$,Q,D,T,$e.length,q,K,q),T=1,D++;break;case 59:case 125:if(Y+ve+Ee+re===0){T++;break}default:switch(T++,yt=z.charAt(Ie),pe){case 9:case 32:if(ve+re+Y===0)switch(Ze){case 44:case 58:case 9:case 32:yt="";break;default:pe!==32&&(yt=" ")}break;case 0:yt="\\0";break;case 12:yt="\\f";break;case 11:yt="\\v";break;case 38:ve+Y+re===0&&(Ye=an=1,yt="\f"+yt);break;case 108:if(ve+Y+re+R===0&&0<at)switch(Ie-at){case 2:Ze===112&&z.charCodeAt(Ie-3)===58&&(R=Ze);case 8:st===111&&(R=st)}break;case 58:ve+Y+re===0&&(at=Ie);break;case 44:Y+Ee+ve+re===0&&(Ye=1,yt+="\r");break;case 34:case 39:Y===0&&(ve=ve===pe?0:ve===0?pe:ve);break;case 91:ve+Y+Ee===0&&re++;break;case 93:ve+Y+Ee===0&&re--;break;case 41:ve+Y+re===0&&Ee--;break;case 40:if(ve+Y+re===0){if(Oe===0)switch(2*Ze+3*st){case 533:break;default:Oe=1}Ee++}break;case 64:Y+Ee+ve+re+at+Te===0&&(Te=1);break;case 42:case 47:if(!(0<ve+re+Ee))switch(Y){case 0:switch(2*pe+3*z.charCodeAt(Ie+1)){case 235:Y=47;break;case 220:We=Ie,Y=42}break;case 42:pe===47&&Ze===42&&We+2!==Ie&&(z.charCodeAt(We+2)===33&&($e+=z.substring(We,Ie+1)),yt="",Y=0)}}Y===0&&(Ce+=yt)}st=Ze,Ze=pe,Ie++}if(We=$e.length,0<We){if(Ye=$,0<L&&(At=s(2,$e,Ye,Q,D,T,We,q,K,q),At!==void 0&&($e=At).length===0))return Qt+$e+gn;if($e=Ye.join(",")+"{"+$e+"}",S*R!==0){switch(S!==2||o($e,2)||(R=0),R){case 111:$e=$e.replace(d,":-moz-$1")+$e;break;case 112:$e=$e.replace(l,"::-webkit-input-$1")+$e.replace(l,"::-moz-$1")+$e.replace(l,":-ms-input-$1")+$e}R=0}}return Qt+$e+gn}function n(Q,$,z){var q=$.trim().split(m);$=q;var K=q.length,re=Q.length;switch(re){case 0:case 1:var Y=0;for(Q=re===0?"":Q[0]+" ";Y<K;++Y)$[Y]=r(Q,$[Y],z).trim();break;default:var Ee=Y=0;for($=[];Y<K;++Y)for(var ve=0;ve<re;++ve)$[Ee++]=r(Q[ve]+" ",q[Y],z).trim()}return $}function r(Q,$,z){var q=$.charCodeAt(0);switch(33>q&&(q=($=$.trim()).charCodeAt(0)),q){case 38:return $.replace(v,"$1"+Q.trim());case 58:return Q.trim()+$.replace(v,"$1"+Q.trim());default:if(0<1*z&&0<$.indexOf("\f"))return $.replace(v,(Q.charCodeAt(0)===58?"":"$1")+Q.trim())}return Q+$}function i(Q,$,z,q){var K=Q+";",re=2*$+3*z+4*q;if(re===944){Q=K.indexOf(":",9)+1;var Y=K.substring(Q,K.length-1).trim();return Y=K.substring(0,Q).trim()+Y+";",S===1||S===2&&o(Y,1)?"-webkit-"+Y+Y:Y}if(S===0||S===2&&!o(K,1))return K;switch(re){case 1015:return K.charCodeAt(10)===97?"-webkit-"+K+K:K;case 951:return K.charCodeAt(3)===116?"-webkit-"+K+K:K;case 963:return K.charCodeAt(5)===110?"-webkit-"+K+K:K;case 1009:if(K.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+K+K;case 978:return"-webkit-"+K+"-moz-"+K+K;case 1019:case 983:return"-webkit-"+K+"-moz-"+K+"-ms-"+K+K;case 883:if(K.charCodeAt(8)===45)return"-webkit-"+K+K;if(0<K.indexOf("image-set(",11))return K.replace(M,"$1-webkit-$2")+K;break;case 932:if(K.charCodeAt(4)===45)switch(K.charCodeAt(5)){case 103:return"-webkit-box-"+K.replace("-grow","")+"-webkit-"+K+"-ms-"+K.replace("grow","positive")+K;case 115:return"-webkit-"+K+"-ms-"+K.replace("shrink","negative")+K;case 98:return"-webkit-"+K+"-ms-"+K.replace("basis","preferred-size")+K}return"-webkit-"+K+"-ms-"+K+K;case 964:return"-webkit-"+K+"-ms-flex-"+K+K;case 1023:if(K.charCodeAt(8)!==99)break;return Y=K.substring(K.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Y+"-webkit-"+K+"-ms-flex-pack"+Y+K;case 1005:return P.test(K)?K.replace(b,":-webkit-")+K.replace(b,":-moz-")+K:K;case 1e3:switch(Y=K.substring(13).trim(),$=Y.indexOf("-")+1,Y.charCodeAt(0)+Y.charCodeAt($)){case 226:Y=K.replace(h,"tb");break;case 232:Y=K.replace(h,"tb-rl");break;case 220:Y=K.replace(h,"lr");break;default:return K}return"-webkit-"+K+"-ms-"+Y+K;case 1017:if(K.indexOf("sticky",9)===-1)break;case 975:switch($=(K=Q).length-10,Y=(K.charCodeAt($)===33?K.substring(0,$):K).substring(Q.indexOf(":",7)+1).trim(),re=Y.charCodeAt(0)+(Y.charCodeAt(7)|0)){case 203:if(111>Y.charCodeAt(8))break;case 115:K=K.replace(Y,"-webkit-"+Y)+";"+K;break;case 207:case 102:K=K.replace(Y,"-webkit-"+(102<re?"inline-":"")+"box")+";"+K.replace(Y,"-webkit-"+Y)+";"+K.replace(Y,"-ms-"+Y+"box")+";"+K}return K+";";case 938:if(K.charCodeAt(5)===45)switch(K.charCodeAt(6)){case 105:return Y=K.replace("-items",""),"-webkit-"+K+"-webkit-box-"+Y+"-ms-flex-"+Y+K;case 115:return"-webkit-"+K+"-ms-flex-item-"+K.replace(x,"")+K;default:return"-webkit-"+K+"-ms-flex-line-pack"+K.replace("align-content","").replace(x,"")+K}break;case 973:case 989:if(K.charCodeAt(3)!==45||K.charCodeAt(4)===122)break;case 931:case 953:if(A.test(Q)===!0)return(Y=Q.substring(Q.indexOf(":")+1)).charCodeAt(0)===115?i(Q.replace("stretch","fill-available"),$,z,q).replace(":fill-available",":stretch"):K.replace(Y,"-webkit-"+Y)+K.replace(Y,"-moz-"+Y.replace("fill-",""))+K;break;case 962:if(K="-webkit-"+K+(K.charCodeAt(5)===102?"-ms-"+K:"")+K,z+q===211&&K.charCodeAt(13)===105&&0<K.indexOf("transform",10))return K.substring(0,K.indexOf(";",27)+1).replace(g,"$1-webkit-$2")+K}return K}function o(Q,$){var z=Q.indexOf($===1?":":"{"),q=Q.substring(0,$!==3?z:10);return z=Q.substring(z+1,Q.length-1),F($!==2?q:q.replace(V,"$1"),z,$)}function a(Q,$){var z=i($,$.charCodeAt(0),$.charCodeAt(1),$.charCodeAt(2));return z!==$+";"?z.replace(u," or ($1)").substring(4):"("+$+")"}function s(Q,$,z,q,K,re,Y,Ee,ve,Oe){for(var pe=0,Ze=$,st;pe<L;++pe)switch(st=w[pe].call(E,Q,Ze,z,q,K,re,Y,Ee,ve,Oe)){case void 0:case!1:case!0:case null:break;default:Ze=st}if(Ze!==$)return Ze}function c(Q){switch(Q){case void 0:case null:L=w.length=0;break;default:if(typeof Q=="function")w[L++]=Q;else if(typeof Q=="object")for(var $=0,z=Q.length;$<z;++$)c(Q[$]);else W=!!Q|0}return c}function C(Q){return Q=Q.prefix,Q!==void 0&&(F=null,Q?typeof Q!="function"?S=1:(S=2,F=Q):S=0),C}function E(Q,$){var z=Q;if(33>z.charCodeAt(0)&&(z=z.trim()),U=z,z=[U],0<L){var q=s(-1,$,z,z,D,T,0,0,0,0);q!==void 0&&typeof q=="string"&&($=q)}var K=e(I,z,$,0,0);return 0<L&&(q=s(-2,K,z,z,D,T,K.length,0,0,0),q!==void 0&&(K=q)),U="",R=0,T=D=1,K}var O=/^\0+/g,y=/[\0\r\f]/g,b=/: */g,P=/zoo|gra/,g=/([,: ])(transform)/g,m=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,f=/@(k\w+)\s*(\S*)\s*/,l=/::(place)/g,d=/:(read-only)/g,h=/[svh]\w+-[tblr]{2}/,p=/\(\s*(.*)\s*\)/g,u=/([\s\S]*?);/g,x=/-self|flex-/g,V=/[^]*?(:[rp][el]a[\w-]+)[^]*/,A=/stretch|:\s*\w+\-(?:conte|avail)/,M=/([^-])(image-set\()/,T=1,D=1,R=0,S=1,I=[],w=[],L=0,F=null,W=0,U="";return E.use=c,E.set=C,t!==void 0&&C(t),E}var AN={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function LN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var BN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Mb=LN(function(t){return BN.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Gm=_m,NN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Hx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},km={};km[Gm.ForwardRef]=FN;km[Gm.Memo]=Hx;function Vb(t){return Gm.isMemo(t)?Hx:km[t.$$typeof]||NN}var UN=Object.defineProperty,WN=Object.getOwnPropertyNames,wb=Object.getOwnPropertySymbols,QN=Object.getOwnPropertyDescriptor,zN=Object.getPrototypeOf,Ab=Object.prototype;function Kx(t,e,n){if(typeof e!="string"){if(Ab){var r=zN(e);r&&r!==Ab&&Kx(t,r,n)}var i=WN(e);wb&&(i=i.concat(wb(e)));for(var o=Vb(t),a=Vb(e),s=0;s<i.length;++s){var c=i[s];if(!jN[c]&&!(n&&n[c])&&!(a&&a[c])&&!(o&&o[c])){var C=QN(e,c);try{UN(t,c,C)}catch{}}}}return t}var HN=Kx;const KN=h0(HN);function _r(){return(_r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Lb=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},rg=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!_m.typeOf(t)},uf=Object.freeze([]),Fi=Object.freeze({});function Ql(t){return typeof t=="function"}function Bb(t){return t.displayName||t.name||"Component"}function Jm(t){return t&&typeof t.styledComponentId=="string"}var Qs=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Ym=typeof window<"u"&&"HTMLElement"in window,$N=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function iu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var qN=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,a=o;n>=a;)(a<<=1)<0&&iu(16,""+n);this.groupSizes=new Uint32Array(a),this.groupSizes.set(i),this.length=a;for(var s=o;s<a;s++)this.groupSizes[s]=0}for(var c=this.indexOfGroup(n+1),C=0,E=r.length;C<E;C++)this.tag.insertRule(c,r[C])&&(this.groupSizes[n]++,c++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),o=i+r;this.groupSizes[n]=0;for(var a=i;a<o;a++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],o=this.indexOfGroup(n),a=o+i,s=o;s<a;s++)r+=this.tag.getRule(s)+`/*!sc*/
`;return r},t}(),Tc=new Map,cf=new Map,rl=1,Yu=function(t){if(Tc.has(t))return Tc.get(t);for(;cf.has(rl);)rl++;var e=rl++;return Tc.set(t,e),cf.set(e,t),e},_N=function(t){return cf.get(t)},GN=function(t,e){e>=rl&&(rl=e+1),Tc.set(t,e),cf.set(e,t)},kN="style["+Qs+'][data-styled-version="5.3.11"]',JN=new RegExp("^"+Qs+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),YN=function(t,e,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&t.registerName(e,r)},XN=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(JN);if(s){var c=0|parseInt(s[1],10),C=s[2];c!==0&&(GN(C,c),YN(t,C,s[3]),t.getTag().insertRules(c,r)),r.length=0}else r.push(a)}}},ZN=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},$x=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(s){for(var c=s.childNodes,C=c.length;C>=0;C--){var E=c[C];if(E&&E.nodeType===1&&E.hasAttribute(Qs))return E}}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Qs,"active"),r.setAttribute("data-styled-version","5.3.11");var a=ZN();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},ej=function(){function t(n){var r=this.element=$x(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,a=0,s=o.length;a<s;a++){var c=o[a];if(c.ownerNode===i)return c}iu(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),tj=function(){function t(n){var r=this.element=$x(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),o=this.nodes[n];return this.element.insertBefore(i,o||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),nj=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),Nb=Ym,rj={isServer:!Ym,useCSSOMInjection:!$N},qx=function(){function t(n,r,i){n===void 0&&(n=Fi),r===void 0&&(r={}),this.options=_r({},rj,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&Ym&&Nb&&(Nb=!1,function(o){for(var a=document.querySelectorAll(kN),s=0,c=a.length;s<c;s++){var C=a[s];C&&C.getAttribute(Qs)!=="active"&&(XN(o,C),C.parentNode&&C.parentNode.removeChild(C))}}(this))}t.registerId=function(n){return Yu(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(_r({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,o=r.useCSSOMInjection,a=r.target,n=i?new nj(a):o?new ej(a):new tj(a),new qN(n)));var n,r,i,o,a},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(Yu(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(Yu(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(Yu(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,o="",a=0;a<i;a++){var s=_N(a);if(s!==void 0){var c=n.names.get(s),C=r.getGroup(a);if(c&&C&&c.size){var E=Qs+".g"+a+'[id="'+s+'"]',O="";c!==void 0&&c.forEach(function(y){y.length>0&&(O+=y+",")}),o+=""+C+E+'{content:"'+O+`"}/*!sc*/
`}}}return o}(this)},t}(),ij=/(a)(d)/gi,jb=function(t){return String.fromCharCode(t+(t>25?39:97))};function ig(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=jb(e%52)+n;return(jb(e%52)+n).replace(ij,"$1-$2")}var Ps=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},_x=function(t){return Ps(5381,t)};function oj(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Ql(n)&&!Jm(n))return!1}return!0}var sj=_x("5.3.11"),aj=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&oj(e),this.componentId=n,this.baseHash=Ps(sj,n),this.baseStyle=r,qx.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var a=zs(this.rules,e,n,r).join(""),s=ig(Ps(this.baseHash,a)>>>0);if(!n.hasNameForId(i,s)){var c=r(a,"."+s,void 0,i);n.insertRules(i,s,c)}o.push(s),this.staticRulesId=s}else{for(var C=this.rules.length,E=Ps(this.baseHash,r.hash),O="",y=0;y<C;y++){var b=this.rules[y];if(typeof b=="string")O+=b;else if(b){var P=zs(b,e,n,r),g=Array.isArray(P)?P.join(""):P;E=Ps(E,g+y),O+=g}}if(O){var m=ig(E>>>0);if(!n.hasNameForId(i,m)){var v=r(O,"."+m,void 0,i);n.insertRules(i,m,v)}o.push(m)}}return o.join(" ")},t}(),lj=/^\s*\/\/.*$/gm,uj=[":","[",".","#"];function cj(t){var e,n,r,i,o=t===void 0?Fi:t,a=o.options,s=a===void 0?Fi:a,c=o.plugins,C=c===void 0?uf:c,E=new wN(s),O=[],y=function(g){function m(v){if(v)try{g(v+"}")}catch{}}return function(v,f,l,d,h,p,u,x,V,A){switch(v){case 1:if(V===0&&f.charCodeAt(0)===64)return g(f+";"),"";break;case 2:if(x===0)return f+"/*|*/";break;case 3:switch(x){case 102:case 112:return g(l[0]+f),"";default:return f+(A===0?"/*|*/":"")}case-2:f.split("/*|*/}").forEach(m)}}}(function(g){O.push(g)}),b=function(g,m,v){return m===0&&uj.indexOf(v[n.length])!==-1||v.match(i)?g:"."+e};function P(g,m,v,f){f===void 0&&(f="&");var l=g.replace(lj,""),d=m&&v?v+" "+m+" { "+l+" }":l;return e=f,n=m,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),E(v||!m?"":m,d)}return E.use([].concat(C,[function(g,m,v){g===2&&v.length&&v[0].lastIndexOf(n)>0&&(v[0]=v[0].replace(r,b))},y,function(g){if(g===-2){var m=O;return O=[],m}}])),P.hash=C.length?C.reduce(function(g,m){return m.name||iu(15),Ps(g,m.name)},5381).toString():"",P}var Gx=Ve.createContext();Gx.Consumer;var kx=Ve.createContext(),fj=(kx.Consumer,new qx),og=cj();function dj(){return X.useContext(Gx)||fj}function hj(){return X.useContext(kx)||og}var Jx=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=og);var a=r.name+o.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,o(r.rules,a,"@keyframes"))},this.toString=function(){return iu(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=og),this.name+e.hash},t}(),pj=/([A-Z])/,gj=/([A-Z])/g,mj=/^ms-/,yj=function(t){return"-"+t.toLowerCase()};function Fb(t){return pj.test(t)?t.replace(gj,yj).replace(mj,"-ms-"):t}var Ub=function(t){return t==null||t===!1||t===""};function zs(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],a=0,s=t.length;a<s;a+=1)(i=zs(t[a],e,n,r))!==""&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}if(Ub(t))return"";if(Jm(t))return"."+t.styledComponentId;if(Ql(t)){if(typeof(C=t)!="function"||C.prototype&&C.prototype.isReactComponent||!e)return t;var c=t(e);return zs(c,e,n,r)}var C;return t instanceof Jx?n?(t.inject(n,r),t.getName(r)):t:rg(t)?function E(O,y){var b,P,g=[];for(var m in O)O.hasOwnProperty(m)&&!Ub(O[m])&&(Array.isArray(O[m])&&O[m].isCss||Ql(O[m])?g.push(Fb(m)+":",O[m],";"):rg(O[m])?g.push.apply(g,E(O[m],m)):g.push(Fb(m)+": "+(b=m,(P=O[m])==null||typeof P=="boolean"||P===""?"":typeof P!="number"||P===0||b in AN||b.startsWith("--")?String(P).trim():P+"px")+";"));return y?[y+" {"].concat(g,["}"]):g}(t):t.toString()}var Wb=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function Yx(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ql(t)||rg(t)?Wb(zs(Lb(uf,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:Wb(zs(Lb(t,n)))}var vj=function(t,e,n){return n===void 0&&(n=Fi),t.theme!==n.theme&&t.theme||e||n.theme},Cj=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Pj=/(^-|-$)/g;function Dh(t){return t.replace(Cj,"-").replace(Pj,"")}var Xx=function(t){return ig(_x(t)>>>0)};function Xu(t){return typeof t=="string"&&!0}var sg=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},bj=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function Ej(t,e,n){var r=t[n];sg(e)&&sg(r)?Zx(r,e):t[n]=e}function Zx(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(sg(a))for(var s in a)bj(s)&&Ej(t,a[s],s)}return t}var eT=Ve.createContext();eT.Consumer;var Ih={};function tT(t,e,n){var r=Jm(t),i=!Xu(t),o=e.attrs,a=o===void 0?uf:o,s=e.componentId,c=s===void 0?function(f,l){var d=typeof f!="string"?"sc":Dh(f);Ih[d]=(Ih[d]||0)+1;var h=d+"-"+Xx("5.3.11"+d+Ih[d]);return l?l+"-"+h:h}(e.displayName,e.parentComponentId):s,C=e.displayName,E=C===void 0?function(f){return Xu(f)?"styled."+f:"Styled("+Bb(f)+")"}(t):C,O=e.displayName&&e.componentId?Dh(e.displayName)+"-"+e.componentId:e.componentId||c,y=r&&t.attrs?Array.prototype.concat(t.attrs,a).filter(Boolean):a,b=e.shouldForwardProp;r&&t.shouldForwardProp&&(b=e.shouldForwardProp?function(f,l,d){return t.shouldForwardProp(f,l,d)&&e.shouldForwardProp(f,l,d)}:t.shouldForwardProp);var P,g=new aj(n,O,r?t.componentStyle:void 0),m=g.isStatic&&a.length===0,v=function(f,l){return function(d,h,p,u){var x=d.attrs,V=d.componentStyle,A=d.defaultProps,M=d.foldedComponentIds,T=d.shouldForwardProp,D=d.styledComponentId,R=d.target,S=function(q,K,re){q===void 0&&(q=Fi);var Y=_r({},K,{theme:q}),Ee={};return re.forEach(function(ve){var Oe,pe,Ze,st=ve;for(Oe in Ql(st)&&(st=st(Y)),st)Y[Oe]=Ee[Oe]=Oe==="className"?(pe=Ee[Oe],Ze=st[Oe],pe&&Ze?pe+" "+Ze:pe||Ze):st[Oe]}),[Y,Ee]}(vj(h,X.useContext(eT),A)||Fi,h,x),I=S[0],w=S[1],L=function(q,K,re,Y){var Ee=dj(),ve=hj(),Oe=K?q.generateAndInjectStyles(Fi,Ee,ve):q.generateAndInjectStyles(re,Ee,ve);return Oe}(V,u,I),F=p,W=w.$as||h.$as||w.as||h.as||R,U=Xu(W),Q=w!==h?_r({},h,{},w):h,$={};for(var z in Q)z[0]!=="$"&&z!=="as"&&(z==="forwardedAs"?$.as=Q[z]:(T?T(z,Mb,W):!U||Mb(z))&&($[z]=Q[z]));return h.style&&w.style!==h.style&&($.style=_r({},h.style,{},w.style)),$.className=Array.prototype.concat(M,D,L!==D?L:null,h.className,w.className).filter(Boolean).join(" "),$.ref=F,X.createElement(W,$)}(P,f,l,m)};return v.displayName=E,(P=Ve.forwardRef(v)).attrs=y,P.componentStyle=g,P.displayName=E,P.shouldForwardProp=b,P.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):uf,P.styledComponentId=O,P.target=r?t.target:t,P.withComponent=function(f){var l=e.componentId,d=function(p,u){if(p==null)return{};var x,V,A={},M=Object.keys(p);for(V=0;V<M.length;V++)x=M[V],u.indexOf(x)>=0||(A[x]=p[x]);return A}(e,["componentId"]),h=l&&l+"-"+(Xu(f)?f:Dh(Bb(f)));return tT(f,_r({},d,{attrs:y,componentId:h}),n)},Object.defineProperty(P,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(f){this._foldedDefaultProps=r?Zx({},t.defaultProps,f):f}}),Object.defineProperty(P,"toString",{value:function(){return"."+P.styledComponentId}}),i&&KN(P,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),P}var ag=function(t){return function e(n,r,i){if(i===void 0&&(i=Fi),!_m.isValidElementType(r))return iu(1,String(r));var o=function(){return n(r,i,Yx.apply(void 0,arguments))};return o.withConfig=function(a){return e(n,r,_r({},i,{},a))},o.attrs=function(a){return e(n,r,_r({},i,{attrs:Array.prototype.concat(i.attrs,a).filter(Boolean)}))},o}(tT,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){ag[t]=ag(t)});function Xm(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=Yx.apply(void 0,[t].concat(n)).join(""),o=Xx(i);return new Jx(o,i)}const ou=ag;var nT=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ir=242.776657104492,Oj=1.6,Sj=Xm(Qb||(Qb=nT([`
  12.5% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  43.75% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  100% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
`],[`
  12.5% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  43.75% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  100% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
`])),ir*.14,ir,ir*.11,ir*.35,ir,ir*.35,ir*.01,ir,ir*.99);ou.path(zb||(zb=nT([`
  stroke-dasharray: `,"px, ",`;
  stroke-dashoffset: 0;
  animation: `," ",`s linear infinite;
`],[`
  stroke-dasharray: `,"px, ",`;
  stroke-dashoffset: 0;
  animation: `," ",`s linear infinite;
`])),ir*.01,ir,Sj,Oj);var Qb,zb,Hb=globalThis&&globalThis.__assign||function(){return Hb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hb.apply(this,arguments)},Kb=globalThis&&globalThis.__assign||function(){return Kb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kb.apply(this,arguments)},$b=globalThis&&globalThis.__assign||function(){return $b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$b.apply(this,arguments)},qb=globalThis&&globalThis.__assign||function(){return qb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qb.apply(this,arguments)},_b=globalThis&&globalThis.__assign||function(){return _b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_b.apply(this,arguments)},Gb=globalThis&&globalThis.__assign||function(){return Gb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gb.apply(this,arguments)},kb=globalThis&&globalThis.__assign||function(){return kb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kb.apply(this,arguments)},xj=function(e,n){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof r[e]<"u")return r[e];if(e&&e.indexOf(".")>0){for(var i=e.split("."),o=i.length,a=r[i[0]],s=1;a!=null&&s<o;)a=a[i[s]],s+=1;if(typeof a<"u")return a}return n}},Zm=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Jb=globalThis&&globalThis.__assign||function(){return Jb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jb.apply(this,arguments)},Tj=Xm(Yb||(Yb=Zm([`
 to {
    transform: rotate(360deg);
  }
`],[`
 to {
    transform: rotate(360deg);
  }
`])));ou.svg(Xb||(Xb=Zm([`
  animation: `,` 0.75s steps(12, end) infinite;
  animation-duration: `,`s;
`],[`
  animation: `,` 0.75s steps(12, end) infinite;
  animation-duration: `,`s;
`])),Tj,xj("speed","0.75"));ou.polyline(Zb||(Zb=Zm([`
  stroke-width: `,`px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`],[`
  stroke-width: `,`px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`])),function(t){return t.width});var Yb,Xb,Zb,eE=globalThis&&globalThis.__assign||function(){return eE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},eE.apply(this,arguments)},tE=globalThis&&globalThis.__assign||function(){return tE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tE.apply(this,arguments)},nE=globalThis&&globalThis.__assign||function(){return nE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nE.apply(this,arguments)},ey=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},il=globalThis&&globalThis.__assign||function(){return il=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},il.apply(this,arguments)},Rj=Xm(rE||(rE=ey([`
 to {
    stroke-dashoffset: 136;
  }
`],[`
 to {
    stroke-dashoffset: 136;
  }
`]))),Dj=ou.polygon(iE||(iE=ey([`
  stroke-dasharray: 17;
  animation: `,` 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`],[`
  stroke-dasharray: 17;
  animation: `,` 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`])),Rj),Ij=ou.svg(oE||(oE=ey([`
  transform-origin: 50% 65%;
`],[`
  transform-origin: 50% 65%;
`]))),ty=function(t){var e=t.height,n=e===void 0?80:e,r=t.width,i=r===void 0?80:r,o=t.color,a=o===void 0?xN:o,s=t.ariaLabel,c=s===void 0?"triangle-loading":s,C=t.wrapperStyle,E=t.wrapperClass,O=t.visible,y=O===void 0?!0:O;return Ve.createElement("div",il({style:il(il({},SN(y)),C),className:"".concat(E),"data-testid":"triangle-loading","aria-label":c},TN),Ve.createElement(Ij,{id:"triangle",width:i,height:n,viewBox:"-3 -4 39 39","data-testid":"triangle-svg"},Ve.createElement(Dj,{fill:"transparent",stroke:a,strokeWidth:"1",points:"16,0 32,32 0,32"})))},rE,iE,oE,sE=globalThis&&globalThis.__assign||function(){return sE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sE.apply(this,arguments)},aE=globalThis&&globalThis.__assign||function(){return aE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},aE.apply(this,arguments)},lE=globalThis&&globalThis.__assign||function(){return lE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lE.apply(this,arguments)},uE=globalThis&&globalThis.__assign||function(){return uE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},uE.apply(this,arguments)},cE=globalThis&&globalThis.__assign||function(){return cE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},cE.apply(this,arguments)},fE=globalThis&&globalThis.__assign||function(){return fE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fE.apply(this,arguments)},dE=globalThis&&globalThis.__assign||function(){return dE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dE.apply(this,arguments)},hE=globalThis&&globalThis.__assign||function(){return hE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hE.apply(this,arguments)},pE=globalThis&&globalThis.__assign||function(){return pE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pE.apply(this,arguments)},gE=globalThis&&globalThis.__assign||function(){return gE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gE.apply(this,arguments)},mE=globalThis&&globalThis.__assign||function(){return mE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mE.apply(this,arguments)},yE=globalThis&&globalThis.__assign||function(){return yE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yE.apply(this,arguments)},vE=globalThis&&globalThis.__assign||function(){return vE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vE.apply(this,arguments)};const rT=t=>{const e=US(),n=t.generalData,r=t.surveyData,i=()=>{const x=n.filter(V=>{if(V.undergradTuition.length!==0)return V.undergradTuition.split("-").pop().replace(/[$,]/g,"").trim()<=r.tuition||V.universityGeneralGrade<=r.grade});return x.sort((V,A)=>V.universityRank!==A.universityRank?V.universityRank-A.universityRank:0),x.length>0?x[0].name:"Algoma University"},o=()=>{const x=n.filter(V=>{if(V.undergradTuitionForeign.length!==0)return V.undergradTuitionForeign.split("-").pop().replace(/[$,]/g,"").trim()<=r.tuition||V.universityGeneralGrade<=r.grade});return x.sort((V,A)=>V.universityRank!==A.universityRank?V.universityRank-A.universityRank:0),x.length>0?x[0].name:"Algoma University"};let a="";r&&t.surveyData.finalChoice=="best"?t.surveyData.cadStatus=="cad"?a=i():a=o():a=t.selectedUniversity;const s=n.find(x=>{if(x.name.includes(a))return x}),c=(s.universityMainBranch==""?"TBA":`${s.universityMainBranch}`)+(s.universityAffiliateBranch==""?"":`, ${s.universityAffiliateBranch}`),C=(s.universityMainBranchPrograms==""?"TBA":`${s.universityMainBranchPrograms}`)+(s.universityAffiliateBranchPrograms==""?"":` & adjunct ${s.universityAffiliateBranchPrograms}`);let E=0,O=0,y=0,b=0,P=0;s.artGrade&&(O=Number(s.artGrade.split("-").pop().replace(/[%]/g,"").trim()),E++),s.commerceGrade&&(y=Number(s.commerceGrade.split("-").pop().replace(/[%]/g,"").trim()),E++),s.engineeringGrade&&(b=Number(s.engineeringGrade.split("-").pop().replace(/[%]/g,"").trim()),E++),s.scienceGrade&&(P=Number(s.scienceGrade.split("-").pop().replace(/[%]/g,"").trim()),E++);let g=(y+O+b+P)/E;const m=s.universityGeneralGrade==""?`${g}%`:`${s.universityGeneralGrade}%`,v=s.universityRank==""?"TBA":` # ${s.universityRank}`,f=[],l=[];n.map(x=>{if(f.push(x.name),x.universityGeneralGrade==""){let V=[];V.push(Number(x.engineeringGrade.split("-").pop().replace(/[%]/g,"").trim())),V.push(Number(x.artGrade.split("-").pop().replace(/[%]/g,"").trim())),V.push(Number(x.commerceGrade.split("-").pop().replace(/[%]/g,"").trim())),V.push(Number(x.scienceGrade.split("-").pop().replace(/[%]/g,"").trim()));let A=V.reduce((M,T)=>M+T,0)/V.length;l.push(A)}else l.push(x.universityGeneralGrade)});const d=s.undergradTuition.split("-").pop().replace(/[$,]/g,"").trim(),h=s.undergradTuitionForeign.split("-").pop().replace(/[$,]/g,"").trim(),p=()=>{const x=()=>{if(r.major=="science")return P;if(r.major=="art")return O;if(r.major=="commerce")return y;if(r.major=="engineering")return b},V=((x()-r.grade)/x()*100).toFixed(2),M=(()=>{if(x()==0)return`This university has no ${r.major} program`;if(r.grade>=x())return`You pass the ${r.major} average of ${x()}%`;if(r.grade<x())return`You are ${V}% off the ${r.major} average of ${x()}%`})(),D=(()=>{if(r.cadStatus=="canadian"){if(d==0)return"TBA";if(r.tuition>=d)return"You can afford the tuition";if(r.tuition<d)return`You are $${d-r.tuition} off the tuition amount.`}else{if(h==0)return"TBA";if(r.tuition>=h)return"You can afford the tuition";if(r.tuition<h)return`You are $${h-r.tuition} off the tuition amount.`}})();return Z.jsxs(Z.Fragment,{children:[Z.jsx(rs,{cardLabel:r.major,cardContent:M,color:"text-yellow-400"}),Z.jsx(rs,{cardLabel:"Tuition",cardContent:D,color:"text-yellow-400"})]})},u=x=>{x.preventDefault(),e(-1)};return Z.jsxs("div",{className:` w-full h-full text-white flex flex-col justify-center items-center
                    md:
                    lg:
        `,children:[a&&Z.jsxs("div",{className:" overflow-auto w-full grid grid-cols-1 p-2 justify-items-center justify-self-center ",children:[Z.jsxs("div",{className:" w-11/12 h-14 mt-4 text-center",children:[Z.jsx("br",{}),Z.jsx("h1",{className:"h-full font-bold text-3xl",children:a})]}),Z.jsxs("div",{className:" transition-all ease-in-out duration-300 delay-75  w-11/12 max-h-full mx-auto my-10 grid gap-5  md:grid-cols-2 ",children:[Z.jsx(rs,{cardLabel:"Branches",cardContent:c,color:"text-yellow-400"}),Z.jsx(rs,{cardLabel:"Programs",cardContent:C,color:"text-green-500"}),Z.jsx(rs,{cardLabel:"Minimum Entrance Grade",cardContent:m,color:"text-red-400"}),Z.jsx(rs,{cardLabel:"Ontario University Rank",cardContent:v,color:"text-[#450a0a]"}),r&&p()]}),Z.jsx("div",{className:"transition-all ease-in-out duration-300 delay-75  w-11/12 max-h-full mx-auto my-10 grid gap-5 ",children:Z.jsx(ON,{names:f,grades:l,cadTuition:d,foreignTuition:h})}),Z.jsx("button",{onClick:u,className:"transition-all ease-in-out duration-300 p-7 mb-5 bg-purple-500 font-extrabold  rounded-2xl hover:scale-[1.02] ",children:"GO BACK"})]}),!a&&Z.jsx("div",{className:"absolute text-bodyGold",children:Z.jsx(ty,{height:"300",width:"300",color:"#BFA181",ariaLabel:"triangle-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})})]})};var Mh={exports:{}};/*!
 * surveyjs - Survey JavaScript library v1.9.97
 * Copyright (c) 2015-2023 Devsoft Baltic O  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */var CE;function iT(){return CE||(CE=1,function(t,e){(function(r,i){t.exports=i()})(d0,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return n[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:s})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(a&1&&(o=i(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var c in o)i.d(s,c,function(C){return o[C]}.bind(null,c));return s},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s="./src/entries/core.ts")}({"./node_modules/signature_pad/dist/signature_pad.js":function(n,r,i){i.r(r),i.d(r,"default",function(){return C});/*!
 * Signature Pad v4.1.5 | https://github.com/szimek/signature_pad
 * (c) 2023 Szymon Nowak | Released under the MIT license
 */class o{constructor(O,y,b,P){if(isNaN(O)||isNaN(y))throw new Error(`Point is invalid: (${O}, ${y})`);this.x=+O,this.y=+y,this.pressure=b||0,this.time=P||Date.now()}distanceTo(O){return Math.sqrt(Math.pow(this.x-O.x,2)+Math.pow(this.y-O.y,2))}equals(O){return this.x===O.x&&this.y===O.y&&this.pressure===O.pressure&&this.time===O.time}velocityFrom(O){return this.time!==O.time?this.distanceTo(O)/(this.time-O.time):0}}class a{constructor(O,y,b,P,g,m){this.startPoint=O,this.control2=y,this.control1=b,this.endPoint=P,this.startWidth=g,this.endWidth=m}static fromPoints(O,y){const b=this.calculateControlPoints(O[0],O[1],O[2]).c2,P=this.calculateControlPoints(O[1],O[2],O[3]).c1;return new a(O[1],b,P,O[2],y.start,y.end)}static calculateControlPoints(O,y,b){const P=O.x-y.x,g=O.y-y.y,m=y.x-b.x,v=y.y-b.y,f={x:(O.x+y.x)/2,y:(O.y+y.y)/2},l={x:(y.x+b.x)/2,y:(y.y+b.y)/2},d=Math.sqrt(P*P+g*g),h=Math.sqrt(m*m+v*v),p=f.x-l.x,u=f.y-l.y,x=h/(d+h),V={x:l.x+p*x,y:l.y+u*x},A=y.x-V.x,M=y.y-V.y;return{c1:new o(f.x+A,f.y+M),c2:new o(l.x+A,l.y+M)}}length(){let y=0,b,P;for(let g=0;g<=10;g+=1){const m=g/10,v=this.point(m,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),f=this.point(m,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(g>0){const l=v-b,d=f-P;y+=Math.sqrt(l*l+d*d)}b=v,P=f}return y}point(O,y,b,P,g){return y*(1-O)*(1-O)*(1-O)+3*b*(1-O)*(1-O)*O+3*P*(1-O)*O*O+g*O*O*O}}class s{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(O,y,b){this._et.addEventListener(O,y,b)}dispatchEvent(O){return this._et.dispatchEvent(O)}removeEventListener(O,y,b){this._et.removeEventListener(O,y,b)}}function c(E,O=250){let y=0,b=null,P,g,m;const v=()=>{y=Date.now(),b=null,P=E.apply(g,m),b||(g=null,m=[])};return function(...l){const d=Date.now(),h=O-(d-y);return g=this,m=l,h<=0||h>O?(b&&(clearTimeout(b),b=null),y=d,P=E.apply(g,m),b||(g=null,m=[])):b||(b=window.setTimeout(v,h)),P}}class C extends s{constructor(O,y={}){super(),this.canvas=O,this._drawningStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=b=>{b.buttons===1&&(this._drawningStroke=!0,this._strokeBegin(b))},this._handleMouseMove=b=>{this._drawningStroke&&this._strokeMoveUpdate(b)},this._handleMouseUp=b=>{b.buttons===1&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(b))},this._handleTouchStart=b=>{if(b.cancelable&&b.preventDefault(),b.targetTouches.length===1){const P=b.changedTouches[0];this._strokeBegin(P)}},this._handleTouchMove=b=>{b.cancelable&&b.preventDefault();const P=b.targetTouches[0];this._strokeMoveUpdate(P)},this._handleTouchEnd=b=>{if(b.target===this.canvas){b.cancelable&&b.preventDefault();const g=b.changedTouches[0];this._strokeEnd(g)}},this._handlePointerStart=b=>{this._drawningStroke=!0,b.preventDefault(),this._strokeBegin(b)},this._handlePointerMove=b=>{this._drawningStroke&&(b.preventDefault(),this._strokeMoveUpdate(b))},this._handlePointerEnd=b=>{this._drawningStroke&&(b.preventDefault(),this._drawningStroke=!1,this._strokeEnd(b))},this.velocityFilterWeight=y.velocityFilterWeight||.7,this.minWidth=y.minWidth||.5,this.maxWidth=y.maxWidth||2.5,this.throttle="throttle"in y?y.throttle:16,this.minDistance="minDistance"in y?y.minDistance:5,this.dotSize=y.dotSize||0,this.penColor=y.penColor||"black",this.backgroundColor=y.backgroundColor||"rgba(0,0,0,0)",this._strokeMoveUpdate=this.throttle?c(C.prototype._strokeUpdate,this.throttle):C.prototype._strokeUpdate,this._ctx=O.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:O,canvas:y}=this;O.fillStyle=this.backgroundColor,O.clearRect(0,0,y.width,y.height),O.fillRect(0,0,y.width,y.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(O,y={}){return new Promise((b,P)=>{const g=new Image,m=y.ratio||window.devicePixelRatio||1,v=y.width||this.canvas.width/m,f=y.height||this.canvas.height/m,l=y.xOffset||0,d=y.yOffset||0;this._reset(this._getPointGroupOptions()),g.onload=()=>{this._ctx.drawImage(g,l,d,v,f),b()},g.onerror=h=>{P(h)},g.crossOrigin="anonymous",g.src=O,this._isEmpty=!1})}toDataURL(O="image/png",y){switch(O){case"image/svg+xml":return typeof y!="object"&&(y=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(y))}`;default:return typeof y!="number"&&(y=void 0),this.canvas.toDataURL(O,y)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const O=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!O?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(O,{clear:y=!0}={}){y&&this.clear(),this._fromData(O,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(O)}toData(){return this._data}_getPointGroupOptions(O){return{penColor:O&&"penColor"in O?O.penColor:this.penColor,dotSize:O&&"dotSize"in O?O.dotSize:this.dotSize,minWidth:O&&"minWidth"in O?O.minWidth:this.minWidth,maxWidth:O&&"maxWidth"in O?O.maxWidth:this.maxWidth,velocityFilterWeight:O&&"velocityFilterWeight"in O?O.velocityFilterWeight:this.velocityFilterWeight}}_strokeBegin(O){this.dispatchEvent(new CustomEvent("beginStroke",{detail:O}));const y=this._getPointGroupOptions(),b=Object.assign(Object.assign({},y),{points:[]});this._data.push(b),this._reset(y),this._strokeUpdate(O)}_strokeUpdate(O){if(this._data.length===0){this._strokeBegin(O);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:O}));const y=O.clientX,b=O.clientY,P=O.pressure!==void 0?O.pressure:O.force!==void 0?O.force:0,g=this._createPoint(y,b,P),m=this._data[this._data.length-1],v=m.points,f=v.length>0&&v[v.length-1],l=f?g.distanceTo(f)<=this.minDistance:!1,d=this._getPointGroupOptions(m);if(!f||!(f&&l)){const h=this._addPoint(g,d);f?h&&this._drawCurve(h,d):this._drawDot(g,d),v.push({time:g.time,x:g.x,y:g.y,pressure:g.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:O}))}_strokeEnd(O){this._strokeUpdate(O),this.dispatchEvent(new CustomEvent("endStroke",{detail:O}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(O){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(O.minWidth+O.maxWidth)/2,this._ctx.fillStyle=O.penColor}_createPoint(O,y,b){const P=this.canvas.getBoundingClientRect();return new o(O-P.left,y-P.top,b,new Date().getTime())}_addPoint(O,y){const{_lastPoints:b}=this;if(b.push(O),b.length>2){b.length===3&&b.unshift(b[0]);const P=this._calculateCurveWidths(b[1],b[2],y),g=a.fromPoints(b,P);return b.shift(),g}return null}_calculateCurveWidths(O,y,b){const P=b.velocityFilterWeight*y.velocityFrom(O)+(1-b.velocityFilterWeight)*this._lastVelocity,g=this._strokeWidth(P,b),m={end:g,start:this._lastWidth};return this._lastVelocity=P,this._lastWidth=g,m}_strokeWidth(O,y){return Math.max(y.maxWidth/(O+1),y.minWidth)}_drawCurveSegment(O,y,b){const P=this._ctx;P.moveTo(O,y),P.arc(O,y,b,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(O,y){const b=this._ctx,P=O.endWidth-O.startWidth,g=Math.ceil(O.length())*2;b.beginPath(),b.fillStyle=y.penColor;for(let m=0;m<g;m+=1){const v=m/g,f=v*v,l=f*v,d=1-v,h=d*d,p=h*d;let u=p*O.startPoint.x;u+=3*h*v*O.control1.x,u+=3*d*f*O.control2.x,u+=l*O.endPoint.x;let x=p*O.startPoint.y;x+=3*h*v*O.control1.y,x+=3*d*f*O.control2.y,x+=l*O.endPoint.y;const V=Math.min(O.startWidth+l*P,y.maxWidth);this._drawCurveSegment(u,x,V)}b.closePath(),b.fill()}_drawDot(O,y){const b=this._ctx,P=y.dotSize>0?y.dotSize:(y.minWidth+y.maxWidth)/2;b.beginPath(),this._drawCurveSegment(O.x,O.y,P),b.closePath(),b.fillStyle=y.penColor,b.fill()}_fromData(O,y,b){for(const P of O){const{points:g}=P,m=this._getPointGroupOptions(P);if(g.length>1)for(let v=0;v<g.length;v+=1){const f=g[v],l=new o(f.x,f.y,f.pressure,f.time);v===0&&this._reset(m);const d=this._addPoint(l,m);d&&y(d,m)}else this._reset(m),b(g[0],m)}}toSVG({includeBackgroundColor:O=!1}={}){const y=this._data,b=Math.max(window.devicePixelRatio||1,1),P=0,g=0,m=this.canvas.width/b,v=this.canvas.height/b,f=document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.setAttribute("xmlns","http://www.w3.org/2000/svg"),f.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),f.setAttribute("viewBox",`${P} ${g} ${m} ${v}`),f.setAttribute("width",m.toString()),f.setAttribute("height",v.toString()),O&&this.backgroundColor){const l=document.createElement("rect");l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("fill",this.backgroundColor),f.appendChild(l)}return this._fromData(y,(l,{penColor:d})=>{const h=document.createElement("path");if(!isNaN(l.control1.x)&&!isNaN(l.control1.y)&&!isNaN(l.control2.x)&&!isNaN(l.control2.y)){const p=`M ${l.startPoint.x.toFixed(3)},${l.startPoint.y.toFixed(3)} C ${l.control1.x.toFixed(3)},${l.control1.y.toFixed(3)} ${l.control2.x.toFixed(3)},${l.control2.y.toFixed(3)} ${l.endPoint.x.toFixed(3)},${l.endPoint.y.toFixed(3)}`;h.setAttribute("d",p),h.setAttribute("stroke-width",(l.endWidth*2.25).toFixed(3)),h.setAttribute("stroke",d),h.setAttribute("fill","none"),h.setAttribute("stroke-linecap","round"),f.appendChild(h)}},(l,{penColor:d,dotSize:h,minWidth:p,maxWidth:u})=>{const x=document.createElement("circle"),V=h>0?h:(p+u)/2;x.setAttribute("r",V.toString()),x.setAttribute("cx",l.x.toString()),x.setAttribute("cy",l.y.toString()),x.setAttribute("fill",d),f.appendChild(x)}),f.outerHTML}}},"./src/actions/action.ts":function(n,r,i){i.r(r),i.d(r,"createDropdownActionModel",function(){return P}),i.d(r,"createDropdownActionModelAdvanced",function(){return g}),i.d(r,"getActionDropdownButtonTarget",function(){return m}),i.d(r,"BaseAction",function(){return v}),i.d(r,"Action",function(){return f}),i.d(r,"ActionDropdownViewModel",function(){return l});var o=i("./src/base.ts"),a=i("./src/surveyStrings.ts"),s=i("./src/jsonobject.ts"),c=i("./src/list.ts"),C=i("./src/popup.ts"),E=i("./src/utils/cssClassBuilder.ts"),O=i("./src/actions/container.ts"),y=function(){var d=function(h,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,x){u.__proto__=x}||function(u,x){for(var V in x)Object.prototype.hasOwnProperty.call(x,V)&&(u[V]=x[V])},d(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(h,p);function u(){this.constructor=h}h.prototype=p===null?Object.create(p):(u.prototype=p.prototype,new u)}}(),b=function(d,h,p,u){var x=arguments.length,V=x<3?h:u===null?u=Object.getOwnPropertyDescriptor(h,p):u,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(d,h,p,u);else for(var M=d.length-1;M>=0;M--)(A=d[M])&&(V=(x<3?A(V):x>3?A(h,p,V):A(h,p))||V);return x>3&&V&&Object.defineProperty(h,p,V),V};function P(d,h,p){return g(d,h,h,p)}function g(d,h,p,u){var x=new c.ListModel(h.items,function(T){h.onSelectionChanged(T),V.toggleVisibility()},h.allowSelection,h.selectedItem,h.onFilterStringChangedCallback);x.locOwner=u;var V=new C.PopupModel("sv-list",{model:x},p==null?void 0:p.verticalPosition,p==null?void 0:p.horizontalPosition,p==null?void 0:p.showPointer,p==null?void 0:p.isModal,p==null?void 0:p.onCancel,p==null?void 0:p.onApply,p==null?void 0:p.onHide,p==null?void 0:p.onShow,p==null?void 0:p.cssClass,p==null?void 0:p.title);V.displayMode=p==null?void 0:p.displayMode;var A=Object.assign({},d,{component:"sv-action-bar-item-dropdown",popupModel:V,action:function(T,D){d.action&&d.action(),V.isFocusedContent=!D||x.showFilter,V.toggleVisibility(),x.scrollToSelectedItem()}}),M=new f(A);return M.data=x,M}function m(d){return d==null?void 0:d.previousElementSibling}var v=function(d){y(h,d);function h(){var p=d!==null&&d.apply(this,arguments)||this;return p.iconSize=24,p}return Object.defineProperty(h.prototype,"visible",{get:function(){return this.getVisible()},set:function(p){this.setVisible(p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"enabled",{get:function(){return this.getEnabled()},set:function(p){this.setEnabled(p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"component",{get:function(){return this.getComponent()},set:function(p){this.setComponent(p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"locTitle",{get:function(){return this.getLocTitle()},set:function(p){this.setLocTitle(p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"title",{get:function(){return this.getTitle()},set:function(p){this.setTitle(p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"cssClasses",{get:function(){return this.cssClassesValue||O.defaultActionBarCss},set:function(p){this.cssClassesValue=p},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isVisible",{get:function(){return this.visible&&this.mode!=="popup"&&this.mode!=="removed"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"disabled",{get:function(){return this.enabled!==void 0&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"canShrink",{get:function(){return!!this.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"hasTitle",{get:function(){return(this.mode!="small"&&(this.showTitle||this.showTitle===void 0)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),h.prototype.getActionBarItemTitleCss=function(){return new E.CssClassBuilder().append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},h.prototype.getActionBarItemCss=function(){return new E.CssClassBuilder().append(this.cssClasses.item).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},h.prototype.getActionRootCss=function(){return new E.CssClassBuilder().append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},h.prototype.getTooltip=function(){return this.tooltip||this.title},h.prototype.getIsTrusted=function(p){return p.originalEvent?p.originalEvent.isTrusted:p.isTrusted},b([Object(s.property)()],h.prototype,"tooltip",void 0),b([Object(s.property)()],h.prototype,"showTitle",void 0),b([Object(s.property)()],h.prototype,"innerCss",void 0),b([Object(s.property)()],h.prototype,"active",void 0),b([Object(s.property)()],h.prototype,"pressed",void 0),b([Object(s.property)()],h.prototype,"data",void 0),b([Object(s.property)()],h.prototype,"popupModel",void 0),b([Object(s.property)()],h.prototype,"needSeparator",void 0),b([Object(s.property)()],h.prototype,"template",void 0),b([Object(s.property)({defaultValue:"large"})],h.prototype,"mode",void 0),b([Object(s.property)()],h.prototype,"visibleIndex",void 0),b([Object(s.property)()],h.prototype,"disableTabStop",void 0),b([Object(s.property)()],h.prototype,"disableShrink",void 0),b([Object(s.property)()],h.prototype,"disableHide",void 0),b([Object(s.property)({defaultValue:!1})],h.prototype,"needSpace",void 0),b([Object(s.property)()],h.prototype,"ariaChecked",void 0),b([Object(s.property)()],h.prototype,"ariaExpanded",void 0),b([Object(s.property)({defaultValue:"button"})],h.prototype,"ariaRole",void 0),b([Object(s.property)()],h.prototype,"iconName",void 0),b([Object(s.property)()],h.prototype,"iconSize",void 0),b([Object(s.property)()],h.prototype,"css",void 0),h}(o.Base),f=function(d){y(h,d);function h(p){var u=d.call(this)||this;if(u.innerItem=p,u.locTitleChanged=function(){var V=u.locTitle.renderedHtml;u.setPropertyValue("_title",V||void 0)},u.locTitle=p?p.locTitle:null,p)for(var x in p)u[x]=p[x];return u.locTitleName&&u.locTitleChanged(),u.registerFunctionOnPropertyValueChanged("_title",function(){u.raiseUpdate(!0)}),u.locStrChangedInPopupModel(),u}return h.prototype.raiseUpdate=function(p){p===void 0&&(p=!1),this.updateCallback&&this.updateCallback(p)},h.prototype.createLocTitle=function(){return this.createLocalizableString("title",this,!0)},h.prototype.getLocTitle=function(){return this.locTitleValue},h.prototype.setLocTitle=function(p){!p&&!this.locTitleValue&&(p=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=p,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()},h.prototype.getTitle=function(){return this._title},h.prototype.setTitle=function(p){this._title=p},Object.defineProperty(h.prototype,"locTitleName",{get:function(){return this.locTitle.localizationName},set:function(p){this.locTitle.localizationName=p},enumerable:!1,configurable:!0}),h.prototype.locStrsChanged=function(){d.prototype.locStrsChanged.call(this),this.locTooltipChanged(),this.locStrChangedInPopupModel()},h.prototype.locStrChangedInPopupModel=function(){if(!(!this.popupModel||!this.popupModel.contentComponentData||!this.popupModel.contentComponentData.model)){var p=this.popupModel.contentComponentData.model;if(Array.isArray(p.actions)){var u=p.actions;u.forEach(function(x){x.locStrsChanged&&x.locStrsChanged()})}}},h.prototype.locTooltipChanged=function(){this.locTooltipName&&(this.tooltip=a.surveyLocalization.getString(this.locTooltipName,this.locTitle.locale))},h.prototype.getLocale=function(){return this.owner?this.owner.getLocale():""},h.prototype.getMarkdownHtml=function(p,u){return this.owner?this.owner.getMarkdownHtml(p,u):void 0},h.prototype.getProcessedText=function(p){return this.owner?this.owner.getProcessedText(p):p},h.prototype.getRenderer=function(p){return this.owner?this.owner.getRenderer(p):null},h.prototype.getRendererContext=function(p){return this.owner?this.owner.getRendererContext(p):p},h.prototype.setVisible=function(p){this._visible=p},h.prototype.getVisible=function(){return this._visible},h.prototype.setEnabled=function(p){this._enabled=p},h.prototype.getEnabled=function(){return this._enabled},h.prototype.setComponent=function(p){this._component=p},h.prototype.getComponent=function(){return this._component},b([Object(s.property)()],h.prototype,"id",void 0),b([Object(s.property)({defaultValue:!0,onSet:function(p,u){u.raiseUpdate()}})],h.prototype,"_visible",void 0),b([Object(s.property)({onSet:function(p,u){u.locTooltipChanged()}})],h.prototype,"locTooltipName",void 0),b([Object(s.property)()],h.prototype,"_enabled",void 0),b([Object(s.property)()],h.prototype,"action",void 0),b([Object(s.property)()],h.prototype,"_component",void 0),b([Object(s.property)()],h.prototype,"items",void 0),b([Object(s.property)({onSet:function(p,u){u.locTitleValue.text!==p&&(u.locTitleValue.text=p)}})],h.prototype,"_title",void 0),h}(v),l=function(){function d(h){this.item=h,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return d.prototype.setupPopupCallbacks=function(){var h=this,p=this.popupModel=this.item.popupModel;p&&p.registerPropertyChangedHandlers(["isVisible"],function(){p.isVisible?h.item.pressed=!0:h.item.pressed=!1},this.funcKey)},d.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)},d.prototype.dispose=function(){this.removePopupCallbacks()},d}()},"./src/actions/adaptive-container.ts":function(n,r,i){i.r(r),i.d(r,"AdaptiveActionContainer",function(){return E});var o=i("./src/utils/responsivity-manager.ts"),a=i("./src/actions/action.ts"),s=i("./src/actions/container.ts"),c=i("./src/surveyStrings.ts"),C=function(){var O=function(y,b){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,g){P.__proto__=g}||function(P,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(P[m]=g[m])},O(y,b)};return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");O(y,b);function P(){this.constructor=y}y.prototype=b===null?Object.create(b):(P.prototype=b.prototype,new P)}}(),E=function(O){C(y,O);function y(){var b=O.call(this)||this;return b.minVisibleItemsCount=0,b.isResponsivenessDisabled=!1,b.dotsItem=Object(a.createDropdownActionModelAdvanced)({id:"dotsItem-id"+y.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:c.surveyLocalization.getString("more")},{items:[],onSelectionChanged:function(P){b.hiddenItemSelected(P)},allowSelection:!1}),b}return y.prototype.hideItemsGreaterN=function(b){var P=this.visibleActions.filter(function(m){return!m.disableHide});b=Math.max(b,this.minVisibleItemsCount-(this.visibleActions.length-P.length));var g=[];P.forEach(function(m){b<=0&&(m.mode="popup",g.push(m.innerItem)),b--}),this.hiddenItemsListModel.setItems(g)},y.prototype.getVisibleItemsCount=function(b){this.visibleActions.filter(function(v){return v.disableHide}).forEach(function(v){return b-=v.minDimension});for(var P=this.visibleActions.filter(function(v){return!v.disableHide}).map(function(v){return v.minDimension}),g=0,m=0;m<P.length;m++)if(g+=P[m],g>b)return m;return m},y.prototype.updateItemMode=function(b,P){for(var g=this.visibleActions,m=g.length-1;m>=0;m--)P>b&&!g[m].disableShrink?(P-=g[m].maxDimension-g[m].minDimension,g[m].mode="small"):g[m].mode="large";if(P>b){var v=this.visibleActions.filter(function(f){return f.removePriority});v.sort(function(f,l){return f.removePriority-l.removePriority});for(var m=0;m<v.length;m++)P>b&&(P-=g[m].disableShrink?v[m].maxDimension:v[m].minDimension,v[m].mode="removed")}},Object.defineProperty(y.prototype,"hiddenItemsListModel",{get:function(){return this.dotsItem.data},enumerable:!1,configurable:!0}),y.prototype.hiddenItemSelected=function(b){b&&typeof b.action=="function"&&b.action()},y.prototype.onSet=function(){var b=this;this.actions.forEach(function(P){return P.updateCallback=function(g){return b.raiseUpdate(g)}}),O.prototype.onSet.call(this)},y.prototype.onPush=function(b){var P=this;b.updateCallback=function(g){return P.raiseUpdate(g)},O.prototype.onPush.call(this,b)},y.prototype.getRenderedActions=function(){return this.actions.length===1&&this.actions[0].iconName?this.actions:this.actions.concat([this.dotsItem])},y.prototype.raiseUpdate=function(b){this.isResponsivenessDisabled||O.prototype.raiseUpdate.call(this,b)},y.prototype.fit=function(b,P){if(!(b<=0)){this.dotsItem.visible=!1;var g=0,m=0,v=this.visibleActions;v.forEach(function(f){g+=f.minDimension,m+=f.maxDimension}),b>=m?this.setActionsMode("large"):b<g?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(b-P)),this.dotsItem.visible=!0):this.updateItemMode(b,m)}},y.prototype.initResponsivityManager=function(b){this.responsivityManager=new o.ResponsivityManager(b,this,":scope > .sv-action:not(.sv-dots) > .sv-action__content")},y.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},y.prototype.setActionsMode=function(b){this.actions.forEach(function(P){return P.mode=b})},y.prototype.dispose=function(){O.prototype.dispose.call(this),this.resetResponsivityManager()},y.ContainerID=1,y}(s.ActionContainer)},"./src/actions/container.ts":function(n,r,i){i.r(r),i.d(r,"defaultActionBarCss",function(){return y}),i.d(r,"ActionContainer",function(){return b});var o=i("./src/jsonobject.ts"),a=i("./src/base.ts"),s=i("./src/actions/action.ts"),c=i("./src/utils/cssClassBuilder.ts"),C=i("./src/utils/utils.ts"),E=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),O=function(P,g,m,v){var f=arguments.length,l=f<3?g:v===null?v=Object.getOwnPropertyDescriptor(g,m):v,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(P,g,m,v);else for(var h=P.length-1;h>=0;h--)(d=P[h])&&(l=(f<3?d(l):f>3?d(g,m,l):d(g,m))||l);return f>3&&l&&Object.defineProperty(g,m,l),l},y={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},b=function(P){E(g,P);function g(){var m=P!==null&&P.apply(this,arguments)||this;return m.sizeMode="default",m}return g.prototype.getMarkdownHtml=function(m,v){return this.locOwner?this.locOwner.getMarkdownHtml(m,v):void 0},g.prototype.getRenderer=function(m){return this.locOwner?this.locOwner.getRenderer(m):null},g.prototype.getRendererContext=function(m){return this.locOwner?this.locOwner.getRendererContext(m):m},g.prototype.getProcessedText=function(m){return this.locOwner?this.locOwner.getProcessedText(m):m},g.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},g.prototype.getRenderedActions=function(){return this.actions},g.prototype.locStrsChanged=function(){P.prototype.locStrsChanged.call(this),this.actions.forEach(function(m){m.locTitle&&m.locTitle.strChanged(),m.locStrsChanged()})},g.prototype.raiseUpdate=function(m){this.isEmpty=!this.actions.some(function(v){return v.visible}),this.updateCallback&&this.updateCallback(m)},g.prototype.onSet=function(){var m=this;this.actions.forEach(function(v){m.setActionCssClasses(v)}),this.raiseUpdate(!0)},g.prototype.onPush=function(m){this.setActionCssClasses(m),m.owner=this,this.raiseUpdate(!0)},g.prototype.onRemove=function(m){m.owner=null,this.raiseUpdate(!0)},g.prototype.setActionCssClasses=function(m){m.cssClasses=this.cssClasses},Object.defineProperty(g.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"visibleActions",{get:function(){return this.actions.filter(function(m){return m.visible!==!1})},enumerable:!1,configurable:!0}),g.prototype.getRootCss=function(){var m=this.sizeMode==="small"?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return new c.CssClassBuilder().append(this.cssClasses.root+(m?" "+m:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()},g.prototype.getDefaultCssClasses=function(){return y},Object.defineProperty(g.prototype,"cssClasses",{get:function(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue},set:function(m){var v=this;this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),Object(C.mergeValues)(m,this.cssClasses),this.actions.forEach(function(f){v.setActionCssClasses(f)})},enumerable:!1,configurable:!0}),g.prototype.createAction=function(m){return m instanceof s.BaseAction?m:new s.Action(m)},g.prototype.addAction=function(m,v){var f=this.createAction(m);return this.actions.push(f),this.sortItems(),f},g.prototype.sortItems=function(){this.actions=[].concat(this.actions.filter(function(m){return m.visibleIndex===void 0||m.visibleIndex>=0})).sort(function(m,v){return m.visibleIndex-v.visibleIndex})},g.prototype.setItems=function(m,v){var f=this;v===void 0&&(v=!0),this.actions=m.map(function(l){return f.createAction(l)}),v&&this.sortItems()},g.prototype.initResponsivityManager=function(m){},g.prototype.resetResponsivityManager=function(){},g.prototype.getActionById=function(m){for(var v=0;v<this.actions.length;v++)if(this.actions[v].id===m)return this.actions[v];return null},g.prototype.dispose=function(){P.prototype.dispose.call(this),this.actions.forEach(function(m){return m.dispose()}),this.actions.length=0},O([Object(o.propertyArray)({onSet:function(m,v){v.onSet()},onPush:function(m,v,f){f.onPush(m)},onRemove:function(m,v,f){f.onRemove(m)}})],g.prototype,"actions",void 0),O([Object(o.property)({})],g.prototype,"containerCss",void 0),O([Object(o.property)({defaultValue:!1})],g.prototype,"isEmpty",void 0),g}(a.Base)},"./src/base.ts":function(n,r,i){i.r(r),i.d(r,"Bindings",function(){return b}),i.d(r,"Dependencies",function(){return P}),i.d(r,"ComputedUpdater",function(){return g}),i.d(r,"Base",function(){return m}),i.d(r,"ArrayChanges",function(){return v}),i.d(r,"Event",function(){return f}),i.d(r,"EventBase",function(){return l});var o=i("./src/localizablestring.ts"),a=i("./src/helpers.ts"),s=i("./src/jsonobject.ts"),c=i("./src/settings.ts"),C=i("./src/conditions.ts"),E=i("./src/surveyStrings.ts"),O=function(){var d=function(h,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,x){u.__proto__=x}||function(u,x){for(var V in x)Object.prototype.hasOwnProperty.call(x,V)&&(u[V]=x[V])},d(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(h,p);function u(){this.constructor=h}h.prototype=p===null?Object.create(p):(u.prototype=p.prototype,new u)}}(),y=function(d,h){for(var p=0,u=h.length,x=d.length;p<u;p++,x++)d[x]=h[p];return d},b=function(){function d(h){this.obj=h,this.properties=null,this.values=null}return d.prototype.getType=function(){return"bindings"},d.prototype.getNames=function(){var h=[];this.fillProperties();for(var p=0;p<this.properties.length;p++)this.properties[p].isVisible("",this.obj)&&h.push(this.properties[p].name);return h},d.prototype.getProperties=function(){var h=[];this.fillProperties();for(var p=0;p<this.properties.length;p++)h.push(this.properties[p]);return h},d.prototype.setBinding=function(h,p){this.values||(this.values={});var u=this.getJson();u!==p&&(p?this.values[h]=p:(delete this.values[h],Object.keys(this.values).length==0&&(this.values=null)),this.onChangedJSON(u))},d.prototype.clearBinding=function(h){this.setBinding(h,"")},d.prototype.isEmpty=function(){if(!this.values)return!0;for(var h in this.values)return!1;return!0},d.prototype.getValueNameByPropertyName=function(h){if(this.values)return this.values[h]},d.prototype.getPropertiesByValueName=function(h){if(!this.values)return[];var p=[];for(var u in this.values)this.values[u]==h&&p.push(u);return p},d.prototype.getJson=function(){if(!this.isEmpty()){var h={};for(var p in this.values)h[p]=this.values[p];return h}},d.prototype.setJson=function(h){var p=this.getJson();if(this.values=null,h){this.values={};for(var u in h)this.values[u]=h[u]}this.onChangedJSON(p)},d.prototype.fillProperties=function(){if(this.properties===null){this.properties=[];for(var h=s.Serializer.getPropertiesByObj(this.obj),p=0;p<h.length;p++)h[p].isBindable&&this.properties.push(h[p])}},d.prototype.onChangedJSON=function(h){this.obj&&this.obj.onBindingChanged(h,this.getJson())},d}(),P=function(){function d(h,p,u){this.currentDependency=h,this.target=p,this.property=u,this.dependencies=[],this.id=""+ ++d.DependenciesCount}return d.prototype.addDependency=function(h,p){this.target===h&&this.property===p||this.dependencies.some(function(u){return u.obj===h&&u.prop===p})||(this.dependencies.push({obj:h,prop:p,id:this.id}),h.registerPropertyChangedHandlers([p],this.currentDependency,this.id))},d.prototype.dispose=function(){this.dependencies.forEach(function(h){h.obj.unregisterPropertyChangedHandlers([h.prop],h.id)})},d.DependenciesCount=0,d}(),g=function(){function d(h){this._updater=h,this.dependencies=void 0,this.type=d.ComputedUpdaterType}return Object.defineProperty(d.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),d.prototype.setDependencies=function(h){this.clearDependencies(),this.dependencies=h},d.prototype.getDependencies=function(){return this.dependencies},d.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},d.prototype.dispose=function(){this.clearDependencies()},d.ComputedUpdaterType="__dependency_computed",d}(),m=function(){function d(){this.propertyHash={},this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.bindingsValue=new b(this),s.CustomPropertiesCollection.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return d.finishCollectDependencies=function(){var h=d.currentDependencis;return d.currentDependencis=void 0,h},d.startCollectDependencies=function(h,p,u){if(d.currentDependencis!==void 0)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");d.currentDependencis=new P(h,p,u)},d.collectDependency=function(h,p){d.currentDependencis!==void 0&&d.currentDependencis.addDependency(h,p)},Object.defineProperty(d,"commentSuffix",{get:function(){return c.settings.commentSuffix},set:function(h){c.settings.commentSuffix=h},enumerable:!1,configurable:!0}),Object.defineProperty(d,"commentPrefix",{get:function(){return d.commentSuffix},set:function(h){d.commentSuffix=h},enumerable:!1,configurable:!0}),d.prototype.isValueEmpty=function(h,p){return p===void 0&&(p=!0),p&&(h=this.trimValue(h)),a.Helpers.isValueEmpty(h)},d.prototype.trimValue=function(h){return h&&(typeof h=="string"||h instanceof String)?h.trim():h},d.prototype.isPropertyEmpty=function(h){return h!==""&&this.isValueEmpty(h)},d.prototype.dispose=function(){for(var h=0;h<this.eventList.length;h++)this.eventList[h].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0},Object.defineProperty(d.prototype,"isDisposed",{get:function(){return this.isDisposedValue===!0},enumerable:!1,configurable:!0}),d.prototype.addEvent=function(){var h=new l;return this.eventList.push(h),h},d.prototype.onBaseCreating=function(){},d.prototype.getType=function(){return"base"},d.prototype.isDescendantOf=function(h){return s.Serializer.isDescendantOf(this.getType(),h)},d.prototype.getSurvey=function(h){return null},Object.defineProperty(d.prototype,"isDesignMode",{get:function(){var h=this.getSurvey();return!!h&&h.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),d.prototype.checkBindings=function(h,p){},d.prototype.updateBindings=function(h,p){var u=this.bindings.getValueNameByPropertyName(h);u&&this.updateBindingValue(u,p)},d.prototype.updateBindingValue=function(h,p){},d.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(d.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),d.prototype.getIsLoadingFromJson=function(){return this.loadingOwner&&this.loadingOwner.isLoadingFromJson?!0:this.isLoadingFromJsonValue},d.prototype.startLoadingFromJson=function(h){this.isLoadingFromJsonValue=!0},d.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},d.prototype.toJSON=function(){return new s.JsonObject().toJsonObject(this)},d.prototype.fromJSON=function(h){new s.JsonObject().toObject(h,this),this.onSurveyLoad()},d.prototype.onSurveyLoad=function(){},d.prototype.clone=function(){var h=s.Serializer.createClass(this.getType());return h.fromJSON(this.toJSON()),h},d.prototype.getPropertyByName=function(h){var p=this.getType();return(!this.classMetaData||this.classMetaData.name!==p)&&(this.classMetaData=s.Serializer.findClass(p)),this.classMetaData?this.classMetaData.findProperty(h):null},d.prototype.isPropertyVisible=function(h){var p=this.getPropertyByName(h);return p?p.isVisible("",this):!1},d.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},d.prototype.getProgressInfo=function(){return d.createProgressInfo()},d.prototype.localeChanged=function(){},d.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var h in this.arraysInfo){var p=this.arraysInfo[h];if(p&&p.isItemValues){var u=this.getPropertyValue(h);u&&d.itemValueLocStrChanged&&d.itemValueLocStrChanged(u)}}if(this.localizableStrings)for(var h in this.localizableStrings){var p=this.getLocalizableString(h);p&&p.strChanged()}},d.prototype.getPropertyValue=function(h,p){p===void 0&&(p=null);var u=this.getPropertyValueWithoutDefault(h);if(this.isPropertyEmpty(u)){var x=this.localizableStrings?this.localizableStrings[h]:void 0;if(x)return x.text;if(p!=null)return p;var V=this.getDefaultValueFromProperty(h);if(V!==void 0)return V}return u},d.prototype.getDefaultValueFromProperty=function(h){var p=this.getPropertyByName(h);if(!(!p||p.isCustom&&this.isCreating)){var u=p.defaultValue;if(!this.isPropertyEmpty(u)&&!Array.isArray(u))return u;if(p.type=="boolean"||p.type=="switch")return!1;if(p.isCustom&&p.onGetValue)return p.onGetValue(this)}},d.prototype.getPropertyValueWithoutDefault=function(h){return this.getPropertyValueCore(this.propertyHash,h)},d.prototype.getPropertyValueCore=function(h,p){return this.isLoadingFromJson||d.collectDependency(this,p),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(h,p):h[p]},d.prototype.geValueFromHash=function(){return this.propertyHash.value},d.prototype.setPropertyValueCore=function(h,p,u){this.setPropertyValueCoreHandler?this.isDisposedValue?console.warn("Attempt to set property '"+p+"' of a disposed object '"+this.getType()+"'"):this.setPropertyValueCoreHandler(h,p,u):h[p]=u},Object.defineProperty(d.prototype,"isEditingSurveyElement",{get:function(){var h=this.getSurvey();return!!h&&h.isEditingSurveyElement},enumerable:!1,configurable:!0}),d.prototype.iteratePropertiesHash=function(h){var p=this,u=[];for(var x in this.propertyHash)x==="value"&&this.isEditingSurveyElement&&Array.isArray(this.value)||u.push(x);u.forEach(function(V){return h(p.propertyHash,V)})},d.prototype.setPropertyValue=function(h,p){if(!this.isLoadingFromJson){var u=this.getPropertyByName(h);u&&(p=u.settingValue(this,p))}var x=this.getPropertyValue(h);if(x&&Array.isArray(x)&&this.arraysInfo&&(!p||Array.isArray(p))){if(this.isTwoValueEquals(x,p))return;this.setArrayPropertyDirectly(h,p)}else this.setPropertyValueDirectly(h,p),!this.isDisposedValue&&!this.isTwoValueEquals(x,p)&&this.propertyValueChanged(h,x,p)},d.prototype.setArrayPropertyDirectly=function(h,p,u){u===void 0&&(u=!0);var x=this.arraysInfo[h];this.setArray(h,this.getPropertyValue(h),p,x?x.isItemValues:!1,x?u&&x.onPush:null)},d.prototype.setPropertyValueDirectly=function(h,p){this.setPropertyValueCore(this.propertyHash,h,p)},d.prototype.clearPropertyValue=function(h){this.setPropertyValueCore(this.propertyHash,h,null),delete this.propertyHash[h]},d.prototype.onPropertyValueChangedCallback=function(h,p,u,x,V){},d.prototype.itemValuePropertyChanged=function(h,p,u,x){this.onItemValuePropertyChanged.fire(this,{obj:h,name:p,oldValue:u,newValue:x,propertyName:h.ownerPropertyName})},d.prototype.onPropertyValueChanged=function(h,p,u){},d.prototype.propertyValueChanged=function(h,p,u,x,V){if(!this.isLoadingFromJson&&(this.updateBindings(h,u),this.onPropertyValueChanged(h,p,u),this.onPropertyChanged.fire(this,{name:h,oldValue:p,newValue:u}),this.doPropertyValueChangedCallback(h,p,u,x,this),this.checkConditionPropertyChanged(h),!!this.onPropChangeFunctions))for(var A=0;A<this.onPropChangeFunctions.length;A++)this.onPropChangeFunctions[A].name==h&&this.onPropChangeFunctions[A].func(u)},d.prototype.onBindingChanged=function(h,p){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",h,p)},Object.defineProperty(d.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),d.prototype.doPropertyValueChangedCallback=function(h,p,u,x,V){if(!this.isInternal){V||(V=this);var A=this.getSurvey();A||(A=this),A.onPropertyValueChangedCallback&&A.onPropertyValueChangedCallback(h,p,u,V,x),A!==this&&this.onPropertyValueChangedCallback&&this.onPropertyValueChangedCallback(h,p,u,V,x)}},d.prototype.addExpressionProperty=function(h,p,u){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[h]={onExecute:p,canRun:u}},d.prototype.getDataFilteredValues=function(){return{}},d.prototype.getDataFilteredProperties=function(){return{}},d.prototype.runConditionCore=function(h,p){if(this.expressionInfo)for(var u in this.expressionInfo)this.runConditionItemCore(u,h,p)},d.prototype.canRunConditions=function(){return!this.isDesignMode},d.prototype.checkConditionPropertyChanged=function(h){!this.expressionInfo||!this.expressionInfo[h]||this.canRunConditions()&&this.runConditionItemCore(h,this.getDataFilteredValues(),this.getDataFilteredProperties())},d.prototype.runConditionItemCore=function(h,p,u){var x=this,V=this.expressionInfo[h],A=this.getPropertyValue(h);A&&(V.canRun&&!V.canRun(this)||(V.runner||(V.runner=new C.ExpressionRunner(A),V.runner.onRunComplete=function(M){V.onExecute(x,M)}),V.runner.expression=A,V.runner.run(p,u)))},d.prototype.registerPropertyChangedHandlers=function(h,p,u){u===void 0&&(u=null);for(var x=0;x<h.length;x++)this.registerFunctionOnPropertyValueChanged(h[x],p,u)},d.prototype.unregisterPropertyChangedHandlers=function(h,p){p===void 0&&(p=null);for(var u=0;u<h.length;u++)this.unRegisterFunctionOnPropertyValueChanged(h[u],p)},d.prototype.registerFunctionOnPropertyValueChanged=function(h,p,u){if(u===void 0&&(u=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),u)for(var x=0;x<this.onPropChangeFunctions.length;x++){var V=this.onPropChangeFunctions[x];if(V.name==h&&V.key==u){V.func=p;return}}this.onPropChangeFunctions.push({name:h,func:p,key:u})},d.prototype.registerFunctionOnPropertiesValueChanged=function(h,p,u){u===void 0&&(u=null),this.registerPropertyChangedHandlers(h,p,u)},d.prototype.unRegisterFunctionOnPropertyValueChanged=function(h,p){if(p===void 0&&(p=null),!!this.onPropChangeFunctions)for(var u=0;u<this.onPropChangeFunctions.length;u++){var x=this.onPropChangeFunctions[u];if(x.name==h&&x.key==p){this.onPropChangeFunctions.splice(u,1);return}}},d.prototype.unRegisterFunctionOnPropertiesValueChanged=function(h,p){p===void 0&&(p=null),this.unregisterPropertyChangedHandlers(h,p)},d.prototype.createCustomLocalizableObj=function(h){var p=this.getLocalizableString(h);p||this.createLocalizableString(h,this,!1,!0)},d.prototype.getLocale=function(){var h=this.getSurvey();return h?h.getLocale():""},d.prototype.getLocalizationString=function(h){return E.surveyLocalization.getString(h,this.getLocale())},d.prototype.getLocalizationFormatString=function(h){for(var p=[],u=1;u<arguments.length;u++)p[u-1]=arguments[u];var x=this.getLocalizationString(h);return!x||!x.format?"":x.format.apply(x,p)},d.prototype.createLocalizableString=function(h,p,u,x){var V=this;u===void 0&&(u=!1),x===void 0&&(x=!1);var A=new o.LocalizableString(p,u,h);x&&(A.localizationName=x===!0?h:x),A.onStrChanged=function(T,D){V.propertyValueChanged(h,T,D)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[h]=A;var M=this.getPropertyByName(h);return A.disableLocalization=M&&M.isLocalizable===!1,A},d.prototype.getLocalizableString=function(h){return this.localizableStrings?this.localizableStrings[h]:null},d.prototype.getLocalizableStringText=function(h,p){p===void 0&&(p=""),d.collectDependency(this,h);var u=this.getLocalizableString(h);if(!u)return"";var x=u.text;return x||p},d.prototype.setLocalizableStringText=function(h,p){var u=this.getLocalizableString(h);if(u){var x=u.text;x!=p&&(u.text=p)}},d.prototype.addUsedLocales=function(h){if(this.localizableStrings)for(var p in this.localizableStrings){var u=this.getLocalizableString(p);u&&this.AddLocStringToUsedLocales(u,h)}if(this.arraysInfo)for(var p in this.arraysInfo){var x=this.getPropertyValue(p);if(!(!x||!x.length))for(var V=0;V<x.length;V++){var u=x[V];u&&u.addUsedLocales&&u.addUsedLocales(h)}}},d.prototype.searchText=function(h,p){var u=[];this.getSearchableLocalizedStrings(u);for(var x=0;x<u.length;x++)u[x].setFindText(h)&&p.push({element:this,str:u[x]})},d.prototype.getSearchableLocalizedStrings=function(h){if(this.localizableStrings){var p=[];this.getSearchableLocKeys(p);for(var u=0;u<p.length;u++){var x=this.getLocalizableString(p[u]);x&&h.push(x)}}if(this.arraysInfo){var V=[];this.getSearchableItemValueKeys(V);for(var u=0;u<V.length;u++){var A=this.getPropertyValue(V[u]);if(A)for(var M=0;M<A.length;M++)h.push(A[M].locText)}}},d.prototype.getSearchableLocKeys=function(h){},d.prototype.getSearchableItemValueKeys=function(h){},d.prototype.AddLocStringToUsedLocales=function(h,p){for(var u=h.getLocales(),x=0;x<u.length;x++)p.indexOf(u[x])<0&&p.push(u[x])},d.prototype.createItemValues=function(h){var p=this,u=this.createNewArray(h,function(x){if(x.locOwner=p,x.ownerPropertyName=h,typeof x.getSurvey=="function"){var V=x.getSurvey();V&&typeof V.makeReactive=="function"&&V.makeReactive(x)}});return this.arraysInfo[h].isItemValues=!0,u},d.prototype.notifyArrayChanged=function(h,p){h.onArrayChanged&&h.onArrayChanged(p)},d.prototype.createNewArrayCore=function(h){var p=null;return this.createArrayCoreHandler&&(p=this.createArrayCoreHandler(this.propertyHash,h)),p||(p=new Array,this.setPropertyValueCore(this.propertyHash,h,p)),p},d.prototype.ensureArray=function(h,p,u){if(p===void 0&&(p=null),u===void 0&&(u=null),!(this.arraysInfo&&this.arraysInfo[h]))return this.createNewArray(h,p,u)},d.prototype.createNewArray=function(h,p,u){p===void 0&&(p=null),u===void 0&&(u=null);var x=this.createNewArrayCore(h);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[h]={onPush:p,isItemValues:!1};var V=this;return x.push=function(A){var M=Object.getPrototypeOf(x).push.call(x,A);if(!V.isDisposedValue){p&&p(A,x.length-1);var T=new v(x.length-1,0,[A],[]);V.propertyValueChanged(h,x,x,T),V.notifyArrayChanged(x,T)}return M},x.shift=function(){var A=Object.getPrototypeOf(x).shift.call(x);if(!V.isDisposedValue&&A){u&&u(A);var M=new v(x.length-1,1,[],[]);V.propertyValueChanged(h,x,x,M),V.notifyArrayChanged(x,M)}return A},x.unshift=function(A){var M=Object.getPrototypeOf(x).unshift.call(x,A);if(!V.isDisposedValue){p&&p(A,x.length-1);var T=new v(0,0,[A],[]);V.propertyValueChanged(h,x,x,T),V.notifyArrayChanged(x,T)}return M},x.pop=function(){var A=Object.getPrototypeOf(x).pop.call(x);if(!V.isDisposedValue){u&&u(A);var M=new v(x.length-1,1,[],[]);V.propertyValueChanged(h,x,x,M),V.notifyArrayChanged(x,M)}return A},x.splice=function(A,M){for(var T,D=[],R=2;R<arguments.length;R++)D[R-2]=arguments[R];A||(A=0),M||(M=0);var S=(T=Object.getPrototypeOf(x).splice).call.apply(T,y([x,A,M],D));if(D||(D=[]),!V.isDisposedValue){if(u&&S)for(var I=0;I<S.length;I++)u(S[I]);if(p)for(var I=0;I<D.length;I++)p(D[I],A+I);var w=new v(A,M,D,S);V.propertyValueChanged(h,x,x,w),V.notifyArrayChanged(x,w)}return S},x},d.prototype.getItemValueType=function(){},d.prototype.setArray=function(h,p,u,x,V){var A=[].concat(p);if(Object.getPrototypeOf(p).splice.call(p,0,p.length),u)for(var M=0;M<u.length;M++){var T=u[M];x&&d.createItemValue&&(T=d.createItemValue(T,this.getItemValueType())),Object.getPrototypeOf(p).push.call(p,T),V&&V(p[M])}var D=new v(0,A.length,p,A);this.propertyValueChanged(h,A,p,D),this.notifyArrayChanged(p,D)},d.prototype.isTwoValueEquals=function(h,p,u,x){return u===void 0&&(u=!1),x===void 0&&(x=!1),a.Helpers.isTwoValueEquals(h,p,!1,!u,x)},d.copyObject=function(h,p){for(var u in p){var x=p[u];typeof x=="object"&&(x={},this.copyObject(x,p[u])),h[u]=x}},d.prototype.copyCssClasses=function(h,p){p&&(typeof p=="string"||p instanceof String?h.root=p:d.copyObject(h,p))},d.prototype.getValueInLowCase=function(h){return h&&typeof h=="string"?h.toLowerCase():h},d.prototype.getElementsInDesign=function(h){return[]},d.currentDependencis=void 0,d}(),v=function(){function d(h,p,u,x){this.index=h,this.deleteCount=p,this.itemsToAdd=u,this.deletedItems=x}return d}(),f=function(){function d(){}return Object.defineProperty(d.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this.callbacks?this.callbacks.length:0},enumerable:!1,configurable:!0}),d.prototype.fireByCreatingOptions=function(h,p){if(this.callbacks){for(var u=0;u<this.callbacks.length;u++)if(this.callbacks[u](h,p()),!this.callbacks)return}},d.prototype.fire=function(h,p){if(this.callbacks){for(var u=0;u<this.callbacks.length;u++)if(this.callbacks[u](h,p),!this.callbacks)return}},d.prototype.clear=function(){this.callbacks=void 0},d.prototype.add=function(h){this.hasFunc(h)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(h),this.fireCallbackChanged())},d.prototype.remove=function(h){if(this.hasFunc(h)){var p=this.callbacks.indexOf(h,0);this.callbacks.splice(p,1),this.fireCallbackChanged()}},d.prototype.hasFunc=function(h){return this.callbacks==null?!1:this.callbacks.indexOf(h,0)>-1},d.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},d}(),l=function(d){O(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h}(f)},"./src/calculatedValue.ts":function(n,r,i){i.r(r),i.d(r,"CalculatedValue",function(){return E});var o=i("./src/helpers.ts"),a=i("./src/base.ts"),s=i("./src/conditions.ts"),c=i("./src/jsonobject.ts"),C=function(){var O=function(y,b){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,g){P.__proto__=g}||function(P,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(P[m]=g[m])},O(y,b)};return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");O(y,b);function P(){this.constructor=y}y.prototype=b===null?Object.create(b):(P.prototype=b.prototype,new P)}}(),E=function(O){C(y,O);function y(b,P){b===void 0&&(b=null),P===void 0&&(P=null);var g=O.call(this)||this;return g.expressionIsRunning=!1,g.isCalculated=!1,b&&(g.name=b),P&&(g.expression=P),g}return y.prototype.setOwner=function(b){this.data=b,this.rerunExpression()},y.prototype.getType=function(){return"calculatedvalue"},y.prototype.getSurvey=function(b){return this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(y.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"name",{get:function(){return this.getPropertyValue("name")||""},set:function(b){this.setPropertyValue("name",b)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult")},set:function(b){this.setPropertyValue("includeIntoResult",b)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"expression",{get:function(){return this.getPropertyValue("expression")||""},set:function(b){this.setPropertyValue("expression",b),this.rerunExpression()},enumerable:!1,configurable:!0}),y.prototype.locCalculation=function(){this.expressionIsRunning=!0},y.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},y.prototype.resetCalculation=function(){this.isCalculated=!1},y.prototype.doCalculation=function(b,P,g){this.isCalculated||(this.runExpressionCore(b,P,g),this.isCalculated=!0)},y.prototype.runExpression=function(b,P){this.runExpressionCore(null,b,P)},Object.defineProperty(y.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),y.prototype.setValue=function(b){this.data&&this.data.setVariable(this.name,b)},Object.defineProperty(y.prototype,"canRunExpression",{get:function(){return!!this.data&&!this.isLoadingFromJson&&!!this.expression&&!this.expressionIsRunning&&!!this.name},enumerable:!1,configurable:!0}),y.prototype.rerunExpression=function(){this.canRunExpression&&this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},y.prototype.runExpressionCore=function(b,P,g){this.canRunExpression&&(this.ensureExpression(P),this.locCalculation(),b&&this.runDependentExpressions(b,P,g),this.expressionRunner.run(P,g))},y.prototype.runDependentExpressions=function(b,P,g){var m=this.expressionRunner.getVariables();if(m)for(var v=0;v<b.length;v++){var f=b[v];f===this||m.indexOf(f.name)<0||(f.doCalculation(b,P,g),P[f.name]=f.value)}},y.prototype.ensureExpression=function(b){var P=this;this.expressionRunner||(this.expressionRunner=new s.ExpressionRunner(this.expression),this.expressionRunner.onRunComplete=function(g){o.Helpers.isTwoValueEquals(g,P.value)||P.setValue(g),P.unlocCalculation()})},y}(a.Base);c.Serializer.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new E},"base")},"./src/choicesRestful.ts":function(n,r,i){i.r(r),i.d(r,"ChoicesRestful",function(){return y}),i.d(r,"ChoicesRestfull",function(){return b});var o=i("./src/base.ts"),a=i("./src/itemvalue.ts"),s=i("./src/jsonobject.ts"),c=i("./src/error.ts"),C=i("./src/settings.ts"),E=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),O=function(){function P(){this.parser=new DOMParser}return P.prototype.assignValue=function(g,m,v){Array.isArray(g[m])?g[m].push(v):g[m]!==void 0?g[m]=[g[m]].concat(v):typeof v=="object"&&Object.keys(v).length===1&&Object.keys(v)[0]===m?g[m]=v[m]:g[m]=v},P.prototype.xml2Json=function(g,m){if(g.children&&g.children.length>0)for(var v=0;v<g.children.length;v++){var f=g.children[v],l={};this.xml2Json(f,l),this.assignValue(m,f.nodeName,l)}else this.assignValue(m,g.nodeName,g.textContent)},P.prototype.parseXmlString=function(g){var m=this.parser.parseFromString(g,"text/xml"),v={};return this.xml2Json(m,v),v},P}(),y=function(P){E(g,P);function g(){var m=P.call(this)||this;return m.lastObjHash="",m.isRunningValue=!1,m.processedUrl="",m.processedPath="",m.isUsingCacheFromUrl=void 0,m.error=null,m.createItemValue=function(v){return new a.ItemValue(v)},m}return Object.defineProperty(g,"EncodeParameters",{get:function(){return C.settings.web.encodeUrlParams},set:function(m){C.settings.web.encodeUrlParams=m},enumerable:!1,configurable:!0}),g.clearCache=function(){g.itemsResult={},g.sendingSameRequests={}},g.addSameRequest=function(m){if(!m.isUsingCache)return!1;var v=m.objHash,f=g.sendingSameRequests[v];return f?(f.push(m),m.isRunningValue=!0,!0):(g.sendingSameRequests[m.objHash]=[],!1)},g.unregisterSameRequests=function(m,v){if(m.isUsingCache){var f=g.sendingSameRequests[m.objHash];if(delete g.sendingSameRequests[m.objHash],!!f)for(var l=0;l<f.length;l++)f[l].isRunningValue=!1,f[l].getResultCallback&&f[l].getResultCallback(v)}},g.getCachedItemsResult=function(m){var v=m.objHash,f=g.itemsResult[v];return f?(m.getResultCallback&&m.getResultCallback(f),!0):!1},g.prototype.getSurvey=function(m){return this.owner?this.owner.survey:null},g.prototype.run=function(m){if(m===void 0&&(m=null),!(!this.url||!this.getResultCallback)){if(this.processedText(m),!this.processedUrl){this.doEmptyResultCallback({}),this.lastObjHash=this.objHash;return}this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(g.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(g.prototype,"isUsingCache",{get:function(){return this.isUsingCacheFromUrl===!0?!0:this.isUsingCacheFromUrl===!1?!1:C.settings.web.cacheLoadedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),g.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(g.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),g.prototype.useChangedItemsResults=function(){return g.getCachedItemsResult(this)},g.prototype.doEmptyResultCallback=function(m){var v=[];this.updateResultCallback&&(v=this.updateResultCallback(v,m)),this.getResultCallback(v)},g.prototype.processedText=function(m){var v=this.url;if(v&&(v=v.replace(g.cacheText,"").replace(g.noCacheText,"")),m){var f=m.processTextEx(v,!1,C.settings.web.encodeUrlParams),l=m.processTextEx(this.path,!1,C.settings.web.encodeUrlParams);!f.hasAllValuesOnLastRun||!l.hasAllValuesOnLastRun?(this.processedUrl="",this.processedPath=""):(this.processedUrl=f.text,this.processedPath=l.text)}else this.processedUrl=v,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},g.prototype.parseResponse=function(m){var v;if(m&&typeof m.indexOf=="function"&&m.indexOf("<")===0){var f=new O;v=f.parseXmlString(m)}else try{v=JSON.parse(m)}catch{v=(m||"").split(`
`).map(function(d){return d.trim(" ")}).filter(function(d){return!!d})}return v},g.prototype.sendRequest=function(){var m=new XMLHttpRequest;m.open("GET",this.processedUrl),m.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var v=this,f=this.objHash;m.onload=function(){v.beforeLoadRequest(),m.status===200?v.onLoad(v.parseResponse(m.response),f):v.onError(m.statusText,m.responseText)};var l={request:m};g.onBeforeSendRequest&&g.onBeforeSendRequest(this,l),this.beforeSendRequest(),l.request.send()},g.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(g.prototype,"isEmpty",{get:function(){return!this.url&&!this.path&&!this.valueName&&!this.titleName&&!this.imageLinkName},enumerable:!1,configurable:!0}),g.prototype.getCustomPropertiesNames=function(){for(var m=this.getCustomProperties(),v=new Array,f=0;f<m.length;f++)v.push(this.getCustomPropertyName(m[f].name));return v},g.prototype.getCustomPropertyName=function(m){return m+"Name"},g.prototype.getCustomProperties=function(){for(var m=s.Serializer.getProperties(this.itemValueType),v=[],f=0;f<m.length;f++)m[f].name==="value"||m[f].name==="text"||m[f].name==="visibleIf"||m[f].name==="enableIf"||v.push(m[f]);return v},g.prototype.setData=function(m){this.clear(),m.url&&(this.url=m.url),m.path&&(this.path=m.path),m.valueName&&(this.valueName=m.valueName),m.titleName&&(this.titleName=m.titleName),m.imageLinkName&&(this.imageLinkName=m.imageLinkName),m.allowEmptyResponse!==void 0&&(this.allowEmptyResponse=m.allowEmptyResponse),m.attachOriginalItems!==void 0&&(this.attachOriginalItems=m.attachOriginalItems);for(var v=this.getCustomPropertiesNames(),f=0;f<v.length;f++)m[v[f]]&&(this[v[f]]=m[v[f]])},g.prototype.getData=function(){if(this.isEmpty)return null;var m={};this.url&&(m.url=this.url),this.path&&(m.path=this.path),this.valueName&&(m.valueName=this.valueName),this.titleName&&(m.titleName=this.titleName),this.imageLinkName&&(m.imageLinkName=this.imageLinkName),this.allowEmptyResponse&&(m.allowEmptyResponse=this.allowEmptyResponse),this.attachOriginalItems&&(m.attachOriginalItems=this.attachOriginalItems);for(var v=this.getCustomPropertiesNames(),f=0;f<v.length;f++)this[v[f]]&&(m[v[f]]=this[v[f]]);return m},Object.defineProperty(g.prototype,"url",{get:function(){return this.getPropertyValue("url","")},set:function(m){this.setPropertyValue("url",m),this.isUsingCacheFromUrl=void 0,m&&(m.indexOf(g.cacheText)>-1?this.isUsingCacheFromUrl=!0:m.indexOf(g.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"path",{get:function(){return this.getPropertyValue("path","")},set:function(m){this.setPropertyValue("path",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(m){this.setPropertyValue("valueName",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(m){this.setPropertyValue("titleName",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(m){this.setPropertyValue("imageLinkName",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(m){this.setPropertyValue("allowEmptyResponse",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(m){this.setPropertyValue("attachOriginalItems",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var m=s.Serializer.findProperty(this.owner.getType(),"choices");return!m||m.type=="itemvalue[]"?"itemvalue":m.type},enumerable:!1,configurable:!0}),g.prototype.clear=function(){this.url="",this.path="",this.valueName="",this.titleName="",this.imageLinkName="";for(var m=this.getCustomPropertiesNames(),v=0;v<m.length;v++)this[m[v]]&&(this[m[v]]="")},g.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},g.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},g.prototype.onLoad=function(m,v){v===void 0&&(v=null),v||(v=this.objHash);var f=new Array,l=this.getResultAfterPath(m);if(l&&l.length)for(var d=0;d<l.length;d++){var h=l[d];if(h){var p=this.getItemValueCallback?this.getItemValueCallback(h):this.getValue(h),u=this.createItemValue(p);this.setTitle(u,h),this.setCustomProperties(u,h),this.attachOriginalItems&&(u.originalItem=h);var x=this.getImageLink(h);x&&(u.imageLink=x),f.push(u)}}else this.allowEmptyResponse||(this.error=new c.WebRequestEmptyError(null,this.owner));this.updateResultCallback&&(f=this.updateResultCallback(f,m)),this.isUsingCache&&(g.itemsResult[v]=f),this.callResultCallback(f,v),g.unregisterSameRequests(this,f)},g.prototype.callResultCallback=function(m,v){v==this.objHash&&this.getResultCallback(m)},g.prototype.setCustomProperties=function(m,v){for(var f=this.getCustomProperties(),l=0;l<f.length;l++){var d=f[l],h=this.getValueCore(v,this.getPropertyBinding(d.name));this.isValueEmpty(h)||(m[d.name]=h)}},g.prototype.getPropertyBinding=function(m){return this[this.getCustomPropertyName(m)]?this[this.getCustomPropertyName(m)]:this[m]?this[m]:m},g.prototype.onError=function(m,v){this.error=new c.WebRequestError(m,v,this.owner),this.doEmptyResultCallback(v),g.unregisterSameRequests(this,[])},g.prototype.getResultAfterPath=function(m){if(!m||!this.processedPath)return m;for(var v=this.getPathes(),f=0;f<v.length;f++)if(m=m[v[f]],!m)return null;return m},g.prototype.getPathes=function(){var m=[];return this.processedPath.indexOf(";")>-1?m=this.path.split(";"):m=this.processedPath.split(","),m.length==0&&m.push(this.processedPath),m},g.prototype.getValue=function(m){if(!m)return null;if(this.valueName)return this.getValueCore(m,this.valueName);if(!(m instanceof Object))return m;var v=Object.keys(m).length;return v<1?null:m[Object.keys(m)[0]]},g.prototype.setTitle=function(m,v){var f=this.titleName?this.titleName:"title",l=this.getValueCore(v,f);l&&(typeof l=="string"?m.text=l:m.locText.setJson(l))},g.prototype.getImageLink=function(m){var v=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(m,v)},g.prototype.getValueCore=function(m,v){if(!m)return null;if(v.indexOf(".")<0)return m[v];for(var f=v.split("."),l=0;l<f.length;l++)if(m=m[f[l]],!m)return null;return m},Object.defineProperty(g.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),g.cacheText="{CACHE}",g.noCacheText="{NOCACHE}",g.itemsResult={},g.sendingSameRequests={},g}(o.Base),b=function(P){E(g,P);function g(){return P!==null&&P.apply(this,arguments)||this}return Object.defineProperty(g,"EncodeParameters",{get:function(){return y.EncodeParameters},set:function(m){y.EncodeParameters=m},enumerable:!1,configurable:!0}),g.clearCache=function(){y.clearCache()},Object.defineProperty(g,"onBeforeSendRequest",{get:function(){return y.onBeforeSendRequest},set:function(m){y.onBeforeSendRequest=m},enumerable:!1,configurable:!0}),g}(y);s.Serializer.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(P){return!!P&&!!P.owner&&P.owner.getType()=="imagepicker"}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new y})},"./src/conditionProcessValue.ts":function(n,r,i){i.r(r),i.d(r,"ProcessValue",function(){return s});var o=i("./src/helpers.ts"),a="@survey",s=function(){function c(){this.values=null,this.properties=null}return c.prototype.getFirstName=function(C,E){if(E===void 0&&(E=null),!C)return C;var O="";if(E&&(O=this.getFirstPropertyName(C,E),O))return O;for(var y=0;y<C.length;y++){var b=C[y];if(b=="."||b=="[")break;O+=b}return O},c.prototype.hasValue=function(C,E){E===void 0&&(E=null),E||(E=this.values);var O=this.getValueCore(C,E);return O.hasValue},c.prototype.getValue=function(C,E){E===void 0&&(E=null),E||(E=this.values);var O=this.getValueCore(C,E);return O.value},c.prototype.setValue=function(C,E,O){if(E){var y=this.getNonNestedObject(C,E,!0);y&&(C=y.value,E=y.text,C&&E&&(C[E]=O))}},c.prototype.getValueInfo=function(C){if(C.path){C.value=this.getValueFromPath(C.path,this.values),C.hasValue=C.value!==null&&!o.Helpers.isValueEmpty(C.value),!C.hasValue&&C.path.length>1&&C.path[C.path.length-1]=="length"&&(C.hasValue=!0,C.value=0);return}var E=this.getValueCore(C.name,this.values);C.value=E.value,C.hasValue=E.hasValue,C.path=E.hasValue?E.path:null},c.prototype.getValueFromPath=function(C,E){if(C.length===2&&C[0]===a)return this.getValueFromSurvey(C[1]);for(var O=0;E&&O<C.length;){var y=C[O];if(o.Helpers.isNumber(y)&&Array.isArray(E)&&y>=E.length)return null;E=E[y],O++}return E},c.prototype.getValueCore=function(C,E){var O=this.getQuestionDirectly(C);if(O)return{hasValue:!0,value:O.value,path:[C]};var y=this.getValueFromValues(C,E);if(C&&!y.hasValue){var b=this.getValueFromSurvey(C);b!==void 0&&(y.hasValue=!0,y.value=b,y.path=[a,C])}return y},c.prototype.getQuestionDirectly=function(C){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(C)},c.prototype.getValueFromSurvey=function(C){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(C.toLocaleLowerCase())},c.prototype.getValueFromValues=function(C,E){var O={hasValue:!1,value:null,path:null},y=E;if(!y&&y!==0&&y!==!1)return O;C&&C.lastIndexOf(".length")>-1&&C.lastIndexOf(".length")===C.length-7&&(O.value=0,O.hasValue=!0);var b=this.getNonNestedObject(y,C,!1);return b&&(O.path=b.path,O.value=b.text?this.getObjectValue(b.value,b.text):b.value,O.hasValue=!o.Helpers.isValueEmpty(O.value)),O},c.prototype.getNonNestedObject=function(C,E,O){for(var y=this.getFirstPropertyName(E,C,O),b=y?[y]:null;E!=y&&C;){var P=E[0]=="[";if(P){var g=this.getObjInArray(C,E);if(!g)return null;C=g.value,E=g.text,b.push(g.index)}else{if(!y&&E==this.getFirstName(E))return{value:C,text:E,path:b};if(C=this.getObjectValue(C,y),o.Helpers.isValueEmpty(C)&&!O)return null;E=E.substring(y.length)}E&&E[0]=="."&&(E=E.substring(1)),y=this.getFirstPropertyName(E,C,O),y&&b.push(y)}return{value:C,text:E,path:b}},c.prototype.getObjInArray=function(C,E){if(!Array.isArray(C))return null;for(var O=1,y="";O<E.length&&E[O]!="]";)y+=E[O],O++;return E=O<E.length?E.substring(O+1):"",O=this.getIntValue(y),O<0||O>=C.length?null:{value:C[O],text:E,index:O}},c.prototype.getFirstPropertyName=function(C,E,O){if(O===void 0&&(O=!1),!C||(E||(E={}),E.hasOwnProperty(C)))return C;var y=C.toLowerCase(),b=y[0],P=b.toUpperCase();for(var g in E){var m=g[0];if(m===P||m===b){var v=g.toLowerCase();if(v==y)return g;if(y.length<=v.length)continue;var f=y[v.length];if(f!="."&&f!="[")continue;if(v==y.substring(0,v.length))return g}}if(O&&C[0]!=="["){var l=C.indexOf(".");return l>-1&&(C=C.substring(0,l),E[C]={}),C}return""},c.prototype.getObjectValue=function(C,E){return E?C[E]:null},c.prototype.getIntValue=function(C){return C=="0"||(C|0)>0&&C%1==0?Number(C):-1},c}()},"./src/conditions.ts":function(n,r,i){i.r(r),i.d(r,"ExpressionExecutor",function(){return c}),i.d(r,"ExpressionRunnerBase",function(){return C}),i.d(r,"ConditionRunner",function(){return E}),i.d(r,"ExpressionRunner",function(){return O});var o=i("./src/conditionProcessValue.ts"),a=i("./src/conditionsParser.ts"),s=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),c=function(){function y(b){this.processValue=new o.ProcessValue,this.parser=new a.ConditionsParser,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(b)}return Object.defineProperty(y.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),y.prototype.setExpression=function(b){this.expression!==b&&(this.expressionValue=b,this.operand=this.parser.parseExpression(b),this.hasFunctionValue=this.canRun()?this.operand.hasFunction():!1,this.isAsyncValue=this.hasFunction()?this.operand.hasAsyncFunction():!1)},y.prototype.getVariables=function(){if(!this.operand)return[];var b=[];return this.operand.setVariables(b),b},y.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(y.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),y.prototype.canRun=function(){return!!this.operand},y.prototype.run=function(b,P){var g=this;if(P===void 0&&(P=null),!this.operand)return null;if(this.processValue.values=b,this.processValue.properties=P,!this.isAsync)return this.runValues();this.asyncFuncList=[],this.operand.addToAsyncList(this.asyncFuncList);for(var m=0;m<this.asyncFuncList.length;m++)this.asyncFuncList[m].onAsyncReady=function(){g.doAsyncFunctionReady()};for(var m=0;m<this.asyncFuncList.length;m++)this.asyncFuncList[m].evaluateAsync(this.processValue);return!1},y.prototype.doAsyncFunctionReady=function(){for(var b=0;b<this.asyncFuncList.length;b++)if(!this.asyncFuncList[b].isReady)return;this.runValues()},y.prototype.runValues=function(){var b=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(b),b},y.createExpressionExecutor=function(b){return new y(b)},y}(),C=function(){function y(b){this.expression=b}return Object.defineProperty(y.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(b){var P=this;this.expressionExecutor&&b===this.expression||(this.expressionExecutor=c.createExpressionExecutor(b),this.expressionExecutor.onComplete=function(g){P.doOnComplete(g)})},enumerable:!1,configurable:!0}),y.prototype.getVariables=function(){return this.expressionExecutor.getVariables()},y.prototype.hasFunction=function(){return this.expressionExecutor.hasFunction()},Object.defineProperty(y.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),y.prototype.canRun=function(){return this.expressionExecutor.canRun()},y.prototype.runCore=function(b,P){return P===void 0&&(P=null),this.expressionExecutor.run(b,P)},y.prototype.doOnComplete=function(b){},y}(),E=function(y){s(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b.prototype.run=function(P,g){return g===void 0&&(g=null),this.runCore(P,g)==!0},b.prototype.doOnComplete=function(P){this.onRunComplete&&this.onRunComplete(P==!0)},b}(C),O=function(y){s(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b.prototype.run=function(P,g){return g===void 0&&(g=null),this.runCore(P,g)},b.prototype.doOnComplete=function(P){this.onRunComplete&&this.onRunComplete(P)},b}(C)},"./src/conditionsParser.ts":function(n,r,i){i.r(r),i.d(r,"ConditionsParserError",function(){return a}),i.d(r,"ConditionsParser",function(){return s});var o=i("./src/expressions/expressionParser.ts"),a=function(){function c(C,E){this.at=C,this.code=E}return c}(),s=function(){function c(){}return c.prototype.patchExpression=function(C){return C.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},c.prototype.createCondition=function(C){return this.parseExpression(C)},c.prototype.parseExpression=function(C){try{var E=c.parserCache[C];return E===void 0&&(E=Object(o.parse)(this.patchExpression(C)),E.hasAsyncFunction()||(c.parserCache[C]=E)),E}catch(O){O instanceof o.SyntaxError&&(this.conditionError=new a(O.location.start.offset,O.message))}},Object.defineProperty(c.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),c.parserCache={},c}()},"./src/defaultCss/cssmodern.ts":function(n,r,i){i.r(r),i.d(r,"modernCss",function(){return a});var o=i("./src/defaultCss/defaultV2Css.ts"),a={root:"sv-root-modern",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",bodyContainer:"sv-components-row",body:"sv-components-column sv-components-column--expandable sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qbln",checkboxItem:"sv-boolean sv-item",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyhidden",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator ",checkboxItemDecorator:"sv-item__svg  sv-boolean__svg",indeterminatePath:"sv-boolean__indeterminate-path",svgIconCheckedId:"#icon-modernbooleancheckchecked",svgIconUncheckedId:"#icon-modernbooleancheckunchecked",svgIconIndId:"#icon-modernbooleancheckind"},text:{root:"sv-text",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv-dropdown__filter-string-input",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",hintPrefix:"sv-dropdown__hint-prefix",hintSuffix:"sv-dropdown__hint-suffix"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",selectWrapper:"sv_select_wrapper sv-tagbox_wrapper",other:"sv-input sv-comment sv-selectbase__other",cleanButton:"sv-tagbox_clean-button sv-dropdown_clean-button",cleanButtonSvg:"sv-tagbox_clean-button-svg sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv-tagbox__item_clean-button",cleanItemButtonSvg:"sv-tagbox__item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv-input sv-tagbox sv-dropdown",controlValue:"sv-tagbox__value sv-dropdown__value",controlEmpty:"sv-dropdown--empty sv-tagbox--empty",placeholderInput:"sv-tagbox__placeholder",filterStringInput:"sv-tagbox__filter-string-input sv-dropdown__filter-string-input"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-hidden",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled",filterStringInput:"sv-dropdown__filter-string-input",control:"sv-dropdown",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",itemSmiley:"sv-rating__item-smiley",itemStar:"sv-rating__item-star",itemSmileySelected:"sv-rating__item-smiley--selected",itemStarSelected:"sv-rating__item-star--selected"},comment:{root:"sv-comment",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",preview:"sv-file__preview",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},variables:{themeMark:"--sv-modern-mark"}};o.surveyCss.modern=a},"./src/defaultCss/cssstandard.ts":function(n,r,i){i.r(r),i.d(r,"defaultStandardCss",function(){return a});var o=i("./src/defaultCss/defaultV2Css.ts"),a={root:"sv_main sv_default_css",container:"sv_container",header:"sv_header",bodyContainer:"sv-components-row",body:"sv-components-column sv-components-column--expandable sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qcbc sv_qbln",checkboxItem:"sv-boolean",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyvisible",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator",checkboxItemDecorator:"sv-item__svg sv-boolean__svg"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},comment:{remainingCharacterCounter:"sv-remaining-character-counter"},dropdown:{root:"",popup:"sv-dropdown-popup",control:"sv_q_dropdown_control",controlInputFieldComponent:"sv_q_dropdown_control__input-field-component",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other",cleanButton:"sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv_q_dropdown__value",filterStringInput:"sv_q_dropdown__filter-string-input",hintPrefix:"sv_q_dropdown__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image",noImage:"sv-image__no-image",noImageSvgIconId:"icon-no-image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv-hidden"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",header:"sv-paneldynamic__header sv_header",headerTab:"sv-paneldynamic__header-tab",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column",itemNoImage:"sv_q_imgsel__no-image",itemNoImageSvgIcon:"sv_q_imgsel__no-image-svg",itemNoImageSvgIconId:"icon-no-image"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",itemFixedSize:"sv_q_rating_item_fixed",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",itemStar:"sv_q_rating__item-star",itemStarSelected:"sv_q_rating__item-star--selected",itemSmiley:"sv_q_rating__item-smiley",itemSmileySelected:"sv_q_rating__item-smiley--selected"},text:{root:"sv_q_text_root",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},variables:{themeMark:"--sv-default-mark"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv_q_row__question--small",selectWrapper:"sv_select_wrapper sv_q_tagbox_wrapper",other:"sv_q_input sv_q_comment sv_q_selectbase__other",cleanButton:"sv_q_tagbox_clean-button sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_tagbox_clean-button-svg sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv_q_tagbox-item_clean-button",cleanItemButtonSvg:"sv_q_tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv_q_input sv_q_tagbox sv_q_dropdown_control",controlValue:"sv_q_tagbox__value sv_q_dropdown__value",controlEmpty:"sv_q_dropdown--empty sv_q_tagbox--empty",placeholderInput:"sv_q_tagbox__placeholder",filterStringInput:"sv_q_tagbox__filter-string-input sv_q_dropdown__filter-string-input",hint:"sv_q_tagbox__hint",hintPrefix:"sv_q_dropdown__hint-prefix sv_q_tagbox__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix sv_q_tagbox__hint-suffix",hintSuffixWrapper:"sv_q_tagbox__hint-suffix-wrapper"}};o.surveyCss.default=a,o.surveyCss.orange=a,o.surveyCss.darkblue=a,o.surveyCss.darkrose=a,o.surveyCss.stone=a,o.surveyCss.winter=a,o.surveyCss.winterstone=a},"./src/defaultCss/defaultV2Css.ts":function(n,r,i){i.r(r),i.d(r,"surveyCss",function(){return o}),i.d(r,"defaultV2Css",function(){return a}),i.d(r,"defaultV2ThemeName",function(){return s});var o={currentType:"",getCss:function(){var c=this.currentType?this[this.currentType]:a;return c||(c=a),c},getAvailableThemes:function(){return Object.keys(this).filter(function(c){return["currentType","getCss","getAvailableThemes"].indexOf(c)===-1})}},a={root:"sd-root-modern",rootMobile:"sd-root-modern--mobile",rootReadOnly:"sd-root--readonly",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sv-components-column sv-components-column--expandable sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:""},panel:{asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",pageRow:"sd-page__row",question:{mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-question__content",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleOnAnswer:"sd-question__title--answer",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleBar:"sd-action-title-bar",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-description sd-question__description sd-question__description--under-input",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex",disabled:"sd-question--disabled"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:""},error:{root:"sd-question__erbox",icon:"",item:"",tooltip:"sd-question__erbox--tooltip",outsideQuestion:"sd-question__erbox--outside-question",aboveQuestion:"sd-question__erbox--above-question",belowQuestion:"sd-question__erbox--below-question",locationTop:"sd-question__erbox--location--top",locationBottom:"sd-question__erbox--location--bottom"},checkbox:{root:"sd-selectbase",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-v2check",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-checkbox--disabled",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-v2check"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",itemLabel:"sd-multipletext__item-container sd-input",itemLabelOnError:"sd-multipletext__item-container--error",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-dropdown_clean-button",cleanButtonSvg:"sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-v2check_24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",itemCell:"sd-table__cell--item",row:"sd-table__row",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",cellRequiredText:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",actionsCell:"sd-table__cell sd-table__cell--actions",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",tableWrapper:"sd-table-wrapper",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",row:"sd-table__row",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",cellRequiredText:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",actionsCell:"sd-table__cell sd-table__cell--actions",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-v2dragelement_16x16",footer:"sd-matrixdynamic__footer",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-scrollable-container sd-rating sd-rating--wrappable",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",preview:"sd-file__preview",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-context-btn sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",removeButton:"sd-context-btn sd-context-btn--negative sd-file__btn sd-file__clean-btn",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-delete",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear"},saveData:{root:"sv-save-data_root",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",imagepickerGapBetweenItems:"--sd-imagepicker-gap",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-v2check",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",cleanButton:"sd-tagbox_clean-button sd-dropdown_clean-button",cleanButtonSvg:"sd-tagbox_clean-button-svg sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}},s="defaultV2";o[s]=a},"./src/defaultTitle.ts":function(n,r,i){i.r(r),i.d(r,"DefaultTitleModel",function(){return a});var o=i("./src/utils/cssClassBuilder.ts"),a=function(){function s(){}return s.getIconCss=function(c,C){return new o.CssClassBuilder().append(c.icon).append(c.iconExpanded,!C).toString()},s}()},"./src/drag-drop-helper-v1.ts":function(n,r,i){i.r(r),i.d(r,"DragDropInfo",function(){return o});var o=function(){function a(s,c,C){C===void 0&&(C=-1),this.source=s,this.target=c,this.nestedPanelDepth=C}return a}()},"./src/drag-drop-page-helper-v1.ts":function(n,r,i){i.r(r),i.d(r,"DragDropPageHelperV1",function(){return s});var o=i("./src/drag-drop-helper-v1.ts"),a=i("./src/settings.ts"),s=function(){function c(C){this.page=C}return c.prototype.getDragDropInfo=function(){return this.dragDropInfo},c.prototype.dragDropStart=function(C,E,O){O===void 0&&(O=-1),this.dragDropInfo=new o.DragDropInfo(C,E,O)},c.prototype.dragDropMoveTo=function(C,E,O){if(E===void 0&&(E=!1),O===void 0&&(O=!1),!this.dragDropInfo||(this.dragDropInfo.destination=C,this.dragDropInfo.isBottom=E,this.dragDropInfo.isEdge=O,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var y=this.page.dragDropFindRow(this.dragDropInfo.target);this.page.updateRowsRemoveElementFromRow(this.dragDropInfo.target,y)}return!1}return this.page.dragDropAddTarget(this.dragDropInfo),!0},c.prototype.correctDragDropInfo=function(C){if(C.destination){var E=C.destination.isPanel?C.destination:null;E&&(C.target.isLayoutTypeSupported(E.getChildrenLayoutType())||(C.isEdge=!0))}},c.prototype.dragDropAllowFromSurvey=function(){var C=this.dragDropInfo.destination;if(!C||!this.page.survey)return!0;var E=null,O=null,y=C.isPage||!this.dragDropInfo.isEdge&&C.isPanel?C:C.parent;if(!C.isPage){var b=C.parent;if(b){var P=b.elements,g=P.indexOf(C);g>-1&&(E=C,O=C,this.dragDropInfo.isBottom?E=g<P.length-1?P[g+1]:null:O=g>0?P[g-1]:null)}}var m={allow:!0,target:this.dragDropInfo.target,source:this.dragDropInfo.source,parent:y,insertAfter:O,insertBefore:E};return this.page.survey.dragAndDropAllow(m)},c.prototype.dragDropFinish=function(C){if(C===void 0&&(C=!1),!!this.dragDropInfo){var E=this.dragDropInfo.target,O=this.dragDropInfo.source,y=this.dragDropInfo.destination,b=this.page.dragDropFindRow(E),P=this.dragDropGetElementIndex(E,b);this.page.updateRowsRemoveElementFromRow(E,b);var g=[],m=[];if(!C&&b){var v=!1;if(this.page.isDesignMode&&a.settings.supportCreatorV2){var f=O&&O.parent&&O.parent.dragDropFindRow(O);b.panel.elements[P]&&b.panel.elements[P].startWithNewLine&&b.elements.length>1&&b.panel.elements[P]===y&&(g.push(E),m.push(b.panel.elements[P])),E.startWithNewLine&&b.elements.length>1&&(!b.panel.elements[P]||!b.panel.elements[P].startWithNewLine)&&m.push(E),f&&f.elements[0]===O&&f.elements[1]&&g.push(f.elements[1]),b.elements.length<=1&&g.push(E),E.startWithNewLine&&b.elements.length>1&&b.elements[0]!==y&&m.push(E)}O&&O.parent&&(this.page.survey.startMovingQuestion(),v=b.panel==O.parent,v?(b.panel.dragDropMoveElement(O,E,P),P=-1):O.parent.removeElement(O)),P>-1&&b.panel.addElement(E,P),this.page.survey.stopMovingQuestion()}return g.map(function(l){l.startWithNewLine=!0}),m.map(function(l){l.startWithNewLine=!1}),this.dragDropInfo=null,C?null:E}},c.prototype.dragDropGetElementIndex=function(C,E){if(!E)return-1;var O=E.elements.indexOf(C);if(E.index==0)return O;var y=E.panel.rows[E.index-1],b=y.elements[y.elements.length-1];return O+E.panel.elements.indexOf(b)+1},c.prototype.dragDropCanDropTagert=function(){var C=this.dragDropInfo.destination;return!C||C.isPage?!0:this.dragDropCanDropCore(this.dragDropInfo.target,C)},c.prototype.dragDropCanDropSource=function(){var C=this.dragDropInfo.source;if(!C)return!0;var E=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(C,E))return!1;if(this.page.isDesignMode&&a.settings.supportCreatorV2){var O=this.page.dragDropFindRow(C),y=this.page.dragDropFindRow(E);if(O!==y&&(!C.startWithNewLine&&E.startWithNewLine||C.startWithNewLine&&!E.startWithNewLine))return!0;var b=this.page.dragDropFindRow(E);if(b&&b.elements.length==1)return!0}return this.dragDropCanDropNotNext(C,E,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},c.prototype.dragDropCanDropCore=function(C,E){if(!E)return!0;if(this.dragDropIsSameElement(E,C))return!1;if(C.isPanel){var O=C;if(O.containsElement(E)||O.getElementByName(E.name))return!1}return!0},c.prototype.dragDropCanDropNotNext=function(C,E,O,y){if(!E||E.isPanel&&!O||typeof C.parent>"u"||C.parent!==E.parent)return!0;var b=C.parent,P=b.elements.indexOf(C),g=b.elements.indexOf(E);return g<P&&!y&&g--,y&&g++,P<g?g-P>1:P-g>0},c.prototype.dragDropIsSameElement=function(C,E){return C==E||C.name==E.name},c}()},"./src/drag-drop-panel-helper-v1.ts":function(n,r,i){i.r(r),i.d(r,"DragDropPanelHelperV1",function(){return s});var o=i("./src/drag-drop-helper-v1.ts"),a=i("./src/settings.ts"),s=function(){function c(C){this.panel=C}return c.prototype.dragDropAddTarget=function(C){var E=this.dragDropFindRow(C.target);this.dragDropAddTargetToRow(C,E)&&this.panel.updateRowsRemoveElementFromRow(C.target,E)},c.prototype.dragDropFindRow=function(C){if(!C||C.isPage)return null;for(var E=C,O=this.panel.rows,y=0;y<O.length;y++)if(O[y].elements.indexOf(E)>-1)return O[y];for(var y=0;y<this.panel.elements.length;y++){var b=this.panel.elements[y].getPanel();if(b){var P=b.dragDropFindRow(E);if(P)return P}}return null},c.prototype.dragDropMoveElement=function(C,E,O){var y=C.parent.elements.indexOf(C);O>y&&O--,this.panel.removeElement(C),this.panel.addElement(E,O)},c.prototype.updateRowsOnElementAdded=function(C,E,O,y){O||(O=new o.DragDropInfo(null,C),O.target=C,O.isEdge=this.panel.elements.length>1,this.panel.elements.length<2?O.destination=y:(O.isBottom=E>0,E==0?O.destination=this.panel.elements[1]:O.destination=this.panel.elements[E-1])),this.dragDropAddTargetToRow(O,null)},c.prototype.dragDropAddTargetToRow=function(C,E){if(!C.destination||this.dragDropAddTargetToEmptyPanel(C))return!0;var O=C.destination,y=this.dragDropFindRow(O);return y?C.target.startWithNewLine?this.dragDropAddTargetToNewRow(C,y,E):this.dragDropAddTargetToExistingRow(C,y,E):!0},c.prototype.dragDropAddTargetToEmptyPanel=function(C){if(C.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.panel.root,C.target,C.isBottom),!0;var E=C.destination;if(E.isPanel&&!C.isEdge){var O=E;if(C.target.template===E)return!1;if(C.nestedPanelDepth<0||C.nestedPanelDepth>=O.depth)return this.dragDropAddTargetToEmptyPanelCore(E,C.target,C.isBottom),!0}return!1},c.prototype.dragDropAddTargetToExistingRow=function(C,E,O){var y=E.elements.indexOf(C.destination);if(y==0&&!C.isBottom&&!(this.panel.isDesignMode&&a.settings.supportCreatorV2)){if(E.elements[0].startWithNewLine)return E.index>0?(C.isBottom=!0,E=E.panel.rows[E.index-1],C.destination=E.elements[E.elements.length-1],this.dragDropAddTargetToExistingRow(C,E,O)):this.dragDropAddTargetToNewRow(C,E,O)}var b=-1;O==E&&(b=E.elements.indexOf(C.target)),C.isBottom&&y++;var P=this.panel.findRowByElement(C.source);return P==E&&P.elements.indexOf(C.source)==y||y==b?!1:(b>-1&&(E.elements.splice(b,1),b<y&&y--),E.elements.splice(y,0,C.target),E.updateVisible(),b<0)},c.prototype.dragDropAddTargetToNewRow=function(C,E,O){var y=E.panel.createRowAndSetLazy(E.panel.rows.length);this.panel.isDesignMode&&a.settings.supportCreatorV2&&y.setIsLazyRendering(!1),y.addElement(C.target);var b=E.index;if(C.isBottom&&b++,O&&O.panel==y.panel&&O.index==b)return!1;var P=this.panel.findRowByElement(C.source);return P&&P.panel==y.panel&&P.elements.length==1&&P.index==b?!1:(E.panel.rows.splice(b,0,y),!0)},c.prototype.dragDropAddTargetToEmptyPanelCore=function(C,E,O){var y=C.createRow();y.addElement(E),C.elements.length==0||O?C.rows.push(y):C.rows.splice(0,0,y)},c}()},"./src/dragdrop/choices.ts":function(n,r,i){i.r(r),i.d(r,"DragDropChoices",function(){return s});var o=i("./src/dragdrop/core.ts"),a=function(){var c=function(C,E){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,y){O.__proto__=y}||function(O,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(O[b]=y[b])},c(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");c(C,E);function O(){this.constructor=C}C.prototype=E===null?Object.create(E):(O.prototype=E.prototype,new O)}}(),s=function(c){a(C,c);function C(){var E=c!==null&&c.apply(this,arguments)||this;return E.doDragOver=function(){if(E.parentElement.getType()!=="imagepicker"){var O=E.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");O.style.cursor="grabbing"}},E.doBanDropHere=function(){if(E.parentElement.getType()!=="imagepicker"){var O=E.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");O.style.cursor="not-allowed"}},E}return Object.defineProperty(C.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),C.prototype.createDraggedElementShortcut=function(E,O,y){if(this.parentElement.getType()==="imagepicker")return this.createImagePickerShortcut(this.draggedElement,E,O,y);var b=document.createElement("div");b.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 10000;
          font-family: var(--font-family, $font-family);
        `;var P=!0,g=O.closest("[data-sv-drop-target-item-value]").cloneNode(P);g.style.cssText=`
      min-width: 100px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);
      background-color: var(--background, white);
      border-radius: 36px;
      padding-right: 16px;
      margin-left: 0;
    `;var m=g.querySelector(".svc-item-value-controls__drag-icon");m.style.visibility="visible";var v=g.querySelector(".svc-item-value-controls__remove");v.style.backgroundColor="transparent",g.classList.remove("svc-item-value--moveup"),g.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,b.appendChild(g);var f=O.getBoundingClientRect();return b.shortcutXOffset=y.clientX-f.x,b.shortcutYOffset=y.clientY-f.y,this.isBottom=null,b},C.prototype.createImagePickerShortcut=function(E,O,y,b){var P=document.createElement("div");P.style.cssText=` 
      cursor: grabbing;
      position: absolute;
      z-index: 10000;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1), 0px 2px 6px rgba(0, 0, 0, 0.1);
      padding: 4px;
      border-radius: 4px;
      background: white;
    `;var g=y.closest("[data-sv-drop-target-item-value]"),m=g.querySelector(".svc-image-item-value-controls"),v=g.querySelector(".sd-imagepicker__image-container"),f=g.querySelector(E.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return m.style.display="none",v.style.width=f.width+"px",v.style.height=f.height+"px",f.style.objectFit="cover",f.style.borderRadius="4px",P.appendChild(f),P},C.prototype.getDropTargetByDataAttributeValue=function(E){var O;return O=this.parentElement.choices.filter(function(y){return""+y.value==E})[0],O},C.prototype.getVisibleChoices=function(){var E=this.parentElement;return E.getType()==="ranking"?E.rankingChoices:E.visibleChoices},C.prototype.isDropTargetValid=function(E,O){var y=this.getVisibleChoices();if(this.parentElement.getType()!=="imagepicker"){var b=y.indexOf(this.dropTarget),P=y.indexOf(this.draggedElement);if(P>b&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(P<b&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return y.indexOf(E)!==-1},C.prototype.calculateIsBottom=function(E){var O=this.getVisibleChoices();return O.indexOf(this.dropTarget)-O.indexOf(this.draggedElement)>0},C.prototype.afterDragOver=function(E){if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var O=this.getVisibleChoices(),y=O.indexOf(this.dropTarget),b=O.indexOf(this.draggedElement);O.splice(b,1),O.splice(y,0,this.draggedElement),this.parentElement.getType()!=="imagepicker"&&(b!==y&&(E.classList.remove("svc-item-value--moveup"),E.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),b>y&&(this.dropTarget.isDragDropMoveDown=!0),b<y&&(this.dropTarget.isDragDropMoveUp=!0),c.prototype.ghostPositionChanged.call(this))}},C.prototype.doDrop=function(){var E=this.parentElement.choices,O=this.getVisibleChoices().filter(function(P){return E.indexOf(P)!==-1}),y=E.indexOf(this.draggedElement),b=O.indexOf(this.draggedElement);return E.splice(y,1),E.splice(b,0,this.draggedElement),this.parentElement},C.prototype.clear=function(){this.parentElement&&this.updateVisibleChoices(this.parentElement),c.prototype.clear.call(this)},C.prototype.updateVisibleChoices=function(E){E.getType()==="ranking"?E.updateRankingChoices():E.updateVisibleChoices()},C}(o.DragDropCore)},"./src/dragdrop/core.ts":function(n,r,i){i.r(r),i.d(r,"DragDropCore",function(){return s});var o=i("./src/base.ts"),a=i("./src/dragdrop/dom-adapter.ts"),s=function(){function c(C,E,O,y){var b=this;this.surveyValue=C,this.creator=E,this._isBottom=null,this.onGhostPositionChanged=new o.EventBase,this.onDragStart=new o.EventBase,this.onDragEnd=new o.EventBase,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=function(){b.allowDropHere=!1,b.doBanDropHere(),b.dropTarget=null,b.domAdapter.draggedElementShortcut.style.cursor="not-allowed",b.isBottom=null},this.doBanDropHere=function(){},this.domAdapter=y||new a.DragDropDOMAdapter(this,O)}return Object.defineProperty(c.prototype,"isBottom",{get:function(){return!!this._isBottom},set:function(C){this._isBottom=C,this.ghostPositionChanged()},enumerable:!1,configurable:!0}),c.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(c.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-"+this.draggedElementType+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"survey",{get:function(){return this.surveyValue||this.creator.survey},enumerable:!1,configurable:!0}),c.prototype.startDrag=function(C,E,O,y,b){b===void 0&&(b=!1),this.domAdapter.startDrag(C,E,O,y,b)},c.prototype.dragInit=function(C,E,O,y){this.draggedElement=E,this.parentElement=O;var b=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(b,y,C),this.onStartDrag(C)},c.prototype.onStartDrag=function(C){},c.prototype.isDropTargetDoesntChanged=function(C){return this.dropTarget===this.prevDropTarget&&C===this.isBottom},c.prototype.getShortcutText=function(C){return C.shortcutText},c.prototype.createDraggedElementShortcut=function(C,E,O){var y=document.createElement("div");return y.innerText=C,y.className=this.getDraggedElementClass(),y},c.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},c.prototype.doDragOver=function(){},c.prototype.afterDragOver=function(C){},c.prototype.findDropTargetNodeFromPoint=function(C,E){this.domAdapter.draggedElementShortcut.hidden=!0;var O=document.elementFromPoint(C,E);return this.domAdapter.draggedElementShortcut.hidden=!1,O?this.findDropTargetNodeByDragOverNode(O):null},c.prototype.getDataAttributeValueByNode=function(C){var E=this,O="svDropTarget",y=this.draggedElementType.split("-");return y.forEach(function(b){O+=E.capitalizeFirstLetter(b)}),C.dataset[O]},c.prototype.getDropTargetByNode=function(C,E){var O=this.getDataAttributeValueByNode(C);return this.getDropTargetByDataAttributeValue(O,C,E)},c.prototype.capitalizeFirstLetter=function(C){return C.charAt(0).toUpperCase()+C.slice(1)},c.prototype.calculateVerticalMiddleOfHTMLElement=function(C){var E=C.getBoundingClientRect();return E.y+E.height/2},c.prototype.calculateHorizontalMiddleOfHTMLElement=function(C){var E=C.getBoundingClientRect();return E.x+E.width/2},c.prototype.calculateIsBottom=function(C,E){return!1},c.prototype.findDropTargetNodeByDragOverNode=function(C){var E=C.closest(this.dropTargetDataAttributeName);return E},c.prototype.dragOver=function(C){var E=this.findDropTargetNodeFromPoint(C.clientX,C.clientY);if(!E){this.banDropHere();return}this.dropTarget=this.getDropTargetByNode(E,C);var O=this.isDropTargetValid(this.dropTarget,E);if(this.doDragOver(),!O){this.banDropHere();return}var y=this.calculateIsBottom(C.clientY,E);this.allowDropHere=!0,!this.isDropTargetDoesntChanged(y)&&(this.isBottom=null,this.isBottom=y,this.afterDragOver(E),this.prevDropTarget=this.dropTarget)},c.prototype.drop=function(){if(this.allowDropHere){var C=this.draggedElement.parent;this.onDragStart.fire(this,{fromElement:C,draggedElement:this.draggedElement});var E=this.doDrop();this.onDragEnd.fire(this,{fromElement:C,draggedElement:E,toElement:this.dropTarget})}},c.prototype.clear=function(){this.dropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null},c}()},"./src/dragdrop/dom-adapter.ts":function(n,r,i){i.r(r),i.d(r,"DragDropDOMAdapter",function(){return c});var o=i("./src/utils/utils.ts"),a=i("./src/utils/devices.ts"),s=i("./src/settings.ts");typeof window<"u"&&window.addEventListener("touchmove",function(C){c.PreventScrolling&&C.preventDefault()},{passive:!1});var c=function(){function C(E,O){var y=this;this.dd=E,this.longTap=O,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=function(b){b.preventDefault(),y.currentX=b.pageX,y.currentY=b.pageY,!y.isMicroMovement&&(document.body.style.setProperty("touch-action",""),document.body.style.setProperty("user-select",""),document.body.style.setProperty("-webkit-user-select",""),y.stopLongTap())},this.stopLongTap=function(b){clearTimeout(y.timeoutID),y.timeoutID=null,document.removeEventListener("pointerup",y.stopLongTap),document.removeEventListener("pointermove",y.stopLongTapIfMoveEnough)},this.handlePointerCancel=function(b){y.clear()},this.handleEscapeButton=function(b){b.keyCode==27&&y.clear()},this.onContextMenu=function(b){b.preventDefault(),b.stopPropagation()},this.dragOver=function(b){y.moveShortcutElement(b),y.draggedElementShortcut.style.cursor="grabbing",y.dd.dragOver(b)},this.clear=function(){cancelAnimationFrame(y.scrollIntervalId),document.removeEventListener("pointermove",y.dragOver),document.removeEventListener("pointercancel",y.handlePointerCancel),document.removeEventListener("keydown",y.handleEscapeButton),document.removeEventListener("pointerup",y.drop),y.draggedElementShortcut.removeEventListener("pointerup",y.drop),a.IsTouch&&y.draggedElementShortcut.removeEventListener("contextmenu",y.onContextMenu),s.settings.environment.rootElement.removeChild(y.draggedElementShortcut),y.dd.clear(),y.draggedElementShortcut=null,y.scrollIntervalId=null,a.IsTouch&&(y.savedTargetNode&&s.settings.environment.rootElement.removeChild(y.savedTargetNode),C.PreventScrolling=!1),document.body.style.setProperty("touch-action",""),document.body.style.setProperty("user-select",""),document.body.style.setProperty("-webkit-user-select","")},this.drop=function(){y.dd.drop(),y.clear()},this.draggedElementShortcut=null}return Object.defineProperty(C.prototype,"isMicroMovement",{get:function(){var E=5,O=Math.abs(this.currentX-this.startX),y=Math.abs(this.currentY-this.startY);return O<E&&y<E},enumerable:!1,configurable:!0}),C.prototype.startLongTapProcessing=function(E,O,y,b,P){var g=this;P===void 0&&(P=!1),this.startX=E.pageX,this.startY=E.pageY,document.body.style.setProperty("touch-action","none","important"),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),this.timeoutID=setTimeout(function(){g.doStartDrag(E,O,y,b),P||(g.savedTargetNode=E.target,g.savedTargetNode.style.cssText=`
          position: absolute;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden;
          clip: rect(1px 1px 1px 1px);
          clip: rect(1px, 1px, 1px, 1px);
        `,s.settings.environment.rootElement.appendChild(g.savedTargetNode)),g.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},C.prototype.moveShortcutElement=function(E){this.doScroll(E.clientY,E.clientX);var O=this.draggedElementShortcut.offsetHeight,y=this.draggedElementShortcut.offsetWidth,b=this.draggedElementShortcut.shortcutXOffset||y/2,P=this.draggedElementShortcut.shortcutYOffset||O/2;document.querySelectorAll("[dir='rtl']").length!==0&&(b=y/2,P=O/2);var g=(Object(o.isShadowDOM)(s.settings.environment.root)?s.settings.environment.root.host:s.settings.environment.root.documentElement).clientHeight,m=(Object(o.isShadowDOM)(s.settings.environment.root)?s.settings.environment.root.host:s.settings.environment.root.documentElement).clientWidth,v=this.getShortcutBottomCoordinate(E.clientY,O,P),f=this.getShortcutRightCoordinate(E.clientX,y,b);if(f>=m){this.draggedElementShortcut.style.left=E.pageX-E.clientX+m-y+"px",this.draggedElementShortcut.style.top=E.pageY-P+"px";return}if(E.clientX-b<=0){this.draggedElementShortcut.style.left=E.pageX-E.clientX+"px",this.draggedElementShortcut.style.top=E.pageY-P+"px";return}if(v>=g){this.draggedElementShortcut.style.left=E.pageX-b+"px",this.draggedElementShortcut.style.top=E.pageY-E.clientY+g-O+"px";return}if(E.clientY-P<=0){this.draggedElementShortcut.style.left=E.pageX-b+"px",this.draggedElementShortcut.style.top=E.pageY-E.clientY+"px";return}this.draggedElementShortcut.style.left=E.pageX-b+"px",this.draggedElementShortcut.style.top=E.pageY-P+"px"},C.prototype.getShortcutBottomCoordinate=function(E,O,y){return E+O-y},C.prototype.getShortcutRightCoordinate=function(E,O,y){return E+O-y},C.prototype.doScroll=function(E,O){var y=this;cancelAnimationFrame(this.scrollIntervalId);var b=50;this.draggedElementShortcut.hidden=!0;var P=document.elementFromPoint(O,E);this.draggedElementShortcut.hidden=!1;var g=Object(o.findScrollableParent)(P),m,v,f,l;g.tagName==="HTML"?(m=0,v=document.documentElement.clientHeight,f=0,l=document.documentElement.clientWidth):(m=g.getBoundingClientRect().top,v=g.getBoundingClientRect().bottom,f=g.getBoundingClientRect().left,l=g.getBoundingClientRect().right);var d=function(){E-m<=b?g.scrollTop-=15:v-E<=b?g.scrollTop+=15:l-O<=b?g.scrollLeft+=15:O-f<=b&&(g.scrollLeft-=15),y.scrollIntervalId=requestAnimationFrame(d)};this.scrollIntervalId=requestAnimationFrame(d)},C.prototype.doStartDrag=function(E,O,y,b){a.IsTouch&&(C.PreventScrolling=!0),E.which!==3&&(this.dd.dragInit(E,O,y,b),document.body.append(this.draggedElementShortcut),this.moveShortcutElement(E),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),a.IsTouch?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))},C.prototype.startDrag=function(E,O,y,b,P){if(P===void 0&&(P=!1),a.IsTouch){this.startLongTapProcessing(E,O,y,b,P);return}this.doStartDrag(E,O,y,b)},C.PreventScrolling=!1,C}()},"./src/dragdrop/matrix-rows.ts":function(n,r,i){i.r(r),i.d(r,"DragDropMatrixRows",function(){return s});var o=i("./src/dragdrop/core.ts"),a=function(){var c=function(C,E){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,y){O.__proto__=y}||function(O,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(O[b]=y[b])},c(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");c(C,E);function O(){this.constructor=C}C.prototype=E===null?Object.create(E):(O.prototype=E.prototype,new O)}}(),s=function(c){a(C,c);function C(){var E=c!==null&&c.apply(this,arguments)||this;return E.fromIndex=null,E.toIndex=null,E.doDrop=function(){return E.parentElement.moveRowByIndex(E.fromIndex,E.toIndex),E.parentElement},E}return Object.defineProperty(C.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),C.prototype.onStartDrag=function(){this.restoreUserSelectValue=document.body.style.userSelect,document.body.style.userSelect="none"},C.prototype.createDraggedElementShortcut=function(E,O,y){var b=this,P=document.createElement("div");P.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 10000;
          font-family: var(--font-family, $font-family);
        `;var g=!0;if(O){var m=O.closest("[data-sv-drop-target-matrix-row]"),v=m.cloneNode(g);v.style.cssText=`
        box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1), 0px 2px 6px rgba(0, 0, 0, 0.1);
        background-color: white;
        display: flex;
        flex-grow: 0;
        flex-shrink: 0;
        align-items: center;
        line-height: 0;
        width: `+m.offsetWidth+`px;
      `,v.classList.remove("sv-matrix__drag-drop--moveup"),v.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,P.appendChild(v);var f=O.getBoundingClientRect();P.shortcutXOffset=y.clientX-f.x,P.shortcutYOffset=y.clientY-f.y}var l=this.parentElement.renderedTable.rows;return l.forEach(function(d,h){d.row===b.draggedElement&&(d.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),P},C.prototype.getDropTargetByDataAttributeValue=function(E){var O=this.parentElement,y;return y=O.renderedTable.rows.filter(function(b){return b.row.id===E})[0],y.row},C.prototype.isDropTargetValid=function(E,O){return!0},C.prototype.calculateIsBottom=function(E){var O=this.parentElement.renderedTable.rows,y=O.map(function(b){return b.row});return y.indexOf(this.dropTarget)-y.indexOf(this.draggedElement)>0},C.prototype.afterDragOver=function(E){var O=this;if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var y,b,P,g=this.parentElement.renderedTable.rows;g.forEach(function(m,v){m.row===O.dropTarget&&(y=v),m.row===O.draggedElement&&(P=m,b=v,P.isGhostRow=!0)}),g.splice(b,1),g.splice(y,0,P),this.toIndex=y,c.prototype.ghostPositionChanged.call(this)}},C.prototype.clear=function(){var E=this.parentElement.renderedTable.rows;E.forEach(function(O){O.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.fromIndex=null,this.toIndex=null,document.body.style.userSelect=this.restoreUserSelectValue||"initial",c.prototype.clear.call(this)},C}(o.DragDropCore)},"./src/dragdrop/ranking-choices.ts":function(n,r,i){i.r(r),i.d(r,"DragDropRankingChoices",function(){return C});var o=i("./src/dragdrop/choices.ts"),a=i("./src/utils/cssClassBuilder.ts"),s=i("./src/utils/devices.ts"),c=function(){var E=function(O,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,P){b.__proto__=P}||function(b,P){for(var g in P)Object.prototype.hasOwnProperty.call(P,g)&&(b[g]=P[g])},E(O,y)};return function(O,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");E(O,y);function b(){this.constructor=O}O.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),C=function(E){c(O,E);function O(){var y=E!==null&&E.apply(this,arguments)||this;return y.isDragOverRootNode=!1,y.doDragOver=function(){var b=y.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");b.style.cursor="grabbing"},y.doBanDropHere=function(){if(y.isDragOverRootNode){y.allowDropHere=!0;return}var b=y.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");b.style.cursor="not-allowed"},y.doDrop=function(){return y.parentElement.setValue(),y.parentElement},y}return Object.defineProperty(O.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),O.prototype.createDraggedElementShortcut=function(y,b,P){var g=document.createElement("div");g.className=this.shortcutClass+" sv-ranking-shortcut",g.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 10000;
          border-radius: 36px;
          min-width: 100px;
          box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1), 0px 2px 6px rgba(0, 0, 0, 0.1);
          background-color: var(--background, white);
          font-family: var(--font-family, $font-family);
        `;var m=!0,v=b.cloneNode(m);g.appendChild(v);var f=b.getBoundingClientRect();return g.shortcutXOffset=P.clientX-f.x,g.shortcutYOffset=P.clientY-f.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(g.style.width=b.offsetWidth+"px",g.style.height=b.offsetHeight+"px"),g},Object.defineProperty(O.prototype,"shortcutClass",{get:function(){return new a.CssClassBuilder().append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,s.IsMobile).toString()},enumerable:!1,configurable:!0}),O.prototype.getDropTargetByDataAttributeValue=function(y){return this.parentElement.rankingChoices[y]},O.prototype.findDropTargetNodeByDragOverNode=function(y){return this.isDragOverRootNode=this.getIsDragOverRootNode(y),E.prototype.findDropTargetNodeByDragOverNode.call(this,y)},O.prototype.getIsDragOverRootNode=function(y){return typeof y.className=="string"&&y.className.indexOf("sv-ranking")!==-1},O.prototype.isDropTargetValid=function(y,b){var P=this.parentElement.rankingChoices,g=P.indexOf(this.dropTarget),m=P.indexOf(this.draggedElement);return m>g&&b.classList.contains("sv-dragdrop-moveup")?(this.parentElement.dropTargetNodeMove=null,!1):m<g&&b.classList.contains("sv-dragdrop-movedown")?(this.parentElement.dropTargetNodeMove=null,!1):P.indexOf(y)!==-1},O.prototype.calculateIsBottom=function(y){var b=this.parentElement.rankingChoices;return b.indexOf(this.dropTarget)-b.indexOf(this.draggedElement)>0},O.prototype.afterDragOver=function(y){var b=this.parentElement.rankingChoices,P=b.indexOf(this.dropTarget),g=b.indexOf(this.draggedElement);b.splice(g,1),b.splice(P,0,this.draggedElement),this.parentElement.setPropertyValue("rankingChoices",b),this.updateDraggedElementShortcut(P+1),g!==P&&(y.classList.remove("sv-dragdrop-moveup"),y.classList.remove("sv-dragdrop-movedown"),this.parentElement.dropTargetNodeMove=null),g>P&&(this.parentElement.dropTargetNodeMove="down"),g<P&&(this.parentElement.dropTargetNodeMove="up")},O.prototype.updateDraggedElementShortcut=function(y){var b=y!==null?y+"":"",P=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index");P.innerText=b},O.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,E.prototype.ghostPositionChanged.call(this)},O.prototype.clear=function(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),E.prototype.clear.call(this)},O}(o.DragDropChoices)},"./src/dragdrop/ranking-select-to-rank.ts":function(n,r,i){i.r(r),i.d(r,"DragDropRankingSelectToRank",function(){return s});var o=i("./src/dragdrop/ranking-choices.ts"),a=function(){var c=function(C,E){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,y){O.__proto__=y}||function(O,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(O[b]=y[b])},c(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");c(C,E);function O(){this.constructor=C}C.prototype=E===null?Object.create(E):(O.prototype=E.prototype,new O)}}(),s=function(c){a(C,c);function C(){return c!==null&&c.apply(this,arguments)||this}return C.prototype.onStartDrag=function(E){var O=E.target,y=O.closest(".sv-ranking__container--from");y&&(y.style.minHeight=y.offsetHeight+"px")},C.prototype.findDropTargetNodeByDragOverNode=function(E){if(E.dataset.ranking==="from-container"||E.dataset.ranking==="to-container")return E;if(this.parentElement.isEmpty()){var O=E.closest("[data-ranking='to-container']"),y=E.closest("[data-ranking='from-container']");return O||y||null}return c.prototype.findDropTargetNodeByDragOverNode.call(this,E)},C.prototype.getDropTargetByDataAttributeValue=function(E){return this.parentElement.rankingChoices[E]||this.parentElement.unRankingChoices[E]},C.prototype.getDropTargetByNode=function(E,O){return E.dataset.ranking==="to-container"?"to-container":E.dataset.ranking==="from-container"||E.closest("[data-ranking='from-container']")?"from-container":c.prototype.getDropTargetByNode.call(this,E,O)},C.prototype.isDropTargetValid=function(E,O){return E==="to-container"||E==="from-container"?!0:c.prototype.isDropTargetValid.call(this,E,O)},C.prototype.afterDragOver=function(E){var O=this.parentElement,y=O.rankingChoices,b=O.unRankingChoices;if(this.isDraggedElementUnranked&&this.isDropTargetRanked){this.doRankBetween(E,b,y,this.selectToRank);return}if(this.isDraggedElementRanked&&this.isDropTargetRanked){this.doRankBetween(E,y,y,this.reorderRankedItem);return}if(this.isDraggedElementRanked&&!this.isDropTargetRanked){this.doRankBetween(E,y,b,this.unselectFromRank);return}},C.prototype.doRankBetween=function(E,O,y,b){var P=this.parentElement,g=O.indexOf(this.draggedElement),m=y.indexOf(this.dropTarget);m===-1&&(m=y.length),b(P,g,m),this.doUIEffects(E,g,m)},C.prototype.doUIEffects=function(E,O,y){var b=this.parentElement,P=this.dropTarget==="to-container"&&b.isEmpty(),g=!this.isDropTargetUnranked||P,m=g?y+1:null;this.updateDraggedElementShortcut(m),O!==y&&(E.classList.remove("sv-dragdrop-moveup"),E.classList.remove("sv-dragdrop-movedown"),b.dropTargetNodeMove=null),O>y&&(b.dropTargetNodeMove="down"),O<y&&(b.dropTargetNodeMove="up")},Object.defineProperty(C.prototype,"isDraggedElementRanked",{get:function(){return this.parentElement.rankingChoices.indexOf(this.draggedElement)!==-1},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isDropTargetRanked",{get:function(){return this.dropTarget==="to-container"?!0:this.parentElement.rankingChoices.indexOf(this.dropTarget)!==-1},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isDraggedElementUnranked",{get:function(){return!this.isDraggedElementRanked},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isDropTargetUnranked",{get:function(){return!this.isDropTargetRanked},enumerable:!1,configurable:!0}),C.prototype.selectToRank=function(E,O,y){var b=E.rankingChoices,P=E.unRankingChoices,g=P[O];b.splice(y,0,g),E.setPropertyValue("rankingChoices",b)},C.prototype.unselectFromRank=function(E,O,y){var b=E.rankingChoices;b.splice(O,1),E.setPropertyValue("rankingChoices",b)},C.prototype.reorderRankedItem=function(E,O,y){var b=E.rankingChoices,P=b[O];b.splice(O,1),b.splice(y,0,P),E.setPropertyValue("rankingChoices",b)},C}(o.DragDropRankingChoices)},"./src/dropdownListModel.ts":function(n,r,i){i.r(r),i.d(r,"DropdownListModel",function(){return m});var o=i("./src/base.ts"),a=i("./src/itemvalue.ts"),s=i("./src/jsonobject.ts"),c=i("./src/list.ts"),C=i("./src/popup.ts"),E=i("./src/question_dropdown.ts"),O=i("./src/utils/cssClassBuilder.ts"),y=i("./src/utils/devices.ts"),b=i("./src/utils/utils.ts"),P=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),g=function(v,f,l,d){var h=arguments.length,p=h<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,l):d,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(v,f,l,d);else for(var x=v.length-1;x>=0;x--)(u=v[x])&&(p=(h<3?u(p):h>3?u(f,l,p):u(f,l))||p);return h>3&&p&&Object.defineProperty(f,l,p),p},m=function(v){P(f,v);function f(l,d){var h=v.call(this)||this;return h.question=l,h.onSelectionChanged=d,h.minPageSize=25,h.loadingItemHeight=40,h._markdownMode=!1,h.selectedItemSelector=".sv-list__item--selected",h.itemSelector=".sv-list__item",h.itemsSettings={skip:0,take:0,totalCount:0,items:[]},h.isRunningLoadQuestionChoices=!1,h.popupCssClasses="sv-single-select-list",h.listModelFilterStringChanged=function(p){h.filterString!==p&&(h.filterString=p)},l.onPropertyChanged.add(function(p,u){h.onPropertyChangedHandler(p,u)}),h.showInputFieldComponent=h.question.showInputFieldComponent,h.listModel=h.createListModel(),h.updateAfterListModelCreated(h.listModel),h.setSearchEnabled(h.question.searchEnabled),h.createPopup(),h.resetItemsSettings(),h}return Object.defineProperty(f.prototype,"focusFirstInputSelector",{get:function(){return this.getFocusFirstInputSelector()},enumerable:!1,configurable:!0}),f.prototype.getFocusFirstInputSelector=function(){return y.IsTouch?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""},f.prototype.resetItemsSettings=function(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]},f.prototype.setItems=function(l,d){this.itemsSettings.items=[].concat(this.itemsSettings.items,l),this.itemsSettings.totalCount=d,this.listModel.isAllDataLoaded=this.question.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items},f.prototype.updateQuestionChoices=function(l){var d=this;if(!this.isRunningLoadQuestionChoices){var h=this.itemsSettings.skip+1<this.itemsSettings.totalCount;(!this.itemsSettings.skip||h)&&(this.isRunningLoadQuestionChoices=!0,this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:function(p,u){d.isRunningLoadQuestionChoices=!1,d.setItems(p||[],u||0),d.popupRecalculatePosition(d.itemsSettings.skip===d.itemsSettings.take),l&&l()}}),this.itemsSettings.skip+=this.itemsSettings.take)}},f.prototype.updatePopupFocusFirstInputSelector=function(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector},f.prototype.createPopup=function(){var l=this;this._popupModel=new C.PopupModel("sv-list",{model:this.listModel},"bottom","center",!1),this._popupModel.displayMode=y.IsTouch?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=y.IsTouch,this._popupModel.setWidthByTarget=!y.IsTouch,this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],function(){l.updatePopupFocusFirstInputSelector()}),this._popupModel.cssClass=this.popupCssClasses,this._popupModel.onVisibilityChanged.add(function(d,h){h.isVisible&&(l.listModel.renderElements=!0),h.isVisible&&l.question.choicesLazyLoadEnabled&&(l.listModel.actions=[],l.updateQuestionChoices()),h.isVisible&&l.question.onOpenedCallBack&&(l.updatePopupFocusFirstInputSelector(),l.question.onOpenedCallBack()),h.isVisible||(l.onHidePopup(),l.question.choicesLazyLoadEnabled&&l.resetItemsSettings()),l.question.processPopupVisiblilityChanged(l.popupModel,h.isVisible)})},f.prototype.setFilterStringToListModel=function(l){var d=this;if(this.listModel.filterString=l,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(l)>=0){this.listModel.focusedItem=this.getAvailableItems().filter(function(h){return h.id==d.question.selectedItem.value})[0],this.listModel.filterString&&this.listModel.actions.map(function(h){return h.selectedValue=!1});return}(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()},f.prototype.popupRecalculatePosition=function(l){var d=this;setTimeout(function(){d.popupModel.recalculatePosition(l)},1)},f.prototype.onHidePopup=function(){this.resetFilterString(),this.question.suggestedItem=null,this.listModel.refresh()},f.prototype.getAvailableItems=function(){return this.question.visibleChoices},f.prototype.createListModel=function(){var l=this,d=this.getAvailableItems(),h=this.onSelectionChanged;h||(h=function(u){l.question.value=u.id,l.question.searchEnabled&&l.applyInputString(u),l._popupModel.toggleVisibility()});var p=new c.ListModel(d,h,!1,void 0,this.question.choicesLazyLoadEnabled?this.listModelFilterStringChanged:void 0,this.listElementId);return p.renderElements=!1,p.forceShowFilter=!0,p.areSameItemsCallback=function(u,x){return u===x},p},f.prototype.updateAfterListModelCreated=function(l){var d=this;l.isItemSelected=function(h){return!!h.selected},l.locOwner=this.question,l.onPropertyChanged.add(function(h,p){p.name=="hasVerticalScroller"&&(d.hasScroll=p.newValue)}),l.isAllDataLoaded=!this.question.choicesLazyLoadEnabled},f.prototype.updateCssClasses=function(l,d){this.popupModel.cssClass=new O.CssClassBuilder().append(l).append(this.popupCssClasses).toString(),this.listModel.cssClasses=d},f.prototype.resetFilterString=function(){this.filterString&&(this.filterString=void 0)},f.prototype.clear=function(){this.inputString=null,this.hintString="",this.resetFilterString()},f.prototype.onSetFilterString=function(){var l=this;this.filterString&&!this.popupModel.isVisible&&(this.popupModel.isVisible=!0);var d=function(){l.setFilterStringToListModel(l.filterString),l.popupRecalculatePosition(!0)};this.question.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(d)):d()},Object.defineProperty(f.prototype,"isAllDataLoaded",{get:function(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount},enumerable:!1,configurable:!0}),f.prototype.applyInputString=function(l){var d=l==null?void 0:l.locText.hasHtml;d||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString="",this.hintString=""):(this.inputString=l==null?void 0:l.title,this.hintString=l==null?void 0:l.title)},f.prototype.fixInputCase=function(){var l=this.hintStringMiddle;l&&this.inputString!=l&&(this.inputString=l)},f.prototype.applyHintString=function(l){var d=l==null?void 0:l.locText.hasHtml;d||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):this.hintString=l==null?void 0:l.title},Object.defineProperty(f.prototype,"inputStringRendered",{get:function(){return this.inputString||""},set:function(l){this.inputString=l,this.filterString=l,this.applyHintString(this.listModel.focusedItem||this.question.selectedItem)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"placeholderRendered",{get:function(){return this.hintString?"":this.question.readOnlyText},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"listElementId",{get:function(){return this.question.inputId+"_list"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hintStringLC",{get:function(){var l;return((l=this.hintString)===null||l===void 0?void 0:l.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"inputStringLC",{get:function(){var l;return((l=this.inputString)===null||l===void 0?void 0:l.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showHintPrefix",{get:function(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hintStringPrefix",{get:function(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showHintString",{get:function(){return!!this.question.searchEnabled&&this.hintStringLC&&this.hintStringLC.indexOf(this.inputStringLC)>=0||!this.question.searchEnabled&&this.hintStringLC&&!this.question.value},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hintStringSuffix",{get:function(){return this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hintStringMiddle",{get:function(){var l=this.hintStringLC.indexOf(this.inputStringLC);return l==-1?null:this.hintString.substring(l,l+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"popupModel",{get:function(){return this._popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"inputReadOnly",{get:function(){return this.question.isInputReadOnly||this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"filterStringEnabled",{get:function(){return!this.question.isInputReadOnly&&this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"inputMode",{get:function(){return y.IsTouch?"none":"text"},enumerable:!1,configurable:!0}),f.prototype.setSearchEnabled=function(l){this.listModel.searchEnabled=y.IsTouch,this.listModel.showSearchClearButton=y.IsTouch,this.searchEnabled=l},f.prototype.updateItems=function(){this.listModel.setItems(this.getAvailableItems())},f.prototype.onClick=function(l){if(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.searchEnabled&&l&&l.target){var d=l.target.querySelector("input");d&&d.focus()}},f.prototype.onPropertyChangedHandler=function(l,d){d.name=="value"&&(this.showInputFieldComponent=this.question.showInputFieldComponent)},f.prototype.focusItemOnClickAndPopup=function(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)},f.prototype.onClear=function(l){this.question.clearValue(),this._popupModel.isVisible=!1,l&&(l.preventDefault(),l.stopPropagation())},f.prototype.getSelectedAction=function(){return this.question.selectedItem||null},f.prototype.changeSelectionWithKeyboard=function(l){var d,h=this.listModel.focusedItem;!h&&this.question.selectedItem?a.ItemValue.getItemByValue(this.question.choices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):l?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(h),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=(d=this.listModel.focusedItem)===null||d===void 0?void 0:d.elementId},f.prototype.beforeScrollToFocusedItem=function(l){this.question.value&&l&&(l.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)},f.prototype.afterScrollToFocusedItem=function(){var l;this.question.value&&!this.listModel.filterString&&this.question.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.fixInputCase(),this.ariaActivedescendant=(l=this.listModel.focusedItem)===null||l===void 0?void 0:l.elementId},f.prototype.keyHandler=function(l){var d=l.which||l.keyCode;if(this.popupModel.isVisible&&l.keyCode===38?(this.changeSelectionWithKeyboard(!0),l.preventDefault(),l.stopPropagation()):l.keyCode===40&&(this.popupModel.isVisible||this.popupModel.toggleVisibility(),this.changeSelectionWithKeyboard(!1),l.preventDefault(),l.stopPropagation()),l.keyCode===9)this.popupModel.isVisible=!1;else if(!this.popupModel.isVisible&&(l.keyCode===13||l.keyCode===32))this.popupModel.toggleVisibility(),this.changeSelectionWithKeyboard(!1),l.preventDefault(),l.stopPropagation();else if(this.popupModel.isVisible&&(l.keyCode===13||l.keyCode===32&&(!this.question.searchEnabled||!this.inputString)))l.keyCode===13&&this.question.searchEnabled&&!this.inputString&&this.question instanceof E.QuestionDropdownModel&&!this._markdownMode&&this.question.value?(this._popupModel.isVisible=!1,this.onClear(l),this.question.survey.questionEditFinishCallback(this.question,l)):(this.listModel.selectFocusedItem(),this.onFocus(l),this.question.survey.questionEditFinishCallback(this.question,l)),l.preventDefault(),l.stopPropagation();else if(d===46||d===8)this.searchEnabled||this.onClear(l);else if(l.keyCode===27)this._popupModel.isVisible=!1,this.hintString="",this.onEscape();else{if((l.keyCode===38||l.keyCode===40||l.keyCode===32&&!this.question.searchEnabled)&&(l.preventDefault(),l.stopPropagation()),l.keyCode===32&&this.question.searchEnabled)return;Object(b.doKey2ClickUp)(l,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}},f.prototype.onEscape=function(){this.question.searchEnabled&&this.applyInputString(this.question.selectedItem)},f.prototype.onScroll=function(l){var d=l.target;d.scrollHeight-(d.scrollTop+d.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()},f.prototype.onBlur=function(l){if(this.focused=!1,this.popupModel.isVisible&&y.IsTouch){this._popupModel.isVisible=!0;return}this.resetFilterString(),this.inputString=null,this.hintString="",Object(b.doKey2ClickBlur)(l),this._popupModel.isVisible=!1,l.stopPropagation()},f.prototype.onFocus=function(l){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)},f.prototype.setInputStringFromSelectedItem=function(l){this.focused&&(this.question.searchEnabled&&l?this.applyInputString(l):this.inputString=null)},f.prototype.dispose=function(){v.prototype.dispose.call(this),this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose()},f.prototype.scrollToFocusedItem=function(){this.listModel.scrollToFocusedItem()},g([Object(s.property)({defaultValue:!0})],f.prototype,"searchEnabled",void 0),g([Object(s.property)({defaultValue:"",onSet:function(l,d){d.onSetFilterString()}})],f.prototype,"filterString",void 0),g([Object(s.property)({defaultValue:"",onSet:function(l,d){d.question.inputHasValue=!!l}})],f.prototype,"inputString",void 0),g([Object(s.property)({})],f.prototype,"showInputFieldComponent",void 0),g([Object(s.property)()],f.prototype,"ariaActivedescendant",void 0),g([Object(s.property)({defaultValue:!1,onSet:function(l,d){l?d.listModel.addScrollEventListener(function(h){d.onScroll(h)}):d.listModel.removeScrollEventListener()}})],f.prototype,"hasScroll",void 0),g([Object(s.property)({defaultValue:""})],f.prototype,"hintString",void 0),f}(o.Base)},"./src/dropdownMultiSelectListModel.ts":function(n,r,i){i.r(r),i.d(r,"DropdownMultiSelectListModel",function(){return b});var o=i("./src/base.ts"),a=i("./src/dropdownListModel.ts"),s=i("./src/jsonobject.ts"),c=i("./src/multiSelectListModel.ts"),C=i("./src/settings.ts"),E=i("./src/utils/devices.ts"),O=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),y=function(P,g,m,v){var f=arguments.length,l=f<3?g:v===null?v=Object.getOwnPropertyDescriptor(g,m):v,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(P,g,m,v);else for(var h=P.length-1;h>=0;h--)(d=P[h])&&(l=(f<3?d(l):f>3?d(g,m,l):d(g,m))||l);return f>3&&l&&Object.defineProperty(g,m,l),l},b=function(P){O(g,P);function g(m,v){var f=P.call(this,m,v)||this;return f.popupCssClasses="sv-multi-select-list",f.setHideSelectedItems(m.hideSelectedItems),f.syncFilterStringPlaceholder(),f.closeOnSelect=m.closeOnSelect,f}return g.prototype.updateListState=function(){this.listModel.updateState(),this.syncFilterStringPlaceholder()},g.prototype.syncFilterStringPlaceholder=function(){var m=this.getSelectedActions();m.length||this.question.selectedItems.length||this.listModel.focusedItem?this.filterStringPlaceholder=void 0:this.filterStringPlaceholder=this.question.placeholder},g.prototype.getSelectedActions=function(){return this.listModel.actions.filter(function(m){return m.selected})},g.prototype.getFocusFirstInputSelector=function(){return this.listModel.hideSelectedItems&&E.IsTouch&&!this.isValueEmpty(this.question.value)?this.itemSelector:P.prototype.getFocusFirstInputSelector.call(this)},g.prototype.createListModel=function(){var m=this,v=this.getAvailableItems(),f=this.onSelectionChanged;f||(f=function(d,h){m.resetFilterString(),d.value==="selectall"?m.selectAllItems():h==="added"&&d.value===C.settings.noneItemValue?m.selectNoneItem():h==="added"?m.selectItem(d.value):h==="removed"&&m.deselectItem(d.value),m.popupRecalculatePosition(!1),m.closeOnSelect&&(m.popupModel.isVisible=!1)});var l=new c.MultiSelectListModel(v,f,!1,void 0,this.question.choicesLazyLoadEnabled?this.listModelFilterStringChanged:void 0,this.listElementId);return l.forceShowFilter=!0,l},g.prototype.resetFilterString=function(){P.prototype.resetFilterString.call(this),this.inputString=null,this.hintString=""},Object.defineProperty(g.prototype,"shouldResetAfterCancel",{get:function(){return E.IsTouch&&!this.closeOnSelect},enumerable:!1,configurable:!0}),g.prototype.createPopup=function(){var m=this;P.prototype.createPopup.call(this),this.popupModel.onFooterActionsCreated.add(function(v,f){m.shouldResetAfterCancel&&f.actions.push({id:"sv-dropdown-done-button",title:m.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:function(){m.popupModel.isVisible=!1},enabled:new o.ComputedUpdater(function(){return!m.isTwoValueEquals(m.question.renderedValue,m.previousValue)})})}),this.popupModel.onVisibilityChanged.add(function(v,f){m.shouldResetAfterCancel&&f.isVisible&&(m.previousValue=[].concat(m.question.renderedValue||[]))}),this.popupModel.onCancel=function(){m.shouldResetAfterCancel&&(m.question.renderedValue=m.previousValue,m.updateListState())}},g.prototype.selectAllItems=function(){this.question.toggleSelectAll(),this.updateListState()},g.prototype.selectNoneItem=function(){this.question.renderedValue=[C.settings.noneItemValue],this.updateListState()},g.prototype.selectItem=function(m){var v=[].concat(this.question.renderedValue||[]);v.push(m),this.question.renderedValue=v,this.updateListState()},g.prototype.deselectItem=function(m){var v=[].concat(this.question.renderedValue||[]);v.splice(v.indexOf(m),1),this.question.renderedValue=v,this.applyHintString(this.listModel.focusedItem),this.updateListState()},g.prototype.clear=function(){P.prototype.clear.call(this),this.syncFilterStringPlaceholder()},g.prototype.onClear=function(m){P.prototype.onClear.call(this,m),this.updateListState()},g.prototype.setHideSelectedItems=function(m){this.listModel.hideSelectedItems=m,this.updateListState()},g.prototype.removeLastSelectedItem=function(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)},g.prototype.inputKeyHandler=function(m){m.keyCode===8&&!this.filterString&&(this.removeLastSelectedItem(),m.preventDefault(),m.stopPropagation())},g.prototype.setInputStringFromSelectedItem=function(m){this.question.searchEnabled&&(this.inputString=null)},g.prototype.focusItemOnClickAndPopup=function(){},g.prototype.onEscape=function(){},g.prototype.beforeScrollToFocusedItem=function(m){},g.prototype.afterScrollToFocusedItem=function(){var m;!((m=this.listModel.focusedItem)===null||m===void 0)&&m.selected?this.hintString="":this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.syncFilterStringPlaceholder()},g.prototype.onPropertyChangedHandler=function(m,v){P.prototype.onPropertyChangedHandler.call(this,m,v),(v.name==="value"||v.name==="renderedValue")&&this.syncFilterStringPlaceholder()},y([Object(s.property)({defaultValue:""})],g.prototype,"filterStringPlaceholder",void 0),y([Object(s.property)({defaultValue:!0})],g.prototype,"closeOnSelect",void 0),y([Object(s.property)()],g.prototype,"previousValue",void 0),y([Object(s.property)({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],g.prototype,"doneButtonCaption",void 0),g}(a.DropdownListModel)},"./src/dxSurveyService.ts":function(n,r,i){i.r(r),i.d(r,"dxSurveyService",function(){return a});var o=i("./src/settings.ts"),a=function(){function s(){}return Object.defineProperty(s,"serviceUrl",{get:function(){return o.settings.web.surveyServiceUrl},set:function(c){o.settings.web.surveyServiceUrl=c},enumerable:!1,configurable:!0}),s.prototype.loadSurvey=function(c,C){var E=new XMLHttpRequest;E.open("GET",s.serviceUrl+"/getSurvey?surveyId="+c),E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),E.onload=function(){var O=JSON.parse(E.response);C(E.status==200,O,E.response)},E.send()},s.prototype.getSurveyJsonAndIsCompleted=function(c,C,E){var O=new XMLHttpRequest;O.open("GET",s.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+c+"&clientId="+C),O.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),O.onload=function(){var y=JSON.parse(O.response),b=y?y.survey:null,P=y?y.isCompleted:null;E(O.status==200,b,P,O.response)},O.send()},s.prototype.sendResult=function(c,C,E,O,y){O===void 0&&(O=null),y===void 0&&(y=!1);var b=new XMLHttpRequest;b.open("POST",s.serviceUrl+"/post/"),b.setRequestHeader("Content-Type","application/json; charset=utf-8");var P={postId:c,surveyResult:JSON.stringify(C)};O&&(P.clientId=O),y&&(P.isPartialCompleted=!0);var g=JSON.stringify(P);b.onload=b.onerror=function(){E&&E(b.status===200,b.response,b)},b.send(g)},s.prototype.sendFile=function(c,C,E){var O=new XMLHttpRequest;O.onload=O.onerror=function(){E&&E(O.status==200,JSON.parse(O.response))},O.open("POST",s.serviceUrl+"/upload/",!0);var y=new FormData;y.append("file",C),y.append("postId",c),O.send(y)},s.prototype.getResult=function(c,C,E){var O=new XMLHttpRequest,y="resultId="+c+"&name="+C;O.open("GET",s.serviceUrl+"/getResult?"+y),O.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),O.onload=function(){var b=null,P=null;if(O.status==200){b=JSON.parse(O.response),P=[];for(var g in b.QuestionResult){var m={name:g,value:b.QuestionResult[g]};P.push(m)}}E(O.status==200,b,P,O.response)},O.send()},s.prototype.isCompleted=function(c,C,E){var O=new XMLHttpRequest,y="resultId="+c+"&clientId="+C;O.open("GET",s.serviceUrl+"/isCompleted?"+y),O.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),O.onload=function(){var b=null;O.status==200&&(b=JSON.parse(O.response)),E(O.status==200,b,O.response)},O.send()},s}()},"./src/element-helper.ts":function(n,r,i){i.r(r),i.d(r,"ElementHelper",function(){return o});var o=function(){function a(){}return a.focusElement=function(s){s&&s.focus()},a.visibility=function(s){var c=window.getComputedStyle(s);return c.display==="none"||c.visibility==="hidden"?!1:s.parentElement?this.visibility(s.parentElement):!0},a.getNextElementPreorder=function(s){var c=s.nextElementSibling?s.nextElementSibling:s.parentElement.firstElementChild;return this.visibility(c)?c:this.getNextElementPreorder(c)},a.getNextElementPostorder=function(s){var c=s.previousElementSibling?s.previousElementSibling:s.parentElement.lastElementChild;return this.visibility(c)?c:this.getNextElementPostorder(c)},a.hasHorizontalScroller=function(s){return s?s.scrollWidth>s.offsetWidth:!1},a.hasVerticalScroller=function(s){return s?s.scrollHeight>s.offsetHeight:!1},a}()},"./src/entries/chunks/model.ts":function(n,r,i){i.r(r),i.d(r,"Version",function(){return vr}),i.d(r,"checkLibraryVersion",function(){return oo});var o=i("./src/settings.ts");i.d(r,"settings",function(){return o.settings});var a=i("./src/helpers.ts");i.d(r,"Helpers",function(){return a.Helpers});var s=i("./src/validator.ts");i.d(r,"AnswerCountValidator",function(){return s.AnswerCountValidator}),i.d(r,"EmailValidator",function(){return s.EmailValidator}),i.d(r,"NumericValidator",function(){return s.NumericValidator}),i.d(r,"RegexValidator",function(){return s.RegexValidator}),i.d(r,"SurveyValidator",function(){return s.SurveyValidator}),i.d(r,"TextValidator",function(){return s.TextValidator}),i.d(r,"ValidatorResult",function(){return s.ValidatorResult}),i.d(r,"ExpressionValidator",function(){return s.ExpressionValidator}),i.d(r,"ValidatorRunner",function(){return s.ValidatorRunner});var c=i("./src/itemvalue.ts");i.d(r,"ItemValue",function(){return c.ItemValue});var C=i("./src/base.ts");i.d(r,"Base",function(){return C.Base}),i.d(r,"Event",function(){return C.Event}),i.d(r,"EventBase",function(){return C.EventBase}),i.d(r,"ArrayChanges",function(){return C.ArrayChanges}),i.d(r,"ComputedUpdater",function(){return C.ComputedUpdater});var E=i("./src/survey-error.ts");i.d(r,"SurveyError",function(){return E.SurveyError});var O=i("./src/survey-element.ts");i.d(r,"SurveyElementCore",function(){return O.SurveyElementCore}),i.d(r,"SurveyElement",function(){return O.SurveyElement}),i.d(r,"DragTypeOverMeEnum",function(){return O.DragTypeOverMeEnum});var y=i("./src/calculatedValue.ts");i.d(r,"CalculatedValue",function(){return y.CalculatedValue});var b=i("./src/error.ts");i.d(r,"CustomError",function(){return b.CustomError}),i.d(r,"AnswerRequiredError",function(){return b.AnswerRequiredError}),i.d(r,"OneAnswerRequiredError",function(){return b.OneAnswerRequiredError}),i.d(r,"RequreNumericError",function(){return b.RequreNumericError}),i.d(r,"ExceedSizeError",function(){return b.ExceedSizeError});var P=i("./src/localizablestring.ts");i.d(r,"LocalizableString",function(){return P.LocalizableString}),i.d(r,"LocalizableStrings",function(){return P.LocalizableStrings});var g=i("./src/expressionItems.ts");i.d(r,"HtmlConditionItem",function(){return g.HtmlConditionItem}),i.d(r,"UrlConditionItem",function(){return g.UrlConditionItem});var m=i("./src/choicesRestful.ts");i.d(r,"ChoicesRestful",function(){return m.ChoicesRestful}),i.d(r,"ChoicesRestfull",function(){return m.ChoicesRestfull});var v=i("./src/functionsfactory.ts");i.d(r,"FunctionFactory",function(){return v.FunctionFactory}),i.d(r,"registerFunction",function(){return v.registerFunction});var f=i("./src/conditions.ts");i.d(r,"ConditionRunner",function(){return f.ConditionRunner}),i.d(r,"ExpressionRunner",function(){return f.ExpressionRunner}),i.d(r,"ExpressionExecutor",function(){return f.ExpressionExecutor});var l=i("./src/expressions/expressions.ts");i.d(r,"Operand",function(){return l.Operand}),i.d(r,"Const",function(){return l.Const}),i.d(r,"BinaryOperand",function(){return l.BinaryOperand}),i.d(r,"Variable",function(){return l.Variable}),i.d(r,"FunctionOperand",function(){return l.FunctionOperand}),i.d(r,"ArrayOperand",function(){return l.ArrayOperand}),i.d(r,"UnaryOperand",function(){return l.UnaryOperand});var d=i("./src/conditionsParser.ts");i.d(r,"ConditionsParser",function(){return d.ConditionsParser});var h=i("./src/conditionProcessValue.ts");i.d(r,"ProcessValue",function(){return h.ProcessValue});var p=i("./src/jsonobject.ts");i.d(r,"JsonError",function(){return p.JsonError}),i.d(r,"JsonIncorrectTypeError",function(){return p.JsonIncorrectTypeError}),i.d(r,"JsonMetadata",function(){return p.JsonMetadata}),i.d(r,"JsonMetadataClass",function(){return p.JsonMetadataClass}),i.d(r,"JsonMissingTypeError",function(){return p.JsonMissingTypeError}),i.d(r,"JsonMissingTypeErrorBase",function(){return p.JsonMissingTypeErrorBase}),i.d(r,"JsonObject",function(){return p.JsonObject}),i.d(r,"JsonObjectProperty",function(){return p.JsonObjectProperty}),i.d(r,"JsonRequiredPropertyError",function(){return p.JsonRequiredPropertyError}),i.d(r,"JsonUnknownPropertyError",function(){return p.JsonUnknownPropertyError}),i.d(r,"Serializer",function(){return p.Serializer}),i.d(r,"property",function(){return p.property}),i.d(r,"propertyArray",function(){return p.propertyArray});var u=i("./src/question_matrixdropdownbase.ts");i.d(r,"MatrixDropdownCell",function(){return u.MatrixDropdownCell}),i.d(r,"MatrixDropdownRowModelBase",function(){return u.MatrixDropdownRowModelBase}),i.d(r,"QuestionMatrixDropdownModelBase",function(){return u.QuestionMatrixDropdownModelBase});var x=i("./src/question_matrixdropdowncolumn.ts");i.d(r,"MatrixDropdownColumn",function(){return x.MatrixDropdownColumn}),i.d(r,"matrixDropdownColumnTypes",function(){return x.matrixDropdownColumnTypes});var V=i("./src/question_matrixdropdownrendered.ts");i.d(r,"QuestionMatrixDropdownRenderedCell",function(){return V.QuestionMatrixDropdownRenderedCell}),i.d(r,"QuestionMatrixDropdownRenderedRow",function(){return V.QuestionMatrixDropdownRenderedRow}),i.d(r,"QuestionMatrixDropdownRenderedTable",function(){return V.QuestionMatrixDropdownRenderedTable});var A=i("./src/question_matrixdropdown.ts");i.d(r,"MatrixDropdownRowModel",function(){return A.MatrixDropdownRowModel}),i.d(r,"QuestionMatrixDropdownModel",function(){return A.QuestionMatrixDropdownModel});var M=i("./src/question_matrixdynamic.ts");i.d(r,"MatrixDynamicRowModel",function(){return M.MatrixDynamicRowModel}),i.d(r,"QuestionMatrixDynamicModel",function(){return M.QuestionMatrixDynamicModel});var T=i("./src/question_matrix.ts");i.d(r,"MatrixRowModel",function(){return T.MatrixRowModel}),i.d(r,"MatrixCells",function(){return T.MatrixCells}),i.d(r,"QuestionMatrixModel",function(){return T.QuestionMatrixModel});var D=i("./src/martixBase.ts");i.d(r,"QuestionMatrixBaseModel",function(){return D.QuestionMatrixBaseModel});var R=i("./src/question_multipletext.ts");i.d(r,"MultipleTextItemModel",function(){return R.MultipleTextItemModel}),i.d(r,"QuestionMultipleTextModel",function(){return R.QuestionMultipleTextModel}),i.d(r,"MultipleTextEditorModel",function(){return R.MultipleTextEditorModel});var S=i("./src/panel.ts");i.d(r,"PanelModel",function(){return S.PanelModel}),i.d(r,"PanelModelBase",function(){return S.PanelModelBase}),i.d(r,"QuestionRowModel",function(){return S.QuestionRowModel});var I=i("./src/flowpanel.ts");i.d(r,"FlowPanelModel",function(){return I.FlowPanelModel});var w=i("./src/page.ts");i.d(r,"PageModel",function(){return w.PageModel}),i("./src/template-renderer.ts");var L=i("./src/defaultTitle.ts");i.d(r,"DefaultTitleModel",function(){return L.DefaultTitleModel});var F=i("./src/question.ts");i.d(r,"Question",function(){return F.Question});var W=i("./src/questionnonvalue.ts");i.d(r,"QuestionNonValue",function(){return W.QuestionNonValue});var U=i("./src/question_empty.ts");i.d(r,"QuestionEmptyModel",function(){return U.QuestionEmptyModel});var Q=i("./src/question_baseselect.ts");i.d(r,"QuestionCheckboxBase",function(){return Q.QuestionCheckboxBase}),i.d(r,"QuestionSelectBase",function(){return Q.QuestionSelectBase});var $=i("./src/question_checkbox.ts");i.d(r,"QuestionCheckboxModel",function(){return $.QuestionCheckboxModel});var z=i("./src/question_tagbox.ts");i.d(r,"QuestionTagboxModel",function(){return z.QuestionTagboxModel});var q=i("./src/question_ranking.ts");i.d(r,"QuestionRankingModel",function(){return q.QuestionRankingModel});var K=i("./src/question_comment.ts");i.d(r,"QuestionCommentModel",function(){return K.QuestionCommentModel});var re=i("./src/question_dropdown.ts");i.d(r,"QuestionDropdownModel",function(){return re.QuestionDropdownModel});var Y=i("./src/questionfactory.ts");i.d(r,"QuestionFactory",function(){return Y.QuestionFactory}),i.d(r,"ElementFactory",function(){return Y.ElementFactory});var Ee=i("./src/question_file.ts");i.d(r,"QuestionFileModel",function(){return Ee.QuestionFileModel});var ve=i("./src/question_html.ts");i.d(r,"QuestionHtmlModel",function(){return ve.QuestionHtmlModel});var Oe=i("./src/question_radiogroup.ts");i.d(r,"QuestionRadiogroupModel",function(){return Oe.QuestionRadiogroupModel});var pe=i("./src/question_rating.ts");i.d(r,"QuestionRatingModel",function(){return pe.QuestionRatingModel}),i.d(r,"RenderedRatingItem",function(){return pe.RenderedRatingItem});var Ze=i("./src/question_expression.ts");i.d(r,"QuestionExpressionModel",function(){return Ze.QuestionExpressionModel});var st=i("./src/question_textbase.ts");i.d(r,"QuestionTextBase",function(){return st.QuestionTextBase}),i.d(r,"CharacterCounter",function(){return st.CharacterCounter});var Te=i("./src/question_text.ts");i.d(r,"QuestionTextModel",function(){return Te.QuestionTextModel});var at=i("./src/question_boolean.ts");i.d(r,"QuestionBooleanModel",function(){return at.QuestionBooleanModel});var Ie=i("./src/question_imagepicker.ts");i.d(r,"QuestionImagePickerModel",function(){return Ie.QuestionImagePickerModel}),i.d(r,"ImageItemValue",function(){return Ie.ImageItemValue});var Ye=i("./src/question_image.ts");i.d(r,"QuestionImageModel",function(){return Ye.QuestionImageModel});var an=i("./src/question_signaturepad.ts");i.d(r,"QuestionSignaturePadModel",function(){return an.QuestionSignaturePadModel});var We=i("./src/question_paneldynamic.ts");i.d(r,"QuestionPanelDynamicModel",function(){return We.QuestionPanelDynamicModel}),i.d(r,"QuestionPanelDynamicItem",function(){return We.QuestionPanelDynamicItem});var Rn=i("./src/surveytimer.ts");i.d(r,"SurveyTimer",function(){return Rn.SurveyTimer});var ln=i("./src/surveyTimerModel.ts");i.d(r,"SurveyTimerModel",function(){return ln.SurveyTimerModel});var yt=i("./src/surveyToc.ts");i.d(r,"tryNavigateToPage",function(){return yt.tryNavigateToPage}),i.d(r,"createTOCListModel",function(){return yt.createTOCListModel}),i.d(r,"getTocRootCss",function(){return yt.getTocRootCss}),i.d(r,"TOCModel",function(){return yt.TOCModel});var Ce=i("./src/surveyProgress.ts");i.d(r,"SurveyProgressModel",function(){return Ce.SurveyProgressModel});var $e=i("./src/surveyProgressButtons.ts");i.d(r,"SurveyProgressButtonsModel",function(){return $e.SurveyProgressButtonsModel}),i("./src/themes.ts");var gn=i("./src/survey.ts");i.d(r,"SurveyModel",function(){return gn.SurveyModel}),i("./src/survey-events-api.ts");var Qt=i("./src/trigger.ts");i.d(r,"SurveyTrigger",function(){return Qt.SurveyTrigger}),i.d(r,"SurveyTriggerComplete",function(){return Qt.SurveyTriggerComplete}),i.d(r,"SurveyTriggerSetValue",function(){return Qt.SurveyTriggerSetValue}),i.d(r,"SurveyTriggerVisible",function(){return Qt.SurveyTriggerVisible}),i.d(r,"SurveyTriggerCopyValue",function(){return Qt.SurveyTriggerCopyValue}),i.d(r,"SurveyTriggerRunExpression",function(){return Qt.SurveyTriggerRunExpression}),i.d(r,"Trigger",function(){return Qt.Trigger});var At=i("./src/popup-survey.ts");i.d(r,"PopupSurveyModel",function(){return At.PopupSurveyModel}),i.d(r,"SurveyWindowModel",function(){return At.SurveyWindowModel});var ro=i("./src/textPreProcessor.ts");i.d(r,"TextPreProcessor",function(){return ro.TextPreProcessor});var oi=i("./src/notifier.ts");i.d(r,"Notifier",function(){return oi.Notifier});var io=i("./src/dxSurveyService.ts");i.d(r,"dxSurveyService",function(){return io.dxSurveyService});var si=i("./src/localization/english.ts");i.d(r,"englishStrings",function(){return si.englishStrings});var ai=i("./src/surveyStrings.ts");i.d(r,"surveyLocalization",function(){return ai.surveyLocalization}),i.d(r,"surveyStrings",function(){return ai.surveyStrings});var k=i("./src/questionCustomWidgets.ts");i.d(r,"QuestionCustomWidget",function(){return k.QuestionCustomWidget}),i.d(r,"CustomWidgetCollection",function(){return k.CustomWidgetCollection});var J=i("./src/question_custom.ts");i.d(r,"QuestionCustomModel",function(){return J.QuestionCustomModel}),i.d(r,"QuestionCompositeModel",function(){return J.QuestionCompositeModel}),i.d(r,"ComponentQuestionJSON",function(){return J.ComponentQuestionJSON}),i.d(r,"ComponentCollection",function(){return J.ComponentCollection});var ee=i("./src/stylesmanager.ts");i.d(r,"StylesManager",function(){return ee.StylesManager});var ue=i("./src/list.ts");i.d(r,"ListModel",function(){return ue.ListModel});var Se=i("./src/multiSelectListModel.ts");i.d(r,"MultiSelectListModel",function(){return Se.MultiSelectListModel});var Pe=i("./src/popup.ts");i.d(r,"PopupModel",function(){return Pe.PopupModel}),i.d(r,"createDialogOptions",function(){return Pe.createDialogOptions});var be=i("./src/popup-view-model.ts");i.d(r,"PopupBaseViewModel",function(){return be.PopupBaseViewModel});var me=i("./src/popup-dropdown-view-model.ts");i.d(r,"PopupDropdownViewModel",function(){return me.PopupDropdownViewModel});var he=i("./src/popup-modal-view-model.ts");i.d(r,"PopupModalViewModel",function(){return he.PopupModalViewModel});var Ue=i("./src/popup-utils.ts");i.d(r,"createPopupViewModel",function(){return Ue.createPopupViewModel}),i.d(r,"createPopupModalViewModel",function(){return Ue.createPopupModalViewModel});var Be=i("./src/dropdownListModel.ts");i.d(r,"DropdownListModel",function(){return Be.DropdownListModel});var Lt=i("./src/dropdownMultiSelectListModel.ts");i.d(r,"DropdownMultiSelectListModel",function(){return Lt.DropdownMultiSelectListModel});var nt=i("./src/question_buttongroup.ts");i.d(r,"QuestionButtonGroupModel",function(){return nt.QuestionButtonGroupModel}),i.d(r,"ButtonGroupItemModel",function(){return nt.ButtonGroupItemModel}),i.d(r,"ButtonGroupItemValue",function(){return nt.ButtonGroupItemValue});var It=i("./src/utils/devices.ts");i.d(r,"IsMobile",function(){return It.IsMobile}),i.d(r,"IsTouch",function(){return It.IsTouch}),i.d(r,"_setIsTouch",function(){return It._setIsTouch});var Ot=i("./src/utils/utils.ts");i.d(r,"confirmAction",function(){return Ot.confirmAction}),i.d(r,"detectIEOrEdge",function(){return Ot.detectIEOrEdge}),i.d(r,"doKey2ClickUp",function(){return Ot.doKey2ClickUp}),i.d(r,"doKey2ClickDown",function(){return Ot.doKey2ClickDown}),i.d(r,"doKey2ClickBlur",function(){return Ot.doKey2ClickBlur}),i.d(r,"loadFileFromBase64",function(){return Ot.loadFileFromBase64}),i.d(r,"increaseHeightByContent",function(){return Ot.increaseHeightByContent}),i.d(r,"createSvg",function(){return Ot.createSvg}),i.d(r,"sanitizeEditableContent",function(){return Ot.sanitizeEditableContent});var Lr=i("./src/utils/cssClassBuilder.ts");i.d(r,"CssClassBuilder",function(){return Lr.CssClassBuilder});var Br=i("./src/defaultCss/defaultV2Css.ts");i.d(r,"surveyCss",function(){return Br.surveyCss}),i.d(r,"defaultV2Css",function(){return Br.defaultV2Css}),i.d(r,"defaultV2ThemeName",function(){return Br.defaultV2ThemeName});var li=i("./src/dragdrop/core.ts");i.d(r,"DragDropCore",function(){return li.DragDropCore});var Dn=i("./src/dragdrop/choices.ts");i.d(r,"DragDropChoices",function(){return Dn.DragDropChoices});var ui=i("./src/dragdrop/ranking-select-to-rank.ts");i.d(r,"DragDropRankingSelectToRank",function(){return ui.DragDropRankingSelectToRank});var vr;vr="1.9.97";function oo(ci,fi){if(vr!=ci){var Xe="survey-core has version '"+vr+"' and "+fi+" has version '"+ci+"'. SurveyJS libraries should have the same versions to work correctly.";console.error(Xe)}}},"./src/entries/core-wo-model.ts":function(n,r,i){i.r(r);var o=i("./src/entries/chunks/model.ts");i.d(r,"Version",function(){return o.Version}),i.d(r,"checkLibraryVersion",function(){return o.checkLibraryVersion}),i.d(r,"settings",function(){return o.settings}),i.d(r,"Helpers",function(){return o.Helpers}),i.d(r,"AnswerCountValidator",function(){return o.AnswerCountValidator}),i.d(r,"EmailValidator",function(){return o.EmailValidator}),i.d(r,"NumericValidator",function(){return o.NumericValidator}),i.d(r,"RegexValidator",function(){return o.RegexValidator}),i.d(r,"SurveyValidator",function(){return o.SurveyValidator}),i.d(r,"TextValidator",function(){return o.TextValidator}),i.d(r,"ValidatorResult",function(){return o.ValidatorResult}),i.d(r,"ExpressionValidator",function(){return o.ExpressionValidator}),i.d(r,"ValidatorRunner",function(){return o.ValidatorRunner}),i.d(r,"ItemValue",function(){return o.ItemValue}),i.d(r,"Base",function(){return o.Base}),i.d(r,"Event",function(){return o.Event}),i.d(r,"EventBase",function(){return o.EventBase}),i.d(r,"ArrayChanges",function(){return o.ArrayChanges}),i.d(r,"ComputedUpdater",function(){return o.ComputedUpdater}),i.d(r,"SurveyError",function(){return o.SurveyError}),i.d(r,"SurveyElementCore",function(){return o.SurveyElementCore}),i.d(r,"SurveyElement",function(){return o.SurveyElement}),i.d(r,"DragTypeOverMeEnum",function(){return o.DragTypeOverMeEnum}),i.d(r,"CalculatedValue",function(){return o.CalculatedValue}),i.d(r,"CustomError",function(){return o.CustomError}),i.d(r,"AnswerRequiredError",function(){return o.AnswerRequiredError}),i.d(r,"OneAnswerRequiredError",function(){return o.OneAnswerRequiredError}),i.d(r,"RequreNumericError",function(){return o.RequreNumericError}),i.d(r,"ExceedSizeError",function(){return o.ExceedSizeError}),i.d(r,"LocalizableString",function(){return o.LocalizableString}),i.d(r,"LocalizableStrings",function(){return o.LocalizableStrings}),i.d(r,"HtmlConditionItem",function(){return o.HtmlConditionItem}),i.d(r,"UrlConditionItem",function(){return o.UrlConditionItem}),i.d(r,"ChoicesRestful",function(){return o.ChoicesRestful}),i.d(r,"ChoicesRestfull",function(){return o.ChoicesRestfull}),i.d(r,"FunctionFactory",function(){return o.FunctionFactory}),i.d(r,"registerFunction",function(){return o.registerFunction}),i.d(r,"ConditionRunner",function(){return o.ConditionRunner}),i.d(r,"ExpressionRunner",function(){return o.ExpressionRunner}),i.d(r,"ExpressionExecutor",function(){return o.ExpressionExecutor}),i.d(r,"Operand",function(){return o.Operand}),i.d(r,"Const",function(){return o.Const}),i.d(r,"BinaryOperand",function(){return o.BinaryOperand}),i.d(r,"Variable",function(){return o.Variable}),i.d(r,"FunctionOperand",function(){return o.FunctionOperand}),i.d(r,"ArrayOperand",function(){return o.ArrayOperand}),i.d(r,"UnaryOperand",function(){return o.UnaryOperand}),i.d(r,"ConditionsParser",function(){return o.ConditionsParser}),i.d(r,"ProcessValue",function(){return o.ProcessValue}),i.d(r,"JsonError",function(){return o.JsonError}),i.d(r,"JsonIncorrectTypeError",function(){return o.JsonIncorrectTypeError}),i.d(r,"JsonMetadata",function(){return o.JsonMetadata}),i.d(r,"JsonMetadataClass",function(){return o.JsonMetadataClass}),i.d(r,"JsonMissingTypeError",function(){return o.JsonMissingTypeError}),i.d(r,"JsonMissingTypeErrorBase",function(){return o.JsonMissingTypeErrorBase}),i.d(r,"JsonObject",function(){return o.JsonObject}),i.d(r,"JsonObjectProperty",function(){return o.JsonObjectProperty}),i.d(r,"JsonRequiredPropertyError",function(){return o.JsonRequiredPropertyError}),i.d(r,"JsonUnknownPropertyError",function(){return o.JsonUnknownPropertyError}),i.d(r,"Serializer",function(){return o.Serializer}),i.d(r,"property",function(){return o.property}),i.d(r,"propertyArray",function(){return o.propertyArray}),i.d(r,"MatrixDropdownCell",function(){return o.MatrixDropdownCell}),i.d(r,"MatrixDropdownRowModelBase",function(){return o.MatrixDropdownRowModelBase}),i.d(r,"QuestionMatrixDropdownModelBase",function(){return o.QuestionMatrixDropdownModelBase}),i.d(r,"MatrixDropdownColumn",function(){return o.MatrixDropdownColumn}),i.d(r,"matrixDropdownColumnTypes",function(){return o.matrixDropdownColumnTypes}),i.d(r,"QuestionMatrixDropdownRenderedCell",function(){return o.QuestionMatrixDropdownRenderedCell}),i.d(r,"QuestionMatrixDropdownRenderedRow",function(){return o.QuestionMatrixDropdownRenderedRow}),i.d(r,"QuestionMatrixDropdownRenderedTable",function(){return o.QuestionMatrixDropdownRenderedTable}),i.d(r,"MatrixDropdownRowModel",function(){return o.MatrixDropdownRowModel}),i.d(r,"QuestionMatrixDropdownModel",function(){return o.QuestionMatrixDropdownModel}),i.d(r,"MatrixDynamicRowModel",function(){return o.MatrixDynamicRowModel}),i.d(r,"QuestionMatrixDynamicModel",function(){return o.QuestionMatrixDynamicModel}),i.d(r,"MatrixRowModel",function(){return o.MatrixRowModel}),i.d(r,"MatrixCells",function(){return o.MatrixCells}),i.d(r,"QuestionMatrixModel",function(){return o.QuestionMatrixModel}),i.d(r,"QuestionMatrixBaseModel",function(){return o.QuestionMatrixBaseModel}),i.d(r,"MultipleTextItemModel",function(){return o.MultipleTextItemModel}),i.d(r,"QuestionMultipleTextModel",function(){return o.QuestionMultipleTextModel}),i.d(r,"MultipleTextEditorModel",function(){return o.MultipleTextEditorModel}),i.d(r,"PanelModel",function(){return o.PanelModel}),i.d(r,"PanelModelBase",function(){return o.PanelModelBase}),i.d(r,"QuestionRowModel",function(){return o.QuestionRowModel}),i.d(r,"FlowPanelModel",function(){return o.FlowPanelModel}),i.d(r,"PageModel",function(){return o.PageModel}),i.d(r,"DefaultTitleModel",function(){return o.DefaultTitleModel}),i.d(r,"Question",function(){return o.Question}),i.d(r,"QuestionNonValue",function(){return o.QuestionNonValue}),i.d(r,"QuestionEmptyModel",function(){return o.QuestionEmptyModel}),i.d(r,"QuestionCheckboxBase",function(){return o.QuestionCheckboxBase}),i.d(r,"QuestionSelectBase",function(){return o.QuestionSelectBase}),i.d(r,"QuestionCheckboxModel",function(){return o.QuestionCheckboxModel}),i.d(r,"QuestionTagboxModel",function(){return o.QuestionTagboxModel}),i.d(r,"QuestionRankingModel",function(){return o.QuestionRankingModel}),i.d(r,"QuestionCommentModel",function(){return o.QuestionCommentModel}),i.d(r,"QuestionDropdownModel",function(){return o.QuestionDropdownModel}),i.d(r,"QuestionFactory",function(){return o.QuestionFactory}),i.d(r,"ElementFactory",function(){return o.ElementFactory}),i.d(r,"QuestionFileModel",function(){return o.QuestionFileModel}),i.d(r,"QuestionHtmlModel",function(){return o.QuestionHtmlModel}),i.d(r,"QuestionRadiogroupModel",function(){return o.QuestionRadiogroupModel}),i.d(r,"QuestionRatingModel",function(){return o.QuestionRatingModel}),i.d(r,"RenderedRatingItem",function(){return o.RenderedRatingItem}),i.d(r,"QuestionExpressionModel",function(){return o.QuestionExpressionModel}),i.d(r,"QuestionTextBase",function(){return o.QuestionTextBase}),i.d(r,"CharacterCounter",function(){return o.CharacterCounter}),i.d(r,"QuestionTextModel",function(){return o.QuestionTextModel}),i.d(r,"QuestionBooleanModel",function(){return o.QuestionBooleanModel}),i.d(r,"QuestionImagePickerModel",function(){return o.QuestionImagePickerModel}),i.d(r,"ImageItemValue",function(){return o.ImageItemValue}),i.d(r,"QuestionImageModel",function(){return o.QuestionImageModel}),i.d(r,"QuestionSignaturePadModel",function(){return o.QuestionSignaturePadModel}),i.d(r,"QuestionPanelDynamicModel",function(){return o.QuestionPanelDynamicModel}),i.d(r,"QuestionPanelDynamicItem",function(){return o.QuestionPanelDynamicItem}),i.d(r,"SurveyTimer",function(){return o.SurveyTimer}),i.d(r,"SurveyTimerModel",function(){return o.SurveyTimerModel}),i.d(r,"tryNavigateToPage",function(){return o.tryNavigateToPage}),i.d(r,"createTOCListModel",function(){return o.createTOCListModel}),i.d(r,"getTocRootCss",function(){return o.getTocRootCss}),i.d(r,"TOCModel",function(){return o.TOCModel}),i.d(r,"SurveyProgressModel",function(){return o.SurveyProgressModel}),i.d(r,"SurveyProgressButtonsModel",function(){return o.SurveyProgressButtonsModel}),i.d(r,"SurveyModel",function(){return o.SurveyModel}),i.d(r,"SurveyTrigger",function(){return o.SurveyTrigger}),i.d(r,"SurveyTriggerComplete",function(){return o.SurveyTriggerComplete}),i.d(r,"SurveyTriggerSetValue",function(){return o.SurveyTriggerSetValue}),i.d(r,"SurveyTriggerVisible",function(){return o.SurveyTriggerVisible}),i.d(r,"SurveyTriggerCopyValue",function(){return o.SurveyTriggerCopyValue}),i.d(r,"SurveyTriggerRunExpression",function(){return o.SurveyTriggerRunExpression}),i.d(r,"Trigger",function(){return o.Trigger}),i.d(r,"PopupSurveyModel",function(){return o.PopupSurveyModel}),i.d(r,"SurveyWindowModel",function(){return o.SurveyWindowModel}),i.d(r,"TextPreProcessor",function(){return o.TextPreProcessor}),i.d(r,"Notifier",function(){return o.Notifier}),i.d(r,"dxSurveyService",function(){return o.dxSurveyService}),i.d(r,"englishStrings",function(){return o.englishStrings}),i.d(r,"surveyLocalization",function(){return o.surveyLocalization}),i.d(r,"surveyStrings",function(){return o.surveyStrings}),i.d(r,"QuestionCustomWidget",function(){return o.QuestionCustomWidget}),i.d(r,"CustomWidgetCollection",function(){return o.CustomWidgetCollection}),i.d(r,"QuestionCustomModel",function(){return o.QuestionCustomModel}),i.d(r,"QuestionCompositeModel",function(){return o.QuestionCompositeModel}),i.d(r,"ComponentQuestionJSON",function(){return o.ComponentQuestionJSON}),i.d(r,"ComponentCollection",function(){return o.ComponentCollection}),i.d(r,"StylesManager",function(){return o.StylesManager}),i.d(r,"ListModel",function(){return o.ListModel}),i.d(r,"MultiSelectListModel",function(){return o.MultiSelectListModel}),i.d(r,"PopupModel",function(){return o.PopupModel}),i.d(r,"createDialogOptions",function(){return o.createDialogOptions}),i.d(r,"PopupBaseViewModel",function(){return o.PopupBaseViewModel}),i.d(r,"PopupDropdownViewModel",function(){return o.PopupDropdownViewModel}),i.d(r,"PopupModalViewModel",function(){return o.PopupModalViewModel}),i.d(r,"createPopupViewModel",function(){return o.createPopupViewModel}),i.d(r,"createPopupModalViewModel",function(){return o.createPopupModalViewModel}),i.d(r,"DropdownListModel",function(){return o.DropdownListModel}),i.d(r,"DropdownMultiSelectListModel",function(){return o.DropdownMultiSelectListModel}),i.d(r,"QuestionButtonGroupModel",function(){return o.QuestionButtonGroupModel}),i.d(r,"ButtonGroupItemModel",function(){return o.ButtonGroupItemModel}),i.d(r,"ButtonGroupItemValue",function(){return o.ButtonGroupItemValue}),i.d(r,"IsMobile",function(){return o.IsMobile}),i.d(r,"IsTouch",function(){return o.IsTouch}),i.d(r,"_setIsTouch",function(){return o._setIsTouch}),i.d(r,"confirmAction",function(){return o.confirmAction}),i.d(r,"detectIEOrEdge",function(){return o.detectIEOrEdge}),i.d(r,"doKey2ClickUp",function(){return o.doKey2ClickUp}),i.d(r,"doKey2ClickDown",function(){return o.doKey2ClickDown}),i.d(r,"doKey2ClickBlur",function(){return o.doKey2ClickBlur}),i.d(r,"loadFileFromBase64",function(){return o.loadFileFromBase64}),i.d(r,"increaseHeightByContent",function(){return o.increaseHeightByContent}),i.d(r,"createSvg",function(){return o.createSvg}),i.d(r,"sanitizeEditableContent",function(){return o.sanitizeEditableContent}),i.d(r,"CssClassBuilder",function(){return o.CssClassBuilder}),i.d(r,"surveyCss",function(){return o.surveyCss}),i.d(r,"defaultV2Css",function(){return o.defaultV2Css}),i.d(r,"defaultV2ThemeName",function(){return o.defaultV2ThemeName}),i.d(r,"DragDropCore",function(){return o.DragDropCore}),i.d(r,"DragDropChoices",function(){return o.DragDropChoices}),i.d(r,"DragDropRankingSelectToRank",function(){return o.DragDropRankingSelectToRank});var a=i("./src/defaultCss/cssstandard.ts");i.d(r,"defaultStandardCss",function(){return a.defaultStandardCss});var s=i("./src/defaultCss/cssmodern.ts");i.d(r,"modernCss",function(){return s.modernCss});var c=i("./src/svgbundle.ts");i.d(r,"SvgIconRegistry",function(){return c.SvgIconRegistry}),i.d(r,"SvgRegistry",function(){return c.SvgRegistry}),i.d(r,"SvgBundleViewModel",function(){return c.SvgBundleViewModel});var C=i("./src/rendererFactory.ts");i.d(r,"RendererFactory",function(){return C.RendererFactory});var E=i("./src/utils/responsivity-manager.ts");i.d(r,"ResponsivityManager",function(){return E.ResponsivityManager}),i.d(r,"VerticalResponsivityManager",function(){return E.VerticalResponsivityManager});var O=i("./src/utils/utils.ts");i.d(r,"unwrap",function(){return O.unwrap}),i.d(r,"getOriginalEvent",function(){return O.getOriginalEvent}),i.d(r,"getElement",function(){return O.getElement});var y=i("./src/actions/action.ts");i.d(r,"createDropdownActionModel",function(){return y.createDropdownActionModel}),i.d(r,"createDropdownActionModelAdvanced",function(){return y.createDropdownActionModelAdvanced}),i.d(r,"getActionDropdownButtonTarget",function(){return y.getActionDropdownButtonTarget}),i.d(r,"BaseAction",function(){return y.BaseAction}),i.d(r,"Action",function(){return y.Action}),i.d(r,"ActionDropdownViewModel",function(){return y.ActionDropdownViewModel});var b=i("./src/actions/adaptive-container.ts");i.d(r,"AdaptiveActionContainer",function(){return b.AdaptiveActionContainer});var P=i("./src/actions/container.ts");i.d(r,"defaultActionBarCss",function(){return P.defaultActionBarCss}),i.d(r,"ActionContainer",function(){return P.ActionContainer});var g=i("./src/utils/tooltip.ts");i.d(r,"TooltipManager",function(){return g.TooltipManager});var m=i("./src/utils/dragOrClickHelper.ts");i.d(r,"DragOrClickHelper",function(){return m.DragOrClickHelper})},"./src/entries/core.ts":function(n,r,i){i.r(r);var o=i("./src/entries/core-wo-model.ts");i.d(r,"Version",function(){return o.Version}),i.d(r,"checkLibraryVersion",function(){return o.checkLibraryVersion}),i.d(r,"settings",function(){return o.settings}),i.d(r,"Helpers",function(){return o.Helpers}),i.d(r,"AnswerCountValidator",function(){return o.AnswerCountValidator}),i.d(r,"EmailValidator",function(){return o.EmailValidator}),i.d(r,"NumericValidator",function(){return o.NumericValidator}),i.d(r,"RegexValidator",function(){return o.RegexValidator}),i.d(r,"SurveyValidator",function(){return o.SurveyValidator}),i.d(r,"TextValidator",function(){return o.TextValidator}),i.d(r,"ValidatorResult",function(){return o.ValidatorResult}),i.d(r,"ExpressionValidator",function(){return o.ExpressionValidator}),i.d(r,"ValidatorRunner",function(){return o.ValidatorRunner}),i.d(r,"ItemValue",function(){return o.ItemValue}),i.d(r,"Base",function(){return o.Base}),i.d(r,"Event",function(){return o.Event}),i.d(r,"EventBase",function(){return o.EventBase}),i.d(r,"ArrayChanges",function(){return o.ArrayChanges}),i.d(r,"ComputedUpdater",function(){return o.ComputedUpdater}),i.d(r,"SurveyError",function(){return o.SurveyError}),i.d(r,"SurveyElementCore",function(){return o.SurveyElementCore}),i.d(r,"SurveyElement",function(){return o.SurveyElement}),i.d(r,"DragTypeOverMeEnum",function(){return o.DragTypeOverMeEnum}),i.d(r,"CalculatedValue",function(){return o.CalculatedValue}),i.d(r,"CustomError",function(){return o.CustomError}),i.d(r,"AnswerRequiredError",function(){return o.AnswerRequiredError}),i.d(r,"OneAnswerRequiredError",function(){return o.OneAnswerRequiredError}),i.d(r,"RequreNumericError",function(){return o.RequreNumericError}),i.d(r,"ExceedSizeError",function(){return o.ExceedSizeError}),i.d(r,"LocalizableString",function(){return o.LocalizableString}),i.d(r,"LocalizableStrings",function(){return o.LocalizableStrings}),i.d(r,"HtmlConditionItem",function(){return o.HtmlConditionItem}),i.d(r,"UrlConditionItem",function(){return o.UrlConditionItem}),i.d(r,"ChoicesRestful",function(){return o.ChoicesRestful}),i.d(r,"ChoicesRestfull",function(){return o.ChoicesRestfull}),i.d(r,"FunctionFactory",function(){return o.FunctionFactory}),i.d(r,"registerFunction",function(){return o.registerFunction}),i.d(r,"ConditionRunner",function(){return o.ConditionRunner}),i.d(r,"ExpressionRunner",function(){return o.ExpressionRunner}),i.d(r,"ExpressionExecutor",function(){return o.ExpressionExecutor}),i.d(r,"Operand",function(){return o.Operand}),i.d(r,"Const",function(){return o.Const}),i.d(r,"BinaryOperand",function(){return o.BinaryOperand}),i.d(r,"Variable",function(){return o.Variable}),i.d(r,"FunctionOperand",function(){return o.FunctionOperand}),i.d(r,"ArrayOperand",function(){return o.ArrayOperand}),i.d(r,"UnaryOperand",function(){return o.UnaryOperand}),i.d(r,"ConditionsParser",function(){return o.ConditionsParser}),i.d(r,"ProcessValue",function(){return o.ProcessValue}),i.d(r,"JsonError",function(){return o.JsonError}),i.d(r,"JsonIncorrectTypeError",function(){return o.JsonIncorrectTypeError}),i.d(r,"JsonMetadata",function(){return o.JsonMetadata}),i.d(r,"JsonMetadataClass",function(){return o.JsonMetadataClass}),i.d(r,"JsonMissingTypeError",function(){return o.JsonMissingTypeError}),i.d(r,"JsonMissingTypeErrorBase",function(){return o.JsonMissingTypeErrorBase}),i.d(r,"JsonObject",function(){return o.JsonObject}),i.d(r,"JsonObjectProperty",function(){return o.JsonObjectProperty}),i.d(r,"JsonRequiredPropertyError",function(){return o.JsonRequiredPropertyError}),i.d(r,"JsonUnknownPropertyError",function(){return o.JsonUnknownPropertyError}),i.d(r,"Serializer",function(){return o.Serializer}),i.d(r,"property",function(){return o.property}),i.d(r,"propertyArray",function(){return o.propertyArray}),i.d(r,"MatrixDropdownCell",function(){return o.MatrixDropdownCell}),i.d(r,"MatrixDropdownRowModelBase",function(){return o.MatrixDropdownRowModelBase}),i.d(r,"QuestionMatrixDropdownModelBase",function(){return o.QuestionMatrixDropdownModelBase}),i.d(r,"MatrixDropdownColumn",function(){return o.MatrixDropdownColumn}),i.d(r,"matrixDropdownColumnTypes",function(){return o.matrixDropdownColumnTypes}),i.d(r,"QuestionMatrixDropdownRenderedCell",function(){return o.QuestionMatrixDropdownRenderedCell}),i.d(r,"QuestionMatrixDropdownRenderedRow",function(){return o.QuestionMatrixDropdownRenderedRow}),i.d(r,"QuestionMatrixDropdownRenderedTable",function(){return o.QuestionMatrixDropdownRenderedTable}),i.d(r,"MatrixDropdownRowModel",function(){return o.MatrixDropdownRowModel}),i.d(r,"QuestionMatrixDropdownModel",function(){return o.QuestionMatrixDropdownModel}),i.d(r,"MatrixDynamicRowModel",function(){return o.MatrixDynamicRowModel}),i.d(r,"QuestionMatrixDynamicModel",function(){return o.QuestionMatrixDynamicModel}),i.d(r,"MatrixRowModel",function(){return o.MatrixRowModel}),i.d(r,"MatrixCells",function(){return o.MatrixCells}),i.d(r,"QuestionMatrixModel",function(){return o.QuestionMatrixModel}),i.d(r,"QuestionMatrixBaseModel",function(){return o.QuestionMatrixBaseModel}),i.d(r,"MultipleTextItemModel",function(){return o.MultipleTextItemModel}),i.d(r,"QuestionMultipleTextModel",function(){return o.QuestionMultipleTextModel}),i.d(r,"MultipleTextEditorModel",function(){return o.MultipleTextEditorModel}),i.d(r,"PanelModel",function(){return o.PanelModel}),i.d(r,"PanelModelBase",function(){return o.PanelModelBase}),i.d(r,"QuestionRowModel",function(){return o.QuestionRowModel}),i.d(r,"FlowPanelModel",function(){return o.FlowPanelModel}),i.d(r,"PageModel",function(){return o.PageModel}),i.d(r,"DefaultTitleModel",function(){return o.DefaultTitleModel}),i.d(r,"Question",function(){return o.Question}),i.d(r,"QuestionNonValue",function(){return o.QuestionNonValue}),i.d(r,"QuestionEmptyModel",function(){return o.QuestionEmptyModel}),i.d(r,"QuestionCheckboxBase",function(){return o.QuestionCheckboxBase}),i.d(r,"QuestionSelectBase",function(){return o.QuestionSelectBase}),i.d(r,"QuestionCheckboxModel",function(){return o.QuestionCheckboxModel}),i.d(r,"QuestionTagboxModel",function(){return o.QuestionTagboxModel}),i.d(r,"QuestionRankingModel",function(){return o.QuestionRankingModel}),i.d(r,"QuestionCommentModel",function(){return o.QuestionCommentModel}),i.d(r,"QuestionDropdownModel",function(){return o.QuestionDropdownModel}),i.d(r,"QuestionFactory",function(){return o.QuestionFactory}),i.d(r,"ElementFactory",function(){return o.ElementFactory}),i.d(r,"QuestionFileModel",function(){return o.QuestionFileModel}),i.d(r,"QuestionHtmlModel",function(){return o.QuestionHtmlModel}),i.d(r,"QuestionRadiogroupModel",function(){return o.QuestionRadiogroupModel}),i.d(r,"QuestionRatingModel",function(){return o.QuestionRatingModel}),i.d(r,"RenderedRatingItem",function(){return o.RenderedRatingItem}),i.d(r,"QuestionExpressionModel",function(){return o.QuestionExpressionModel}),i.d(r,"QuestionTextBase",function(){return o.QuestionTextBase}),i.d(r,"CharacterCounter",function(){return o.CharacterCounter}),i.d(r,"QuestionTextModel",function(){return o.QuestionTextModel}),i.d(r,"QuestionBooleanModel",function(){return o.QuestionBooleanModel}),i.d(r,"QuestionImagePickerModel",function(){return o.QuestionImagePickerModel}),i.d(r,"ImageItemValue",function(){return o.ImageItemValue}),i.d(r,"QuestionImageModel",function(){return o.QuestionImageModel}),i.d(r,"QuestionSignaturePadModel",function(){return o.QuestionSignaturePadModel}),i.d(r,"QuestionPanelDynamicModel",function(){return o.QuestionPanelDynamicModel}),i.d(r,"QuestionPanelDynamicItem",function(){return o.QuestionPanelDynamicItem}),i.d(r,"SurveyTimer",function(){return o.SurveyTimer}),i.d(r,"SurveyTimerModel",function(){return o.SurveyTimerModel}),i.d(r,"tryNavigateToPage",function(){return o.tryNavigateToPage}),i.d(r,"createTOCListModel",function(){return o.createTOCListModel}),i.d(r,"getTocRootCss",function(){return o.getTocRootCss}),i.d(r,"TOCModel",function(){return o.TOCModel}),i.d(r,"SurveyProgressModel",function(){return o.SurveyProgressModel}),i.d(r,"SurveyProgressButtonsModel",function(){return o.SurveyProgressButtonsModel}),i.d(r,"SurveyModel",function(){return o.SurveyModel}),i.d(r,"SurveyTrigger",function(){return o.SurveyTrigger}),i.d(r,"SurveyTriggerComplete",function(){return o.SurveyTriggerComplete}),i.d(r,"SurveyTriggerSetValue",function(){return o.SurveyTriggerSetValue}),i.d(r,"SurveyTriggerVisible",function(){return o.SurveyTriggerVisible}),i.d(r,"SurveyTriggerCopyValue",function(){return o.SurveyTriggerCopyValue}),i.d(r,"SurveyTriggerRunExpression",function(){return o.SurveyTriggerRunExpression}),i.d(r,"Trigger",function(){return o.Trigger}),i.d(r,"PopupSurveyModel",function(){return o.PopupSurveyModel}),i.d(r,"SurveyWindowModel",function(){return o.SurveyWindowModel}),i.d(r,"TextPreProcessor",function(){return o.TextPreProcessor}),i.d(r,"Notifier",function(){return o.Notifier}),i.d(r,"dxSurveyService",function(){return o.dxSurveyService}),i.d(r,"englishStrings",function(){return o.englishStrings}),i.d(r,"surveyLocalization",function(){return o.surveyLocalization}),i.d(r,"surveyStrings",function(){return o.surveyStrings}),i.d(r,"QuestionCustomWidget",function(){return o.QuestionCustomWidget}),i.d(r,"CustomWidgetCollection",function(){return o.CustomWidgetCollection}),i.d(r,"QuestionCustomModel",function(){return o.QuestionCustomModel}),i.d(r,"QuestionCompositeModel",function(){return o.QuestionCompositeModel}),i.d(r,"ComponentQuestionJSON",function(){return o.ComponentQuestionJSON}),i.d(r,"ComponentCollection",function(){return o.ComponentCollection}),i.d(r,"StylesManager",function(){return o.StylesManager}),i.d(r,"ListModel",function(){return o.ListModel}),i.d(r,"MultiSelectListModel",function(){return o.MultiSelectListModel}),i.d(r,"PopupModel",function(){return o.PopupModel}),i.d(r,"createDialogOptions",function(){return o.createDialogOptions}),i.d(r,"PopupBaseViewModel",function(){return o.PopupBaseViewModel}),i.d(r,"PopupDropdownViewModel",function(){return o.PopupDropdownViewModel}),i.d(r,"PopupModalViewModel",function(){return o.PopupModalViewModel}),i.d(r,"createPopupViewModel",function(){return o.createPopupViewModel}),i.d(r,"createPopupModalViewModel",function(){return o.createPopupModalViewModel}),i.d(r,"DropdownListModel",function(){return o.DropdownListModel}),i.d(r,"DropdownMultiSelectListModel",function(){return o.DropdownMultiSelectListModel}),i.d(r,"QuestionButtonGroupModel",function(){return o.QuestionButtonGroupModel}),i.d(r,"ButtonGroupItemModel",function(){return o.ButtonGroupItemModel}),i.d(r,"ButtonGroupItemValue",function(){return o.ButtonGroupItemValue}),i.d(r,"IsMobile",function(){return o.IsMobile}),i.d(r,"IsTouch",function(){return o.IsTouch}),i.d(r,"_setIsTouch",function(){return o._setIsTouch}),i.d(r,"confirmAction",function(){return o.confirmAction}),i.d(r,"detectIEOrEdge",function(){return o.detectIEOrEdge}),i.d(r,"doKey2ClickUp",function(){return o.doKey2ClickUp}),i.d(r,"doKey2ClickDown",function(){return o.doKey2ClickDown}),i.d(r,"doKey2ClickBlur",function(){return o.doKey2ClickBlur}),i.d(r,"loadFileFromBase64",function(){return o.loadFileFromBase64}),i.d(r,"increaseHeightByContent",function(){return o.increaseHeightByContent}),i.d(r,"createSvg",function(){return o.createSvg}),i.d(r,"sanitizeEditableContent",function(){return o.sanitizeEditableContent}),i.d(r,"CssClassBuilder",function(){return o.CssClassBuilder}),i.d(r,"surveyCss",function(){return o.surveyCss}),i.d(r,"defaultV2Css",function(){return o.defaultV2Css}),i.d(r,"defaultV2ThemeName",function(){return o.defaultV2ThemeName}),i.d(r,"DragDropCore",function(){return o.DragDropCore}),i.d(r,"DragDropChoices",function(){return o.DragDropChoices}),i.d(r,"DragDropRankingSelectToRank",function(){return o.DragDropRankingSelectToRank}),i.d(r,"defaultStandardCss",function(){return o.defaultStandardCss}),i.d(r,"modernCss",function(){return o.modernCss}),i.d(r,"SvgIconRegistry",function(){return o.SvgIconRegistry}),i.d(r,"SvgRegistry",function(){return o.SvgRegistry}),i.d(r,"SvgBundleViewModel",function(){return o.SvgBundleViewModel}),i.d(r,"RendererFactory",function(){return o.RendererFactory}),i.d(r,"ResponsivityManager",function(){return o.ResponsivityManager}),i.d(r,"VerticalResponsivityManager",function(){return o.VerticalResponsivityManager}),i.d(r,"unwrap",function(){return o.unwrap}),i.d(r,"getOriginalEvent",function(){return o.getOriginalEvent}),i.d(r,"getElement",function(){return o.getElement}),i.d(r,"createDropdownActionModel",function(){return o.createDropdownActionModel}),i.d(r,"createDropdownActionModelAdvanced",function(){return o.createDropdownActionModelAdvanced}),i.d(r,"getActionDropdownButtonTarget",function(){return o.getActionDropdownButtonTarget}),i.d(r,"BaseAction",function(){return o.BaseAction}),i.d(r,"Action",function(){return o.Action}),i.d(r,"ActionDropdownViewModel",function(){return o.ActionDropdownViewModel}),i.d(r,"AdaptiveActionContainer",function(){return o.AdaptiveActionContainer}),i.d(r,"defaultActionBarCss",function(){return o.defaultActionBarCss}),i.d(r,"ActionContainer",function(){return o.ActionContainer}),i.d(r,"TooltipManager",function(){return o.TooltipManager}),i.d(r,"DragOrClickHelper",function(){return o.DragOrClickHelper});var a=i("./src/survey.ts");i.d(r,"Model",function(){return a.SurveyModel})},"./src/error.ts":function(n,r,i){i.r(r),i.d(r,"AnswerRequiredError",function(){return c}),i.d(r,"OneAnswerRequiredError",function(){return C}),i.d(r,"RequreNumericError",function(){return E}),i.d(r,"ExceedSizeError",function(){return O}),i.d(r,"WebRequestError",function(){return y}),i.d(r,"WebRequestEmptyError",function(){return b}),i.d(r,"OtherEmptyError",function(){return P}),i.d(r,"UploadingFileError",function(){return g}),i.d(r,"RequiredInAllRowsError",function(){return m}),i.d(r,"MinRowCountError",function(){return v}),i.d(r,"KeyDuplicationError",function(){return f}),i.d(r,"CustomError",function(){return l});var o=i("./src/surveyStrings.ts"),a=i("./src/survey-error.ts"),s=function(){var d=function(h,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,x){u.__proto__=x}||function(u,x){for(var V in x)Object.prototype.hasOwnProperty.call(x,V)&&(u[V]=x[V])},d(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(h,p);function u(){this.constructor=h}h.prototype=p===null?Object.create(p):(u.prototype=p.prototype,new u)}}(),c=function(d){s(h,d);function h(p,u){p===void 0&&(p=null),u===void 0&&(u=null);var x=d.call(this,p,u)||this;return x.text=p,x}return h.prototype.getErrorType=function(){return"required"},h.prototype.getDefaultText=function(){return this.getLocalizationString("requiredError")},h}(a.SurveyError),C=function(d){s(h,d);function h(p,u){p===void 0&&(p=null),u===void 0&&(u=null);var x=d.call(this,p,u)||this;return x.text=p,x}return h.prototype.getErrorType=function(){return"requireoneanswer"},h.prototype.getDefaultText=function(){return this.getLocalizationString("requiredErrorInPanel")},h}(a.SurveyError),E=function(d){s(h,d);function h(p,u){p===void 0&&(p=null),u===void 0&&(u=null);var x=d.call(this,p,u)||this;return x.text=p,x}return h.prototype.getErrorType=function(){return"requirenumeric"},h.prototype.getDefaultText=function(){return this.getLocalizationString("numericError")},h}(a.SurveyError),O=function(d){s(h,d);function h(p,u){u===void 0&&(u=null);var x=d.call(this,null,u)||this;return x.maxSize=p,x.locText.text=x.getText(),x}return h.prototype.getErrorType=function(){return"exceedsize"},h.prototype.getDefaultText=function(){return o.surveyLocalization.getString("exceedMaxSize").format(this.getTextSize())},h.prototype.getTextSize=function(){var p=["Bytes","KB","MB","GB","TB"],u=[0,0,2,3,3];if(this.maxSize===0)return"0 Byte";var x=Math.floor(Math.log(this.maxSize)/Math.log(1024)),V=this.maxSize/Math.pow(1024,x);return V.toFixed(u[x])+" "+p[x]},h}(a.SurveyError),y=function(d){s(h,d);function h(p,u,x){x===void 0&&(x=null);var V=d.call(this,null,x)||this;return V.status=p,V.response=u,V}return h.prototype.getErrorType=function(){return"webrequest"},h.prototype.getDefaultText=function(){var p=this.getLocalizationString("urlRequestError");return p?p.format(this.status,this.response):""},h}(a.SurveyError),b=function(d){s(h,d);function h(p,u){u===void 0&&(u=null);var x=d.call(this,p,u)||this;return x.text=p,x}return h.prototype.getErrorType=function(){return"webrequestempty"},h.prototype.getDefaultText=function(){return this.getLocalizationString("urlGetChoicesError")},h}(a.SurveyError),P=function(d){s(h,d);function h(p,u){u===void 0&&(u=null);var x=d.call(this,p,u)||this;return x.text=p,x}return h.prototype.getErrorType=function(){return"otherempty"},h.prototype.getDefaultText=function(){return this.getLocalizationString("otherRequiredError")},h}(a.SurveyError),g=function(d){s(h,d);function h(p,u){u===void 0&&(u=null);var x=d.call(this,p,u)||this;return x.text=p,x}return h.prototype.getErrorType=function(){return"uploadingfile"},h.prototype.getDefaultText=function(){return this.getLocalizationString("uploadingFile")},h}(a.SurveyError),m=function(d){s(h,d);function h(p,u){u===void 0&&(u=null);var x=d.call(this,p,u)||this;return x.text=p,x}return h.prototype.getErrorType=function(){return"requiredinallrowserror"},h.prototype.getDefaultText=function(){return this.getLocalizationString("requiredInAllRowsError")},h}(a.SurveyError),v=function(d){s(h,d);function h(p,u){u===void 0&&(u=null);var x=d.call(this,null,u)||this;return x.minRowCount=p,x}return h.prototype.getErrorType=function(){return"minrowcounterror"},h.prototype.getDefaultText=function(){return o.surveyLocalization.getString("minRowCountError").format(this.minRowCount)},h}(a.SurveyError),f=function(d){s(h,d);function h(p,u){u===void 0&&(u=null);var x=d.call(this,p,u)||this;return x.text=p,x}return h.prototype.getErrorType=function(){return"keyduplicationerror"},h.prototype.getDefaultText=function(){return this.getLocalizationString("keyDuplicationError")},h}(a.SurveyError),l=function(d){s(h,d);function h(p,u){u===void 0&&(u=null);var x=d.call(this,p,u)||this;return x.text=p,x}return h.prototype.getErrorType=function(){return"custom"},h}(a.SurveyError)},"./src/expressionItems.ts":function(n,r,i){i.r(r),i.d(r,"ExpressionItem",function(){return C}),i.d(r,"HtmlConditionItem",function(){return E}),i.d(r,"UrlConditionItem",function(){return O});var o=i("./src/jsonobject.ts"),a=i("./src/base.ts"),s=i("./src/conditions.ts"),c=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),C=function(y){c(b,y);function b(P){P===void 0&&(P=null);var g=y.call(this)||this;return g.expression=P,g}return b.prototype.getType=function(){return"expressionitem"},b.prototype.runCondition=function(P,g){return this.expression?new s.ConditionRunner(this.expression).run(P,g):!1},Object.defineProperty(b.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(P){this.setPropertyValue("expression",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),b.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},b.prototype.getMarkdownHtml=function(P,g){return this.locOwner?this.locOwner.getMarkdownHtml(P,g):void 0},b.prototype.getRenderer=function(P){return this.locOwner?this.locOwner.getRenderer(P):null},b.prototype.getRendererContext=function(P){return this.locOwner?this.locOwner.getRendererContext(P):P},b.prototype.getProcessedText=function(P){return this.locOwner?this.locOwner.getProcessedText(P):P},b.prototype.getSurvey=function(P){return this.locOwner},b}(a.Base),E=function(y){c(b,y);function b(P,g){P===void 0&&(P=null),g===void 0&&(g=null);var m=y.call(this,P)||this;return m.createLocalizableString("html",m),m.html=g,m}return b.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(b.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(P){this.setLocalizableStringText("html",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),b}(C),O=function(y){c(b,y);function b(P,g){P===void 0&&(P=null),g===void 0&&(g=null);var m=y.call(this,P)||this;return m.createLocalizableString("url",m),m.url=g,m}return b.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(b.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(P){this.setLocalizableStringText("url",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),b}(C);o.Serializer.addClass("expressionitem",["expression:condition"],function(){return new C},"base"),o.Serializer.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new E},"expressionitem"),o.Serializer.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new O},"expressionitem")},"./src/expressions/expressionParser.ts":function(n,r,i){i.r(r),i.d(r,"SyntaxError",function(){return s}),i.d(r,"parse",function(){return C});var o=i("./src/expressions/expressions.ts"),a=function(){var E=function(O,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,P){b.__proto__=P}||function(b,P){for(var g in P)Object.prototype.hasOwnProperty.call(P,g)&&(b[g]=P[g])},E(O,y)};return function(O,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");E(O,y);function b(){this.constructor=O}O.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),s=function(E){a(O,E);function O(y,b,P,g){var m=E.call(this)||this;return m.message=y,m.expected=b,m.found=P,m.location=g,m.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(m,O),m}return O.buildMessage=function(y,b){function P(d){return d.charCodeAt(0).toString(16).toUpperCase()}function g(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+P(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+P(h)})}function m(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+P(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+P(h)})}function v(d){switch(d.type){case"literal":return'"'+g(d.text)+'"';case"class":var h=d.parts.map(function(p){return Array.isArray(p)?m(p[0])+"-"+m(p[1]):m(p)});return"["+(d.inverted?"^":"")+h+"]";case"any":return"any character";case"end":return"end of input";case"other":return d.description}}function f(d){var h=d.map(v),p,u;if(h.sort(),h.length>0){for(p=1,u=1;p<h.length;p++)h[p-1]!==h[p]&&(h[u]=h[p],u++);h.length=u}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}function l(d){return d?'"'+g(d)+'"':"end of input"}return"Expected "+f(y)+" but "+l(b)+" found."},O}(Error);function c(E,O){O=O!==void 0?O:{};var y={},b={Expression:ao},P=ao,g=function(B,j){return Tv(B,j,!0)},m="||",v=ye("||",!1),f="or",l=ye("or",!0),d=function(){return"or"},h="&&",p=ye("&&",!1),u="and",x=ye("and",!0),V=function(){return"and"},A=function(B,j){return Tv(B,j)},M="<=",T=ye("<=",!1),D="lessorequal",R=ye("lessorequal",!0),S=function(){return"lessorequal"},I=">=",w=ye(">=",!1),L="greaterorequal",F=ye("greaterorequal",!0),W=function(){return"greaterorequal"},U="==",Q=ye("==",!1),$="equal",z=ye("equal",!0),q=function(){return"equal"},K="=",re=ye("=",!1),Y="!=",Ee=ye("!=",!1),ve="notequal",Oe=ye("notequal",!0),pe=function(){return"notequal"},Ze="<",st=ye("<",!1),Te="less",at=ye("less",!0),Ie=function(){return"less"},Ye=">",an=ye(">",!1),We="greater",Rn=ye("greater",!0),ln=function(){return"greater"},yt="+",Ce=ye("+",!1),$e=function(){return"plus"},gn="-",Qt=ye("-",!1),At=function(){return"minus"},ro="*",oi=ye("*",!1),io=function(){return"mul"},si="/",ai=ye("/",!1),k=function(){return"div"},J="%",ee=ye("%",!1),ue=function(){return"mod"},Se="^",Pe=ye("^",!1),be="power",me=ye("power",!0),he=function(){return"power"},Ue="*=",Be=ye("*=",!1),Lt="contains",nt=ye("contains",!0),It="contain",Ot=ye("contain",!0),Lr=function(){return"contains"},Br="notcontains",li=ye("notcontains",!0),Dn="notcontain",ui=ye("notcontain",!0),vr=function(){return"notcontains"},oo="anyof",ci=ye("anyof",!0),fi=function(){return"anyof"},Xe="allof",mn=ye("allof",!0),di=function(){return"allof"},Mt="(",hi=ye("(",!1),aa=")",mu=ye(")",!1),e1=function(B){return B},t1=function(B,j){return new o.FunctionOperand(B,j)},n1="!",r1=ye("!",!1),i1="negate",o1=ye("negate",!0),s1=function(B){return new o.UnaryOperand(B,"negate")},a1=function(B,j){return new o.UnaryOperand(B,j)},l1="empty",u1=ye("empty",!0),c1=function(){return"empty"},f1="notempty",d1=ye("notempty",!0),h1=function(){return"notempty"},Qy="undefined",p1=ye("undefined",!1),zy="null",g1=ye("null",!1),m1=function(){return null},y1=function(B){return new o.Const(B)},v1="{",C1=ye("{",!1),P1="}",b1=ye("}",!1),E1=function(B){return new o.Variable(B)},Vd=function(B){return B},Hy="''",O1=ye("''",!1),Ky=function(){return""},$y='""',S1=ye('""',!1),qy="'",_y=ye("'",!1),Gy=function(B){return"'"+B+"'"},ky='"',Jy=ye('"',!1),x1="[",T1=ye("[",!1),R1="]",D1=ye("]",!1),I1=function(B){return B},Yy=",",Xy=ye(",",!1),M1=function(B,j){if(B==null)return new o.ArrayOperand([]);var _=[B];if(Array.isArray(j))for(var H=yD(j),G=3;G<H.length;G+=4)_.push(H[G]);return new o.ArrayOperand(_)},V1="true",w1=ye("true",!0),A1=function(){return!0},L1="false",B1=ye("false",!0),N1=function(){return!1},Zy="0x",j1=ye("0x",!1),F1=function(){return parseInt(Cu(),16)},U1=/^[\-]/,W1=so(["-"],!1,!1),Q1=function(B,j){return B==null?j:-j},z1=".",H1=ye(".",!1),K1=function(){return parseFloat(Cu())},$1=function(){return parseInt(Cu(),10)},q1="0",_1=ye("0",!1),G1=function(){return 0},ev=function(B){return B.join("")},tv="\\'",k1=ye("\\'",!1),J1=function(){return"'"},nv='\\"',Y1=ye('\\"',!1),X1=function(){return'"'},Z1=/^[^"']/,eD=so(['"',"'"],!0,!1),wd=function(){return Cu()},tD=/^[^{}]/,nD=so(["{","}"],!0,!1),rv=/^[0-9]/,iv=so([["0","9"]],!1,!1),ov=/^[1-9]/,sv=so([["1","9"]],!1,!1),av=/^[a-zA-Z_]/,lv=so([["a","z"],["A","Z"],"_"],!1,!1),rD=oD("whitespace"),uv=/^[ \t\n\r]/,cv=so([" ","	",`
`,"\r"],!1,!1),N=0,ge=0,yu=[{line:1,column:1}],Cr=0,Ad=[],se=0,ce={},vu;if(O.startRule!==void 0){if(!(O.startRule in b))throw new Error(`Can't start parsing from rule "`+O.startRule+'".');P=b[O.startRule]}function Cu(){return E.substring(ge,N)}function ye(B,j){return{type:"literal",text:B,ignoreCase:j}}function so(B,j,_){return{type:"class",parts:B,inverted:j,ignoreCase:_}}function iD(){return{type:"end"}}function oD(B){return{type:"other",description:B}}function fv(B){var j=yu[B],_;if(j)return j;for(_=B-1;!yu[_];)_--;for(j=yu[_],j={line:j.line,column:j.column};_<B;)E.charCodeAt(_)===10?(j.line++,j.column=1):j.column++,_++;return yu[B]=j,j}function dv(B,j){var _=fv(B),H=fv(j);return{start:{offset:B,line:_.line,column:_.column},end:{offset:j,line:H.line,column:H.column}}}function le(B){N<Cr||(N>Cr&&(Cr=N,Ad=[]),Ad.push(B))}function sD(B,j,_){return new s(s.buildMessage(B,j),B,j,_)}function ao(){var B,j,_,H,G,te,ae,fe,Ke,qe=N*34+0,Qd=ce[qe];if(Qd)return N=Qd.nextPos,Qd.result;if(B=N,j=Me(),j!==y)if(_=Ld(),_!==y){for(H=[],G=N,te=Me(),te!==y?(ae=hv(),ae!==y?(fe=Me(),fe!==y?(Ke=Ld(),Ke!==y?(te=[te,ae,fe,Ke],G=te):(N=G,G=y)):(N=G,G=y)):(N=G,G=y)):(N=G,G=y);G!==y;)H.push(G),G=N,te=Me(),te!==y?(ae=hv(),ae!==y?(fe=Me(),fe!==y?(Ke=Ld(),Ke!==y?(te=[te,ae,fe,Ke],G=te):(N=G,G=y)):(N=G,G=y)):(N=G,G=y)):(N=G,G=y);H!==y?(G=Me(),G!==y?(ge=B,j=g(_,H),B=j):(N=B,B=y)):(N=B,B=y)}else N=B,B=y;else N=B,B=y;return ce[qe]={nextPos:N,result:B},B}function hv(){var B,j,_=N*34+1,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,E.substr(N,2)===m?(j=m,N+=2):(j=y,se===0&&le(v)),j===y&&(E.substr(N,2).toLowerCase()===f?(j=E.substr(N,2),N+=2):(j=y,se===0&&le(l))),j!==y&&(ge=B,j=d()),B=j,ce[_]={nextPos:N,result:B},B)}function Ld(){var B,j,_,H,G,te,ae,fe,Ke=N*34+2,qe=ce[Ke];if(qe)return N=qe.nextPos,qe.result;if(B=N,j=Bd(),j!==y){for(_=[],H=N,G=Me(),G!==y?(te=pv(),te!==y?(ae=Me(),ae!==y?(fe=Bd(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);H!==y;)_.push(H),H=N,G=Me(),G!==y?(te=pv(),te!==y?(ae=Me(),ae!==y?(fe=Bd(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);_!==y?(ge=B,j=g(j,_),B=j):(N=B,B=y)}else N=B,B=y;return ce[Ke]={nextPos:N,result:B},B}function pv(){var B,j,_=N*34+3,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,E.substr(N,2)===h?(j=h,N+=2):(j=y,se===0&&le(p)),j===y&&(E.substr(N,3).toLowerCase()===u?(j=E.substr(N,3),N+=3):(j=y,se===0&&le(x))),j!==y&&(ge=B,j=V()),B=j,ce[_]={nextPos:N,result:B},B)}function Bd(){var B,j,_,H,G,te,ae,fe,Ke=N*34+4,qe=ce[Ke];if(qe)return N=qe.nextPos,qe.result;if(B=N,j=Nd(),j!==y){for(_=[],H=N,G=Me(),G!==y?(te=gv(),te!==y?(ae=Me(),ae!==y?(fe=Nd(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);H!==y;)_.push(H),H=N,G=Me(),G!==y?(te=gv(),te!==y?(ae=Me(),ae!==y?(fe=Nd(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);_!==y?(ge=B,j=A(j,_),B=j):(N=B,B=y)}else N=B,B=y;return ce[Ke]={nextPos:N,result:B},B}function gv(){var B,j,_=N*34+5,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,E.substr(N,2)===M?(j=M,N+=2):(j=y,se===0&&le(T)),j===y&&(E.substr(N,11).toLowerCase()===D?(j=E.substr(N,11),N+=11):(j=y,se===0&&le(R))),j!==y&&(ge=B,j=S()),B=j,B===y&&(B=N,E.substr(N,2)===I?(j=I,N+=2):(j=y,se===0&&le(w)),j===y&&(E.substr(N,14).toLowerCase()===L?(j=E.substr(N,14),N+=14):(j=y,se===0&&le(F))),j!==y&&(ge=B,j=W()),B=j,B===y&&(B=N,E.substr(N,2)===U?(j=U,N+=2):(j=y,se===0&&le(Q)),j===y&&(E.substr(N,5).toLowerCase()===$?(j=E.substr(N,5),N+=5):(j=y,se===0&&le(z))),j!==y&&(ge=B,j=q()),B=j,B===y&&(B=N,E.charCodeAt(N)===61?(j=K,N++):(j=y,se===0&&le(re)),j===y&&(E.substr(N,5).toLowerCase()===$?(j=E.substr(N,5),N+=5):(j=y,se===0&&le(z))),j!==y&&(ge=B,j=q()),B=j,B===y&&(B=N,E.substr(N,2)===Y?(j=Y,N+=2):(j=y,se===0&&le(Ee)),j===y&&(E.substr(N,8).toLowerCase()===ve?(j=E.substr(N,8),N+=8):(j=y,se===0&&le(Oe))),j!==y&&(ge=B,j=pe()),B=j,B===y&&(B=N,E.charCodeAt(N)===60?(j=Ze,N++):(j=y,se===0&&le(st)),j===y&&(E.substr(N,4).toLowerCase()===Te?(j=E.substr(N,4),N+=4):(j=y,se===0&&le(at))),j!==y&&(ge=B,j=Ie()),B=j,B===y&&(B=N,E.charCodeAt(N)===62?(j=Ye,N++):(j=y,se===0&&le(an)),j===y&&(E.substr(N,7).toLowerCase()===We?(j=E.substr(N,7),N+=7):(j=y,se===0&&le(Rn))),j!==y&&(ge=B,j=ln()),B=j)))))),ce[_]={nextPos:N,result:B},B)}function Nd(){var B,j,_,H,G,te,ae,fe,Ke=N*34+6,qe=ce[Ke];if(qe)return N=qe.nextPos,qe.result;if(B=N,j=jd(),j!==y){for(_=[],H=N,G=Me(),G!==y?(te=mv(),te!==y?(ae=Me(),ae!==y?(fe=jd(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);H!==y;)_.push(H),H=N,G=Me(),G!==y?(te=mv(),te!==y?(ae=Me(),ae!==y?(fe=jd(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);_!==y?(ge=B,j=g(j,_),B=j):(N=B,B=y)}else N=B,B=y;return ce[Ke]={nextPos:N,result:B},B}function mv(){var B,j,_=N*34+7,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,E.charCodeAt(N)===43?(j=yt,N++):(j=y,se===0&&le(Ce)),j!==y&&(ge=B,j=$e()),B=j,B===y&&(B=N,E.charCodeAt(N)===45?(j=gn,N++):(j=y,se===0&&le(Qt)),j!==y&&(ge=B,j=At()),B=j),ce[_]={nextPos:N,result:B},B)}function jd(){var B,j,_,H,G,te,ae,fe,Ke=N*34+8,qe=ce[Ke];if(qe)return N=qe.nextPos,qe.result;if(B=N,j=Fd(),j!==y){for(_=[],H=N,G=Me(),G!==y?(te=yv(),te!==y?(ae=Me(),ae!==y?(fe=Fd(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);H!==y;)_.push(H),H=N,G=Me(),G!==y?(te=yv(),te!==y?(ae=Me(),ae!==y?(fe=Fd(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);_!==y?(ge=B,j=g(j,_),B=j):(N=B,B=y)}else N=B,B=y;return ce[Ke]={nextPos:N,result:B},B}function yv(){var B,j,_=N*34+9,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,E.charCodeAt(N)===42?(j=ro,N++):(j=y,se===0&&le(oi)),j!==y&&(ge=B,j=io()),B=j,B===y&&(B=N,E.charCodeAt(N)===47?(j=si,N++):(j=y,se===0&&le(ai)),j!==y&&(ge=B,j=k()),B=j,B===y&&(B=N,E.charCodeAt(N)===37?(j=J,N++):(j=y,se===0&&le(ee)),j!==y&&(ge=B,j=ue()),B=j)),ce[_]={nextPos:N,result:B},B)}function Fd(){var B,j,_,H,G,te,ae,fe,Ke=N*34+10,qe=ce[Ke];if(qe)return N=qe.nextPos,qe.result;if(B=N,j=Ud(),j!==y){for(_=[],H=N,G=Me(),G!==y?(te=vv(),te!==y?(ae=Me(),ae!==y?(fe=Ud(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);H!==y;)_.push(H),H=N,G=Me(),G!==y?(te=vv(),te!==y?(ae=Me(),ae!==y?(fe=Ud(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);_!==y?(ge=B,j=g(j,_),B=j):(N=B,B=y)}else N=B,B=y;return ce[Ke]={nextPos:N,result:B},B}function vv(){var B,j,_=N*34+11,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,E.charCodeAt(N)===94?(j=Se,N++):(j=y,se===0&&le(Pe)),j===y&&(E.substr(N,5).toLowerCase()===be?(j=E.substr(N,5),N+=5):(j=y,se===0&&le(me))),j!==y&&(ge=B,j=he()),B=j,ce[_]={nextPos:N,result:B},B)}function Ud(){var B,j,_,H,G,te,ae,fe,Ke=N*34+12,qe=ce[Ke];if(qe)return N=qe.nextPos,qe.result;if(B=N,j=Wd(),j!==y){for(_=[],H=N,G=Me(),G!==y?(te=Cv(),te!==y?(ae=Me(),ae!==y?(fe=Wd(),fe===y&&(fe=null),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);H!==y;)_.push(H),H=N,G=Me(),G!==y?(te=Cv(),te!==y?(ae=Me(),ae!==y?(fe=Wd(),fe===y&&(fe=null),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);_!==y?(ge=B,j=A(j,_),B=j):(N=B,B=y)}else N=B,B=y;return ce[Ke]={nextPos:N,result:B},B}function Cv(){var B,j,_=N*34+13,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,E.substr(N,2)===Ue?(j=Ue,N+=2):(j=y,se===0&&le(Be)),j===y&&(E.substr(N,8).toLowerCase()===Lt?(j=E.substr(N,8),N+=8):(j=y,se===0&&le(nt)),j===y&&(E.substr(N,7).toLowerCase()===It?(j=E.substr(N,7),N+=7):(j=y,se===0&&le(Ot)))),j!==y&&(ge=B,j=Lr()),B=j,B===y&&(B=N,E.substr(N,11).toLowerCase()===Br?(j=E.substr(N,11),N+=11):(j=y,se===0&&le(li)),j===y&&(E.substr(N,10).toLowerCase()===Dn?(j=E.substr(N,10),N+=10):(j=y,se===0&&le(ui))),j!==y&&(ge=B,j=vr()),B=j,B===y&&(B=N,E.substr(N,5).toLowerCase()===oo?(j=E.substr(N,5),N+=5):(j=y,se===0&&le(ci)),j!==y&&(ge=B,j=fi()),B=j,B===y&&(B=N,E.substr(N,5).toLowerCase()===Xe?(j=E.substr(N,5),N+=5):(j=y,se===0&&le(mn)),j!==y&&(ge=B,j=di()),B=j))),ce[_]={nextPos:N,result:B},B)}function Wd(){var B,j,_,H,G,te,ae=N*34+14,fe=ce[ae];return fe?(N=fe.nextPos,fe.result):(B=N,E.charCodeAt(N)===40?(j=Mt,N++):(j=y,se===0&&le(hi)),j!==y?(_=Me(),_!==y?(H=ao(),H!==y?(G=Me(),G!==y?(E.charCodeAt(N)===41?(te=aa,N++):(te=y,se===0&&le(mu)),te===y&&(te=null),te!==y?(ge=B,j=e1(H),B=j):(N=B,B=y)):(N=B,B=y)):(N=B,B=y)):(N=B,B=y)):(N=B,B=y),B===y&&(B=aD(),B===y&&(B=lD(),B===y&&(B=Pv(),B===y&&(B=fD())))),ce[ae]={nextPos:N,result:B},B)}function aD(){var B,j,_,H,G,te=N*34+15,ae=ce[te];return ae?(N=ae.nextPos,ae.result):(B=N,j=xv(),j!==y?(E.charCodeAt(N)===40?(_=Mt,N++):(_=y,se===0&&le(hi)),_!==y?(H=bv(),H!==y?(E.charCodeAt(N)===41?(G=aa,N++):(G=y,se===0&&le(mu)),G===y&&(G=null),G!==y?(ge=B,j=t1(j,H),B=j):(N=B,B=y)):(N=B,B=y)):(N=B,B=y)):(N=B,B=y),ce[te]={nextPos:N,result:B},B)}function lD(){var B,j,_,H,G=N*34+16,te=ce[G];return te?(N=te.nextPos,te.result):(B=N,E.charCodeAt(N)===33?(j=n1,N++):(j=y,se===0&&le(r1)),j===y&&(E.substr(N,6).toLowerCase()===i1?(j=E.substr(N,6),N+=6):(j=y,se===0&&le(o1))),j!==y?(_=Me(),_!==y?(H=ao(),H!==y?(ge=B,j=s1(H),B=j):(N=B,B=y)):(N=B,B=y)):(N=B,B=y),B===y&&(B=N,j=Pv(),j!==y?(_=Me(),_!==y?(H=uD(),H!==y?(ge=B,j=a1(j,H),B=j):(N=B,B=y)):(N=B,B=y)):(N=B,B=y)),ce[G]={nextPos:N,result:B},B)}function uD(){var B,j,_=N*34+17,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,E.substr(N,5).toLowerCase()===l1?(j=E.substr(N,5),N+=5):(j=y,se===0&&le(u1)),j!==y&&(ge=B,j=c1()),B=j,B===y&&(B=N,E.substr(N,8).toLowerCase()===f1?(j=E.substr(N,8),N+=8):(j=y,se===0&&le(d1)),j!==y&&(ge=B,j=h1()),B=j),ce[_]={nextPos:N,result:B},B)}function Pv(){var B,j,_,H,G,te=N*34+18,ae=ce[te];return ae?(N=ae.nextPos,ae.result):(B=N,j=Me(),j!==y?(E.substr(N,9)===Qy?(_=Qy,N+=9):(_=y,se===0&&le(p1)),_===y&&(E.substr(N,4)===zy?(_=zy,N+=4):(_=y,se===0&&le(g1))),_!==y?(ge=B,j=m1(),B=j):(N=B,B=y)):(N=B,B=y),B===y&&(B=N,j=Me(),j!==y?(_=cD(),_!==y?(ge=B,j=y1(_),B=j):(N=B,B=y)):(N=B,B=y),B===y&&(B=N,j=Me(),j!==y?(E.charCodeAt(N)===123?(_=v1,N++):(_=y,se===0&&le(C1)),_!==y?(H=gD(),H!==y?(E.charCodeAt(N)===125?(G=P1,N++):(G=y,se===0&&le(b1)),G!==y?(ge=B,j=E1(H),B=j):(N=B,B=y)):(N=B,B=y)):(N=B,B=y)):(N=B,B=y))),ce[te]={nextPos:N,result:B},B)}function cD(){var B,j,_,H,G=N*34+19,te=ce[G];return te?(N=te.nextPos,te.result):(B=N,j=dD(),j!==y&&(ge=B,j=Vd(j)),B=j,B===y&&(B=N,j=hD(),j!==y&&(ge=B,j=Vd(j)),B=j,B===y&&(B=N,j=xv(),j!==y&&(ge=B,j=Vd(j)),B=j,B===y&&(B=N,E.substr(N,2)===Hy?(j=Hy,N+=2):(j=y,se===0&&le(O1)),j!==y&&(ge=B,j=Ky()),B=j,B===y&&(B=N,E.substr(N,2)===$y?(j=$y,N+=2):(j=y,se===0&&le(S1)),j!==y&&(ge=B,j=Ky()),B=j,B===y&&(B=N,E.charCodeAt(N)===39?(j=qy,N++):(j=y,se===0&&le(_y)),j!==y?(_=Ev(),_!==y?(E.charCodeAt(N)===39?(H=qy,N++):(H=y,se===0&&le(_y)),H!==y?(ge=B,j=Gy(_),B=j):(N=B,B=y)):(N=B,B=y)):(N=B,B=y),B===y&&(B=N,E.charCodeAt(N)===34?(j=ky,N++):(j=y,se===0&&le(Jy)),j!==y?(_=Ev(),_!==y?(E.charCodeAt(N)===34?(H=ky,N++):(H=y,se===0&&le(Jy)),H!==y?(ge=B,j=Gy(_),B=j):(N=B,B=y)):(N=B,B=y)):(N=B,B=y))))))),ce[G]={nextPos:N,result:B},B)}function fD(){var B,j,_,H,G=N*34+20,te=ce[G];return te?(N=te.nextPos,te.result):(B=N,E.charCodeAt(N)===91?(j=x1,N++):(j=y,se===0&&le(T1)),j!==y?(_=bv(),_!==y?(E.charCodeAt(N)===93?(H=R1,N++):(H=y,se===0&&le(D1)),H!==y?(ge=B,j=I1(_),B=j):(N=B,B=y)):(N=B,B=y)):(N=B,B=y),ce[G]={nextPos:N,result:B},B)}function bv(){var B,j,_,H,G,te,ae,fe,Ke=N*34+21,qe=ce[Ke];if(qe)return N=qe.nextPos,qe.result;if(B=N,j=ao(),j===y&&(j=null),j!==y){for(_=[],H=N,G=Me(),G!==y?(E.charCodeAt(N)===44?(te=Yy,N++):(te=y,se===0&&le(Xy)),te!==y?(ae=Me(),ae!==y?(fe=ao(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);H!==y;)_.push(H),H=N,G=Me(),G!==y?(E.charCodeAt(N)===44?(te=Yy,N++):(te=y,se===0&&le(Xy)),te!==y?(ae=Me(),ae!==y?(fe=ao(),fe!==y?(G=[G,te,ae,fe],H=G):(N=H,H=y)):(N=H,H=y)):(N=H,H=y)):(N=H,H=y);_!==y?(ge=B,j=M1(j,_),B=j):(N=B,B=y)}else N=B,B=y;return ce[Ke]={nextPos:N,result:B},B}function dD(){var B,j,_=N*34+22,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,E.substr(N,4).toLowerCase()===V1?(j=E.substr(N,4),N+=4):(j=y,se===0&&le(w1)),j!==y&&(ge=B,j=A1()),B=j,B===y&&(B=N,E.substr(N,5).toLowerCase()===L1?(j=E.substr(N,5),N+=5):(j=y,se===0&&le(B1)),j!==y&&(ge=B,j=N1()),B=j),ce[_]={nextPos:N,result:B},B)}function hD(){var B,j,_,H=N*34+23,G=ce[H];return G?(N=G.nextPos,G.result):(B=N,E.substr(N,2)===Zy?(j=Zy,N+=2):(j=y,se===0&&le(j1)),j!==y?(_=Zo(),_!==y?(ge=B,j=F1(),B=j):(N=B,B=y)):(N=B,B=y),B===y&&(B=N,U1.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(W1)),j===y&&(j=null),j!==y?(_=pD(),_!==y?(ge=B,j=Q1(j,_),B=j):(N=B,B=y)):(N=B,B=y)),ce[H]={nextPos:N,result:B},B)}function pD(){var B,j,_,H,G=N*34+24,te=ce[G];return te?(N=te.nextPos,te.result):(B=N,j=Zo(),j!==y?(E.charCodeAt(N)===46?(_=z1,N++):(_=y,se===0&&le(H1)),_!==y?(H=Zo(),H!==y?(ge=B,j=K1(),B=j):(N=B,B=y)):(N=B,B=y)):(N=B,B=y),B===y&&(B=N,j=mD(),j!==y?(_=Zo(),_===y&&(_=null),_!==y?(ge=B,j=$1(),B=j):(N=B,B=y)):(N=B,B=y),B===y&&(B=N,E.charCodeAt(N)===48?(j=q1,N++):(j=y,se===0&&le(_1)),j!==y&&(ge=B,j=G1()),B=j)),ce[G]={nextPos:N,result:B},B)}function gD(){var B,j,_,H=N*34+25,G=ce[H];if(G)return N=G.nextPos,G.result;if(B=N,j=[],_=Sv(),_!==y)for(;_!==y;)j.push(_),_=Sv();else j=y;return j!==y&&(ge=B,j=ev(j)),B=j,ce[H]={nextPos:N,result:B},B}function Ev(){var B,j,_,H=N*34+26,G=ce[H];if(G)return N=G.nextPos,G.result;if(B=N,j=[],_=Ov(),_!==y)for(;_!==y;)j.push(_),_=Ov();else j=y;return j!==y&&(ge=B,j=ev(j)),B=j,ce[H]={nextPos:N,result:B},B}function Ov(){var B,j,_=N*34+27,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,E.substr(N,2)===tv?(j=tv,N+=2):(j=y,se===0&&le(k1)),j!==y&&(ge=B,j=J1()),B=j,B===y&&(B=N,E.substr(N,2)===nv?(j=nv,N+=2):(j=y,se===0&&le(Y1)),j!==y&&(ge=B,j=X1()),B=j,B===y&&(B=N,Z1.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(eD)),j!==y&&(ge=B,j=wd()),B=j)),ce[_]={nextPos:N,result:B},B)}function Sv(){var B,j,_=N*34+28,H=ce[_];return H?(N=H.nextPos,H.result):(B=N,tD.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(nD)),j!==y&&(ge=B,j=wd()),B=j,ce[_]={nextPos:N,result:B},B)}function xv(){var B,j,_,H,G,te,ae,fe=N*34+29,Ke=ce[fe];if(Ke)return N=Ke.nextPos,Ke.result;if(B=N,j=la(),j!==y){if(_=[],H=N,G=Zo(),G!==y){for(te=[],ae=la();ae!==y;)te.push(ae),ae=la();te!==y?(G=[G,te],H=G):(N=H,H=y)}else N=H,H=y;for(;H!==y;)if(_.push(H),H=N,G=Zo(),G!==y){for(te=[],ae=la();ae!==y;)te.push(ae),ae=la();te!==y?(G=[G,te],H=G):(N=H,H=y)}else N=H,H=y;_!==y?(ge=B,j=wd(),B=j):(N=B,B=y)}else N=B,B=y;return ce[fe]={nextPos:N,result:B},B}function Zo(){var B,j,_=N*34+30,H=ce[_];if(H)return N=H.nextPos,H.result;if(B=[],rv.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(iv)),j!==y)for(;j!==y;)B.push(j),rv.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(iv));else B=y;return ce[_]={nextPos:N,result:B},B}function mD(){var B,j,_=N*34+31,H=ce[_];if(H)return N=H.nextPos,H.result;if(B=[],ov.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(sv)),j!==y)for(;j!==y;)B.push(j),ov.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(sv));else B=y;return ce[_]={nextPos:N,result:B},B}function la(){var B,j,_=N*34+32,H=ce[_];if(H)return N=H.nextPos,H.result;if(B=[],av.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(lv)),j!==y)for(;j!==y;)B.push(j),av.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(lv));else B=y;return ce[_]={nextPos:N,result:B},B}function Me(){var B,j,_=N*34+33,H=ce[_];if(H)return N=H.nextPos,H.result;for(se++,B=[],uv.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(cv));j!==y;)B.push(j),uv.test(E.charAt(N))?(j=E.charAt(N),N++):(j=y,se===0&&le(cv));return se--,B===y&&(j=y,se===0&&le(rD)),ce[_]={nextPos:N,result:B},B}function Tv(B,j,_){return _===void 0&&(_=!1),j.reduce(function(H,G){return new o.BinaryOperand(G[1],H,G[3],_)},B)}function yD(B){return[].concat.apply([],B)}if(vu=P(),vu!==y&&N===E.length)return vu;throw vu!==y&&N<E.length&&le(iD()),sD(Ad,Cr<E.length?E.charAt(Cr):null,Cr<E.length?dv(Cr,Cr+1):dv(Cr,Cr))}var C=c},"./src/expressions/expressions.ts":function(n,r,i){i.r(r),i.d(r,"Operand",function(){return E}),i.d(r,"BinaryOperand",function(){return O}),i.d(r,"UnaryOperand",function(){return y}),i.d(r,"ArrayOperand",function(){return b}),i.d(r,"Const",function(){return P}),i.d(r,"Variable",function(){return g}),i.d(r,"FunctionOperand",function(){return m}),i.d(r,"OperandMaker",function(){return v});var o=i("./src/helpers.ts"),a=i("./src/functionsfactory.ts"),s=i("./src/conditionProcessValue.ts"),c=i("./src/settings.ts"),C=function(){var f=function(l,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(h[u]=p[u])},f(l,d)};return function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(l,d);function h(){this.constructor=l}l.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),E=function(){function f(){}return f.prototype.toString=function(l){return""},f.prototype.hasFunction=function(){return!1},f.prototype.hasAsyncFunction=function(){return!1},f.prototype.addToAsyncList=function(l){},f.prototype.isEqual=function(l){return!!l&&l.getType()===this.getType()&&this.isContentEqual(l)},f.prototype.areOperatorsEquals=function(l,d){return!l&&!d||!!l&&l.isEqual(d)},f}(),O=function(f){C(l,f);function l(d,h,p,u){h===void 0&&(h=null),p===void 0&&(p=null),u===void 0&&(u=!1);var x=f.call(this)||this;return x.operatorName=d,x.left=h,x.right=p,x.isArithmeticValue=u,u?x.consumer=v.binaryFunctions.arithmeticOp(d):x.consumer=v.binaryFunctions[d],x.consumer==null&&v.throwInvalidOperatorError(d),x}return l.prototype.getType=function(){return"binary"},Object.defineProperty(l.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isConjunction",{get:function(){return this.operatorName=="or"||this.operatorName=="and"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),l.prototype.isContentEqual=function(d){var h=d;return h.operator===this.operator&&this.areOperatorsEquals(this.left,h.left)&&this.areOperatorsEquals(this.right,h.right)},l.prototype.evaluateParam=function(d,h){return d==null?null:d.evaluate(h)},l.prototype.evaluate=function(d){return this.consumer.call(this,this.evaluateParam(this.left,d),this.evaluateParam(this.right,d))},l.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}return"("+v.safeToString(this.left,d)+" "+v.operatorToString(this.operatorName)+" "+v.safeToString(this.right,d)+")"},l.prototype.setVariables=function(d){this.left!=null&&this.left.setVariables(d),this.right!=null&&this.right.setVariables(d)},l.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},l.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},l.prototype.addToAsyncList=function(d){this.left&&this.left.addToAsyncList(d),this.right&&this.right.addToAsyncList(d)},l}(E),y=function(f){C(l,f);function l(d,h){var p=f.call(this)||this;return p.expressionValue=d,p.operatorName=h,p.consumer=v.unaryFunctions[h],p.consumer==null&&v.throwInvalidOperatorError(h),p}return Object.defineProperty(l.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),l.prototype.getType=function(){return"unary"},l.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}return v.operatorToString(this.operatorName)+" "+this.expression.toString(d)},l.prototype.isContentEqual=function(d){var h=d;return h.operator==this.operator&&this.areOperatorsEquals(this.expression,h.expression)},l.prototype.evaluate=function(d){var h=this.expression.evaluate(d);return this.consumer.call(this,h)},l.prototype.setVariables=function(d){this.expression.setVariables(d)},l}(E),b=function(f){C(l,f);function l(d){var h=f.call(this)||this;return h.values=d,h}return l.prototype.getType=function(){return"array"},l.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}return"["+this.values.map(function(p){return p.toString(d)}).join(", ")+"]"},l.prototype.evaluate=function(d){return this.values.map(function(h){return h.evaluate(d)})},l.prototype.setVariables=function(d){this.values.forEach(function(h){h.setVariables(d)})},l.prototype.hasFunction=function(){return this.values.some(function(d){return d.hasFunction()})},l.prototype.hasAsyncFunction=function(){return this.values.some(function(d){return d.hasAsyncFunction()})},l.prototype.addToAsyncList=function(d){this.values.forEach(function(h){return h.addToAsyncList(d)})},l.prototype.isContentEqual=function(d){var h=d;if(h.values.length!==this.values.length)return!1;for(var p=0;p<this.values.length;p++)if(!h.values[p].isEqual(this.values[p]))return!1;return!0},l}(E),P=function(f){C(l,f);function l(d){var h=f.call(this)||this;return h.value=d,h}return l.prototype.getType=function(){return"const"},l.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}return this.value.toString()},Object.defineProperty(l.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),l.prototype.evaluate=function(){return this.getCorrectValue(this.value)},l.prototype.setVariables=function(d){},l.prototype.getCorrectValue=function(d){return!d||typeof d!="string"?d:this.isBooleanValue(d)?d.toLowerCase()==="true":d.length>1&&this.isQuote(d[0])&&this.isQuote(d[d.length-1])?d.substring(1,d.length-1):v.isNumeric(d)?d.indexOf("0x")==0?parseInt(d):d.length>1&&d[0]=="0"?d:parseFloat(d):d},l.prototype.isContentEqual=function(d){var h=d;return h.value==this.value},l.prototype.isQuote=function(d){return d=="'"||d=='"'},l.prototype.isBooleanValue=function(d){return d&&(d.toLowerCase()==="true"||d.toLowerCase()==="false")},l}(E),g=function(f){C(l,f);function l(d){var h=f.call(this,d)||this;return h.variableName=d,h.valueInfo={},h.useValueAsItIs=!1,h.variableName&&h.variableName.length>1&&h.variableName[0]===l.DisableConversionChar&&(h.variableName=h.variableName.substring(1),h.useValueAsItIs=!0),h}return Object.defineProperty(l,"DisableConversionChar",{get:function(){return c.settings.expressionDisableConversionChar},set:function(d){c.settings.expressionDisableConversionChar=d},enumerable:!1,configurable:!0}),l.prototype.getType=function(){return"variable"},l.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}var p=this.useValueAsItIs?l.DisableConversionChar:"";return"{"+p+this.variableName+"}"},Object.defineProperty(l.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),l.prototype.evaluate=function(d){return this.valueInfo.name=this.variableName,d.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},l.prototype.setVariables=function(d){d.push(this.variableName)},l.prototype.getCorrectValue=function(d){return this.useValueAsItIs?d:f.prototype.getCorrectValue.call(this,d)},l.prototype.isContentEqual=function(d){var h=d;return h.variable==this.variable},l}(P),m=function(f){C(l,f);function l(d,h){var p=f.call(this)||this;return p.originalValue=d,p.parameters=h,p.isReadyValue=!1,Array.isArray(h)&&h.length===0&&(p.parameters=new b([])),p}return l.prototype.getType=function(){return"function"},l.prototype.evaluateAsync=function(d){var h=this;this.isReadyValue=!1;var p=new s.ProcessValue;p.values=o.Helpers.createCopy(d.values),p.properties=o.Helpers.createCopy(d.properties),p.properties.returnResult=function(u){h.asynResult=u,h.isReadyValue=!0,h.onAsyncReady()},this.evaluateCore(p)},l.prototype.evaluate=function(d){return this.isReady?this.asynResult:this.evaluateCore(d)},l.prototype.evaluateCore=function(d){return a.FunctionFactory.Instance.run(this.originalValue,this.parameters.evaluate(d),d.properties)},l.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}return this.originalValue+"("+this.parameters.toString(d)+")"},l.prototype.setVariables=function(d){this.parameters.setVariables(d)},Object.defineProperty(l.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),l.prototype.hasFunction=function(){return!0},l.prototype.hasAsyncFunction=function(){return a.FunctionFactory.Instance.isAsyncFunction(this.originalValue)},l.prototype.addToAsyncList=function(d){this.hasAsyncFunction()&&d.push(this)},l.prototype.isContentEqual=function(d){var h=d;return h.originalValue==this.originalValue&&this.areOperatorsEquals(h.parameters,this.parameters)},l}(E),v=function(){function f(){}return f.throwInvalidOperatorError=function(l){throw new Error("Invalid operator: '"+l+"'")},f.safeToString=function(l,d){return l==null?"":l.toString(d)},f.toOperandString=function(l){return l&&!f.isNumeric(l)&&!f.isBooleanValue(l)&&(l="'"+l+"'"),l},f.isSpaceString=function(l){return!!l&&!l.replace(" ","")},f.isNumeric=function(l){return l&&(l.indexOf("-")>-1||l.indexOf("+")>1||l.indexOf("*")>-1||l.indexOf("^")>-1||l.indexOf("/")>-1||l.indexOf("%")>-1)||f.isSpaceString(l)?!1:o.Helpers.isNumber(l)},f.isBooleanValue=function(l){return!!l&&(l.toLowerCase()==="true"||l.toLowerCase()==="false")},f.countDecimals=function(l){if(o.Helpers.isNumber(l)&&Math.floor(l)!==l){var d=l.toString().split(".");return d.length>1&&d[1].length||0}return 0},f.plusMinus=function(l,d,h){var p=f.countDecimals(l),u=f.countDecimals(d);if(p>0||u>0){var x=Math.max(p,u);h=parseFloat(h.toFixed(x))}return h},f.isTwoValueEquals=function(l,d){return l==="undefined"&&(l=void 0),d==="undefined"&&(d=void 0),o.Helpers.isTwoValueEquals(l,d,!0)},f.operatorToString=function(l){var d=f.signs[l];return d??l},f.convertValForDateCompare=function(l,d){if(d instanceof Date&&typeof l=="string"){var h=new Date(l);return h.setHours(0,0,0),h}return l},f.unaryFunctions={empty:function(l){return o.Helpers.isValueEmpty(l)},notempty:function(l){return!f.unaryFunctions.empty(l)},negate:function(l){return!l}},f.binaryFunctions={arithmeticOp:function(l){var d=function(h,p){return o.Helpers.isValueEmpty(h)?typeof p=="number"?0:typeof h=="string"?h:typeof p=="string"?"":Array.isArray(p)?[]:0:h};return function(h,p){h=d(h,p),p=d(p,h);var u=f.binaryFunctions[l];return u==null?null:u.call(this,h,p)}},and:function(l,d){return l&&d},or:function(l,d){return l||d},plus:function(l,d){return o.Helpers.sumAnyValues(l,d)},minus:function(l,d){return o.Helpers.correctAfterPlusMinis(l,d,l-d)},mul:function(l,d){return o.Helpers.correctAfterMultiple(l,d,l*d)},div:function(l,d){return d?l/d:null},mod:function(l,d){return d?l%d:null},power:function(l,d){return Math.pow(l,d)},greater:function(l,d){return l==null||d==null?!1:(l=f.convertValForDateCompare(l,d),d=f.convertValForDateCompare(d,l),l>d)},less:function(l,d){return l==null||d==null?!1:(l=f.convertValForDateCompare(l,d),d=f.convertValForDateCompare(d,l),l<d)},greaterorequal:function(l,d){return f.binaryFunctions.equal(l,d)?!0:f.binaryFunctions.greater(l,d)},lessorequal:function(l,d){return f.binaryFunctions.equal(l,d)?!0:f.binaryFunctions.less(l,d)},equal:function(l,d){return l=f.convertValForDateCompare(l,d),d=f.convertValForDateCompare(d,l),f.isTwoValueEquals(l,d)},notequal:function(l,d){return!f.binaryFunctions.equal(l,d)},contains:function(l,d){return f.binaryFunctions.containsCore(l,d,!0)},notcontains:function(l,d){return!l&&!o.Helpers.isValueEmpty(d)?!0:f.binaryFunctions.containsCore(l,d,!1)},anyof:function(l,d){if(o.Helpers.isValueEmpty(l)&&o.Helpers.isValueEmpty(d))return!0;if(o.Helpers.isValueEmpty(l)||!Array.isArray(l)&&l.length===0)return!1;if(o.Helpers.isValueEmpty(d))return!0;if(!Array.isArray(l))return f.binaryFunctions.contains(d,l);if(!Array.isArray(d))return f.binaryFunctions.contains(l,d);for(var h=0;h<d.length;h++)if(f.binaryFunctions.contains(l,d[h]))return!0;return!1},allof:function(l,d){if(!l&&!o.Helpers.isValueEmpty(d))return!1;if(!Array.isArray(d))return f.binaryFunctions.contains(l,d);for(var h=0;h<d.length;h++)if(!f.binaryFunctions.contains(l,d[h]))return!1;return!0},containsCore:function(l,d,h){if(!l&&l!==0&&l!==!1)return!1;if(l.length||(l=l.toString(),(typeof d=="string"||d instanceof String)&&(l=l.toUpperCase(),d=d.toUpperCase())),typeof l=="string"||l instanceof String){if(!d)return!1;d=d.toString();var p=l.indexOf(d)>-1;return h?p:!p}for(var u=Array.isArray(d)?d:[d],x=0;x<u.length;x++){var V=0;for(d=u[x];V<l.length&&!f.isTwoValueEquals(l[V],d);V++);if(V==l.length)return!h}return h}},f.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},f}()},"./src/flowpanel.ts":function(n,r,i){i.r(r),i.d(r,"FlowPanelModel",function(){return c});var o=i("./src/jsonobject.ts"),a=i("./src/panel.ts"),s=function(){var C=function(E,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(y[P]=b[P])},C(E,O)};return function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");C(E,O);function y(){this.constructor=E}E.prototype=O===null?Object.create(O):(y.prototype=O.prototype,new y)}}(),c=function(C){s(E,C);function E(O){O===void 0&&(O="");var y=C.call(this,O)||this;return y.createLocalizableString("content",y,!0),y.registerPropertyChangedHandlers(["content"],function(){y.onContentChanged()}),y}return E.prototype.getType=function(){return"flowpanel"},E.prototype.getChildrenLayoutType=function(){return"flow"},E.prototype.onSurveyLoad=function(){C.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(E.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(O){this.setLocalizableStringText("content",O)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(O){this.setPropertyValue("html",O)},enumerable:!1,configurable:!0}),E.prototype.onContentChanged=function(){var O="";this.onCustomHtmlProducing?O=this.onCustomHtmlProducing():O=this.produceHtml(),this.html=O,this.contentChangedCallback&&this.contentChangedCallback()},E.prototype.produceHtml=function(){for(var O=[],y=/{(.*?(element:)[^$].*?)}/g,b=this.content,P=0,g=null;(g=y.exec(b))!==null;){g.index>P&&(O.push(b.substring(P,g.index)),P=g.index);var m=this.getQuestionFromText(g[0]);m?O.push(this.getHtmlForQuestion(m)):O.push(b.substring(P,g.index+g[0].length)),P=g.index+g[0].length}return P<b.length&&O.push(b.substring(P,b.length)),O.join("").replace(new RegExp("<br>","g"),"<br/>")},E.prototype.getQuestionFromText=function(O){return O=O.substring(1,O.length-1),O=O.replace(E.contentElementNamePrefix,"").trim(),this.getQuestionByName(O)},E.prototype.getHtmlForQuestion=function(O){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(O):""},E.prototype.getQuestionHtmlId=function(O){return this.name+"_"+O.id},E.prototype.onAddElement=function(O,y){C.prototype.onAddElement.call(this,O,y),this.addElementToContent(O),O.renderWidth=""},E.prototype.onRemoveElement=function(O){var y=this.getElementContentText(O);this.content=this.content.replace(y,""),C.prototype.onRemoveElement.call(this,O)},E.prototype.dragDropMoveElement=function(O,y,b){},E.prototype.addElementToContent=function(O){if(!this.isLoadingFromJson){var y=this.getElementContentText(O);this.insertTextAtCursor(y)||(this.content=this.content+y)}},E.prototype.insertTextAtCursor=function(O,y){if(y===void 0&&(y=null),!this.isDesignMode||typeof document>"u"||!window.getSelection)return!1;var b=window.getSelection();if(b.getRangeAt&&b.rangeCount){var P=b.getRangeAt(0);P.deleteContents(),P.insertNode(document.createTextNode(O));var g=this;if(g.getContent){var m=g.getContent(y);this.content=m}return!0}return!1},E.prototype.getElementContentText=function(O){return"{"+E.contentElementNamePrefix+O.name+"}"},E.contentElementNamePrefix="element:",E}(a.PanelModel);o.Serializer.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new c},"panel")},"./src/functionsfactory.ts":function(n,r,i){i.r(r),i.d(r,"FunctionFactory",function(){return s}),i.d(r,"registerFunction",function(){return c});var o=i("./src/helpers.ts"),a=i("./src/settings.ts"),s=function(){function W(){this.functionHash={},this.isAsyncHash={}}return W.prototype.register=function(U,Q,$){$===void 0&&($=!1),this.functionHash[U]=Q,$&&(this.isAsyncHash[U]=!0)},W.prototype.unregister=function(U){delete this.functionHash[U],delete this.isAsyncHash[U]},W.prototype.hasFunction=function(U){return!!this.functionHash[U]},W.prototype.isAsyncFunction=function(U){return!!this.isAsyncHash[U]},W.prototype.clear=function(){this.functionHash={}},W.prototype.getAll=function(){var U=[];for(var Q in this.functionHash)U.push(Q);return U.sort()},W.prototype.run=function(U,Q,$){$===void 0&&($=null);var z=this.functionHash[U];if(!z)return null;var q={func:z};if($)for(var K in $)q[K]=$[K];return q.func(Q)},W.Instance=new W,W}(),c=s.Instance.register;function C(W,U){if(W!=null)if(Array.isArray(W))for(var Q=0;Q<W.length;Q++)C(W[Q],U);else o.Helpers.isNumber(W)&&(W=o.Helpers.getNumber(W)),U.push(W)}function E(W){var U=[];C(W,U);for(var Q=0,$=0;$<U.length;$++)Q=o.Helpers.correctAfterPlusMinis(Q,U[$],Q+U[$]);return Q}s.Instance.register("sum",E);function O(W,U){var Q=[];C(W,Q);for(var $=void 0,z=0;z<Q.length;z++)$===void 0&&($=Q[z]),U?$>Q[z]&&($=Q[z]):$<Q[z]&&($=Q[z]);return $}function y(W){return O(W,!0)}s.Instance.register("min",y);function b(W){return O(W,!1)}s.Instance.register("max",b);function P(W){var U=[];return C(W,U),U.length}s.Instance.register("count",P);function g(W){var U=[];C(W,U);var Q=E(W);return U.length>0?Q/U.length:0}s.Instance.register("avg",g);function m(W){if(W.length!=2)return null;var U=W[0];if(!U||!Array.isArray(U)&&!Array.isArray(Object.keys(U)))return null;var Q=W[1];return typeof Q!="string"&&!(Q instanceof String)?null:{data:U,name:Q}}function v(W){return typeof W=="string"?o.Helpers.isNumber(W)?o.Helpers.getNumber(W):void 0:W}function f(W,U,Q,$,z){if(!W||o.Helpers.isValueEmpty(W[U]))return Q;var q=z?v(W[U]):1;return $(Q,q)}function l(W,U,Q){Q===void 0&&(Q=!0);var $=m(W);if($){var z=void 0;if(Array.isArray($.data))for(var q=0;q<$.data.length;q++)z=f($.data[q],$.name,z,U,Q);else for(var K in $.data)z=f($.data[K],$.name,z,U,Q);return z}}function d(W){var U=l(W,function(Q,$){return Q==null&&(Q=0),$==null||$==null?Q:o.Helpers.correctAfterPlusMinis(Q,$,Q+$)});return U!==void 0?U:0}s.Instance.register("sumInArray",d);function h(W){return l(W,function(U,Q){return U==null?Q:Q==null||Q==null||U<Q?U:Q})}s.Instance.register("minInArray",h);function p(W){return l(W,function(U,Q){return U==null?Q:Q==null||Q==null||U>Q?U:Q})}s.Instance.register("maxInArray",p);function u(W){var U=l(W,function(Q,$){return Q==null&&(Q=0),$==null||$==null?Q:Q+1},!1);return U!==void 0?U:0}s.Instance.register("countInArray",u);function x(W){var U=u(W);return U==0?0:d(W)/U}s.Instance.register("avgInArray",x);function V(W){return!W&&W.length!==3?"":W[0]?W[1]:W[2]}s.Instance.register("iif",V);function A(W){return!W&&W.length<1||!W[0]?null:new Date(W[0])}s.Instance.register("getDate",A);function M(W){if(!W&&W.length<1||!W[0])return null;var U=new Date(W[0]),Q=new Date,$=Q.getFullYear()-U.getFullYear(),z=Q.getMonth()-U.getMonth();return(z<0||z===0&&Q.getDate()<U.getDate())&&($-=$>0?1:0),$}s.Instance.register("age",M);function T(W){if(!W)return!1;for(var U=W.questions,Q=0;Q<U.length;Q++)if(!U[Q].validate(!1))return!1;return!0}function D(W){if(!W&&W.length<1||!W[0]||!this.survey)return!1;var U=W[0],Q=this.survey.getPageByName(U);if(Q||(Q=this.survey.getPanelByName(U)),!Q){var $=this.survey.getQuestionByName(U);if(!$||!Array.isArray($.panels))return!1;if(W.length>1)W[1]<$.panels.length&&(Q=$.panels[W[1]]);else{for(var z=0;z<$.panels.length;z++)if(!T($.panels[z]))return!1;return!0}}return T(Q)}s.Instance.register("isContainerReady",D);function R(){return this.survey&&this.survey.isDisplayMode}s.Instance.register("isDisplayMode",R);function S(){return new Date}s.Instance.register("currentDate",S);function I(W){var U=new Date;return a.settings.localization.useLocalTimeZone?U.setHours(0,0,0,0):U.setUTCHours(0,0,0,0),Array.isArray(W)&&W.length==1&&U.setDate(U.getDate()+W[0]),U}s.Instance.register("today",I);function w(W){if(!(W.length!==1||!W[0]))return new Date(W[0]).getFullYear()}s.Instance.register("getYear",w);function L(){return new Date().getFullYear()}s.Instance.register("currentYear",L);function F(W){if(!Array.isArray(W)||W.length!==2||!W[0]||!W[1])return 0;var U=new Date(W[0]),Q=new Date(W[1]),$=Math.abs(Q-U);return Math.ceil($/(1e3*60*60*24))}s.Instance.register("diffDays",F)},"./src/helpers.ts":function(n,r,i){i.r(r),i.d(r,"Helpers",function(){return a});var o=i("./src/settings.ts"),a=function(){function s(){}return s.isValueEmpty=function(c){if(Array.isArray(c)&&c.length===0)return!0;if(c&&typeof c=="object"&&c.constructor===Object){for(var C in c)if(!s.isValueEmpty(c[C]))return!1;return!0}return!c&&c!==0&&c!==!1},s.isArrayContainsEqual=function(c,C){if(!Array.isArray(c)||!Array.isArray(C)||c.length!==C.length)return!1;for(var E=0;E<c.length;E++){for(var O=0;O<C.length&&!s.isTwoValueEquals(c[E],C[O]);O++);if(O===C.length)return!1}return!0},s.isArraysEqual=function(c,C,E,O,y){if(E===void 0&&(E=!1),!Array.isArray(c)||!Array.isArray(C)||c.length!==C.length)return!1;if(E){for(var b=[],P=[],g=0;g<c.length;g++)b.push(c[g]),P.push(C[g]);b.sort(),P.sort(),c=b,C=P}for(var g=0;g<c.length;g++)if(!s.isTwoValueEquals(c[g],C[g],E,O,y))return!1;return!0},s.compareStrings=function(c,C){if(c&&(c=c.trim()),C&&(C=C.trim()),!c&&!C)return 0;if(!c)return-1;if(!C)return 1;if(c===C)return 0;for(var E=-1,O=0;O<c.length&&O<C.length;O++){if(this.isCharDigit(c[O])&&this.isCharDigit(C[O])){E=O;break}if(c[O]!==C[O])break}if(E>-1){var y=this.getNumberFromStr(c,E),b=this.getNumberFromStr(C,E);if(!Number.isNaN(y)&&!Number.isNaN(b)&&y!==b)return y>b?1:-1}return c>C?1:-1},s.isTwoValueEquals=function(c,C,E,O,y){if(E===void 0&&(E=!1),c===C||Array.isArray(c)&&c.length===0&&typeof C>"u"||Array.isArray(C)&&C.length===0&&typeof c>"u"||c==null&&C===""||C==null&&c==="")return!0;if(y===void 0&&(y=o.settings.comparator.trimStrings),O===void 0&&(O=o.settings.comparator.caseSensitive),typeof c=="string"&&typeof C=="string")return y&&(c=c.trim(),C=C.trim()),O||(c=c.toLowerCase(),C=C.toLowerCase()),c===C;if(c instanceof Date&&C instanceof Date)return c.getTime()==C.getTime();if(s.isConvertibleToNumber(c)&&s.isConvertibleToNumber(C)&&parseInt(c)===parseInt(C)&&parseFloat(c)===parseFloat(C))return!0;if(!s.isValueEmpty(c)&&s.isValueEmpty(C)||s.isValueEmpty(c)&&!s.isValueEmpty(C))return!1;if((c===!0||c===!1)&&typeof C=="string")return c.toString()===C.toLocaleLowerCase();if((C===!0||C===!1)&&typeof c=="string")return C.toString()===c.toLocaleLowerCase();if(!(c instanceof Object)&&!(C instanceof Object))return c==C;if(!(c instanceof Object)||!(C instanceof Object))return!1;if(c.equals)return c.equals(C);if(c.toJSON&&C.toJSON&&c.getType&&C.getType)return c.isDiposed||C.isDiposed||c.getType()!==C.getType()||c.name&&c.name!==C.name?!1:this.isTwoValueEquals(c.toJSON(),C.toJSON(),E,O,y);if(Array.isArray(c)&&Array.isArray(C))return s.isArraysEqual(c,C,E,O,y);if(c.equalsTo&&C.equalsTo)return c.equalsTo(C);for(var b in c)if(c.hasOwnProperty(b)&&(!C.hasOwnProperty(b)||!this.isTwoValueEquals(c[b],C[b],E,O,y)))return!1;for(b in C)if(C.hasOwnProperty(b)&&!c.hasOwnProperty(b))return!1;return!0},s.randomizeArray=function(c){for(var C=c.length-1;C>0;C--){var E=Math.floor(Math.random()*(C+1)),O=c[C];c[C]=c[E],c[E]=O}return c},s.getUnbindValue=function(c){if(Array.isArray(c)){for(var C=[],E=0;E<c.length;E++)C.push(s.getUnbindValue(c[E]));return C}return c&&c instanceof Object&&!(c instanceof Date)?JSON.parse(JSON.stringify(c)):c},s.createCopy=function(c){var C={};if(!c)return C;for(var E in c)C[E]=c[E];return C},s.isConvertibleToNumber=function(c){return c!=null&&!Array.isArray(c)&&!isNaN(c)},s.isNumber=function(c){return!isNaN(this.getNumber(c))},s.getNumber=function(c){if(typeof c=="string"&&c&&c.indexOf("0x")==0&&c.length>32)return NaN;c=this.prepareStringToNumber(c);var C=parseFloat(c);return isNaN(C)||!isFinite(c)?NaN:C},s.prepareStringToNumber=function(c){if(typeof c!="string"||!c)return c;var C=c.indexOf(",");return C>-1&&c.indexOf(",",C+1)<0?c.replace(",","."):c},s.getMaxLength=function(c,C){return c<0&&(c=C),c>0?c:null},s.getRemainingCharacterCounterText=function(c,C){if(!C||C<=0||!o.settings.showMaxLengthIndicator)return"";var E=c?c.length:"0";return[E,C].join("/")},s.getNumberByIndex=function(c,C){if(c<0)return"";var E=1,O="",y=".",b=!0,P="A",g="";if(C){g=C;for(var m=g.length-1,v=!1,f=0;f<g.length;f++)if(s.isCharDigit(g[f])){v=!0;break}for(var l=function(){return v&&!s.isCharDigit(g[m])||s.isCharNotLetterAndDigit(g[m])};m>=0&&l();)m--;var d="";for(m<g.length-1&&(d=g.substring(m+1),g=g.substring(0,m+1)),m=g.length-1;m>=0&&!(l()||(m--,!v)););P=g.substring(m+1),O=g.substring(0,m+1),parseInt(P)?E=parseInt(P):P.length==1&&(b=!1),(d||O)&&(y=d)}if(b){for(var h=(c+E).toString();h.length<P.length;)h="0"+h;return O+h+y}return O+String.fromCharCode(P.charCodeAt(0)+c)+y},s.isCharNotLetterAndDigit=function(c){return c.toUpperCase()==c.toLowerCase()&&!s.isCharDigit(c)},s.isCharDigit=function(c){return c>="0"&&c<="9"},s.getNumberFromStr=function(c,C){if(!this.isCharDigit(c[C]))return NaN;for(var E="";C<c.length&&this.isCharDigit(c[C]);)E+=c[C],C++;return E?this.getNumber(E):NaN},s.countDecimals=function(c){if(s.isNumber(c)&&Math.floor(c)!==c){var C=c.toString().split(".");return C.length>1&&C[1].length||0}return 0},s.correctAfterPlusMinis=function(c,C,E){var O=s.countDecimals(c),y=s.countDecimals(C);if(O>0||y>0){var b=Math.max(O,y);E=parseFloat(E.toFixed(b))}return E},s.sumAnyValues=function(c,C){if(!s.isNumber(c)||!s.isNumber(C)){if(Array.isArray(c)&&Array.isArray(C))return[].concat(c).concat(C);if(Array.isArray(c)||Array.isArray(C)){var E=Array.isArray(c)?c:C,O=E===c?C:c;if(typeof O=="string"){var y=E.join(", ");return E===c?y+O:O+y}if(typeof O=="number"){for(var b=0,P=0;P<E.length;P++)typeof E[P]=="number"&&(b=s.correctAfterPlusMinis(b,E[P],b+E[P]));return s.correctAfterPlusMinis(b,O,b+O)}}return c+C}return s.correctAfterPlusMinis(c,C,c+C)},s.correctAfterMultiple=function(c,C,E){var O=s.countDecimals(c)+s.countDecimals(C);return O>0&&(E=parseFloat(E.toFixed(O))),E},s.convertArrayValueToObject=function(c,C,E){E===void 0&&(E=void 0);var O=new Array;if(!c||!Array.isArray(c))return O;for(var y=0;y<c.length;y++){var b=void 0;Array.isArray(E)&&(b=s.findObjByPropValue(E,C,c[y])),b||(b={},b[C]=c[y]),O.push(b)}return O},s.findObjByPropValue=function(c,C,E){for(var O=0;O<c.length;O++)if(s.isTwoValueEquals(c[O][C],E))return c[O]},s.convertArrayObjectToValue=function(c,C){var E=new Array;if(!c||!Array.isArray(c))return E;for(var O=0;O<c.length;O++){var y=c[O]?c[O][C]:void 0;s.isValueEmpty(y)||E.push(y)}return E},s.convertDateToString=function(c){var C=function(E){return E<10?"0"+E.toString():E.toString()};return c.getFullYear()+"-"+C(c.getMonth()+1)+"-"+C(c.getDate())},s.convertDateTimeToString=function(c){var C=function(E){return E<10?"0"+E.toString():E.toString()};return this.convertDateToString(c)+" "+C(c.getHours())+":"+C(c.getMinutes())},s.convertValToQuestionVal=function(c,C){return c instanceof Date?C==="datetime-local"?s.convertDateTimeToString(c):s.convertDateToString(c):c},s}();String.prototype.format||(String.prototype.format=function(){var s=arguments;return this.replace(/{(\d+)}/g,function(c,C){return typeof s[C]<"u"?s[C]:c})})},"./src/images sync \\.svg$":function(n,r,i){var o={"./ArrowDown_34x34.svg":"./src/images/ArrowDown_34x34.svg","./ArrowLeft.svg":"./src/images/ArrowLeft.svg","./ArrowRight.svg":"./src/images/ArrowRight.svg","./Arrow_downGREY_10x10.svg":"./src/images/Arrow_downGREY_10x10.svg","./ChooseFile.svg":"./src/images/ChooseFile.svg","./Clear.svg":"./src/images/Clear.svg","./DefaultFile.svg":"./src/images/DefaultFile.svg","./Delete.svg":"./src/images/Delete.svg","./Down_34x34.svg":"./src/images/Down_34x34.svg","./Left.svg":"./src/images/Left.svg","./ModernBooleanCheckChecked.svg":"./src/images/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./src/images/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./src/images/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./src/images/ModernCheck.svg","./ModernRadio.svg":"./src/images/ModernRadio.svg","./More.svg":"./src/images/More.svg","./NavMenu_24x24.svg":"./src/images/NavMenu_24x24.svg","./ProgressButton.svg":"./src/images/ProgressButton.svg","./ProgressButtonV2.svg":"./src/images/ProgressButtonV2.svg","./RemoveFile.svg":"./src/images/RemoveFile.svg","./Right.svg":"./src/images/Right.svg","./SearchClear.svg":"./src/images/SearchClear.svg","./TimerCircle.svg":"./src/images/TimerCircle.svg","./V2Check.svg":"./src/images/V2Check.svg","./V2Check_24x24.svg":"./src/images/V2Check_24x24.svg","./V2DragElement_16x16.svg":"./src/images/V2DragElement_16x16.svg","./chevron.svg":"./src/images/chevron.svg","./clear_16x16.svg":"./src/images/clear_16x16.svg","./collapseDetail.svg":"./src/images/collapseDetail.svg","./expandDetail.svg":"./src/images/expandDetail.svg","./no-image.svg":"./src/images/no-image.svg","./rating-star-2.svg":"./src/images/rating-star-2.svg","./rating-star-small-2.svg":"./src/images/rating-star-small-2.svg","./rating-star-small.svg":"./src/images/rating-star-small.svg","./rating-star.svg":"./src/images/rating-star.svg","./search.svg":"./src/images/search.svg"};function a(c){var C=s(c);return i(C)}function s(c){if(!i.o(o,c)){var C=new Error("Cannot find module '"+c+"'");throw C.code="MODULE_NOT_FOUND",C}return o[c]}a.keys=function(){return Object.keys(o)},a.resolve=s,n.exports=a,a.id="./src/images sync \\.svg$"},"./src/images/ArrowDown_34x34.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><polygon class="st0" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></svg>'},"./src/images/ArrowLeft.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/ArrowRight.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./src/images/Arrow_downGREY_10x10.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" xml:space="preserve"><polygon class="st0" points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ChooseFile.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./src/images/Clear.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.4 14.6C0.600003 15.4 0.600003 16.6 1.4 17.4L6 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.8L2.8 16L6.2 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.6 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./src/images/DefaultFile.svg":function(n,r){n.exports='<svg viewBox="0 0 56 68" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_9011_41219)"><path d="M54.83 10.83L45.17 1.17C44.7982 0.798664 44.357 0.504208 43.8714 0.303455C43.3858 0.102703 42.8654 -0.000411943 42.34 1.2368e-06H6C4.4087 1.2368e-06 2.88257 0.632142 1.75735 1.75736C0.632136 2.88258 0 4.4087 0 6V62C0 63.5913 0.632136 65.1174 1.75735 66.2426C2.88257 67.3679 4.4087 68 6 68H50C51.5913 68 53.1174 67.3679 54.2426 66.2426C55.3679 65.1174 56 63.5913 56 62V13.66C56.0004 13.1346 55.8973 12.6142 55.6965 12.1286C55.4958 11.643 55.2013 11.2018 54.83 10.83ZM44 2.83L53.17 12H48C46.9391 12 45.9217 11.5786 45.1716 10.8284C44.4214 10.0783 44 9.06087 44 8V2.83ZM54 62C54 63.0609 53.5786 64.0783 52.8284 64.8284C52.0783 65.5786 51.0609 66 50 66H6C4.93913 66 3.92172 65.5786 3.17157 64.8284C2.42142 64.0783 2 63.0609 2 62V6C2 4.93914 2.42142 3.92172 3.17157 3.17157C3.92172 2.42143 4.93913 2 6 2H42V8C42 9.5913 42.6321 11.1174 43.7574 12.2426C44.8826 13.3679 46.4087 14 48 14H54V62ZM14 24H42V26H14V24ZM14 30H42V32H14V30ZM14 36H42V38H14V36ZM14 42H42V44H14V42Z" fill="#909090"></path></g><defs><clipPath id="clip0_9011_41219"><rect width="56" height="68" fill="white"></rect></clipPath></defs></svg>'},"./src/images/Delete.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./src/images/Down_34x34.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><g><path class="st0" d="M33,34H0V0h33c0.6,0,1,0.4,1,1v32C34,33.6,33.6,34,33,34z"></path><polygon class="st1" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></g></svg>'},"./src/images/Left.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="11,12 9,14 3,8 9,2 11,4 7,8 "></polygon></svg>'},"./src/images/ModernBooleanCheckChecked.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./src/images/ModernBooleanCheckInd.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./src/images/ModernBooleanCheckUnchecked.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./src/images/ModernCheck.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./src/images/ModernRadio.svg":function(n,r){n.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./src/images/More.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./src/images/NavMenu_24x24.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z" fill="black" fill-opacity="0.45"></path></svg>'},"./src/images/ProgressButton.svg":function(n,r){n.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ProgressButtonV2.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/RemoveFile.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./src/images/Right.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="5,4 7,2 13,8 7,14 5,12 9,8 "></polygon></svg>'},"./src/images/SearchClear.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/TimerCircle.svg":function(n,r){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./src/images/V2Check.svg":function(n,r){n.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.00001 15.8L2.60001 10.4L4.00001 9L8.00001 13L16 5L17.4 6.4L8.00001 15.8Z"></path></svg>'},"./src/images/V2Check_24x24.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>'},"./src/images/V2DragElement_16x16.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H13C13.2652 3 13.5196 3.10536 13.7071 3.29289C13.8946 3.48043 14 3.73478 14 4C14 4.26522 13.8946 4.51957 13.7071 4.70711C13.5196 4.89464 13.2652 5 13 5H3C2.73478 5 2.48043 4.89464 2.29289 4.70711C2.10536 4.51957 2 4.26522 2 4ZM13 7H3C2.73478 7 2.48043 7.10536 2.29289 7.29289C2.10536 7.48043 2 7.73478 2 8C2 8.26522 2.10536 8.51957 2.29289 8.70711C2.48043 8.89464 2.73478 9 3 9H13C13.2652 9 13.5196 8.89464 13.7071 8.70711C13.8946 8.51957 14 8.26522 14 8C14 7.73478 13.8946 7.48043 13.7071 7.29289C13.5196 7.10536 13.2652 7 13 7ZM13 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H13C13.2652 13 13.5196 12.8946 13.7071 12.7071C13.8946 12.5196 14 12.2652 14 12C14 11.7348 13.8946 11.4804 13.7071 11.2929C13.5196 11.1054 13.2652 11 13 11Z"></path></svg>'},"./src/images/chevron.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>'},"./src/images/clear_16x16.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/collapseDetail.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./src/images/expandDetail.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./src/images/no-image.svg":function(n,r){n.exports='<svg viewBox="0 0 48 48"><g opacity="0.5"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></g></svg>'},"./src/images/rating-star-2.svg":function(n,r){n.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.4663 34.6154L24 34.3695L23.5336 34.6154L14.4788 39.389L16.2156 29.2691L16.3044 28.7517L15.9289 28.3848L8.57358 21.1966L18.7249 19.7094L19.245 19.6332L19.4772 19.1616L24 9.97413L28.5228 19.1616L28.755 19.6332L29.275 19.7094L39.4264 21.1966L32.0711 28.3848L31.6956 28.7517L31.7844 29.2691L33.5211 39.389L24.4663 34.6154Z" stroke-width="2"></path></g></svg>'},"./src/images/rating-star-small-2.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./src/images/rating-star-small.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" stroke-width="2"></path></g></svg>'},"./src/images/rating-star.svg":function(n,r){n.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" stroke-width="2"></path></g></svg>'},"./src/images/search.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./src/images/smiley sync \\.svg$":function(n,r,i){var o={"./average.svg":"./src/images/smiley/average.svg","./excellent.svg":"./src/images/smiley/excellent.svg","./good.svg":"./src/images/smiley/good.svg","./normal.svg":"./src/images/smiley/normal.svg","./not-good.svg":"./src/images/smiley/not-good.svg","./perfect.svg":"./src/images/smiley/perfect.svg","./poor.svg":"./src/images/smiley/poor.svg","./terrible.svg":"./src/images/smiley/terrible.svg","./very-good.svg":"./src/images/smiley/very-good.svg","./very-poor.svg":"./src/images/smiley/very-poor.svg"};function a(c){var C=s(c);return i(C)}function s(c){if(!i.o(o,c)){var C=new Error("Cannot find module '"+c+"'");throw C.code="MODULE_NOT_FOUND",C}return o[c]}a.keys=function(){return Object.keys(o)},a.resolve=s,n.exports=a,a.id="./src/images/smiley sync \\.svg$"},"./src/images/smiley/average.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./src/images/smiley/excellent.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'},"./src/images/smiley/good.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./src/images/smiley/normal.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./src/images/smiley/not-good.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./src/images/smiley/perfect.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./src/images/smiley/poor.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./src/images/smiley/terrible.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./src/images/smiley/very-good.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./src/images/smiley/very-poor.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.50999C4.47291 4.50999 4.08291 4.24999 3.94291 3.83999C3.76291 3.31999 4.03291 2.74999 4.55291 2.56999L8.32291 1.24999C8.84291 1.05999 9.41291 1.33999 9.59291 1.85999C9.77291 2.37999 9.50291 2.94999 8.98291 3.12999L5.20291 4.44999C5.09291 4.48999 4.98291 4.50999 4.87291 4.50999H4.88291ZM19.8129 3.88999C20.0229 3.37999 19.7729 2.78999 19.2629 2.58999L15.5529 1.06999C15.0429 0.859992 14.4529 1.10999 14.2529 1.61999C14.0429 2.12999 14.2929 2.71999 14.8029 2.91999L18.5029 4.42999C18.6229 4.47999 18.7529 4.49999 18.8829 4.49999C19.2729 4.49999 19.6529 4.26999 19.8129 3.87999V3.88999ZM3.50291 5.99999C2.64291 6.36999 1.79291 6.87999 1.00291 7.47999C0.79291 7.63999 0.64291 7.86999 0.59291 8.13999C0.48291 8.72999 0.87291 9.28999 1.45291 9.39999C2.04291 9.50999 2.60291 9.11999 2.71291 8.53999C2.87291 7.68999 3.12291 6.82999 3.50291 5.98999V5.99999ZM21.0429 8.54999C21.6029 10.48 24.2429 8.83999 22.7529 7.47999C21.9629 6.87999 21.1129 6.36999 20.2529 5.99999C20.6329 6.83999 20.8829 7.69999 21.0429 8.54999ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 9.99999 11.8829 9.99999C7.47291 9.99999 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./src/itemvalue.ts":function(n,r,i){i.r(r),i.d(r,"ItemValue",function(){return g});var o=i("./src/localizablestring.ts"),a=i("./src/jsonobject.ts"),s=i("./src/helpers.ts"),c=i("./src/conditions.ts"),C=i("./src/base.ts"),E=i("./src/settings.ts"),O=i("./src/actions/action.ts"),y=i("./src/question.ts"),b=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),P=function(m,v,f,l){var d=arguments.length,h=d<3?v:l===null?l=Object.getOwnPropertyDescriptor(v,f):l,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(m,v,f,l);else for(var u=m.length-1;u>=0;u--)(p=m[u])&&(h=(d<3?p(h):d>3?p(v,f,h):p(v,f))||h);return d>3&&h&&Object.defineProperty(v,f,h),h},g=function(m){b(v,m);function v(f,l,d){l===void 0&&(l=null),d===void 0&&(d="itemvalue");var h=m.call(this)||this;return h.typeName=d,h.ownerPropertyName="",h.locTextValue=new o.LocalizableString(h,!0,"text"),h.locTextValue.onStrChanged=function(p,u){u==h.value&&(u=void 0),h.propertyValueChanged("text",p,u)},h.locTextValue.onGetTextCallback=function(p){return p||(s.Helpers.isValueEmpty(h.value)?null:h.value.toString())},l&&(h.locText.text=l),f&&typeof f=="object"?h.setData(f):h.value=f,h.getType()!="itemvalue"&&a.CustomPropertiesCollection.createProperties(h),h.data=h,h.onCreating(),h}return v.prototype.getMarkdownHtml=function(f,l){return this.locOwner?this.locOwner.getMarkdownHtml(f,l):void 0},v.prototype.getRenderer=function(f){return this.locOwner?this.locOwner.getRenderer(f):null},v.prototype.getRendererContext=function(f){return this.locOwner?this.locOwner.getRendererContext(f):f},v.prototype.getProcessedText=function(f){return this.locOwner?this.locOwner.getProcessedText(f):f},Object.defineProperty(v,"Separator",{get:function(){return E.settings.itemValueSeparator},set:function(f){E.settings.itemValueSeparator=f},enumerable:!1,configurable:!0}),v.setData=function(f,l,d){f.length=0;for(var h=0;h<l.length;h++){var p=l[h],u=p&&typeof p.getType=="function"?p.getType():d??"itemvalue",x=a.Serializer.createClass(u);x.setData(p),p.originalItem&&(x.originalItem=p.originalItem),f.push(x)}},v.getData=function(f){for(var l=[],d=0;d<f.length;d++)l.push(f[d].getData());return l},v.getItemByValue=function(f,l){if(!Array.isArray(f))return null;for(var d=s.Helpers.isValueEmpty(l),h=0;h<f.length;h++)if(d&&s.Helpers.isValueEmpty(f[h].value)||s.Helpers.isTwoValueEquals(f[h].value,l,!1,!0,!1))return f[h];return null},v.getTextOrHtmlByValue=function(f,l){var d=v.getItemByValue(f,l);return d!==null?d.locText.textOrHtml:""},v.locStrsChanged=function(f){for(var l=0;l<f.length;l++)f[l].locStrsChanged()},v.runConditionsForItems=function(f,l,d,h,p,u,x){return u===void 0&&(u=!0),v.runConditionsForItemsCore(f,l,d,h,p,!0,u,x)},v.runEnabledConditionsForItems=function(f,l,d,h,p){return v.runConditionsForItemsCore(f,null,l,d,h,!1,!0,p)},v.runConditionsForItemsCore=function(f,l,d,h,p,u,x,V){x===void 0&&(x=!0),h||(h={});for(var A=h.item,M=h.choice,T=!1,D=0;D<f.length;D++){var R=f[D];h.item=R.value,h.choice=R.value;var S=x&&R.getConditionRunner?R.getConditionRunner(u):!1;S||(S=d);var I=!0;S&&(I=S.run(h,p)),V&&(I=V(R,I)),l&&I&&l.push(R);var w=u?R.isVisible:R.isEnabled;I!=w&&(T=!0,u?R.setIsVisible&&R.setIsVisible(I):R.setIsEnabled&&R.setIsEnabled(I))}return A?h.item=A:delete h.item,M?h.choice=M:delete h.choice,T},v.prototype.onCreating=function(){},v.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},v.prototype.getSurvey=function(f){return this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},v.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(v.prototype,"isInternal",{get:function(){return this.isGhost===!0},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),v.prototype.setLocText=function(f){this.locTextValue=f},Object.defineProperty(v.prototype,"locOwner",{get:function(){return this._locOwner},set:function(f){this._locOwner=f},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(f){var l=void 0;if(!s.Helpers.isValueEmpty(f)){var d=f.toString(),h=d.indexOf(E.settings.itemValueSeparator);h>-1&&(f=d.slice(0,h),l=d.slice(h+1))}this.setPropertyValue("value",f),l&&(this.text=l),this.id=this.value},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(f){this.text=f},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(f){this.locText.text=f},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),v.prototype.canSerializeValue=function(){var f=this.value;return f==null?!1:!Array.isArray(f)&&typeof f!="object"},v.prototype.getData=function(){var f=this.toJSON();if(f.value&&f.value.pos&&delete f.value.pos,s.Helpers.isValueEmpty(f.value))return f;var l=this.canSerializeValue(),d=!l||!E.settings.serialization.itemValueSerializeAsObject&&!E.settings.serialization.itemValueSerializeDisplayText;return d&&Object.keys(f).length==1?this.value:(E.settings.serialization.itemValueSerializeDisplayText&&f.text===void 0&&l&&(f.text=this.value.toString()),f)},v.prototype.toJSON=function(){var f={},l=a.Serializer.getProperties(this.getType());(!l||l.length==0)&&(l=a.Serializer.getProperties("itemvalue"));for(var d=new a.JsonObject,h=0;h<l.length;h++){var p=l[h];p.name==="text"&&!this.locText.hasNonDefaultText()&&s.Helpers.isTwoValueEquals(this.value,this.text,!1,!0,!1)||d.valueToJson(this,f,p)}return f},v.prototype.setData=function(f){if(!s.Helpers.isValueEmpty(f)){if(typeof f.value>"u"&&typeof f.text<"u"&&Object.keys(f).length===1&&(f.value=f.text),typeof f.value<"u"){var l=void 0;typeof f.toJSON=="function"?l=f.toJSON():l=f,new a.JsonObject().toObject(l,this)}else this.value=f;this.locText.strChanged()}},Object.defineProperty(v.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(f){this.setPropertyValue("visibleIf",f)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(f){this.setPropertyValue("enableIf",f)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!0)},enumerable:!1,configurable:!0}),v.prototype.setIsVisible=function(f){this.setPropertyValue("isVisible",f)},Object.defineProperty(v.prototype,"isEnabled",{get:function(){return this.getPropertyValue("isEnabled",!0)},enumerable:!1,configurable:!0}),v.prototype.setIsEnabled=function(f){this.setPropertyValue("isEnabled",f)},v.prototype.addUsedLocales=function(f){this.AddLocStringToUsedLocales(this.locTextValue,f)},v.prototype.locStrsChanged=function(){m.prototype.locStrsChanged.call(this),this.locText.strChanged()},v.prototype.onPropertyValueChanged=function(f,l,d){f==="value"&&!this.hasText&&this.locText.strChanged();var h="itemValuePropertyChanged";!this.locOwner||!this.locOwner[h]||this.locOwner[h](this,f,l,d)},v.prototype.getConditionRunner=function(f){return f?this.getVisibleConditionRunner():this.getEnableConditionRunner()},v.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new c.ConditionRunner(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},v.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new c.ConditionRunner(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},Object.defineProperty(v.prototype,"selected",{get:function(){var f=this,l=this._locOwner;return l instanceof y.Question&&l.isItemSelected&&this.selectedValue===void 0&&(this.selectedValue=new C.ComputedUpdater(function(){return l.isItemSelected(f)})),this.selectedValue},enumerable:!1,configurable:!0}),v.prototype.getComponent=function(){return this._locOwner instanceof y.Question?this.componentValue||this._locOwner.itemComponent:this.componentValue},v.prototype.setComponent=function(f){this.componentValue=f},v.prototype.getEnabled=function(){return this.isEnabled},v.prototype.setEnabled=function(f){this.setIsEnabled(f)},v.prototype.getVisible=function(){var f=this.isVisible===void 0?!0:this.isVisible,l=this._visible===void 0?!0:this._visible;return f&&l},v.prototype.setVisible=function(f){this._visible=f},v.prototype.getLocTitle=function(){return this.locText},v.prototype.getTitle=function(){return this.text},v.prototype.setLocTitle=function(f){},v.prototype.setTitle=function(f){},P([Object(a.property)({defaultValue:!0})],v.prototype,"_visible",void 0),P([Object(a.property)()],v.prototype,"selectedValue",void 0),P([Object(a.property)()],v.prototype,"icon",void 0),v}(O.BaseAction);C.Base.createItemValue=function(m,v){var f=null;return v?f=a.JsonObject.metaData.createClass(v,{}):typeof m.getType=="function"?f=new g(null,void 0,m.getType()):f=new g(null),f.setData(m),f},C.Base.itemValueLocStrChanged=function(m){g.locStrsChanged(m)},a.JsonObjectProperty.getItemValuesDefaultValue=function(m,v){var f=new Array;return g.setData(f,Array.isArray(m)?m:[],v),f},a.Serializer.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(m){return!m||m.ownerPropertyName!=="rateValues"}}],function(m){return new g(m)})},"./src/jsonobject.ts":function(n,r,i){i.r(r),i.d(r,"property",function(){return y}),i.d(r,"propertyArray",function(){return P}),i.d(r,"JsonObjectProperty",function(){return g}),i.d(r,"CustomPropertiesCollection",function(){return m}),i.d(r,"JsonMetadataClass",function(){return v}),i.d(r,"JsonMetadata",function(){return f}),i.d(r,"JsonError",function(){return l}),i.d(r,"JsonUnknownPropertyError",function(){return d}),i.d(r,"JsonMissingTypeErrorBase",function(){return h}),i.d(r,"JsonMissingTypeError",function(){return p}),i.d(r,"JsonIncorrectTypeError",function(){return u}),i.d(r,"JsonRequiredPropertyError",function(){return x}),i.d(r,"JsonObject",function(){return V}),i.d(r,"Serializer",function(){return A});var o=i("./src/surveyStrings.ts"),a=i("./src/base.ts"),s=i("./src/helpers.ts"),c=function(){var M=function(T,D){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,S){R.__proto__=S}||function(R,S){for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(R[I]=S[I])},M(T,D)};return function(T,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");M(T,D);function R(){this.constructor=T}T.prototype=D===null?Object.create(D):(R.prototype=D.prototype,new R)}}(),C=function(M,T){for(var D=0,R=T.length,S=M.length;D<R;D++,S++)M[S]=T[D];return M};function E(M,T,D){var R=M.getLocalizableString(D);R||(R=M.createLocalizableString(D,M,!0),typeof T.localizable=="object"&&typeof T.localizable.onGetTextCallback=="function"&&(R.onGetTextCallback=T.localizable.onGetTextCallback))}function O(M,T,D){E(M,T,D);var R=M.getLocalizableStringText(D);if(R)return R;if(typeof T.localizable=="object"&&T.localizable.defaultStr){var S=M.getLocale?M.getLocale():"";return o.surveyLocalization.getString(T.localizable.defaultStr,S)}return""}function y(M){return function(T,D){var R=function(S,I){if(I&&typeof I=="object"&&I.type===a.ComputedUpdater.ComputedUpdaterType){a.Base.startCollectDependencies(function(){return S[D]=I.updater()},S,D);var w=I.updater(),L=a.Base.finishCollectDependencies();return I.setDependencies(L),w}return I};!M||!M.localizable?Object.defineProperty(T,D,{get:function(){var S=null;return M&&(typeof M.getDefaultValue=="function"&&(S=M.getDefaultValue(this)),M.defaultValue!==void 0&&(S=M.defaultValue)),this.getPropertyValue(D,S)},set:function(S){var I=R(this,S);this.setPropertyValue(D,I),M&&M.onSet&&M.onSet(I,this)}}):(Object.defineProperty(T,D,{get:function(){return O(this,M,D)},set:function(S){E(this,M,D);var I=R(this,S);this.setLocalizableStringText(D,I),M&&M.onSet&&M.onSet(I,this)}}),Object.defineProperty(T,typeof M.localizable=="object"&&M.localizable.name?M.localizable.name:"loc"+D.charAt(0).toUpperCase()+D.slice(1),{get:function(){return E(this,M,D),this.getLocalizableString(D)}}))}}function b(M,T,D){M.ensureArray(D,function(R,S){var I=T?T.onPush:null;I&&I(R,S,M)},function(R,S){var I=T?T.onRemove:null;I&&I(R,S,M)})}function P(M){return function(T,D){Object.defineProperty(T,D,{get:function(){return b(this,M,D),this.getPropertyValue(D)},set:function(R){b(this,M,D);var S=this.getPropertyValue(D);R!==S&&(S?S.splice.apply(S,C([0,S.length],R||[])):this.setPropertyValue(D,R),M&&M.onSet&&M.onSet(R,this))}})}}var g=function(){function M(T,D,R){R===void 0&&(R=!1),this.name=D,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=T,this.isRequiredValue=R,this.idValue=M.Index++}return Object.defineProperty(M.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(T){T==="itemvalues"&&(T="itemvalue[]"),T==="textitems"&&(T="textitem[]"),this.typeValue=T,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(T){this.isRequiredValue=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(T){this.isUniqueValue=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"uniquePropertyName",{get:function(){return this.uniquePropertyValue},set:function(T){this.uniquePropertyValue=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"defaultValue",{get:function(){var T=this.defaultValueFunc?this.defaultValueFunc():this.defaultValueValue;return M.getItemValuesDefaultValue&&V.metaData.isDescendantOf(this.className,"itemvalue")&&(T=M.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),T},set:function(T){this.defaultValueValue=T},enumerable:!1,configurable:!0}),M.prototype.isDefaultValue=function(T){return s.Helpers.isValueEmpty(this.defaultValue)?T===!1&&(this.type=="boolean"||this.type=="switch")||T===""||s.Helpers.isValueEmpty(T):s.Helpers.isTwoValueEquals(T,this.defaultValue,!1,!0,!1)},M.prototype.getValue=function(T){return this.onGetValue?this.onGetValue(T):this.serializationProperty&&T[this.serializationProperty]?T[this.serializationProperty].getJson():T[this.name]},M.prototype.getPropertyValue=function(T){return this.isLocalizable?T[this.serializationProperty]?T[this.serializationProperty].text:null:this.getValue(T)},Object.defineProperty(M.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),M.prototype.settingValue=function(T,D){return!this.onSettingValue||T.isLoadingFromJson?D:this.onSettingValue(T,D)},M.prototype.setValue=function(T,D,R){this.onSetValue?this.onSetValue(T,D,R):this.serializationProperty&&T[this.serializationProperty]?T[this.serializationProperty].setJson(D):(D&&typeof D=="string"&&(this.type=="number"&&(D=parseInt(D)),(this.type=="boolean"||this.type=="switch")&&(D=D.toLowerCase()==="true")),T[this.name]=D)},M.prototype.getObjType=function(T){return this.classNamePart?T.replace(this.classNamePart,""):T},Object.defineProperty(M.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),M.prototype.getChoices=function(T,D){return D===void 0&&(D=null),this.choicesValue!=null?this.choicesValue:this.choicesfunc!=null?this.choicesfunc(T,D):null},M.prototype.setChoices=function(T,D){D===void 0&&(D=null),this.choicesValue=T,this.choicesfunc=D},M.prototype.getBaseValue=function(){return this.baseValue?typeof this.baseValue=="function"?this.baseValue():this.baseValue:""},M.prototype.setBaseValue=function(T){this.baseValue=T},Object.defineProperty(M.prototype,"readOnly",{get:function(){return this.readOnlyValue!=null?this.readOnlyValue:!1},set:function(T){this.readOnlyValue=T},enumerable:!1,configurable:!0}),M.prototype.isVisible=function(T,D){D===void 0&&(D=null);var R=!this.layout||this.layout==T;return!this.visible||!R?!1:this.visibleIf&&D?this.visibleIf(D):!0},Object.defineProperty(M.prototype,"visible",{get:function(){return this.visibleValue!=null?this.visibleValue:!0},set:function(T){this.visibleValue=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isLocalizable",{get:function(){return this.isLocalizableValue!=null?this.isLocalizableValue:!1},set:function(T){this.isLocalizableValue=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(T){this.dataListValue=T},enumerable:!1,configurable:!0}),M.prototype.mergeWith=function(T){for(var D=M.mergableValues,R=0;R<D.length;R++)this.mergeValue(T,D[R])},M.prototype.addDependedProperty=function(T){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(T)<0&&this.dependedProperties.push(T)},M.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},M.prototype.schemaType=function(){if(this.className!=="choicesByUrl")return this.className==="string"?this.className:this.className||this.baseClassName?"array":this.type=="switch"?"boolean":this.type=="boolean"||this.type=="number"?this.type:"string"},M.prototype.schemaRef=function(){if(this.className)return this.className},M.prototype.mergeValue=function(T,D){this[D]==null&&T[D]!=null&&(this[D]=T[D])},M.Index=1,M.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","layout","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","showMode","dependedProperties","visibleIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],M}(),m=function(){function M(){}return M.addProperty=function(T,D){T=T.toLowerCase();var R=M.properties;R[T]||(R[T]=[]),R[T].push(D)},M.removeProperty=function(T,D){T=T.toLowerCase();var R=M.properties;if(R[T]){for(var S=R[T],I=0;I<S.length;I++)if(S[I].name==D){R[T].splice(I,1);break}}},M.removeAllProperties=function(T){T=T.toLowerCase(),delete M.properties[T]},M.addClass=function(T,D){T=T.toLowerCase(),D&&(D=D.toLowerCase()),M.parentClasses[T]=D},M.getProperties=function(T){T=T.toLowerCase();for(var D=[],R=M.properties;T;){var S=R[T];if(S)for(var I=0;I<S.length;I++)D.push(S[I]);T=M.parentClasses[T]}return D},M.createProperties=function(T){!T||!T.getType||M.createPropertiesCore(T,T.getType())},M.createPropertiesCore=function(T,D){var R=M.properties;R[D]&&M.createPropertiesInObj(T,R[D]);var S=M.parentClasses[D];S&&M.createPropertiesCore(T,S)},M.createPropertiesInObj=function(T,D){for(var R=0;R<D.length;R++)M.createPropertyInObj(T,D[R])},M.createPropertyInObj=function(T,D){if(!M.checkIsPropertyExists(T,D.name)&&!(D.serializationProperty&&M.checkIsPropertyExists(T,D.serializationProperty))){if(D.isLocalizable&&D.serializationProperty&&T.createCustomLocalizableObj){T.createCustomLocalizableObj(D.name);var R={get:function(){return T.getLocalizableString(D.name)}};Object.defineProperty(T,D.serializationProperty,R);var S={get:function(){return T.getLocalizableStringText(D.name,D.defaultValue)},set:function(L){T.setLocalizableStringText(D.name,L)}};Object.defineProperty(T,D.name,S)}else{var I=D.defaultValue,w=D.isArray||D.type==="multiplevalues";if(typeof T.createNewArray=="function"&&(V.metaData.isDescendantOf(D.className,"itemvalue")?(T.createNewArray(D.name,function(L){L.locOwner=T,L.ownerPropertyName=D.name}),w=!0):w&&T.createNewArray(D.name),w&&(Array.isArray(I)&&T.setPropertyValue(D.name,I),I=null)),T.getPropertyValue&&T.setPropertyValue){var S={get:function(){return D.onGetValue?D.onGetValue(T):T.getPropertyValue(D.name,I)},set:function(F){D.onSetValue?D.onSetValue(T,F,null):T.setPropertyValue(D.name,F)}};Object.defineProperty(T,D.name,S)}}(D.type==="condition"||D.type==="expression")&&D.onExecuteExpression&&T.addExpressionProperty(D.name,D.onExecuteExpression)}},M.checkIsPropertyExists=function(T,D){return T.hasOwnProperty(D)||T[D]},M.properties={},M.parentClasses={},M}(),v=function(){function M(T,D,R,S){R===void 0&&(R=null),S===void 0&&(S=null),this.name=T,this.creator=R,this.parentName=S,T=T.toLowerCase(),this.isCustomValue=!R&&T!=="survey",this.parentName&&(this.parentName=this.parentName.toLowerCase(),m.addClass(T,this.parentName),R&&this.makeParentRegularClass()),this.properties=new Array;for(var I=0;I<D.length;I++)this.createProperty(D[I],this.isCustom)}return M.prototype.find=function(T){for(var D=0;D<this.properties.length;D++)if(this.properties[D].name==T)return this.properties[D];return null},M.prototype.findProperty=function(T){return this.fillAllProperties(),this.hashProperties[T]},M.prototype.getAllProperties=function(){return this.fillAllProperties(),this.allProperties},M.prototype.resetAllProperties=function(){this.allProperties=void 0,this.hashProperties=void 0;for(var T=A.getChildrenClasses(this.name),D=0;D<T.length;D++)T[D].resetAllProperties()},Object.defineProperty(M.prototype,"isCustom",{get:function(){return this.isCustomValue},enumerable:!1,configurable:!0}),M.prototype.fillAllProperties=function(){var T=this;if(!this.allProperties){this.allProperties=[],this.hashProperties={};var D={};this.properties.forEach(function(I){return D[I.name]=I});var R=this.parentName?A.findClass(this.parentName):null;if(R){var S=R.getAllProperties();S.forEach(function(I){var w=D[I.name];w?(w.mergeWith(I),T.addPropCore(w)):T.addPropCore(I)})}this.properties.forEach(function(I){T.hashProperties[I.name]||T.addPropCore(I)})}},M.prototype.addPropCore=function(T){this.allProperties.push(T),this.hashProperties[T.name]=T,T.alternativeName&&(this.hashProperties[T.alternativeName]=T)},M.prototype.isOverridedProp=function(T){return!!this.parentName&&!!A.findProperty(this.parentName,T)},M.prototype.hasRegularChildClass=function(){if(this.isCustom){this.isCustomValue=!1;for(var T=0;T<this.properties.length;T++)this.properties[T].isCustom=!1;m.removeAllProperties(this.name),this.makeParentRegularClass()}},M.prototype.makeParentRegularClass=function(){if(this.parentName){var T=A.findClass(this.parentName);T&&T.hasRegularChildClass()}},M.prototype.createProperty=function(T,D){D===void 0&&(D=!1);var R=typeof T=="string"?T:T.name;if(R){var S=null,I=R.indexOf(M.typeSymbol);I>-1&&(S=R.substring(I+1),R=R.substring(0,I));var w=this.getIsPropertyNameRequired(R)||!!T.isRequired;R=this.getPropertyName(R);var L=new g(this,R,w);if(S&&(L.type=S),typeof T=="object"){if(T.type&&(L.type=T.type),T.default!==void 0&&(L.defaultValue=T.default),T.defaultFunc!==void 0&&(L.defaultValueFunc=T.defaultFunc),s.Helpers.isValueEmpty(T.isSerializable)||(L.isSerializable=T.isSerializable),s.Helpers.isValueEmpty(T.isLightSerializable)||(L.isLightSerializable=T.isLightSerializable),s.Helpers.isValueEmpty(T.maxLength)||(L.maxLength=T.maxLength),s.Helpers.isValueEmpty(T.displayName)||(L.displayName=T.displayName),s.Helpers.isValueEmpty(T.category)||(L.category=T.category),s.Helpers.isValueEmpty(T.categoryIndex)||(L.categoryIndex=T.categoryIndex),s.Helpers.isValueEmpty(T.nextToProperty)||(L.nextToProperty=T.nextToProperty),s.Helpers.isValueEmpty(T.overridingProperty)||(L.overridingProperty=T.overridingProperty),s.Helpers.isValueEmpty(T.visibleIndex)||(L.visibleIndex=T.visibleIndex),s.Helpers.isValueEmpty(T.showMode)||(L.showMode=T.showMode),s.Helpers.isValueEmpty(T.maxValue)||(L.maxValue=T.maxValue),s.Helpers.isValueEmpty(T.minValue)||(L.minValue=T.minValue),s.Helpers.isValueEmpty(T.dataList)||(L.dataList=T.dataList),s.Helpers.isValueEmpty(T.isDynamicChoices)||(L.isDynamicChoices=T.isDynamicChoices),s.Helpers.isValueEmpty(T.isBindable)||(L.isBindable=T.isBindable),s.Helpers.isValueEmpty(T.isUnique)||(L.isUnique=T.isUnique),s.Helpers.isValueEmpty(T.uniqueProperty)||(L.uniquePropertyName=T.uniqueProperty),s.Helpers.isValueEmpty(T.isArray)||(L.isArray=T.isArray),(T.visible===!0||T.visible===!1)&&(L.visible=T.visible),T.visibleIf&&(L.visibleIf=T.visibleIf),T.onExecuteExpression&&(L.onExecuteExpression=T.onExecuteExpression),T.onPropertyEditorUpdate&&(L.onPropertyEditorUpdate=T.onPropertyEditorUpdate),T.readOnly===!0&&(L.readOnly=!0),T.choices){var F=typeof T.choices=="function"?T.choices:null,W=typeof T.choices!="function"?T.choices:null;L.setChoices(W,F)}T.baseValue&&L.setBaseValue(T.baseValue),T.onGetValue&&(L.onGetValue=T.onGetValue),T.onSetValue&&(L.onSetValue=T.onSetValue),T.onSettingValue&&(L.onSettingValue=T.onSettingValue),T.isLocalizable&&(T.serializationProperty="loc"+L.name),T.serializationProperty&&(L.serializationProperty=T.serializationProperty,L.serializationProperty&&L.serializationProperty.indexOf("loc")==0&&(L.isLocalizable=!0)),T.isLocalizable&&(L.isLocalizable=T.isLocalizable),T.className&&(L.className=T.className),T.baseClassName&&(L.baseClassName=T.baseClassName),T.classNamePart&&(L.classNamePart=T.classNamePart),T.alternativeName&&(L.alternativeName=T.alternativeName),T.layout&&(L.layout=T.layout),T.dependsOn&&this.addDependsOnProperties(L,T.dependsOn)}return this.properties.push(L),D&&!this.isOverridedProp(L.name)&&(L.isCustom=!0,m.addProperty(this.name,L)),L}},M.prototype.addDependsOnProperties=function(T,D){if(Array.isArray(D))for(var R=0;R<D.length;R++)this.addDependsOnProperty(T,D[R]);else this.addDependsOnProperty(T,D)},M.prototype.addDependsOnProperty=function(T,D){var R=this.find(D);R||(R=A.findProperty(this.parentName,D)),R&&R.addDependedProperty(T.name)},M.prototype.getIsPropertyNameRequired=function(T){return T.length>0&&T[0]==M.requiredSymbol},M.prototype.getPropertyName=function(T){return this.getIsPropertyNameRequired(T)&&(T=T.slice(1)),T},M.requiredSymbol="!",M.typeSymbol=":",M}(),f=function(){function M(){this.classes={},this.alternativeNames={},this.childrenClasses={}}return M.prototype.getObjPropertyValue=function(T,D){if(this.isObjWrapper(T)){var R=T.getOriginalObj(),S=A.findProperty(R.getType(),D);if(S)return this.getObjPropertyValueCore(R,S)}var S=A.findProperty(T.getType(),D);return S?this.getObjPropertyValueCore(T,S):T[D]},M.prototype.setObjPropertyValue=function(T,D,R){if(T[D]!==R)if(T[D]&&T[D].setJson)T[D].setJson(R);else{if(Array.isArray(R)){for(var S=[],I=0;I<R.length;I++)S.push(R[I]);R=S}T[D]=R}},M.prototype.getObjPropertyValueCore=function(T,D){if(!D.isSerializable)return T[D.name];if(D.isLocalizable){if(D.isArray)return T[D.name];if(D.serializationProperty)return T[D.serializationProperty].text}return T.getPropertyValue(D.name)},M.prototype.isObjWrapper=function(T){return!!T.getOriginalObj&&!!T.getOriginalObj()},M.prototype.addClass=function(T,D,R,S){R===void 0&&(R=null),S===void 0&&(S=null),T=T.toLowerCase();var I=new v(T,D,R,S);if(this.classes[T]=I,S){S=S.toLowerCase();var w=this.childrenClasses[S];w||(this.childrenClasses[S]=[]),this.childrenClasses[S].push(I)}return I},M.prototype.removeClass=function(T){var D=this.findClass(T);if(D&&(delete this.classes[D.name],D.parentName)){var R=this.childrenClasses[D.parentName].indexOf(D);R>-1&&this.childrenClasses[D.parentName].splice(R,1)}},M.prototype.overrideClassCreatore=function(T,D){this.overrideClassCreator(T,D)},M.prototype.overrideClassCreator=function(T,D){T=T.toLowerCase();var R=this.findClass(T);R&&(R.creator=D)},M.prototype.getProperties=function(T){var D=this.findClass(T);return D?D.getAllProperties():[]},M.prototype.getPropertiesByObj=function(T){if(!T||!T.getType)return[];for(var D={},R=this.getProperties(T.getType()),S=0;S<R.length;S++)D[R[S].name]=R[S];var I=T.getDynamicType?this.getProperties(T.getDynamicType()):null;if(I&&I.length>0)for(var S=0;S<I.length;S++){var w=I[S];D[w.name]||(D[w.name]=w)}return Object.keys(D).map(function(L){return D[L]})},M.prototype.getDynamicPropertiesByObj=function(T,D){if(D===void 0&&(D=null),!T||!T.getType||!T.getDynamicType&&!D)return[];var R=D||T.getDynamicType();if(!R)return[];var S=this.getProperties(R);if(!S||S.length==0)return[];for(var I={},w=this.getProperties(T.getType()),L=0;L<w.length;L++)I[w[L].name]=w[L];for(var F=[],L=0;L<S.length;L++){var W=S[L];I[W.name]||F.push(W)}return F},M.prototype.hasOriginalProperty=function(T,D){return!!this.getOriginalProperty(T,D)},M.prototype.getOriginalProperty=function(T,D){var R=this.findProperty(T.getType(),D);return R||(this.isObjWrapper(T)?this.findProperty(T.getOriginalObj().getType(),D):null)},M.prototype.getProperty=function(T,D){var R=this.findProperty(T,D);if(!R)return R;var S=this.findClass(T);if(R.classInfo===S)return R;var I=new g(S,R.name,R.isRequired);return I.mergeWith(R),I.isArray=R.isArray,S.properties.push(I),S.resetAllProperties(),I},M.prototype.findProperty=function(T,D){var R=this.findClass(T);return R?R.findProperty(D):null},M.prototype.findProperties=function(T,D){var R=new Array,S=this.findClass(T);if(!S)return R;for(var I=0;I<D.length;I++){var w=S.findProperty(D[I]);w&&R.push(w)}return R},M.prototype.getAllPropertiesByName=function(T){for(var D=new Array,R=this.getAllClasses(),S=0;S<R.length;S++)for(var I=this.findClass(R[S]),w=0;w<I.properties.length;w++)if(I.properties[w].name==T){D.push(I.properties[w]);break}return D},M.prototype.getAllClasses=function(){var T=new Array;for(var D in this.classes)T.push(D);return T},M.prototype.createClass=function(T,D){D===void 0&&(D=void 0),T=T.toLowerCase();var R=this.findClass(T);if(!R)return null;if(R.creator)return R.creator(D);for(var S=R.parentName;S;){if(R=this.findClass(S),!R)return null;if(S=R.parentName,R.creator)return this.createCustomType(T,R.creator,D)}return null},M.prototype.createCustomType=function(T,D,R){R===void 0&&(R=void 0),T=T.toLowerCase();var S=D(R),I=T,w=S.getTemplate?S.getTemplate():S.getType();return S.getType=function(){return I},S.getTemplate=function(){return w},m.createProperties(S),S},M.prototype.getChildrenClasses=function(T,D){D===void 0&&(D=!1),T=T.toLowerCase();var R=[];return this.fillChildrenClasses(T,D,R),R},M.prototype.getRequiredProperties=function(T){for(var D=this.getProperties(T),R=[],S=0;S<D.length;S++)D[S].isRequired&&R.push(D[S].name);return R},M.prototype.addProperties=function(T,D){T=T.toLowerCase();for(var R=this.findClass(T),S=0;S<D.length;S++)this.addCustomPropertyCore(R,D[S])},M.prototype.addProperty=function(T,D){return this.addCustomPropertyCore(this.findClass(T),D)},M.prototype.addCustomPropertyCore=function(T,D){if(!T)return null;var R=T.createProperty(D,!0);return R&&T.resetAllProperties(),R},M.prototype.removeProperty=function(T,D){var R=this.findClass(T);if(!R)return!1;var S=R.find(D);S&&(this.removePropertyFromClass(R,S),R.resetAllProperties(),m.removeProperty(R.name,D))},M.prototype.removePropertyFromClass=function(T,D){var R=T.properties.indexOf(D);R<0||T.properties.splice(R,1)},M.prototype.fillChildrenClasses=function(T,D,R){var S=this.childrenClasses[T];if(S)for(var I=0;I<S.length;I++)(!D||S[I].creator)&&R.push(S[I]),this.fillChildrenClasses(S[I].name,D,R)},M.prototype.findClass=function(T){T=T.toLowerCase();var D=this.classes[T];if(!D){var R=this.alternativeNames[T];if(R&&R!=T)return this.findClass(R)}return D},M.prototype.isDescendantOf=function(T,D){if(!T||!D)return!1;T=T.toLowerCase(),D=D.toLowerCase();var R=this.findClass(T);if(!R)return!1;var S=R;do{if(S.name===D)return!0;S=this.classes[S.parentName]}while(S);return!1},M.prototype.addAlterNativeClassName=function(T,D){this.alternativeNames[D.toLowerCase()]=T.toLowerCase()},M.prototype.generateSchema=function(T){T===void 0&&(T=void 0),T||(T="survey");var D=this.findClass(T);if(!D)return null;var R={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(D,R,R.definitions,!0),R},M.prototype.generateLocStrClass=function(){var T={},D=A.findProperty("survey","locale");if(D){var R=D.getChoices(null);Array.isArray(R)&&(R.indexOf("en")<0&&R.splice(0,0,"en"),R.splice(0,0,"default"),R.forEach(function(S){S&&(T[S]={type:"string"})}))}return{$id:"locstring",type:"object",properties:T}},M.prototype.generateSchemaProperties=function(T,D,R,S){if(T){var I=D.properties,w=[];(T.name==="question"||T.name==="panel")&&(I.type={type:"string"},w.push("type"));for(var L=0;L<T.properties.length;L++){var F=T.properties[L];T.parentName&&A.findProperty(T.parentName,F.name)||(I[F.name]=this.generateSchemaProperty(F,R,S),F.isRequired&&w.push(F.name))}w.length>0&&(D.required=w)}},M.prototype.generateSchemaProperty=function(T,D,R){if(T.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",R)}]};var S=T.schemaType(),I=T.schemaRef(),w={};if(S&&(w.type=S),T.hasChoices){var L=T.getChoices(null);Array.isArray(L)&&L.length>0&&(w.enum=L)}if(I&&(S==="array"?T.className==="string"?w.items={type:T.className}:w.items={$ref:this.getChemeRefName(T.className,R)}:w.$ref=this.getChemeRefName(I,R),this.generateChemaClass(T.className,D,!1)),T.baseClassName){var F=this.getChildrenClasses(T.baseClassName,!0);T.baseClassName=="question"&&F.push(this.findClass("panel")),w.items={anyOf:[]};for(var W=0;W<F.length;W++){var U=F[W].name;w.items.anyOf.push({$ref:this.getChemeRefName(U,R)}),this.generateChemaClass(U,D,!1)}}return w},M.prototype.getChemeRefName=function(T,D){return"#/definitions/"+T},M.prototype.generateChemaClass=function(T,D,R){if(!D[T]){var S=this.findClass(T);if(S){var I=!!S.parentName&&S.parentName!="base";I&&this.generateChemaClass(S.parentName,D,R);var w={type:"object",$id:T};D[T]=w;var L={properties:{}};this.generateSchemaProperties(S,L,D,R),I?w.allOf=[{$ref:this.getChemeRefName(S.parentName,R)},{properties:L.properties}]:w.properties=L.properties,Array.isArray(L.required)&&(w.required=L.required)}}},M}(),l=function(){function M(T,D){this.type=T,this.message=D,this.description="",this.at=-1,this.end=-1}return M.prototype.getFullDescription=function(){return this.message+(this.description?`
`+this.description:"")},M}(),d=function(M){c(T,M);function T(D,R){var S=M.call(this,"unknownproperty","The property '"+D+"' in class '"+R+"' is unknown.")||this;S.propertyName=D,S.className=R;var I=V.metaData.getProperties(R);if(I){S.description="The list of available properties are: ";for(var w=0;w<I.length;w++)w>0&&(S.description+=", "),S.description+=I[w].name;S.description+="."}return S}return T}(l),h=function(M){c(T,M);function T(D,R,S){var I=M.call(this,R,S)||this;I.baseClassName=D,I.type=R,I.message=S,I.description="The following types are available: ";for(var w=V.metaData.getChildrenClasses(D,!0),L=0;L<w.length;L++)L>0&&(I.description+=", "),I.description+="'"+w[L].name+"'";return I.description+=".",I}return T}(l),p=function(M){c(T,M);function T(D,R){var S=M.call(this,R,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+D+"'.")||this;return S.propertyName=D,S.baseClassName=R,S}return T}(h),u=function(M){c(T,M);function T(D,R){var S=M.call(this,R,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+D+"'.")||this;return S.propertyName=D,S.baseClassName=R,S}return T}(h),x=function(M){c(T,M);function T(D,R){var S=M.call(this,"requiredproperty","The property '"+D+"' is required in class '"+R+"'.")||this;return S.propertyName=D,S.className=R,S}return T}(l),V=function(){function M(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(M,"metaData",{get:function(){return M.metaDataValue},enumerable:!1,configurable:!0}),M.prototype.toJsonObject=function(T,D){return D===void 0&&(D=!1),this.toJsonObjectCore(T,null,D)},M.prototype.toObject=function(T,D){this.toObjectCore(T,D);var R=this.getRequiredError(D,T);R&&this.addNewError(R,T,D)},M.prototype.toObjectCore=function(T,D){if(T){var R=null,S=void 0,I=!0;if(D.getType&&(S=D.getType(),R=M.metaData.getProperties(S),I=!!S&&!M.metaData.isDescendantOf(S,"itemvalue")),!!R){D.startLoadingFromJson&&D.startLoadingFromJson(T),R=this.addDynamicProperties(D,T,R);for(var w in T)if(w!==M.typePropertyName){if(w===M.positionPropertyName){D[w]=T[w];continue}var L=this.findProperty(R,w);if(!L){I&&this.addNewError(new d(w.toString(),S),T,D);continue}this.valueToObj(T[w],D,L)}D.endLoadingFromJson&&D.endLoadingFromJson()}}},M.prototype.toJsonObjectCore=function(T,D,R){if(R===void 0&&(R=!1),!T||!T.getType)return T;if(typeof T.getData=="function")return T.getData();var S={};return D!=null&&!D.className&&(S[M.typePropertyName]=D.getObjType(T.getType())),this.propertiesToJson(T,M.metaData.getProperties(T.getType()),S,R),this.propertiesToJson(T,this.getDynamicProperties(T),S,R),S},M.prototype.getDynamicProperties=function(T){return A.getDynamicPropertiesByObj(T)},M.prototype.addDynamicProperties=function(T,D,R){if(!T.getDynamicPropertyName)return R;var S=T.getDynamicPropertyName();if(!S)return R;D[S]&&(T[S]=D[S]);for(var I=this.getDynamicProperties(T),w=[],L=0;L<R.length;L++)w.push(R[L]);for(var L=0;L<I.length;L++)w.push(I[L]);return w},M.prototype.propertiesToJson=function(T,D,R,S){S===void 0&&(S=!1);for(var I=0;I<D.length;I++)this.valueToJson(T,R,D[I],S)},M.prototype.valueToJson=function(T,D,R,S){if(S===void 0&&(S=!1),!(R.isSerializable===!1||R.isLightSerializable===!1&&this.lightSerializing)){var I=R.getValue(T);if(!(!S&&R.isDefaultValue(I))){if(this.isValueArray(I)){for(var w=[],L=0;L<I.length;L++)w.push(this.toJsonObjectCore(I[L],R,S));I=w.length>0?w:null}else I=this.toJsonObjectCore(I,R,S);var F=typeof T.getPropertyValue=="function"&&T.getPropertyValue(R.name,null)!==null;(S&&F||!R.isDefaultValue(I))&&(!A.onSerializingProperty||!A.onSerializingProperty(T,R,I,D))&&(D[R.name]=I)}}},M.prototype.valueToObj=function(T,D,R){if(T!=null){if(this.removePos(R,T),R!=null&&R.hasToUseSetValue){R.setValue(D,T,this);return}if(this.isValueArray(T)){this.valueToArray(T,D,R.name,R);return}var S=this.createNewObj(T,R);S.newObj&&(this.toObjectCore(T,S.newObj),T=S.newObj),S.error||(R!=null?R.setValue(D,T,this):D[R.name]=T)}},M.prototype.removePos=function(T,D){!T||!T.type||T.type.indexOf("value")<0||this.removePosFromObj(D)},M.prototype.removePosFromObj=function(T){if(T){if(Array.isArray(T))for(var D=0;D<T.length;D++)this.removePosFromObj(T[D]);T[M.positionPropertyName]&&delete T[M.positionPropertyName]}},M.prototype.isValueArray=function(T){return T&&Array.isArray(T)},M.prototype.createNewObj=function(T,D){var R={newObj:null,error:null},S=this.getClassNameForNewObj(T,D);return R.newObj=S?M.metaData.createClass(S,T):null,R.error=this.checkNewObjectOnErrors(R.newObj,T,D,S),R},M.prototype.getClassNameForNewObj=function(T,D){var R=D!=null&&D.className?D.className:void 0;if(R||(R=T[M.typePropertyName]),!R)return R;R=R.toLowerCase();var S=D.classNamePart;return S&&R.indexOf(S)<0&&(R+=S),R},M.prototype.checkNewObjectOnErrors=function(T,D,R,S){var I=null;return T?I=this.getRequiredError(T,D):R.baseClassName&&(S?I=new u(R.name,R.baseClassName):I=new p(R.name,R.baseClassName)),I&&this.addNewError(I,D,T),I},M.prototype.getRequiredError=function(T,D){if(!T.getType||typeof T.getData=="function")return null;var R=T.getType(),S=M.metaData.getRequiredProperties(R);if(!Array.isArray(S))return null;for(var I=0;I<S.length;I++){var w=A.findProperty(R,S[I]);if(!(!w||!s.Helpers.isValueEmpty(w.defaultValue))&&!D[w.name])return new x(w.name,R)}return null},M.prototype.addNewError=function(T,D,R){if(T.jsonObj=D,T.element=R,this.errors.push(T),!!D){var S=D[M.positionPropertyName];S&&(T.at=S.start,T.end=S.end)}},M.prototype.valueToArray=function(T,D,R,S){if(!(D[R]&&!this.isValueArray(D[R]))){D[R]&&T.length>0&&D[R].splice(0,D[R].length);var I=D[R]?D[R]:[];this.addValuesIntoArray(T,I,S),D[R]||(D[R]=I)}},M.prototype.addValuesIntoArray=function(T,D,R){for(var S=0;S<T.length;S++){var I=this.createNewObj(T[S],R);I.newObj?(T[S].name&&(I.newObj.name=T[S].name),T[S].valueName&&(I.newObj.valueName=T[S].valueName.toString()),D.push(I.newObj),this.toObjectCore(T[S],I.newObj)):I.error||D.push(T[S])}},M.prototype.findProperty=function(T,D){if(!T)return null;for(var R=0;R<T.length;R++){var S=T[R];if(S.name==D||S.alternativeName==D)return S}return null},M.typePropertyName="type",M.positionPropertyName="pos",M.metaDataValue=new f,M}(),A=V.metaData},"./src/list.ts":function(n,r,i){i.r(r),i.d(r,"defaultListCss",function(){return b}),i.d(r,"ListModel",function(){return P});var o=i("./src/jsonobject.ts"),a=i("./src/actions/container.ts"),s=i("./src/actions/action.ts"),c=i("./src/utils/cssClassBuilder.ts"),C=i("./src/element-helper.ts"),E=i("./src/utils/utils.ts"),O=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),y=function(g,m,v,f){var l=arguments.length,d=l<3?m:f===null?f=Object.getOwnPropertyDescriptor(m,v):f,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(g,m,v,f);else for(var p=g.length-1;p>=0;p--)(h=g[p])&&(d=(l<3?h(d):l>3?h(m,v,d):h(m,v))||d);return l>3&&d&&Object.defineProperty(m,v,d),d},b={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemIcon:"sv-list__item-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"},P=function(g){O(m,g);function m(v,f,l,d,h,p){var u=g.call(this)||this;return u.onSelectionChanged=f,u.allowSelection=l,u.onFilterStringChangedCallback=h,u.elementId=p,u.onItemClick=function(x){u.isItemDisabled(x)||(u.isExpanded=!1,u.allowSelection&&(u.selectedItem=x),u.onSelectionChanged&&u.onSelectionChanged(x))},u.isItemDisabled=function(x){return x.enabled!==void 0&&!x.enabled},u.isItemSelected=function(x){return u.areSameItems(u.selectedItem,x)},u.isItemFocused=function(x){return u.areSameItems(u.focusedItem,x)},u.getListClass=function(){return new c.CssClassBuilder().append(u.cssClasses.itemsContainer).append(u.cssClasses.itemsContainerFiltering,!!u.filterString&&u.visibleActions.length!==u.visibleItems.length).toString()},u.getItemClass=function(x){return new c.CssClassBuilder().append(u.cssClasses.item).append(u.cssClasses.itemWithIcon,!!x.iconName).append(u.cssClasses.itemDisabled,u.isItemDisabled(x)).append(u.cssClasses.itemFocused,u.isItemFocused(x)).append(u.cssClasses.itemSelected,u.isItemSelected(x)).append(x.css).toString()},u.getItemIndent=function(x){var V=x.level||0;return(V+1)*m.INDENT+"px"},u.setItems(v),u.selectedItem=d,u}return m.prototype.hasText=function(v,f){if(!f)return!0;var l=(v.title||"").toLocaleLowerCase();return l.indexOf(f.toLocaleLowerCase())>-1},m.prototype.isItemVisible=function(v){return v.visible&&(!this.shouldProcessFilter||this.hasText(v,this.filterString))},Object.defineProperty(m.prototype,"visibleItems",{get:function(){var v=this;return this.visibleActions.filter(function(f){return v.isItemVisible(f)})},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"shouldProcessFilter",{get:function(){return!this.onFilterStringChangedCallback},enumerable:!1,configurable:!0}),m.prototype.onFilterStringChanged=function(v){var f=this;this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(v),this.isEmpty=this.renderedActions.filter(function(l){return f.isItemVisible(l)}).length===0},m.prototype.scrollToItem=function(v,f){var l=this;f===void 0&&(f=0),setTimeout(function(){if(l.listContainerHtmlElement){var d=l.listContainerHtmlElement.querySelector("."+v);d&&setTimeout(function(){d.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},f)}},f)},m.prototype.setItems=function(v,f){var l=this;f===void 0&&(f=!0),g.prototype.setItems.call(this,v,f),this.elementId&&this.renderedActions.forEach(function(d){d.elementId=l.elementId+d.id}),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)},m.prototype.onSet=function(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>m.MINELEMENTCOUNT),g.prototype.onSet.call(this)},m.prototype.getDefaultCssClasses=function(){return b},m.prototype.areSameItems=function(v,f){return this.areSameItemsCallback?this.areSameItemsCallback(v,f):!!v&&!!f&&v.id==f.id},Object.defineProperty(m.prototype,"filterStringPlaceholder",{get:function(){return this.getLocalizationString("filterStringPlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"emptyMessage",{get:function(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.loadingText},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"scrollableContainer",{get:function(){return this.listContainerHtmlElement.querySelector("."+this.getDefaultCssClasses().itemsContainer)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"loadingText",{get:function(){return this.getLocalizationString("loadingFile")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"loadingIndicator",{get:function(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new s.Action({id:"loadingIndicator",title:this.loadingText,action:function(){},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue},enumerable:!1,configurable:!0}),m.prototype.goToItems=function(v){if(v.key==="ArrowDown"||v.keyCode===40){var f=v.target.parentElement,l=f.parentElement.querySelector("ul"),d=Object(E.getFirstVisibleChild)(l);l&&d&&(C.ElementHelper.focusElement(d),v.preventDefault())}},m.prototype.onMouseMove=function(v){this.resetFocusedItem()},m.prototype.onKeyDown=function(v){var f=v.target;v.key==="ArrowDown"||v.keyCode===40?(C.ElementHelper.focusElement(C.ElementHelper.getNextElementPreorder(f)),v.preventDefault()):(v.key==="ArrowUp"||v.keyCode===38)&&(C.ElementHelper.focusElement(C.ElementHelper.getNextElementPostorder(f)),v.preventDefault())},m.prototype.onPointerDown=function(v,f){},m.prototype.refresh=function(){this.filterString="",this.resetFocusedItem()},m.prototype.onClickSearchClearButton=function(v){v.currentTarget.parentElement.querySelector("input").focus(),this.refresh()},m.prototype.resetFocusedItem=function(){this.focusedItem=void 0},m.prototype.focusFirstVisibleItem=function(){this.focusedItem=this.visibleItems[0]},m.prototype.focusLastVisibleItem=function(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]},m.prototype.initFocusedItem=function(){var v=this;this.focusedItem=this.visibleItems.filter(function(f){return f.visible&&v.isItemSelected(f)})[0],this.focusedItem||this.focusFirstVisibleItem()},m.prototype.focusNextVisibleItem=function(){if(!this.focusedItem)this.initFocusedItem();else{var v=this.visibleItems,f=v.indexOf(this.focusedItem),l=v[f+1];l?this.focusedItem=l:this.focusFirstVisibleItem()}},m.prototype.focusPrevVisibleItem=function(){if(!this.focusedItem)this.initFocusedItem();else{var v=this.visibleItems,f=v.indexOf(this.focusedItem),l=v[f-1];l?this.focusedItem=l:this.focusLastVisibleItem()}},m.prototype.selectFocusedItem=function(){this.focusedItem&&this.onItemClick(this.focusedItem)},m.prototype.initListContainerHtmlElement=function(v){this.listContainerHtmlElement=v},m.prototype.onLastItemRended=function(v){this.isAllDataLoaded||v===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=C.ElementHelper.hasVerticalScroller(this.scrollableContainer))},m.prototype.scrollToFocusedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemFocused)},m.prototype.scrollToSelectedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemSelected,110)},m.prototype.addScrollEventListener=function(v){v&&(this.scrollHandler=v),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)},m.prototype.removeScrollEventListener=function(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)},m.prototype.dispose=function(){g.prototype.dispose.call(this),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose()},m.INDENT=16,m.MINELEMENTCOUNT=10,y([Object(o.property)({defaultValue:!0,onSet:function(v,f){f.onSet()}})],m.prototype,"searchEnabled",void 0),y([Object(o.property)({defaultValue:!1})],m.prototype,"showFilter",void 0),y([Object(o.property)({defaultValue:!1})],m.prototype,"forceShowFilter",void 0),y([Object(o.property)({defaultValue:!1})],m.prototype,"isExpanded",void 0),y([Object(o.property)({})],m.prototype,"selectedItem",void 0),y([Object(o.property)()],m.prototype,"focusedItem",void 0),y([Object(o.property)({onSet:function(v,f){f.onFilterStringChanged(f.filterString)}})],m.prototype,"filterString",void 0),y([Object(o.property)({defaultValue:!1})],m.prototype,"hasVerticalScroller",void 0),y([Object(o.property)({defaultValue:!0})],m.prototype,"isAllDataLoaded",void 0),y([Object(o.property)({defaultValue:!1})],m.prototype,"showSearchClearButton",void 0),y([Object(o.property)({defaultValue:!0})],m.prototype,"renderElements",void 0),m}(a.ActionContainer)},"./src/localizablestring.ts":function(n,r,i){i.r(r),i.d(r,"LocalizableString",function(){return C}),i.d(r,"LocalizableStrings",function(){return E});var o=i("./src/helpers.ts"),a=i("./src/surveyStrings.ts"),s=i("./src/settings.ts"),c=i("./src/base.ts"),C=function(){function O(y,b,P){b===void 0&&(b=!1),this.owner=y,this.useMarkdown=b,this.name=P,this.values={},this.htmlValues={},this.onStringChanged=new c.EventBase,this.onCreating()}return Object.defineProperty(O,"defaultLocale",{get:function(){return s.settings.localization.defaultLocaleName},set:function(y){s.settings.localization.defaultLocaleName=y},enumerable:!1,configurable:!0}),O.prototype.getIsMultiple=function(){return!1},Object.defineProperty(O.prototype,"locale",{get:function(){if(this.owner&&this.owner.getLocale){var y=this.owner.getLocale();if(y||!this.sharedData)return y}return this.sharedData?this.sharedData.locale:""},enumerable:!1,configurable:!0}),O.prototype.strChanged=function(){this.searchableText=void 0,this.renderedText!==void 0&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{}))},Object.defineProperty(O.prototype,"text",{get:function(){return this.pureText},set:function(y){this.setLocaleText(this.locale,y)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"calculatedText",{get:function(){return this.renderedText=this.calculatedTextValue!==void 0?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),O.prototype.calcText=function(){var y=this.pureText;return y&&this.owner&&this.owner.getProcessedText&&y.indexOf("{")>-1&&(y=this.owner.getProcessedText(y)),this.onGetTextCallback&&(y=this.onGetTextCallback(y)),y},Object.defineProperty(O.prototype,"pureText",{get:function(){var y=this.locale;y||(y=this.defaultLoc);var b=this.getValue(y);if(!b&&y===this.defaultLoc&&(b=this.getValue(a.surveyLocalization.defaultLocale)),!b){var P=this.getRootDialect(y);P&&(b=this.getValue(P))}return!b&&y!==this.defaultLoc&&(b=this.getValue(this.defaultLoc)),!b&&this.getLocalizationName()&&(b=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(b=this.onGetLocalizationTextCallback(b))),b||(b=""),b},enumerable:!1,configurable:!0}),O.prototype.getRootDialect=function(y){if(!y)return y;var b=y.indexOf("-");return b>-1?y.substring(0,b):""},O.prototype.getLocalizationName=function(){return this.sharedData?this.sharedData.localizationName:this.localizationName},O.prototype.getLocalizationStr=function(){var y=this.getLocalizationName();return y?a.surveyLocalization.getString(y,this.locale):""},Object.defineProperty(O.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),O.prototype.getLocaleText=function(y){y||(y=this.defaultLoc);var b=this.getValue(y);return b||""},O.prototype.getLocaleTextWithDefault=function(y){var b=this.getLocaleText(y);return!b&&this.onGetDefaultTextCallback?this.onGetDefaultTextCallback():b},O.prototype.setLocaleText=function(y,b){if(y=this.getValueLoc(y),!this.storeDefaultText&&b==this.getLocaleTextWithDefault(y)){if(b||y&&y!==this.defaultLoc)return;var P=a.surveyLocalization.defaultLocale,g=this.getValue(P);P&&g&&(this.setValue(P,b),this.fireStrChanged(P,g));return}if(!(!s.settings.localization.storeDuplicatedTranslations&&b&&y&&y!=this.defaultLoc&&!this.getValue(y)&&b==this.getLocaleText(this.defaultLoc))){var m=this.curLocale;y||(y=this.defaultLoc);var v=this.onStrChanged&&y===m?this.pureText:void 0;delete this.htmlValues[y],b?typeof b=="string"&&(this.canRemoveLocValue(y,b)?this.setLocaleText(y,null):(this.setValue(y,b),y==this.defaultLoc&&this.deleteValuesEqualsToDefault(b))):this.getValue(y)&&this.deleteValue(y),this.fireStrChanged(y,v)}},Object.defineProperty(O.prototype,"curLocale",{get:function(){return this.locale?this.locale:this.defaultLoc},enumerable:!1,configurable:!0}),O.prototype.canRemoveLocValue=function(y,b){if(s.settings.localization.storeDuplicatedTranslations||y===this.defaultLoc)return!1;var P=this.getRootDialect(y);if(P){var g=this.getLocaleText(P);return g?g==b:this.canRemoveLocValue(P,b)}else return b==this.getLocaleText(this.defaultLoc)},O.prototype.fireStrChanged=function(y,b){if(this.strChanged(),!!this.onStrChanged){var P=this.pureText;(y!==this.curLocale||b!==P)&&this.onStrChanged(b,P)}},O.prototype.hasNonDefaultText=function(){var y=this.getValuesKeys();return y.length==0?!1:y.length>1||y[0]!=this.defaultLoc},O.prototype.getLocales=function(){var y=this.getValuesKeys();return y.length==0?[]:y},O.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var y=this.getValuesKeys();return y.length==0?null:y.length==1&&y[0]==s.settings.localization.defaultLocaleName&&!s.settings.serialization.localizableStringSerializeAsObject?this.values[y[0]]:this.values},O.prototype.setJson=function(y){if(this.sharedData){this.sharedData.setJson(y);return}if(this.values={},this.htmlValues={},!!y){if(typeof y=="string")this.setLocaleText(null,y);else for(var b in y)this.setLocaleText(b,y[b]);this.strChanged()}},Object.defineProperty(O.prototype,"renderAs",{get:function(){return!this.owner||typeof this.owner.getRenderer!="function"?O.defaultRenderer:this.owner.getRenderer(this.name)||O.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"renderAsData",{get:function(){return!this.owner||typeof this.owner.getRendererContext!="function"?this:this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),O.prototype.equals=function(y){return this.sharedData?this.sharedData.equals(y):!y||!y.values?!1:o.Helpers.isTwoValueEquals(this.values,y.values,!1,!0,!1)},O.prototype.setFindText=function(y){if(this.searchText!=y){if(this.searchText=y,!this.searchableText){var b=this.textOrHtml;this.searchableText=b?b.toLowerCase():""}var P=this.searchableText,g=P&&y?P.indexOf(y):void 0;return g<0&&(g=void 0),(g!=null||this.searchIndex!=g)&&(this.searchIndex=g,this.onSearchChanged&&this.onSearchChanged()),this.searchIndex!=null}},O.prototype.onChanged=function(){},O.prototype.onCreating=function(){},O.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var y=this.locale;if(y||(y=this.defaultLoc),this.htmlValues[y]!==void 0)return!!this.htmlValues[y];var b=this.calculatedText;if(!b||this.getLocalizationName()&&b===this.getLocalizationStr())return!1;var P=this.owner.getMarkdownHtml(b,this.name);return this.htmlValues[y]=P,!!P},O.prototype.getHtmlValue=function(){var y=this.locale;return y||(y=this.defaultLoc),this.htmlValues[y]},O.prototype.deleteValuesEqualsToDefault=function(y){if(!s.settings.localization.storeDuplicatedTranslations)for(var b=this.getValuesKeys(),P=0;P<b.length;P++)b[P]!=this.defaultLoc&&this.getValue(b[P])==y&&this.deleteValue(b[P])},O.prototype.getValue=function(y){return this.sharedData?this.sharedData.getValue(y):this.values[this.getValueLoc(y)]},O.prototype.setValue=function(y,b){this.sharedData?this.sharedData.setValue(y,b):this.values[this.getValueLoc(y)]=b},O.prototype.deleteValue=function(y){this.sharedData?this.sharedData.deleteValue(y):delete this.values[this.getValueLoc(y)]},O.prototype.getValueLoc=function(y){return this.disableLocalization?s.settings.localization.defaultLocaleName:y},O.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},Object.defineProperty(O.prototype,"defaultLoc",{get:function(){return s.settings.localization.defaultLocaleName},enumerable:!1,configurable:!0}),O.SerializeAsObject=!1,O.defaultRenderer="sv-string-viewer",O.editableRenderer="sv-string-editor",O}(),E=function(){function O(y){this.owner=y,this.values={}}return O.prototype.getIsMultiple=function(){return!0},Object.defineProperty(O.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"value",{get:function(){return this.getValue("")},set:function(y){this.setValue("",y)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join(`
`):""},set:function(y){this.value=y?y.split(`
`):[]},enumerable:!1,configurable:!0}),O.prototype.getLocaleText=function(y){var b=this.getValueCore(y,!y||y===this.locale);return!b||!Array.isArray(b)||b.length==0?"":b.join(`
`)},O.prototype.setLocaleText=function(y,b){var P=b?b.split(`
`):null;this.setValue(y,P)},O.prototype.getValue=function(y){return this.getValueCore(y)},O.prototype.getValueCore=function(y,b){if(b===void 0&&(b=!0),y=this.getLocale(y),this.values[y])return this.values[y];if(b){var P=s.settings.localization.defaultLocaleName;if(y!==P&&this.values[P])return this.values[P]}return[]},O.prototype.setValue=function(y,b){y=this.getLocale(y);var P=o.Helpers.createCopy(this.values);!b||b.length==0?delete this.values[y]:this.values[y]=b,this.onValueChanged&&this.onValueChanged(P,this.values)},O.prototype.hasValue=function(y){return y===void 0&&(y=""),!this.isEmpty&&this.getValue(y).length>0},Object.defineProperty(O.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),O.prototype.getLocale=function(y){return y||(y=this.locale,y||s.settings.localization.defaultLocaleName)},O.prototype.getLocales=function(){var y=this.getValuesKeys();return y.length==0?[]:y},O.prototype.getJson=function(){var y=this.getValuesKeys();return y.length==0?null:y.length==1&&y[0]==s.settings.localization.defaultLocaleName&&!s.settings.serialization.localizableStringSerializeAsObject?this.values[y[0]]:o.Helpers.createCopy(this.values)},O.prototype.setJson=function(y){if(this.values={},!!y)if(Array.isArray(y))this.setValue(null,y);else for(var b in y)this.setValue(b,y[b])},O.prototype.getValuesKeys=function(){return Object.keys(this.values)},O}()},"./src/localization/english.ts":function(n,r,i){i.r(r),i.d(r,"englishStrings",function(){return o});var o={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",selectAllItemText:"Select All",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain visible pages or questions.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"Our records show that you have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} variant(s).",maxSelectError:"Please select no more than {0} variant(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file chosen",fileDragAreaPlaceholder:"Drag and drop a file here or click the button below and choose a file to upload.",confirmDelete:"Do you want to delete the record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",signaturePlaceHolder:"Sign here",chooseFileCaption:"Choose file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",noEntriesText:`There are no entries yet.
Click the button below to add a new entry.`,noEntriesReadonlyText:"There are no entries.",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are ranked",selectToRankEmptyUnrankedAreaText:"Drag and drop choices here to rank them"}},"./src/martixBase.ts":function(n,r,i){i.r(r),i.d(r,"QuestionMatrixBaseModel",function(){return b});var o=i("./src/itemvalue.ts"),a=i("./src/question.ts"),s=i("./src/jsonobject.ts"),c=i("./src/conditions.ts"),C=i("./src/helpers.ts"),E=i("./src/utils/cssClassBuilder.ts"),O=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),y=function(P,g,m,v){var f=arguments.length,l=f<3?g:v===null?v=Object.getOwnPropertyDescriptor(g,m):v,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(P,g,m,v);else for(var h=P.length-1;h>=0;h--)(d=P[h])&&(l=(f<3?d(l):f>3?d(g,m,l):d(g,m))||l);return f>3&&l&&Object.defineProperty(g,m,l),l},b=function(P){O(g,P);function g(m){var v=P.call(this,m)||this;return v.generatedVisibleRows=null,v.generatedTotalRow=null,v.filteredRows=null,v.filteredColumns=null,v.columns=v.createColumnValues(),v.rows=v.createItemValues("rows"),v}return g.prototype.createColumnValues=function(){return this.createItemValues("columns")},g.prototype.getType=function(){return"matrixbase"},g.prototype.endLoadingFromJson=function(){P.prototype.endLoadingFromJson.call(this),this.updateVisibilityBasedOnRows()},Object.defineProperty(g.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(m){this.setPropertyValue("showHeader",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(m){this.setPropertyValue("columns",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"visibleColumns",{get:function(){return this.filteredColumns?this.filteredColumns:this.columns},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(m){var v=this.processRowsOnSet(m);this.setPropertyValue("rows",v),this.filterItems()},enumerable:!1,configurable:!0}),g.prototype.processRowsOnSet=function(m){return m},g.prototype.getVisibleRows=function(){return[]},Object.defineProperty(g.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(m){this.setPropertyValue("rowsVisibleIf",m),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(m){this.setPropertyValue("columnsVisibleIf",m),this.filterItems()},enumerable:!1,configurable:!0}),g.prototype.runCondition=function(m,v){P.prototype.runCondition.call(this,m,v),this.runItemsCondition(m,v)},g.prototype.filterItems=function(){return this.areInvisibleElementsShowing?(this.onRowsChanged(),!1):this.isLoadingFromJson||!this.data?!1:this.runItemsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},g.prototype.onColumnsChanged=function(){},g.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)},g.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&(this.visible=this.rows.length>0&&(!this.filteredRows||this.filteredRows.length>0))},g.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},g.prototype.hasRowsAsItems=function(){return!0},g.prototype.runItemsCondition=function(m,v){var f=null;if(this.filteredRows&&!C.Helpers.isValueEmpty(this.defaultValue)){f=[];for(var l=0;l<this.filteredRows.length;l++)f.push(this.filteredRows[l])}var d=this.hasRowsAsItems()&&this.runConditionsForRows(m,v),h=this.runConditionsForColumns(m,v);return d=h||d,d&&(this.isClearValueOnHidden&&(this.filteredColumns||this.filteredRows)&&this.clearIncorrectValues(),f&&this.restoreNewVisibleRowsValues(f),this.clearGeneratedRows(),h&&this.onColumnsChanged(),this.onRowsChanged()),d},g.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},g.prototype.runConditionsForRows=function(m,v){var f=!!this.survey&&this.survey.areInvisibleElementsShowing,l=!f&&this.rowsVisibleIf?new c.ConditionRunner(this.rowsVisibleIf):null;this.filteredRows=[];var d=o.ItemValue.runConditionsForItems(this.rows,this.filteredRows,l,m,v,!f);return this.filteredRows.length===this.rows.length&&(this.filteredRows=null),d},g.prototype.runConditionsForColumns=function(m,v){var f=!!this.survey&&!this.survey.areInvisibleElementsShowing,l=f&&this.columnsVisibleIf?new c.ConditionRunner(this.columnsVisibleIf):null;this.filteredColumns=[];var d=o.ItemValue.runConditionsForItems(this.columns,this.filteredColumns,l,m,v,this.shouldRunColumnExpression());return this.filteredColumns.length===this.columns.length&&(this.filteredColumns=null),d},g.prototype.clearIncorrectValues=function(){var m=this.value;if(m){var v=null,f=!1,l=this.filteredRows?this.filteredRows:this.rows,d=this.filteredColumns?this.filteredColumns:this.columns;for(var h in m)o.ItemValue.getItemByValue(l,h)&&o.ItemValue.getItemByValue(d,m[h])?(v==null&&(v={}),v[h]=m[h]):f=!0;f&&(this.value=v),P.prototype.clearIncorrectValues.call(this)}},g.prototype.clearInvisibleValuesInRows=function(){if(!this.isEmpty()){for(var m=this.getUnbindValue(this.value),v=this.rows,f=0;f<v.length;f++){var l=v[f].value;m[l]&&!v[f].isVisible&&delete m[l]}this.isTwoValueEquals(m,this.value)||(this.value=m)}},g.prototype.restoreNewVisibleRowsValues=function(m){var v=this.filteredRows?this.filteredRows:this.rows,f=this.defaultValue,l=this.getUnbindValue(this.value),d=!1;for(var h in f)o.ItemValue.getItemByValue(v,h)&&!o.ItemValue.getItemByValue(m,h)&&(l==null&&(l={}),l[h]=f[h],d=!0);d&&(this.value=l)},g.prototype.needResponsiveWidth=function(){return!0},g.prototype.getTableCss=function(){return new E.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,this.verticalAlign==="top").append(this.cssClasses.rootVerticalAlignMiddle,this.verticalAlign==="middle").toString()},Object.defineProperty(g.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth","")},set:function(m){this.setPropertyValue("columnMinWidth",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth","")},set:function(m){this.setPropertyValue("rowTitleWidth",m)},enumerable:!1,configurable:!0}),y([Object(s.property)({defaultValue:"middle"})],g.prototype,"verticalAlign",void 0),y([Object(s.property)()],g.prototype,"alternateRows",void 0),g}(a.Question);s.Serializer.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1}],void 0,"question")},"./src/multiSelectListModel.ts":function(n,r,i){i.r(r),i.d(r,"MultiSelectListModel",function(){return C});var o=i("./src/jsonobject.ts"),a=i("./src/list.ts"),s=function(){var E=function(O,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,P){b.__proto__=P}||function(b,P){for(var g in P)Object.prototype.hasOwnProperty.call(P,g)&&(b[g]=P[g])},E(O,y)};return function(O,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");E(O,y);function b(){this.constructor=O}O.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),c=function(E,O,y,b){var P=arguments.length,g=P<3?O:b===null?b=Object.getOwnPropertyDescriptor(O,y):b,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(E,O,y,b);else for(var v=E.length-1;v>=0;v--)(m=E[v])&&(g=(P<3?m(g):P>3?m(O,y,g):m(O,y))||g);return P>3&&g&&Object.defineProperty(O,y,g),g},C=function(E){s(O,E);function O(y,b,P,g,m,v){var f=E.call(this,y,b,P,void 0,m,v)||this;return f.onItemClick=function(l){f.isItemDisabled(l)||(f.isExpanded=!1,f.isItemSelected(l)?(f.selectedItems.splice(f.selectedItems.indexOf(l),1)[0],f.onSelectionChanged&&f.onSelectionChanged(l,"removed")):(f.selectedItems.push(l),f.onSelectionChanged&&f.onSelectionChanged(l,"added")))},f.isItemDisabled=function(l){return l.enabled!==void 0&&!l.enabled},f.isItemSelected=function(l){return!!f.allowSelection&&f.selectedItems.filter(function(d){return f.areSameItems(d,l)}).length>0},f.setSelectedItems(g||[]),f}return O.prototype.updateItemState=function(){var y=this;this.actions.forEach(function(b){var P=y.isItemSelected(b);b.visible=y.hideSelectedItems?!P:!0})},O.prototype.updateState=function(){var y=this;this.updateItemState(),this.isEmpty=this.renderedActions.filter(function(b){return y.isItemVisible(b)}).length===0},O.prototype.setSelectedItems=function(y){this.selectedItems=y,this.updateState()},O.prototype.selectFocusedItem=function(){E.prototype.selectFocusedItem.call(this),this.hideSelectedItems&&this.focusNextVisibleItem()},c([Object(o.property)()],O.prototype,"hideSelectedItems",void 0),O}(a.ListModel)},"./src/notifier.ts":function(n,r,i){i.r(r),i.d(r,"Notifier",function(){return y});var o=i("./src/base.ts"),a=i("./src/settings.ts"),s=i("./src/jsonobject.ts"),c=i("./src/utils/cssClassBuilder.ts"),C=i("./src/actions/container.ts"),E=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),O=function(b,P,g,m){var v=arguments.length,f=v<3?P:m===null?m=Object.getOwnPropertyDescriptor(P,g):m,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(b,P,g,m);else for(var d=b.length-1;d>=0;d--)(l=b[d])&&(f=(v<3?l(f):v>3?l(P,g,f):l(P,g))||f);return v>3&&f&&Object.defineProperty(P,g,f),f},y=function(b){E(P,b);function P(g){var m=b.call(this)||this;return m.cssClasses=g,m.timeout=a.settings.notifications.lifetime,m.timer=void 0,m.actionsVisibility={},m.actionBar=new C.ActionContainer,m.actionBar.updateCallback=function(v){m.actionBar.actions.forEach(function(f){return f.cssClasses={}})},m.css=m.cssClasses.root,m}return P.prototype.getCssClass=function(g){return new c.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.info,g!=="error"&&g!=="success").append(this.cssClasses.error,g==="error").append(this.cssClasses.success,g==="success").append(this.cssClasses.shown,this.active).toString()},P.prototype.updateActionsVisibility=function(g){var m=this;this.actionBar.actions.forEach(function(v){return v.visible=m.actionsVisibility[v.id]===g})},P.prototype.notify=function(g,m,v){var f=this;m===void 0&&(m="info"),v===void 0&&(v=!1),this.isDisplayed=!0,setTimeout(function(){f.updateActionsVisibility(m),f.message=g,f.active=!0,f.css=f.getCssClass(m),f.timer&&(clearTimeout(f.timer),f.timer=void 0),v||(f.timer=setTimeout(function(){f.timer=void 0,f.active=!1,f.css=f.getCssClass(m)},f.timeout))},1)},P.prototype.addAction=function(g,m){g.visible=!1,g.innerCss=this.cssClasses.button;var v=this.actionBar.addAction(g);this.actionsVisibility[v.id]=m},O([Object(s.property)({defaultValue:!1})],P.prototype,"active",void 0),O([Object(s.property)({defaultValue:!1})],P.prototype,"isDisplayed",void 0),O([Object(s.property)()],P.prototype,"message",void 0),O([Object(s.property)()],P.prototype,"css",void 0),P}(o.Base)},"./src/page.ts":function(n,r,i){i.r(r),i.d(r,"PageModel",function(){return O});var o=i("./src/jsonobject.ts"),a=i("./src/panel.ts"),s=i("./src/utils/cssClassBuilder.ts"),c=i("./src/drag-drop-page-helper-v1.ts"),C=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),E=function(y,b,P,g){var m=arguments.length,v=m<3?b:g===null?g=Object.getOwnPropertyDescriptor(b,P):g,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(y,b,P,g);else for(var l=y.length-1;l>=0;l--)(f=y[l])&&(v=(m<3?f(v):m>3?f(b,P,v):f(b,P))||v);return m>3&&v&&Object.defineProperty(b,P,v),v},O=function(y){C(b,y);function b(P){P===void 0&&(P="");var g=y.call(this,P)||this;return g.hasShownValue=!1,g.timeSpent=0,g.locTitle.onGetTextCallback=function(m){return g.canShowPageNumber()&&m?g.num+". "+m:m},g.createLocalizableString("navigationTitle",g,!0),g.createLocalizableString("navigationDescription",g,!0),g.dragDropPageHelper=new c.DragDropPageHelperV1(g),g}return b.prototype.getType=function(){return"page"},b.prototype.toString=function(){return this.name},Object.defineProperty(b.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),b.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},b.prototype.canShowTitle=function(){return this.survey&&this.survey.showPageTitles},Object.defineProperty(b.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(P){this.setLocalizableStringText("navigationTitle",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(P){this.setLocalizableStringText("navigationDescription",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),b.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},Object.defineProperty(b.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(P){this.setPropertyValue("passed",P)},enumerable:!1,configurable:!0}),b.prototype.delete=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},b.prototype.onFirstRendering=function(){this.wasShown||y.prototype.onFirstRendering.call(this)},Object.defineProperty(b.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(P){this.setPropertyValue("visibleIndex",P)},enumerable:!1,configurable:!0}),b.prototype.canRenderFirstRows=function(){return!this.isDesignMode||this.visibleIndex==0},Object.defineProperty(b.prototype,"isStartPage",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isStarted",{get:function(){return this.isStartPage},enumerable:!1,configurable:!0}),b.prototype.calcCssClasses=function(P){var g={page:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(g.page,P.page),P.pageTitle&&(g.pageTitle=P.pageTitle),P.pageDescription&&(g.pageDescription=P.pageDescription),P.row&&(g.row=P.row),P.pageRow&&(g.pageRow=P.pageRow),P.rowMultiple&&(g.rowMultiple=P.rowMultiple),P.rowCompact&&(g.rowCompact=P.rowCompact),this.survey&&this.survey.updatePageCssClasses(this,g),g},Object.defineProperty(b.prototype,"cssTitle",{get:function(){return this.cssClasses.page?new s.CssClassBuilder().append(this.cssClasses.page.title).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"cssRoot",{get:function(){return!this.cssClasses.page||!this.survey?"":new s.CssClassBuilder().append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!this.survey.renderedHasHeader&&!(this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(P){this.setPropertyValue("navigationButtonsVisibility",P.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isActive",{get:function(){return!!this.survey&&this.survey.currentPage===this},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),b.prototype.setWasShown=function(P){if(P!=this.hasShownValue&&(this.hasShownValue=P,!(this.isDesignMode||P!==!0))){for(var g=this.elements,m=0;m<g.length;m++)g[m].isPanel&&g[m].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},b.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},b.prototype.getAllPanels=function(P,g){P===void 0&&(P=!1),g===void 0&&(g=!1);var m=new Array;return this.addPanelsIntoList(m,P,g),m},b.prototype.getPanels=function(P,g){return P===void 0&&(P=!1),g===void 0&&(g=!1),this.getAllPanels(P,g)},Object.defineProperty(b.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(P){this.setPropertyValue("maxTimeToFinish",P)},enumerable:!1,configurable:!0}),b.prototype.onNumChanged=function(P){},b.prototype.onVisibleChanged=function(){this.isRandomizing||(y.prototype.onVisibleChanged.call(this),this.survey!=null&&this.survey.pageVisibilityChanged(this,this.isVisible))},b.prototype.getDragDropInfo=function(){return this.dragDropPageHelper.getDragDropInfo()},b.prototype.dragDropStart=function(P,g,m){m===void 0&&(m=-1),this.dragDropPageHelper.dragDropStart(P,g,m)},b.prototype.dragDropMoveTo=function(P,g,m){return g===void 0&&(g=!1),m===void 0&&(m=!1),this.dragDropPageHelper.dragDropMoveTo(P,g,m)},b.prototype.dragDropFinish=function(P){return P===void 0&&(P=!1),this.dragDropPageHelper.dragDropFinish(P)},b.prototype.ensureRowsVisibility=function(){y.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(P){return P.ensureRowsVisibility()})},E([Object(o.property)({defaultValue:-1,onSet:function(P,g){return g.onNumChanged(P)}})],b.prototype,"num",void 0),b}(a.PanelModelBase);o.Serializer.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(y){return!!y.survey&&(y.survey.progressBarType==="buttons"||y.survey.showTOC)},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(y){return!!y.survey&&y.survey.progressBarType==="buttons"},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],function(){return new O},"panelbase")},"./src/panel.ts":function(n,r,i){i.r(r),i.d(r,"QuestionRowModel",function(){return f}),i.d(r,"PanelModelBase",function(){return l}),i.d(r,"PanelModel",function(){return d});var o=i("./src/jsonobject.ts"),a=i("./src/helpers.ts"),s=i("./src/base.ts"),c=i("./src/survey-element.ts"),C=i("./src/question.ts"),E=i("./src/questionfactory.ts"),O=i("./src/error.ts"),y=i("./src/settings.ts"),b=i("./src/utils/utils.ts"),P=i("./src/utils/cssClassBuilder.ts"),g=i("./src/drag-drop-panel-helper-v1.ts"),m=function(){var h=function(p,u){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,V){x.__proto__=V}||function(x,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(x[A]=V[A])},h(p,u)};return function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");h(p,u);function x(){this.constructor=p}p.prototype=u===null?Object.create(u):(x.prototype=u.prototype,new x)}}(),v=function(h,p,u,x){var V=arguments.length,A=V<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,u):x,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(h,p,u,x);else for(var T=h.length-1;T>=0;T--)(M=h[T])&&(A=(V<3?M(A):V>3?M(p,u,A):M(p,u))||A);return V>3&&A&&Object.defineProperty(p,u,A),A},f=function(h){m(p,h);function p(u){var x=h.call(this)||this;return x.panel=u,x._scrollableParent=void 0,x._updateVisibility=void 0,x.idValue=p.getRowId(),x.visible=u.areInvisibleElementsShowing,x.createNewArray("elements"),x.createNewArray("visibleElements"),x}return p.getRowId=function(){return"pr_"+p.rowCounter++},p.prototype.startLazyRendering=function(u,x){var V=this;x===void 0&&(x=b.findScrollableParent),this._scrollableParent=x(u),this._scrollableParent===document.documentElement&&(this._scrollableParent=window);var A=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!A,A&&(this._updateVisibility=function(){var M=Object(b.isElementVisible)(u,50);!V.isNeedRender&&M&&(V.isNeedRender=!0,V.stopLazyRendering())},setTimeout(function(){V._scrollableParent&&V._scrollableParent.addEventListener&&V._scrollableParent.addEventListener("scroll",V._updateVisibility),V.ensureVisibility()},10))},p.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},p.prototype.stopLazyRendering=function(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},p.prototype.setIsLazyRendering=function(u){this.isLazyRenderingValue=u,this.isNeedRender=!u},p.prototype.isLazyRendering=function(){return this.isLazyRenderingValue===!0},Object.defineProperty(p.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(u){this.setPropertyValue("visible",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(u){this.setPropertyValue("isneedrender",u)},enumerable:!1,configurable:!0}),p.prototype.updateVisible=function(){var u=this.calcVisible();this.setWidth(),this.visible=u},p.prototype.addElement=function(u){this.elements.push(u),this.updateVisible()},Object.defineProperty(p.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),p.prototype.setWidth=function(){var u,x=this.visibleElements.length;if(x!=0){for(var V=this.visibleElements.length===1,A=0,M=[],T=0;T<this.elements.length;T++){var D=this.elements[T];if(this.setElementMaxMinWidth(D),D.isVisible){D.isSingleInRow=V;var R=this.getElementWidth(D);R&&(D.renderWidth=this.getRenderedWidthFromWidth(R),M.push(D)),A<x-1&&!(this.panel.isDefaultV2Theme||!((u=this.panel.parentQuestion)===null||u===void 0)&&u.isDefaultV2Theme)?D.rightIndent=1:D.rightIndent=0,A++}else D.renderWidth=""}for(var T=0;T<this.elements.length;T++){var D=this.elements[T];!D.isVisible||M.indexOf(D)>-1||(M.length==0?D.renderWidth=(100/x).toFixed(6)+"%":D.renderWidth=this.getRenderedCalcWidth(D,M,x))}}},p.prototype.setElementMaxMinWidth=function(u){u.width&&typeof u.width=="string"&&u.width.indexOf("%")===-1&&(u.minWidth=u.width,u.maxWidth=u.width)},p.prototype.getRenderedCalcWidth=function(u,x,V){for(var A="100%",M=0;M<x.length;M++)A+=" - "+x[M].renderWidth;var T=V-x.length;return T>1&&(A="("+A+")/"+T.toString()),"calc("+A+")"},p.prototype.getElementWidth=function(u){var x=u.width;return!x||typeof x!="string"?"":x.trim()},p.prototype.getRenderedWidthFromWidth=function(u){return a.Helpers.isNumber(u)?u+"px":u},p.prototype.calcVisible=function(){for(var u=[],x=0;x<this.elements.length;x++)this.elements[x].isVisible&&u.push(this.elements[x]);return this.needToUpdateVisibleElements(u)&&this.setPropertyValue("visibleElements",u),u.length>0},p.prototype.needToUpdateVisibleElements=function(u){if(u.length!==this.visibleElements.length)return!0;for(var x=0;x<u.length;x++)if(u[x]!==this.visibleElements[x])return!0;return!1},p.prototype.dispose=function(){h.prototype.dispose.call(this),this.stopLazyRendering()},p.prototype.getRowCss=function(){return new P.CssClassBuilder().append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||!!this.panel.originalPage&&!this.panel.survey.isShowingPreview).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},p.rowCounter=100,v([Object(o.property)({defaultValue:null})],p.prototype,"dragTypeOverMe",void 0),p}(s.Base),l=function(h){m(p,h);function p(u){u===void 0&&(u="");var x=h.call(this,u)||this;return x.isQuestionsReady=!1,x.questionsValue=new Array,x.isRandomizing=!1,x.createNewArray("rows"),x.elementsValue=x.createNewArray("elements",x.onAddElement.bind(x),x.onRemoveElement.bind(x)),x.id=p.getPanelId(),x.addExpressionProperty("visibleIf",function(V,A){x.visible=A===!0},function(V){return!x.areInvisibleElementsShowing}),x.addExpressionProperty("enableIf",function(V,A){x.readOnly=A===!1}),x.addExpressionProperty("requiredIf",function(V,A){x.isRequired=A===!0}),x.createLocalizableString("requiredErrorText",x),x.registerPropertyChangedHandlers(["questionTitleLocation"],function(){x.onVisibleChanged.bind(x),x.updateElementCss(!0)}),x.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],function(){x.updateVisibleIndexes()}),x.dragDropPanelHelper=new g.DragDropPanelHelperV1(x),x}return p.getPanelId=function(){return"sp_"+p.panelCounter++},p.prototype.getType=function(){return"panelbase"},p.prototype.setSurveyImpl=function(u,x){h.prototype.setSurveyImpl.call(this,u,x),this.isDesignMode&&this.onVisibleChanged();for(var V=0;V<this.elements.length;V++)this.elements[V].setSurveyImpl(u,x)},p.prototype.endLoadingFromJson=function(){h.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged()},Object.defineProperty(p.prototype,"hasTitle",{get:function(){return this.canShowTitle()&&this.title.length>0||this.showTitle&&this.isDesignMode&&y.settings.designMode.showEmptyTitles},enumerable:!1,configurable:!0}),p.prototype.canShowTitle=function(){return!0},Object.defineProperty(p.prototype,"_showDescription",{get:function(){return this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&y.settings.designMode.showEmptyTitles&&y.settings.designMode.showEmptyDescriptions},enumerable:!1,configurable:!0}),p.prototype.localeChanged=function(){h.prototype.localeChanged.call(this);for(var u=0;u<this.elements.length;u++)this.elements[u].localeChanged()},p.prototype.locStrsChanged=function(){h.prototype.locStrsChanged.call(this);for(var u=0;u<this.elements.length;u++)this.elements[u].locStrsChanged()},Object.defineProperty(p.prototype,"requiredText",{get:function(){return this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(u){this.setLocalizableStringText("requiredErrorText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(u){this.setPropertyValue("questionsOrder",u)},enumerable:!1,configurable:!0}),p.prototype.canRandomize=function(u){return u&&this.questionsOrder!=="initial"||this.questionsOrder==="random"},p.prototype.randomizeElements=function(u){if(!(!this.canRandomize(u)||this.isRandomizing)){this.isRandomizing=!0;for(var x=[],V=this.elements,A=0;A<V.length;A++)x.push(V[A]);var M=a.Helpers.randomizeArray(x);this.setArrayPropertyDirectly("elements",M,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(p.prototype,"areQuestionsRandomized",{get:function(){var u=this.questionsOrder=="default"&&this.survey?this.survey.questionsOrder:this.questionsOrder;return u=="random"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(u){this.setPropertyValue("parent",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"depth",{get:function(){return this.parent==null?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(u){this.setPropertyValue("visibleIf",u)},enumerable:!1,configurable:!0}),p.prototype.calcCssClasses=function(u){var x={panel:{},error:{},row:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(x.panel,u.panel),this.copyCssClasses(x.error,u.error),u.pageRow&&(x.pageRow=u.pageRow),u.rowCompact&&(x.rowCompact=u.rowCompact),u.row&&(x.row=u.row),u.rowMultiple&&(x.rowMultiple=u.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,x),x},Object.defineProperty(p.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(u){this.setPropertyValue("id",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),p.prototype.getPanel=function(){return this},p.prototype.getLayoutType=function(){return"row"},p.prototype.isLayoutTypeSupported=function(u){return u!=="flow"},Object.defineProperty(p.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var u=0;u<this.elements.length;u++){var x=this.elements[u];if(x.isPanel)for(var V=x.questions,A=0;A<V.length;A++)this.questionsValue.push(V[A]);else this.questionsValue.push(x)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),p.prototype.getValidName=function(u){return u&&u.trim()},p.prototype.getQuestionByName=function(u){for(var x=this.questions,V=0;V<x.length;V++)if(x[V].name==u)return x[V];return null},p.prototype.getElementByName=function(u){for(var x=this.elements,V=0;V<x.length;V++){var A=x[V];if(A.name==u)return A;var M=A.getPanel();if(M){var T=M.getElementByName(u);if(T)return T}}return null},p.prototype.getQuestionByValueName=function(u){for(var x=this.questions,V=0;V<x.length;V++)if(x[V].getValueName()==u)return x[V];return null},p.prototype.getValue=function(){var u={};return this.collectValues(u,0),u},p.prototype.collectValues=function(u,x){var V=this.elements;x===0&&(V=this.questions);for(var A=0;A<V.length;A++){var M=V[A];if(M.isPanel||M.isPage){var T={};M.collectValues(T,x-1)&&(u[M.name]=T)}else{var D=M;if(!D.isEmpty()){var R=D.getValueName();if(u[R]=D.value,this.data){var S=this.data.getComment(R);S&&(u[R+s.Base.commentSuffix]=S)}}}}return!0},p.prototype.getDisplayValue=function(u){for(var x={},V=this.questions,A=0;A<V.length;A++){var M=V[A];if(!M.isEmpty()){var T=u?M.title:M.getValueName();x[T]=M.getDisplayValue(u)}}return x},p.prototype.getComments=function(){var u={};if(!this.data)return u;for(var x=this.questions,V=0;V<x.length;V++){var A=x[V],M=this.data.getComment(A.getValueName());M&&(u[A.getValueName()]=M)}return u},p.prototype.clearIncorrectValues=function(){for(var u=0;u<this.elements.length;u++)this.elements[u].clearIncorrectValues()},p.prototype.clearErrors=function(){for(var u=0;u<this.elements.length;u++)this.elements[u].clearErrors();this.errors=[]},p.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(p.prototype,"elements",{get:function(){return this.elementsValue},enumerable:!1,configurable:!0}),p.prototype.getElementsInDesign=function(u){return this.elements},p.prototype.containsElement=function(u){for(var x=0;x<this.elements.length;x++){var V=this.elements[x];if(V==u)return!0;var A=V.getPanel();if(A&&A.containsElement(u))return!0}return!1},Object.defineProperty(p.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(u){this.setPropertyValue("isRequired",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(u){this.setPropertyValue("requiredIf",u)},enumerable:!1,configurable:!0}),p.prototype.searchText=function(u,x){h.prototype.searchText.call(this,u,x);for(var V=0;V<this.elements.length;V++)this.elements[V].searchText(u,x)},p.prototype.hasErrors=function(u,x,V){return u===void 0&&(u=!0),x===void 0&&(x=!1),V===void 0&&(V=null),!this.validate(u,x,V)},p.prototype.validate=function(u,x,V){return u===void 0&&(u=!0),x===void 0&&(x=!1),V===void 0&&(V=null),V=V||{fireCallback:u,focuseOnFirstError:x,firstErrorQuestion:null,result:!1},V.result!==!0&&(V.result=!1),this.hasErrorsCore(V),V.firstErrorQuestion&&V.firstErrorQuestion.focus(!0),!V.result},p.prototype.validateContainerOnly=function(){this.hasErrorsInPanels({fireCallback:!0}),this.parent&&this.parent.validateContainerOnly()},p.prototype.hasErrorsInPanels=function(u){var x=[];if(this.hasRequiredError(u,x),this.survey){var V=this.survey.validatePanel(this);V&&(x.push(V),u.result=!0)}u.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,x),this.errors=x)},p.prototype.getErrorCustomText=function(u,x){return this.survey?this.survey.getSurveyErrorCustomText(this,u,x):u},p.prototype.hasRequiredError=function(u,x){if(this.isRequired){var V=[];if(this.addQuestionsToList(V,!0),V.length!=0){for(var A=0;A<V.length;A++)if(!V[A].isEmpty())return;u.result=!0,x.push(new O.OneAnswerRequiredError(this.requiredErrorText,this)),u.focuseOnFirstError&&!u.firstErrorQuestion&&(u.firstErrorQuestion=V[0])}}},p.prototype.hasErrorsCore=function(u){for(var x=this.elements,V=null,A=0;A<x.length;A++)if(V=x[A],!!V.isVisible)if(V.isPanel)V.hasErrorsCore(u);else{var M=V;if(M.isReadOnly)continue;M.validate(u.fireCallback,u)||(u.focuseOnFirstError&&u.firstErrorQuestion==null&&(u.firstErrorQuestion=M),u.result=!0)}this.hasErrorsInPanels(u),this.updateContainsErrors()},p.prototype.getContainsErrors=function(){var u=h.prototype.getContainsErrors.call(this);if(u)return u;for(var x=this.elements,V=0;V<x.length;V++)if(x[V].containsErrors)return!0;return!1},p.prototype.updateElementVisibility=function(){for(var u=0;u<this.elements.length;u++){var x=this.elements[u];x.setPropertyValue("isVisible",x.isVisible),x.isPanel&&x.updateElementVisibility()}},p.prototype.getFirstQuestionToFocus=function(u,x){if(u===void 0&&(u=!1),x===void 0&&(x=!1),!u&&!x&&this.isCollapsed)return null;for(var V=this.elements,A=0;A<V.length;A++){var M=V[A];if(!(!M.isVisible||!x&&M.isCollapsed))if(M.isPanel){var T=M.getFirstQuestionToFocus(u,x);if(T)return T}else{var D=M.getFirstQuestionToFocus(u);if(D)return D}}return null},p.prototype.focusFirstQuestion=function(){var u=this.getFirstQuestionToFocus();u&&u.focus()},p.prototype.focusFirstErrorQuestion=function(){var u=this.getFirstQuestionToFocus(!0);u&&u.focus()},p.prototype.addQuestionsToList=function(u,x,V){x===void 0&&(x=!1),V===void 0&&(V=!1),this.addElementsToList(u,x,V,!1)},p.prototype.addPanelsIntoList=function(u,x,V){x===void 0&&(x=!1),V===void 0&&(V=!1),this.addElementsToList(u,x,V,!0)},p.prototype.addElementsToList=function(u,x,V,A){x&&!this.visible||this.addElementsToListCore(u,this.elements,x,V,A)},p.prototype.addElementsToListCore=function(u,x,V,A,M){for(var T=0;T<x.length;T++){var D=x[T];V&&!D.visible||((M&&D.isPanel||!M&&!D.isPanel)&&u.push(D),D.isPanel?D.addElementsToListCore(u,D.elements,V,A,M):A&&this.addElementsToListCore(u,D.getElementsInDesign(!1),V,A,M))}},p.prototype.updateCustomWidgets=function(){for(var u=0;u<this.elements.length;u++)this.elements[u].updateCustomWidgets()},Object.defineProperty(p.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(u){this.setPropertyValue("questionTitleLocation",u.toLowerCase())},enumerable:!1,configurable:!0}),p.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():this.questionTitleLocation!="default"?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},p.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},p.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},p.prototype.getChildrenLayoutType=function(){return"row"},p.prototype.getProgressInfo=function(){return c.SurveyElement.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(p.prototype,"root",{get:function(){for(var u=this;u.parent;)u=u.parent;return u},enumerable:!1,configurable:!0}),p.prototype.childVisibilityChanged=function(){var u=this.getIsPageVisible(null),x=this.getPropertyValue("isVisible",!0);u!==x&&this.onVisibleChanged()},p.prototype.createRowAndSetLazy=function(u){var x=this.createRow();return x.setIsLazyRendering(this.isLazyRenderInRow(u)),x},p.prototype.createRow=function(){return new f(this)},p.prototype.onSurveyLoad=function(){for(var u=0;u<this.elements.length;u++)this.elements[u].onSurveyLoad();this.onElementVisibilityChanged(this)},p.prototype.onFirstRendering=function(){h.prototype.onFirstRendering.call(this);for(var u=0;u<this.elements.length;u++)this.elements[u].onFirstRendering();this.onRowsChanged()},p.prototype.updateRows=function(){if(!this.isLoadingFromJson){for(var u=0;u<this.elements.length;u++)this.elements[u].isPanel&&this.elements[u].updateRows();this.onRowsChanged()}},Object.defineProperty(p.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),p.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(u){u.ensureVisibility()})},p.prototype.onRowsChanged=function(){this.isLoadingFromJson||this.setArrayPropertyDirectly("rows",this.buildRows())},p.prototype.onAddElement=function(u,x){var V=this;if(u.setSurveyImpl(this.surveyImpl),u.parent=this,this.markQuestionListDirty(),this.canBuildRows()){var A=y.settings.supportCreatorV2?this.getDragDropInfo():void 0;this.dragDropPanelHelper.updateRowsOnElementAdded(u,x,A,this)}if(u.isPanel){var M=u;this.survey&&this.survey.panelAdded(M,x,this,this.root)}else if(this.survey){var T=u;this.survey.questionAdded(T,x,this,this.root)}this.addElementCallback&&this.addElementCallback(u),u.registerPropertyChangedHandlers(["visible","isVisible"],function(){V.onElementVisibilityChanged(u)},this.id),u.registerPropertyChangedHandlers(["startWithNewLine"],function(){V.onElementStartWithNewLineChanged(u)},this.id),this.onElementVisibilityChanged(this)},p.prototype.onRemoveElement=function(u){u.parent=null,this.markQuestionListDirty(),u.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(u),!this.isRandomizing&&(u.isPanel?this.survey&&this.survey.panelRemoved(u):this.survey&&this.survey.questionRemoved(u),this.removeElementCallback&&this.removeElementCallback(u),this.onElementVisibilityChanged(this))},p.prototype.onElementVisibilityChanged=function(u){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(u),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},p.prototype.onElementStartWithNewLineChanged=function(u){this.onRowsChanged()},p.prototype.updateRowsVisibility=function(u){for(var x=this.rows,V=0;V<x.length;V++){var A=x[V];if(A.elements.indexOf(u)>-1){A.updateVisible(),A.visible&&!A.isNeedRender&&(A.isNeedRender=!0);break}}},p.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&this.getChildrenLayoutType()=="row"},p.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var u=new Array,x=0;x<this.elements.length;x++){var V=this.elements[x],A=x==0||V.startWithNewLine,M=A?this.createRowAndSetLazy(u.length):u[u.length-1];A&&u.push(M),M.addElement(V)}for(var x=0;x<u.length;x++)u[x].updateVisible();return u},p.prototype.isLazyRenderInRow=function(u){return!this.survey||!this.survey.isLazyRendering?!1:u>=y.settings.lazyRender.firstBatchSize||!this.canRenderFirstRows()},p.prototype.canRenderFirstRows=function(){return this.isPage},p.prototype.getDragDropInfo=function(){var u=this.getPage(this.parent);return u?u.getDragDropInfo():void 0},p.prototype.updateRowsOnElementRemoved=function(u){this.canBuildRows()&&this.updateRowsRemoveElementFromRow(u,this.findRowByElement(u))},p.prototype.updateRowsRemoveElementFromRow=function(u,x){if(!(!x||!x.panel)){var V=x.elements.indexOf(u);V<0||(x.elements.splice(V,1),x.elements.length>0?(x.elements[0].startWithNewLine=!0,x.updateVisible()):x.index>=0&&x.panel.rows.splice(x.index,1))}},p.prototype.findRowByElement=function(u){for(var x=this.rows,V=0;V<x.length;V++)if(x[V].elements.indexOf(u)>-1)return x[V];return null},p.prototype.elementWidthChanged=function(u){if(!this.isLoadingFromJson){var x=this.findRowByElement(u);x&&x.updateVisible()}},Object.defineProperty(p.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),p.prototype.getRenderedTitle=function(u){return this.textProcessor!=null?this.textProcessor.processText(u,!0):u},Object.defineProperty(p.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(u){u!==this.visible&&(this.setPropertyValue("visible",u),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),p.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&this.survey.getQuestionClearIfInvisible("default")!=="none"&&!this.isLoadingFromJson))for(var u=this.questions,x=this.isVisible,V=0;V<u.length;V++)x?u[V].updateValueWithDefaults():u[V].clearValueIfInvisible("onHiddenContainer")},Object.defineProperty(p.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),p.prototype.getIsPageVisible=function(u){if(!this.visible)return!1;for(var x=0;x<this.elements.length;x++)if(this.elements[x]!=u&&this.elements[x].isVisible)return!0;return!1},p.prototype.setVisibleIndex=function(u){if(!this.isVisible||u<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=u;var x=u;u+=this.beforeSetVisibleIndex(u);for(var V=this.getPanelStartIndex(u),A=V,M=0;M<this.elements.length;M++)A+=this.elements[M].setVisibleIndex(A);return this.isContinueNumbering()&&(u+=A-V),u-x},p.prototype.updateVisibleIndexes=function(){this.lastVisibleIndex!==void 0&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},p.prototype.resetVisibleIndexes=function(){for(var u=0;u<this.elements.length;u++)this.elements[u].setVisibleIndex(-1)},p.prototype.beforeSetVisibleIndex=function(u){return 0},p.prototype.getPanelStartIndex=function(u){return u},p.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(p.prototype,"isReadOnly",{get:function(){var u=!!this.parent&&this.parent.isReadOnly,x=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||u||x},enumerable:!1,configurable:!0}),p.prototype.onReadOnlyChanged=function(){for(var u=0;u<this.elements.length;u++){var x=this.elements[u];x.setPropertyValue("isReadOnly",x.isReadOnly)}h.prototype.onReadOnlyChanged.call(this)},p.prototype.updateElementCss=function(u){h.prototype.updateElementCss.call(this,u);for(var x=0;x<this.elements.length;x++){var V=this.elements[x];V.updateElementCss(u)}},Object.defineProperty(p.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(u){this.setPropertyValue("enableIf",u)},enumerable:!1,configurable:!0}),p.prototype.addElement=function(u,x){return x===void 0&&(x=-1),this.canAddElement(u)?(x<0||x>=this.elements.length?this.elements.push(u):this.elements.splice(x,0,u),!0):!1},p.prototype.insertElementAfter=function(u,x){var V=this.elements.indexOf(x);V>=0&&this.addElement(u,V+1)},p.prototype.insertElementBefore=function(u,x){var V=this.elements.indexOf(x);V>=0&&this.addElement(u,V)},p.prototype.canAddElement=function(u){return!!u&&u.isLayoutTypeSupported(this.getChildrenLayoutType())},p.prototype.addQuestion=function(u,x){return x===void 0&&(x=-1),this.addElement(u,x)},p.prototype.addPanel=function(u,x){return x===void 0&&(x=-1),this.addElement(u,x)},p.prototype.addNewQuestion=function(u,x,V){x===void 0&&(x=null),V===void 0&&(V=-1);var A=E.QuestionFactory.Instance.createQuestion(u,x);return this.addQuestion(A,V)?A:null},p.prototype.addNewPanel=function(u){u===void 0&&(u=null);var x=this.createNewPanel(u);return this.addPanel(x)?x:null},p.prototype.indexOf=function(u){return this.elements.indexOf(u)},p.prototype.createNewPanel=function(u){var x=o.Serializer.createClass("panel");return x.name=u,x},p.prototype.removeElement=function(u){var x=this.elements.indexOf(u);if(x<0){for(var V=0;V<this.elements.length;V++)if(this.elements[V].removeElement(u))return!0;return!1}return this.elements.splice(x,1),!0},p.prototype.removeQuestion=function(u){this.removeElement(u)},p.prototype.runCondition=function(u,x){if(!(this.isDesignMode||this.isLoadingFromJson)){for(var V=this.elements.slice(),A=0;A<V.length;A++)V[A].runCondition(u,x);this.runConditionCore(u,x)}},p.prototype.onAnyValueChanged=function(u){for(var x=this.elements,V=0;V<x.length;V++)x[V].onAnyValueChanged(u)},p.prototype.checkBindings=function(u,x){for(var V=this.elements,A=0;A<V.length;A++)V[A].checkBindings(u,x)},p.prototype.dragDropAddTarget=function(u){this.dragDropPanelHelper.dragDropAddTarget(u)},p.prototype.dragDropFindRow=function(u){return this.dragDropPanelHelper.dragDropFindRow(u)},p.prototype.dragDropMoveElement=function(u,x,V){this.dragDropPanelHelper.dragDropMoveElement(u,x,V)},p.prototype.needResponsiveWidth=function(){var u=!1;return this.elements.forEach(function(x){x.needResponsiveWidth()&&(u=!0)}),this.rows.forEach(function(x){x.elements.length>1&&(u=!0)}),u},Object.defineProperty(p.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),p.prototype.dispose=function(){if(h.prototype.dispose.call(this),this.rows){for(var u=0;u<this.rows.length;u++)this.rows[u].dispose();this.rows.splice(0,this.rows.length)}for(var u=0;u<this.elements.length;u++)this.elements[u].dispose();this.elements.splice(0,this.elements.length)},p.panelCounter=100,v([Object(o.property)({defaultValue:!0})],p.prototype,"showTitle",void 0),v([Object(o.property)({defaultValue:!0})],p.prototype,"showDescription",void 0),p}(c.SurveyElement),d=function(h){m(p,h);function p(u){u===void 0&&(u="");var x=h.call(this,u)||this;return x.createNewArray("footerActions"),x.registerPropertyChangedHandlers(["width"],function(){x.parent&&x.parent.elementWidthChanged(x)}),x.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],function(){x.onIndentChanged()}),x}return p.prototype.getType=function(){return"panel"},Object.defineProperty(p.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),p.prototype.getSurvey=function(u){return u===void 0&&(u=!1),u?this.parent?this.parent.getSurvey(u):null:h.prototype.getSurvey.call(this,u)},p.prototype.onSurveyLoad=function(){h.prototype.onSurveyLoad.call(this),this.onIndentChanged()},p.prototype.onSetData=function(){h.prototype.onSetData.call(this),this.onIndentChanged()},Object.defineProperty(p.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(u){this.setPage(this.parent,u)},enumerable:!1,configurable:!0}),p.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},p.prototype.moveTo=function(u,x){return x===void 0&&(x=null),this.moveToBase(this.parent,u,x)},Object.defineProperty(p.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),p.prototype.getTitleOwner=function(){return this},Object.defineProperty(p.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber")},set:function(u){this.setPropertyValue("showNumber",u),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(u){this.setPropertyValue("showQuestionNumbers",u),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(u){this.setPropertyValue("questionStartIndex",u)},enumerable:!1,configurable:!0}),p.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:h.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(p.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),p.prototype.setNo=function(u){this.setPropertyValue("no",a.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},p.prototype.beforeSetVisibleIndex=function(u){var x=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty)&&(x=u),this.setPropertyValue("visibleIndex",x),this.setNo(x),x<0?0:1},p.prototype.getPanelStartIndex=function(u){return this.showQuestionNumbers=="off"?-1:this.showQuestionNumbers=="onpanel"?0:u},p.prototype.isContinueNumbering=function(){return this.showQuestionNumbers!="off"&&this.showQuestionNumbers!="onpanel"},p.prototype.notifySurveyOnVisibilityChanged=function(){this.survey!=null&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)},p.prototype.hasErrorsCore=function(u){h.prototype.hasErrorsCore.call(this,u),this.isCollapsed&&u.result&&u.fireCallback&&this.expand()},p.prototype.getRenderedTitle=function(u){if(!u){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return h.prototype.getRenderedTitle.call(this,u)},Object.defineProperty(p.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(u){this.setPropertyValue("innerIndent",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(u){this.setPropertyValue("startWithNewLine",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(u){this.setPropertyValue("allowAdaptiveActions",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(u){this.setPropertyValue("innerPaddingLeft",u)},enumerable:!1,configurable:!0}),p.prototype.onIndentChanged=function(){this.getSurvey()&&(this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent))},p.prototype.getIndentSize=function(u){if(u<1)return"";var x=this.survey.css;return!x||!x.question.indent?"":u*x.question.indent+"px"},p.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(u){(u instanceof C.Question||u instanceof p)&&u.clearOnDeletingContainer()})},Object.defineProperty(p.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"footerToolbarCss",{get:function(){var u;return this.footerToolbarCssValue||((u=this.cssClasses.panel)===null||u===void 0?void 0:u.footer)},set:function(u){this.footerToolbarCssValue=u},enumerable:!1,configurable:!0}),p.prototype.getFooterToolbar=function(){var u=this,x;if(!this.footerToolbarValue){var V=this.footerActions;this.hasEditButton&&V.push({id:"cancel-preview",title:this.survey.editText,innerCss:this.survey.cssNavigationEdit,action:function(){u.cancelPreview()}}),this.onGetFooterActionsCallback?V=this.onGetFooterActionsCallback():V=(x=this.survey)===null||x===void 0?void 0:x.getUpdatedPanelFooterActions(this,V),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions),this.footerToolbarValue.containerCss=this.footerToolbarCss,this.footerToolbarValue.setItems(V)}return this.footerToolbarValue},Object.defineProperty(p.prototype,"hasEditButton",{get:function(){return this.survey&&this.survey.state==="preview"?this.depth===1:!1},enumerable:!1,configurable:!0}),p.prototype.cancelPreview=function(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)},Object.defineProperty(p.prototype,"cssTitle",{get:function(){return this.getCssTitle(this.cssClasses.panel)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showErrorsAbovePanel",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),p.prototype.getCssError=function(u){var x=this.isDefaultV2Theme,V=new P.CssClassBuilder().append(this.cssClasses.error.root).append(this.cssClasses.error.outsideQuestion,x).append(this.cssClasses.error.aboveQuestion,x);return V.append("panel-error-root",V.isEmpty()).toString()},p.prototype.onVisibleChanged=function(){h.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},p.prototype.needResponsiveWidth=function(){return this.startWithNewLine?h.prototype.needResponsiveWidth.call(this):!0},p.prototype.focusIn=function(){this.survey&&this.survey.whenPanelFocusIn(this)},p.prototype.getHasFrameV2=function(){return h.prototype.getHasFrameV2.call(this)&&(!this.originalPage||this.survey.isShowingPreview)},p.prototype.getIsNested=function(){return h.prototype.getIsNested.call(this)&&this.parent!==void 0},p.prototype.getCssRoot=function(u){return new P.CssClassBuilder().append(h.prototype.getCssRoot.call(this,u)).append(u.container).append(u.asPage,!!this.originalPage&&!this.survey.isShowingPreview).append(u.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},p.prototype.getContainerCss=function(){return this.getCssRoot(this.cssClasses.panel)},p}(l);o.Serializer.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0},"visibleIf:condition","enableIf:condition","requiredIf:condition","readOnly:boolean",{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]}],function(){return new l}),o.Serializer.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},"isRequired:switch",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"maxWidth",defaultFunc:function(){return y.settings.maxWidth}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3]},{name:"page",isSerializable:!1,visibleIf:function(h){var p=h?h.survey:null;return!p||!p.pages||p.pages.length>1},choices:function(h){var p=h?h.survey:null;return p?p.pages.map(function(u){return{value:u.name,text:u.title}}):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex",{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new d},"panelbase"),E.ElementFactory.Instance.registerElement("panel",function(h){return new d(h)})},"./src/popup-dropdown-view-model.ts":function(n,r,i){i.r(r),i.d(r,"PopupDropdownViewModel",function(){return y});var o=i("./src/jsonobject.ts"),a=i("./src/utils/popup.ts"),s=i("./src/popup-view-model.ts"),c=i("./src/utils/devices.ts"),C=i("./src/settings.ts"),E=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),O=function(b,P,g,m){var v=arguments.length,f=v<3?P:m===null?m=Object.getOwnPropertyDescriptor(P,g):m,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(b,P,g,m);else for(var d=b.length-1;d>=0;d--)(l=b[d])&&(f=(v<3?l(f):v>3?l(P,g,f):l(P,g))||f);return v>3&&f&&Object.defineProperty(P,g,f),f},y=function(b){E(P,b);function P(g,m){var v=b.call(this,g)||this;return v.targetElement=m,v.scrollEventCallBack=function(f){if(v.isOverlay&&c.IsTouch){f.stopPropagation(),f.preventDefault();return}v.hidePopup()},v.resizeEventCallback=function(){var f=window.visualViewport;document.documentElement.style.setProperty("--sv-popup-overlay-height",f.height*f.scale+"px")},v.resizeWindowCallback=function(){v.isOverlay||v.updatePosition(!0,!1)},v.clientY=0,v.isTablet=!1,v.touchStartEventCallback=function(f){v.clientY=f.touches[0].clientY},v.touchMoveEventCallback=function(f){v.preventScrollOuside(f,v.clientY-f.changedTouches[0].clientY)},v.model.onRecalculatePosition.add(function(f,l){v.isOverlay||v.updatePosition(l.isResetHeight)}),v}return P.prototype.calculateIsTablet=function(g,m){var v=Math.min(g,m);this.isTablet=v>=P.tabletSizeBreakpoint},P.prototype._updatePosition=function(){var g,m,v;if(this.targetElement){var f=this.targetElement.getBoundingClientRect(),l=(g=this.container)===null||g===void 0?void 0:g.querySelector(this.containerSelector);if(l){var d=(m=this.container)===null||m===void 0?void 0:m.querySelector(this.fixedPopupContainer),h=l.querySelector(this.scrollingContentSelector),p=window.getComputedStyle(l),u=parseFloat(p.marginLeft)||0,x=parseFloat(p.marginRight)||0,V=l.offsetHeight-h.offsetHeight+h.scrollHeight,A=l.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=f.width+"px");var M=this.model.verticalPosition,T=this.getActualHorizontalPosition();if(window){var D=[V,window.innerHeight*.9,(v=window.visualViewport)===null||v===void 0?void 0:v.height];V=Math.ceil(Math.min.apply(Math,D.filter(function(L){return typeof L=="number"}))),M=a.PopupUtils.updateVerticalPosition(f,V,this.model.verticalPosition,this.model.showPointer,window.innerHeight)}this.popupDirection=a.PopupUtils.calculatePopupDirection(M,T);var R=a.PopupUtils.calculatePosition(f,V,A+u+x,M,T,this.showHeader,this.model.positionMode);if(window){var S=a.PopupUtils.updateVerticalDimensions(R.top,V,window.innerHeight);S&&(this.height=S.height+"px",R.top=S.top);var I=a.PopupUtils.updateHorizontalDimensions(R.left,A,window.innerWidth,T,this.model.positionMode,{left:u,right:x});I&&(this.width=I.width?I.width+"px":void 0,R.left=I.left)}if(d){var w=d.getBoundingClientRect();R.top-=w.top,R.left-=w.left}this.left=R.left+"px",this.top=R.top+"px",this.showHeader&&(this.pointerTarget=a.PopupUtils.calculatePointerTarget(f,R.top,R.left,M,T,u,x),this.pointerTarget.top+="px",this.pointerTarget.left+="px")}}},P.prototype.getActualHorizontalPosition=function(){var g=this.model.horizontalPosition,m=!!document&&document.defaultView.getComputedStyle(document.body).direction=="rtl";return m&&(this.model.horizontalPosition==="left"?g="right":this.model.horizontalPosition==="right"&&(g="left")),g},P.prototype.getStyleClass=function(){return b.prototype.getStyleClass.call(this).append("sv-popup--dropdown",!this.isOverlay).append("sv-popup--tablet",this.isTablet&&this.isOverlay).append("sv-popup--show-pointer",!this.isOverlay&&this.showHeader).append("sv-popup--"+this.popupDirection,!this.isOverlay&&this.showHeader)},P.prototype.getShowHeader=function(){return this.model.showPointer&&!this.isOverlay},P.prototype.getPopupHeaderTemplate=function(){return"popup-pointer"},P.prototype.setComponentElement=function(g,m){b.prototype.setComponentElement.call(this,g),g&&g.parentElement&&!this.isModal&&(this.targetElement=m||g.parentElement)},P.prototype.updateOnShowing=function(){var g=C.settings.environment.root;this.prevActiveElement=g.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),window.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(window.visualViewport.addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.calculateIsTablet(window.innerWidth,window.innerHeight),this.resizeEventCallback()),window.addEventListener("scroll",this.scrollEventCallBack)},Object.defineProperty(P.prototype,"shouldCreateResizeCallback",{get:function(){return!!window.visualViewport&&this.isOverlay&&c.IsTouch},enumerable:!1,configurable:!0}),P.prototype.updatePosition=function(g,m){var v=this;m===void 0&&(m=!0),g&&(this.height="auto"),m?setTimeout(function(){v._updatePosition()},1):this._updatePosition()},P.prototype.updateOnHiding=function(){b.prototype.updateOnHiding.call(this),window.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(window.visualViewport.removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),window.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)},P.tabletSizeBreakpoint=600,O([Object(o.property)()],P.prototype,"isTablet",void 0),O([Object(o.property)({defaultValue:"left"})],P.prototype,"popupDirection",void 0),O([Object(o.property)({defaultValue:{left:"0px",top:"0px"}})],P.prototype,"pointerTarget",void 0),P}(s.PopupBaseViewModel)},"./src/popup-modal-view-model.ts":function(n,r,i){i.r(r),i.d(r,"PopupModalViewModel",function(){return s});var o=i("./src/popup-view-model.ts"),a=function(){var c=function(C,E){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,y){O.__proto__=y}||function(O,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(O[b]=y[b])},c(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");c(C,E);function O(){this.constructor=C}C.prototype=E===null?Object.create(E):(O.prototype=E.prototype,new O)}}(),s=function(c){a(C,c);function C(E){var O=c.call(this,E)||this;return O.onScrollOutsideCallback=function(y){O.preventScrollOuside(y,y.deltaY)},O}return C.prototype.getStyleClass=function(){return c.prototype.getStyleClass.call(this).append("sv-popup--modal",!this.isOverlay)},C.prototype.getShowFooter=function(){return!0},C.prototype.createFooterActionBar=function(){var E=this;c.prototype.createFooterActionBar.call(this),this.footerToolbarValue.addAction({id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--apply sd-btn sd-btn--action",action:function(){E.apply()}})},Object.defineProperty(C.prototype,"applyButtonText",{get:function(){return this.getLocalizationString("modalApplyButtonText")},enumerable:!1,configurable:!0}),C.prototype.apply=function(){this.model.onApply&&!this.model.onApply()||this.hidePopup()},C.prototype.clickOutside=function(){},C.prototype.onKeyDown=function(E){(E.key==="Escape"||E.keyCode===27)&&this.model.onCancel(),c.prototype.onKeyDown.call(this,E)},C.prototype.updateOnShowing=function(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),c.prototype.updateOnShowing.call(this)},C.prototype.updateOnHiding=function(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),c.prototype.updateOnHiding.call(this)},C}(o.PopupBaseViewModel)},"./src/popup-survey.ts":function(n,r,i){i.r(r),i.d(r,"PopupSurveyModel",function(){return E}),i.d(r,"SurveyWindowModel",function(){return O});var o=i("./src/base.ts"),a=i("./src/survey.ts"),s=i("./src/jsonobject.ts"),c=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),C=function(y,b,P,g){var m=arguments.length,v=m<3?b:g===null?g=Object.getOwnPropertyDescriptor(b,P):g,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(y,b,P,g);else for(var l=y.length-1;l>=0;l--)(f=y[l])&&(v=(m<3?f(v):m>3?f(b,P,v):f(b,P))||v);return m>3&&v&&Object.defineProperty(b,P,v),v},E=function(y){c(b,y);function b(P,g){g===void 0&&(g=null);var m=y.call(this)||this;return m.closeOnCompleteTimeout=0,g?m.surveyValue=g:m.surveyValue=m.createSurvey(P),m.surveyValue.showTitle=!1,typeof document<"u"&&(m.windowElement=document.createElement("div")),m.survey.onComplete.add(function(v,f){m.onSurveyComplete()}),m.registerPropertyChangedHandlers(["isShowing"],function(){m.showingChangedCallback&&m.showingChangedCallback()}),m.registerPropertyChangedHandlers(["isExpanded"],function(){m.onExpandedChanged()}),m.width=new o.ComputedUpdater(function(){return m.survey.width}),m.width=m.survey.width,m.updateCss(),m.onCreating(),m.survey.onPopupVisibleChanged.add(function(v,f){f.visible?m.onScrollCallback=function(){f.popup.toggleVisibility()}:m.onScrollCallback=void 0}),m}return b.prototype.onCreating=function(){},b.prototype.getType=function(){return"popupsurvey"},Object.defineProperty(b.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(P){this.setPropertyValue("isShowing",P)},enumerable:!1,configurable:!0}),b.prototype.show=function(){this.isShowing=!0},b.prototype.hide=function(){this.isShowing=!1},Object.defineProperty(b.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(P){this.setPropertyValue("isExpanded",P)},enumerable:!1,configurable:!0}),b.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(b.prototype,"title",{get:function(){return this.survey.title},set:function(P){this.survey.title=P},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locTitle",{get:function(){return this.survey.locTitle},enumerable:!1,configurable:!0}),b.prototype.expand=function(){this.isExpanded=!0},b.prototype.collapse=function(){this.isExpanded=!1},b.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(b.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"cssRoot",{get:function(){return this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"cssHeaderTitle",{get:function(){return this.getPropertyValue("cssHeaderTitle","")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"renderedWidth",{get:function(){var P=this.getPropertyValue("width","60%");return P&&!isNaN(P)&&(P=P+"px"),P},enumerable:!1,configurable:!0}),b.prototype.updateCss=function(){if(!(!this.css||!this.css.window)){var P=this.css.window;this.setPropertyValue("cssRoot",P.root),this.setPropertyValue("cssBody",P.body);var g=P.header;g&&(this.setPropertyValue("cssHeaderRoot",g.root),this.setPropertyValue("cssHeaderTitle",g.title),this.updateCssButton())}},b.prototype.updateCssButton=function(){var P=this.css.window?this.css.window.header:null;P&&this.setCssButton(this.isExpanded?P.buttonExpanded:P.buttonCollapsed)},b.prototype.setCssButton=function(P){P&&this.setPropertyValue("cssButton",P)},b.prototype.createSurvey=function(P){return new a.SurveyModel(P)},b.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(this.closeOnCompleteTimeout==0)this.hide();else{var P=this,g=null,m=function(){P.hide(),typeof window<"u"&&window.clearInterval(g)};g=typeof window<"u"?window.setInterval(m,this.closeOnCompleteTimeout*1e3):0}},b.prototype.onScroll=function(){this.onScrollCallback&&this.onScrollCallback()},C([Object(s.property)()],b.prototype,"width",void 0),b}(o.Base),O=function(y){c(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b}(E)},"./src/popup-utils.ts":function(n,r,i){i.r(r),i.d(r,"createPopupModalViewModel",function(){return c}),i.d(r,"createPopupViewModel",function(){return C});var o=i("./src/popup.ts"),a=i("./src/popup-dropdown-view-model.ts"),s=i("./src/popup-modal-view-model.ts");function c(E,O){var y=new o.PopupModel(E.componentName,E.data,"top","left",!1,!0,E.onCancel,E.onApply,E.onHide,E.onShow,E.cssClass,E.title);y.displayMode=E.displayMode||"popup";var b=new s.PopupModalViewModel(y);return b.setComponentElement(O),O||b.initializePopupContainer(),b}function C(E,O){return E.isModal?new s.PopupModalViewModel(E):new a.PopupDropdownViewModel(E,O)}},"./src/popup-view-model.ts":function(n,r,i){i.r(r),i.d(r,"FOCUS_INPUT_SELECTOR",function(){return b}),i.d(r,"PopupBaseViewModel",function(){return P});var o=i("./src/base.ts"),a=i("./src/jsonobject.ts"),s=i("./src/utils/cssClassBuilder.ts"),c=i("./src/actions/container.ts"),C=i("./src/settings.ts"),E=i("./src/utils/utils.ts"),O=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),y=function(g,m,v,f){var l=arguments.length,d=l<3?m:f===null?f=Object.getOwnPropertyDescriptor(m,v):f,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(g,m,v,f);else for(var p=g.length-1;p>=0;p--)(h=g[p])&&(d=(l<3?h(d):l>3?h(m,v,d):h(m,v))||d);return l>3&&d&&Object.defineProperty(m,v,d),d},b='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',P=function(g){O(m,g);function m(v){var f=g.call(this)||this;return f.popupSelector=".sv-popup",f.fixedPopupContainer=".sv-popup",f.containerSelector=".sv-popup__container",f.scrollingContentSelector=".sv-popup__scrolling-content",f.model=v,f}return Object.defineProperty(m.prototype,"container",{get:function(){return this.containerElement||this.createdContainer},enumerable:!1,configurable:!0}),m.prototype.getLocale=function(){return this.locale?this.locale:g.prototype.getLocale.call(this)},m.prototype.hidePopup=function(){this.model.isVisible=!1},m.prototype.getStyleClass=function(){return new s.CssClassBuilder().append(this.model.cssClass).append("sv-popup--"+this.model.displayMode,this.isOverlay)},m.prototype.getShowFooter=function(){return this.isOverlay},m.prototype.getShowHeader=function(){return!1},m.prototype.getPopupHeaderTemplate=function(){},m.prototype.createFooterActionBar=function(){var v=this;this.footerToolbarValue=new c.ActionContainer,this.footerToolbar.updateCallback=function(l){v.footerToolbarValue.actions.forEach(function(d){return d.cssClasses={item:"sv-popup__body-footer-item sv-popup__button sd-btn"}})};var f=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel sd-btn",action:function(){v.cancel()}}];f=this.model.updateFooterActions(f),this.footerToolbarValue.setItems(f)},m.prototype.resetDimensionsAndPositionStyleProperties=function(){var v="inherit";this.top=v,this.left=v,this.height=v,this.width=v,this.minWidth=v},m.prototype.setupModel=function(v){var f=this;this.model&&this.model.unregisterPropertyChangedHandlers(["isVisible"],"PopupBaseViewModel"),this._model=v;var l=function(){v.isVisible||f.updateOnHiding(),f.isVisible=v.isVisible};v.registerPropertyChangedHandlers(["isVisible"],l,"PopupBaseViewModel"),l()},Object.defineProperty(m.prototype,"model",{get:function(){return this._model},set:function(v){this.setupModel(v)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isFocusedContent",{get:function(){return this.model.isFocusedContent},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isFocusedContainer",{get:function(){return this.model.isFocusedContainer},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"showFooter",{get:function(){return this.getShowFooter()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"showHeader",{get:function(){return this.getShowHeader()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"popupHeaderTemplate",{get:function(){return this.getPopupHeaderTemplate()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isOverlay",{get:function(){return this.model.displayMode==="overlay"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"styleClass",{get:function(){return this.getStyleClass().toString()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"cancelButtonText",{get:function(){return this.getLocalizationString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),m.prototype.onKeyDown=function(v){v.key==="Tab"||v.keyCode===9?this.trapFocus(v):(v.key==="Escape"||v.keyCode===27)&&this.hidePopup()},m.prototype.trapFocus=function(v){var f=this.container.querySelectorAll(b),l=f[0],d=f[f.length-1];v.shiftKey?C.settings.environment.root.activeElement===l&&(d.focus(),v.preventDefault()):C.settings.environment.root.activeElement===d&&(l.focus(),v.preventDefault())},m.prototype.switchFocus=function(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()},m.prototype.updateOnShowing=function(){this.prevActiveElement=C.settings.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus()},m.prototype.updateOnHiding=function(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus()},m.prototype.focusContainer=function(){if(this.container){var v=this.container.querySelector(this.popupSelector);v==null||v.focus()}},m.prototype.focusFirstInput=function(){var v=this;setTimeout(function(){if(v.container){var f=v.container.querySelector(v.model.focusFirstInputSelector||b);f?f.focus():v.focusContainer()}},100)},m.prototype.clickOutside=function(v){this.hidePopup(),v==null||v.stopPropagation()},m.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},m.prototype.dispose=function(){g.prototype.dispose.call(this),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose()},m.prototype.initializePopupContainer=function(){if(!this.container){var v=document.createElement("div");this.createdContainer=v,Object(E.getElement)(C.settings.environment.popupMountContainer).appendChild(v)}},m.prototype.setComponentElement=function(v,f){v&&(this.containerElement=v)},m.prototype.preventScrollOuside=function(v,f){for(var l=v.target;l!==this.container;){if(window.getComputedStyle(l).overflowY==="auto"&&l.scrollHeight!==l.offsetHeight){var d=l.scrollHeight,h=l.scrollTop,p=l.clientHeight;if(!(f>0&&Math.abs(d-p-h)<1)&&!(f<0&&h<=0))return}l=l.parentElement}v.preventDefault()},y([Object(a.property)({defaultValue:"0px"})],m.prototype,"top",void 0),y([Object(a.property)({defaultValue:"0px"})],m.prototype,"left",void 0),y([Object(a.property)({defaultValue:"auto"})],m.prototype,"height",void 0),y([Object(a.property)({defaultValue:"auto"})],m.prototype,"width",void 0),y([Object(a.property)({defaultValue:"auto"})],m.prototype,"minWidth",void 0),y([Object(a.property)({defaultValue:!1})],m.prototype,"isVisible",void 0),y([Object(a.property)()],m.prototype,"locale",void 0),m}(o.Base)},"./src/popup.ts":function(n,r,i){i.r(r),i.d(r,"PopupModel",function(){return C}),i.d(r,"createDialogOptions",function(){return E});var o=i("./src/base.ts"),a=i("./src/jsonobject.ts"),s=function(){var O=function(y,b){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,g){P.__proto__=g}||function(P,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(P[m]=g[m])},O(y,b)};return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");O(y,b);function P(){this.constructor=y}y.prototype=b===null?Object.create(b):(P.prototype=b.prototype,new P)}}(),c=function(O,y,b,P){var g=arguments.length,m=g<3?y:P===null?P=Object.getOwnPropertyDescriptor(y,b):P,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(O,y,b,P);else for(var f=O.length-1;f>=0;f--)(v=O[f])&&(m=(g<3?v(m):g>3?v(y,b,m):v(y,b))||m);return g>3&&m&&Object.defineProperty(y,b,m),m},C=function(O){s(y,O);function y(b,P,g,m,v,f,l,d,h,p,u,x){g===void 0&&(g="bottom"),m===void 0&&(m="left"),v===void 0&&(v=!0),f===void 0&&(f=!1),l===void 0&&(l=function(){}),d===void 0&&(d=function(){return!0}),h===void 0&&(h=function(){}),p===void 0&&(p=function(){}),u===void 0&&(u=""),x===void 0&&(x="");var V=O.call(this)||this;return V.focusFirstInputSelector="",V.onVisibilityChanged=V.addEvent(),V.onFooterActionsCreated=V.addEvent(),V.onRecalculatePosition=V.addEvent(),V.contentComponentName=b,V.contentComponentData=P,V.verticalPosition=g,V.horizontalPosition=m,V.showPointer=v,V.isModal=f,V.onCancel=l,V.onApply=d,V.onHide=h,V.onShow=p,V.cssClass=u,V.title=x,V}return y.prototype.refreshInnerModel=function(){var b=this.contentComponentData.model;b&&b.refresh&&b.refresh()},Object.defineProperty(y.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(b){this.isVisible!==b&&(this.setPropertyValue("isVisible",b),this.onVisibilityChanged.fire(this,{model:this,isVisible:b}),this.isVisible?this.onShow():(this.refreshInnerModel(),this.onHide()))},enumerable:!1,configurable:!0}),y.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},y.prototype.recalculatePosition=function(b){this.onRecalculatePosition.fire(this,{isResetHeight:b})},y.prototype.updateFooterActions=function(b){var P={actions:b};return this.onFooterActionsCreated.fire(this,P),P.actions},c([Object(a.property)()],y.prototype,"contentComponentName",void 0),c([Object(a.property)()],y.prototype,"contentComponentData",void 0),c([Object(a.property)({defaultValue:"bottom"})],y.prototype,"verticalPosition",void 0),c([Object(a.property)({defaultValue:"left"})],y.prototype,"horizontalPosition",void 0),c([Object(a.property)({defaultValue:!1})],y.prototype,"showPointer",void 0),c([Object(a.property)({defaultValue:!1})],y.prototype,"isModal",void 0),c([Object(a.property)({defaultValue:!0})],y.prototype,"isFocusedContent",void 0),c([Object(a.property)({defaultValue:!0})],y.prototype,"isFocusedContainer",void 0),c([Object(a.property)({defaultValue:function(){}})],y.prototype,"onCancel",void 0),c([Object(a.property)({defaultValue:function(){return!0}})],y.prototype,"onApply",void 0),c([Object(a.property)({defaultValue:function(){}})],y.prototype,"onHide",void 0),c([Object(a.property)({defaultValue:function(){}})],y.prototype,"onShow",void 0),c([Object(a.property)({defaultValue:""})],y.prototype,"cssClass",void 0),c([Object(a.property)({defaultValue:""})],y.prototype,"title",void 0),c([Object(a.property)({defaultValue:"popup"})],y.prototype,"displayMode",void 0),c([Object(a.property)({defaultValue:"flex"})],y.prototype,"positionMode",void 0),y}(o.Base);function E(O,y,b,P,g,m,v,f,l){return g===void 0&&(g=function(){}),m===void 0&&(m=function(){}),l===void 0&&(l="popup"),{componentName:O,data:y,onApply:b,onCancel:P,onHide:g,onShow:m,cssClass:v,title:f,displayMode:l}}},"./src/question.ts":function(n,r,i){i.r(r),i.d(r,"Question",function(){return l});var o=i("./src/helpers.ts"),a=i("./src/jsonobject.ts"),s=i("./src/survey-element.ts"),c=i("./src/error.ts"),C=i("./src/validator.ts"),E=i("./src/localizablestring.ts"),O=i("./src/conditions.ts"),y=i("./src/questionCustomWidgets.ts"),b=i("./src/settings.ts"),P=i("./src/rendererFactory.ts"),g=i("./src/utils/cssClassBuilder.ts"),m=i("./src/utils/utils.ts"),v=function(){var h=function(p,u){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,V){x.__proto__=V}||function(x,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(x[A]=V[A])},h(p,u)};return function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");h(p,u);function x(){this.constructor=p}p.prototype=u===null?Object.create(u):(x.prototype=u.prototype,new x)}}(),f=function(h,p,u,x){var V=arguments.length,A=V<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,u):x,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(h,p,u,x);else for(var T=h.length-1;T>=0;T--)(M=h[T])&&(A=(V<3?M(A):V>3?M(p,u,A):M(p,u))||A);return V>3&&A&&Object.defineProperty(p,u,A),A},l=function(h){v(p,h);function p(u){var x=h.call(this,u)||this;return x.customWidgetData={isNeedRender:!0},x.isReadyValue=!0,x.onReadyChanged=x.addEvent(),x.isRunningValidatorsValue=!1,x.isValueChangedInSurvey=!1,x.allowNotifyValueChanged=!0,x.id=p.getQuestionId(),x.onCreating(),x.createNewArray("validators",function(V){V.errorOwner=x}),x.addExpressionProperty("visibleIf",function(V,A){x.visible=A===!0},function(V){return!x.areInvisibleElementsShowing}),x.addExpressionProperty("enableIf",function(V,A){x.readOnly=A===!1}),x.addExpressionProperty("requiredIf",function(V,A){x.isRequired=A===!0}),x.createLocalizableString("commentText",x,!0,"otherItemText"),x.locTitle.onGetDefaultTextCallback=function(){return x.name},x.locTitle.storeDefaultText=!0,x.createLocalizableString("requiredErrorText",x),x.registerPropertyChangedHandlers(["width"],function(){x.updateQuestionCss(),x.parent&&x.parent.elementWidthChanged(x)}),x.registerPropertyChangedHandlers(["isRequired"],function(){!x.isRequired&&x.errors.length>0&&x.validate(),x.locTitle.strChanged(),x.clearCssClasses()}),x.registerPropertyChangedHandlers(["indent","rightIndent"],function(){x.onIndentChanged()}),x.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],function(){x.initCommentFromSurvey()}),x.registerFunctionOnPropertiesValueChanged(["no","readOnly"],function(){x.updateQuestionCss()}),x.registerPropertyChangedHandlers(["isMobile"],function(){x.onMobileChanged()}),x}return p.getQuestionId=function(){return"sq_"+p.questionCounter++},p.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&b.settings.readOnly.commentRenderMode==="div"},p.prototype.setIsMobile=function(u){},p.prototype.createLocTitleProperty=function(){var u=this,x=h.prototype.createLocTitleProperty.call(this);return x.onGetTextCallback=function(V){return V||(V=u.name),u.survey?u.survey.getUpdatedQuestionTitle(u,V):V},this.locProcessedTitle=new E.LocalizableString(this,!0),this.locProcessedTitle.sharedData=x,x},p.prototype.getSurvey=function(u){return u===void 0&&(u=!1),u?this.parent?this.parent.getSurvey(u):null:this.onGetSurvey?this.onGetSurvey():h.prototype.getSurvey.call(this)},p.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(p.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(u){var x=this.getValueName();this.setPropertyValue("valueName",u),this.onValueNameChanged(x)},enumerable:!1,configurable:!0}),p.prototype.onValueNameChanged=function(u){this.survey&&(this.survey.questionRenamed(this,this.name,u||this.name),this.initDataFromSurvey())},p.prototype.onNameChanged=function(u){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,u,this.valueName?this.valueName:u)},Object.defineProperty(p.prototype,"isReady",{get:function(){return this.isReadyValue},set:function(u){var x=this.isReadyValue;this.isReadyValue=u,x!=u&&this.onReadyChanged.fire(this,{question:this,isReady:u,oldIsReady:x})},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"ariaInvalid",{get:function(){return this.errors.length>0?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"ariaLabelledBy",{get:function(){return this.hasTitle?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"ariaExpanded",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"ariaDescribedBy",{get:function(){return this.errors.length>0?this.id+"_errors":null},enumerable:!1,configurable:!0}),p.prototype.choicesLoaded=function(){},Object.defineProperty(p.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(u){this.setPage(this.parent,u)},enumerable:!1,configurable:!0}),p.prototype.getPanel=function(){return null},p.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},Object.defineProperty(p.prototype,"isFlowLayout",{get:function(){return this.getLayoutType()==="flow"},enumerable:!1,configurable:!0}),p.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},p.prototype.isLayoutTypeSupported=function(u){return u!=="flow"},Object.defineProperty(p.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(u){u!=this.visible&&(this.setPropertyValue("visible",u),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),p.prototype.onVisibleChanged=function(){this.setPropertyValue("isVisible",this.isVisible),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},Object.defineProperty(p.prototype,"useDisplayValuesInDynamicTexts",{get:function(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")},set:function(u){this.setPropertyValue("useDisplayValuesInDynamicTexts",u)},enumerable:!1,configurable:!0}),p.prototype.getUseDisplayValuesInDynamicTexts=function(){return this.useDisplayValuesInDynamicTexts},Object.defineProperty(p.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(u){this.setPropertyValue("visibleIf",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isVisible",{get:function(){return this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty()?!1:this.areInvisibleElementsShowing?!0:this.isVisibleCore()},enumerable:!1,configurable:!0}),p.prototype.isVisibleCore=function(){return this.visible},Object.defineProperty(p.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(u){this.setPropertyValue("hideNumber",u),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),p.prototype.getType=function(){return"question"},Object.defineProperty(p.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),p.prototype.moveTo=function(u,x){return x===void 0&&(x=null),this.moveToBase(this.parent,u,x)},p.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:h.prototype.getProgressInfo.call(this)},p.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},p.prototype.setSurveyImpl=function(u,x){h.prototype.setSurveyImpl.call(this,u),this.survey&&(this.survey.questionCreated(this),x!==!0&&this.runConditions())},Object.defineProperty(p.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(u){this.parent!==u&&(this.delete(),this.setPropertyValue("parent",u),this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),p.prototype.onParentChanged=function(){},Object.defineProperty(p.prototype,"hasTitle",{get:function(){return this.getTitleLocation()!=="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(u){var x=this.titleLocation=="hidden"||u=="hidden";this.setPropertyValue("titleLocation",u.toLowerCase()),this.updateQuestionCss(),x&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),p.prototype.getTitleOwner=function(){return this},p.prototype.getIsTitleRenderedAsString=function(){return this.titleLocation==="hidden"},p.prototype.notifySurveyVisibilityChanged=function(){if(!(!this.survey||this.isLoadingFromJson)){this.survey.questionVisibilityChanged(this,this.isVisible);var u=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(u),u&&this.isVisible&&this.updateValueWithDefaults()}},p.prototype.clearValueOnHidding=function(u){u&&this.clearValueIfInvisible()},p.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var u=this.getTitleLocationCore();return u==="left"&&!this.isAllowTitleLeft&&(u="top"),u},p.prototype.getTitleLocationCore=function(){return this.titleLocation!=="default"?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(p.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&this.getTitleLocation()==="left"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&this.getTitleLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&this.getTitleLocation()==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var u=this.getTitleLocation();return u==="left"||u==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"errorLocation",{get:function(){return this.survey?this.survey.questionErrorLocation:"top"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),p.prototype.getDefaultTitleValue=function(){return this.name},p.prototype.getDefaultTitleTagName=function(){return b.settings.titleTags.question},Object.defineProperty(p.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(u){this.setPropertyValue("descriptionLocation",u),this.updateQuestionCss()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasDescriptionUnderTitle",{get:function(){return this.getDescriptionLocation()=="underTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasDescriptionUnderInput",{get:function(){return this.getDescriptionLocation()=="underInput"},enumerable:!1,configurable:!0}),p.prototype.getDescriptionLocation=function(){return this.descriptionLocation!=="default"?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},p.prototype.needClickTitleFunction=function(){return h.prototype.needClickTitleFunction.call(this)||this.hasInput},p.prototype.processTitleClick=function(){var u=this;if(h.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){u.focus()},1),!0},Object.defineProperty(p.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(u){this.setLocalizableStringText("requiredErrorText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(u){this.setLocalizableStringText("commentText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"commentPlaceHolder",{get:function(){return this.commentPlaceholder},set:function(u){this.commentPlaceholder=u},enumerable:!1,configurable:!0}),p.prototype.getAllErrors=function(){return this.errors.slice()},p.prototype.getErrorByType=function(u){for(var x=0;x<this.errors.length;x++)if(this.errors[x].getErrorType()===u)return this.errors[x];return null},Object.defineProperty(p.prototype,"customWidget",{get:function(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),p.prototype.updateCustomWidget=function(){this.customWidgetValue=y.CustomWidgetCollection.Instance.getCustomWidget(this)},p.prototype.localeChanged=function(){h.prototype.localeChanged.call(this),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(p.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),p.prototype.updateCommentElements=function(){if(!(!this.autoGrowComment||!Array.isArray(this.commentElements)))for(var u=0;u<this.commentElements.length;u++){var x=this.commentElements[u];x&&Object(m.increaseHeightByContent)(x)}},p.prototype.onCommentInput=function(u){this.isInputTextUpdate?u.target&&(this.comment=u.target.value):this.updateCommentElements()},p.prototype.onCommentChange=function(u){this.comment=u.target.value,this.comment!==u.target.value&&(u.target.value=this.comment)},p.prototype.afterRenderQuestionElement=function(u){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,u)},p.prototype.afterRender=function(u){var x=this;this.survey&&(this.survey.afterRenderQuestion(this,u),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,u),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(function(V){var A=b.settings.environment.root,M=A.getElementById(V);M&&x.commentElements.push(M)}),this.updateCommentElements()),this.checkForResponsiveness(u))},p.prototype.getCommentElementsId=function(){return[this.commentId]},p.prototype.beforeDestroyQuestionElement=function(u){this.commentElements=void 0},Object.defineProperty(p.prototype,"processedTitle",{get:function(){var u=this.locProcessedTitle.textOrHtml;return u||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(u){this.startWithNewLine!=u&&this.setPropertyValue("startWithNewLine",u)},enumerable:!1,configurable:!0}),p.prototype.calcCssClasses=function(u){var x={error:{}};return this.copyCssClasses(x,u.question),this.copyCssClasses(x.error,u.error),this.updateCssClasses(x,u),this.survey&&this.survey.updateQuestionCssClasses(this,x),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(x),x},Object.defineProperty(p.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),p.prototype.setCssRoot=function(u){this.setPropertyValue("cssRoot",u)},p.prototype.getCssRoot=function(u){return new g.CssClassBuilder().append(h.prototype.getCssRoot.call(this,u)).append(this.isFlowLayout&&!this.isDesignMode?u.flowRoot:u.mainRoot).append(u.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(u.hasError,this.errors.length>0).append(u.small,!this.width).append(u.answered,this.isAnswered).toString()},Object.defineProperty(p.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),p.prototype.setCssHeader=function(u){this.setPropertyValue("cssHeader",u)},p.prototype.getCssHeader=function(u){return new g.CssClassBuilder().append(u.header).append(u.headerTop,this.hasTitleOnTop).append(u.headerLeft,this.hasTitleOnLeft).append(u.headerBottom,this.hasTitleOnBottom).toString()},Object.defineProperty(p.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),p.prototype.setCssContent=function(u){this.setPropertyValue("cssContent",u)},p.prototype.getCssContent=function(u){return new g.CssClassBuilder().append(u.content).append(u.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(p.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),p.prototype.setCssTitle=function(u){this.setPropertyValue("cssTitle",u)},p.prototype.getCssTitle=function(u){return new g.CssClassBuilder().append(h.prototype.getCssTitle.call(this,u)).append(u.titleOnAnswer,!this.containsErrors&&this.isAnswered).toString()},Object.defineProperty(p.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")},enumerable:!1,configurable:!0}),p.prototype.setCssDescription=function(u){this.setPropertyValue("cssDescription",u)},p.prototype.getCssDescription=function(u){return new g.CssClassBuilder().append(u.description,this.hasDescriptionUnderTitle).append(u.descriptionUnderInput,this.hasDescriptionUnderInput).toString()},p.prototype.getIsErrorsModeTooltip=function(){return h.prototype.getIsErrorsModeTooltip.call(this)&&!this.customWidget},p.prototype.showErrorOnCore=function(u){return!this.isErrorsModeTooltip&&!this.showErrorsAboveQuestion&&!this.showErrorsBelowQuestion&&this.errorLocation===u},Object.defineProperty(p.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),p.prototype.getIsTooltipErrorSupportedByParent=function(){return this.parentQuestion?this.parentQuestion.getIsTooltipErrorInsideSupported():h.prototype.getIsTooltipErrorSupportedByParent.call(this)},Object.defineProperty(p.prototype,"showErrorsOutsideQuestion",{get:function(){return this.isDefaultV2Theme&&!(this.hasParent&&this.getIsTooltipErrorSupportedByParent())},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showErrorsAboveQuestion",{get:function(){return this.showErrorsOutsideQuestion&&this.errorLocation==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showErrorsBelowQuestion",{get:function(){return this.showErrorsOutsideQuestion&&this.errorLocation==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),p.prototype.setCssError=function(u){this.setPropertyValue("cssError",u)},p.prototype.getCssError=function(u){return new g.CssClassBuilder().append(u.error.root).append(u.error.outsideQuestion,this.showErrorsBelowQuestion||this.showErrorsAboveQuestion).append(u.error.belowQuestion,this.showErrorsBelowQuestion).append(u.error.aboveQuestion,this.showErrorsAboveQuestion).append(u.error.tooltip,this.isErrorsModeTooltip).append(u.error.locationTop,this.showErrorOnTop).append(u.error.locationBottom,this.showErrorOnBottom).toString()},p.prototype.getRootCss=function(){return new g.CssClassBuilder().append(this.cssRoot).append(this.cssClasses.disabled,this.isReadOnly).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},p.prototype.updateElementCss=function(u){h.prototype.updateElementCss.call(this,u),u&&this.updateQuestionCss(!0),this.onIndentChanged()},p.prototype.updateQuestionCss=function(u){this.isLoadingFromJson||!this.survey||u!==!0&&!this.cssClassesValue||this.updateElementCssCore(this.cssClasses)},p.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},p.prototype.updateElementCssCore=function(u){this.setCssRoot(this.getCssRoot(u)),this.setCssHeader(this.getCssHeader(u)),this.setCssContent(this.getCssContent(u)),this.setCssTitle(this.getCssTitle(u)),this.setCssDescription(this.getCssDescription(u)),this.setCssError(this.getCssError(u))},p.prototype.updateCssClasses=function(u,x){if(x.question){var V=x[this.getCssType()],A=new g.CssClassBuilder().append(u.title).append(x.question.titleRequired,this.isRequired);u.title=A.toString();var M=new g.CssClassBuilder().append(u.root).append(V,this.isRequired&&!!x.question.required);if(V==null)u.root=M.toString();else if(typeof V=="string"||V instanceof String)u.root=M.append(V.toString()).toString();else{u.root=M.toString();for(var T in V)u[T]=V[T]}}},p.prototype.getCssType=function(){return this.getType()},Object.defineProperty(p.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),p.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},p.prototype.getIndentSize=function(u){return u<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":u*this.cssClasses.indent+"px"},p.prototype.focus=function(u){var x=this;if(u===void 0&&(u=!1),!(this.isDesignMode||!this.isVisible||!this.survey)){var V=this.page;!V&&this.parentQuestion&&(V=this.parentQuestion.page);var A=!!V&&this.survey.currentPage!==V;A?(this.survey.currentPage=V,setTimeout(function(){return x.focuscore(u)},0)):this.focuscore(u)}},p.prototype.focuscore=function(u){u===void 0&&(u=!1),this.survey&&(this.expandAllParents(this),this.survey.scrollElementToTop(this,this,null,this.id));var x=u?this.getFirstErrorInputElementId():this.getFirstInputElementId();s.SurveyElement.FocusElement(x)&&this.fireCallback(this.focusCallback)},p.prototype.expandAllParents=function(u){u&&(u.isCollapsed&&u.expand(),this.expandAllParents(u.parent),this.expandAllParents(u.parentQuestion))},p.prototype.focusIn=function(){this.survey&&this.survey.whenQuestionFocusIn(this)},p.prototype.fireCallback=function(u){u&&u()},p.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},p.prototype.onCreating=function(){},p.prototype.getFirstQuestionToFocus=function(u){return this.hasInput&&(!u||this.currentErrorCount>0)?this:null},p.prototype.getFirstInputElementId=function(){return this.inputId},p.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},p.prototype.getProcessedTextValue=function(u){var x=u.name.toLocaleLowerCase();u.isExists=Object.keys(p.TextPreprocessorValuesMap).indexOf(x)!==-1||this[u.name]!==void 0,u.value=this[p.TextPreprocessorValuesMap[x]||u.name]},p.prototype.supportComment=function(){var u=this.getPropertyByName("showCommentArea");return!u||u.visible},p.prototype.supportOther=function(){return!1},Object.defineProperty(p.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(u){this.setPropertyValue("isRequired",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(u){this.setPropertyValue("requiredIf",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showCommentArea",{get:function(){return this.getPropertyValue("showCommentArea",!1)},set:function(u){this.supportComment()&&this.setPropertyValue("showCommentArea",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasComment",{get:function(){return this.showCommentArea},set:function(u){this.showCommentArea=u},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(u){this.setPropertyValue("id",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"commentId",{get:function(){return this.id+"_comment"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"ariaRole",{get:function(){return"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showOtherItem",{get:function(){return this.getPropertyValue("showOtherItem",!1)},set:function(u){!this.supportOther()||this.showOtherItem==u||(this.setPropertyValue("showOtherItem",u),this.hasOtherChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasOther",{get:function(){return this.showOtherItem},set:function(u){this.showOtherItem=u},enumerable:!1,configurable:!0}),p.prototype.hasOtherChanged=function(){},Object.defineProperty(p.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isReadOnly",{get:function(){var u=!!this.parent&&this.parent.isReadOnly,x=!!this.parentQuestion&&this.parentQuestion.isReadOnly,V=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||u||V||x},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isInputReadOnly",{get:function(){if(this.forceIsInputReadOnly!==void 0)return this.forceIsInputReadOnly;var u=b.settings.supportCreatorV2&&this.isDesignMode;return this.isReadOnly||u},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),p.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),h.prototype.onReadOnlyChanged.call(this),this.updateQuestionCss()},Object.defineProperty(p.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(u){this.setPropertyValue("enableIf",u)},enumerable:!1,configurable:!0}),p.prototype.surveyChoiceItemVisibilityChange=function(){},p.prototype.runCondition=function(u,x){this.isDesignMode||(x||(x={}),x.question=this,this.runConditionCore(u,x),this.isValueChangedDirectly||(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,u,x)))},Object.defineProperty(p.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),p.prototype.calcNo=function(){if(!this.hasTitle||this.hideNumber)return"";var u=o.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.survey&&(u=this.survey.getUpdatedQuestionNo(this,u)),u},p.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},p.prototype.onSurveyLoad=function(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey(),this.onIndentChanged()},p.prototype.onSetData=function(){h.prototype.onSetData.call(this),this.survey&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.onIndentChanged(),this.updateQuestionCss(),this.updateIsAnswered())},p.prototype.initDataFromSurvey=function(){if(this.data){var u=this.data.getValue(this.getValueName());(!o.Helpers.isValueEmpty(u)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(u),this.initCommentFromSurvey()}},p.prototype.initCommentFromSurvey=function(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")},p.prototype.runExpression=function(u){if(!(!this.survey||!u))return this.survey.runExpression(u)},Object.defineProperty(p.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"allowResizeComment",{get:function(){return this.survey&&this.survey.allowResizeComment},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"questionValue",{get:function(){return this.getPropertyValueWithoutDefault("value")},set:function(u){this.setPropertyValue("value",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"questionComment",{get:function(){return this.getPropertyValueWithoutDefault("comment")},set:function(u){this.setPropertyValue("comment",u),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this.getValueCore()},set:function(u){this.setNewValue(u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"valueForSurvey",{get:function(){return this.valueToDataCallback?this.valueToDataCallback(this.value):this.value},enumerable:!1,configurable:!0}),p.prototype.clearValue=function(){this.value!==void 0&&(this.value=void 0),this.comment&&(this.comment=void 0)},p.prototype.unbindValue=function(){this.clearValue()},p.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},p.prototype.getUnbindValue=function(u){return this.isValueSurveyElement(u)?u:o.Helpers.getUnbindValue(u)},p.prototype.isValueSurveyElement=function(u){return u?Array.isArray(u)?u.length>0?this.isValueSurveyElement(u[0]):!1:!!u.getType&&!!u.onPropertyChanged:!1},p.prototype.canClearValueAsInvisible=function(u){return u==="onHiddenContainer"&&!this.isParentVisible?!0:this.isVisible&&this.isParentVisible||this.page&&this.page.isStartPage?!1:!this.survey||!this.valueName?!0:!this.survey.hasVisibleQuestionByValueName(this.valueName)},Object.defineProperty(p.prototype,"isParentVisible",{get:function(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var u=this.parent;u;){if(!u.isVisible)return!1;u=u.parent}return!0},enumerable:!1,configurable:!0}),p.prototype.clearValueIfInvisible=function(u){u===void 0&&(u="onHidden");var x=this.getClearIfInvisible();x!=="none"&&(u==="onHidden"&&x==="onComplete"||u==="onHiddenContainer"&&x!==u||this.clearValueIfInvisibleCore(u))},p.prototype.clearValueIfInvisibleCore=function(u){this.canClearValueAsInvisible(u)&&this.clearValue()},Object.defineProperty(p.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(u){this.setPropertyValue("clearIfInvisible",u)},enumerable:!1,configurable:!0}),p.prototype.getClearIfInvisible=function(){var u=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(u):u!=="default"?u:"onComplete"},Object.defineProperty(p.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),p.prototype.getDisplayValue=function(u,x){x===void 0&&(x=void 0);var V=this.calcDisplayValue(u,x);return this.survey&&(V=this.survey.getQuestionDisplayValue(this,V)),this.displayValueCallback?this.displayValueCallback(V):V},p.prototype.calcDisplayValue=function(u,x){if(x===void 0&&(x=void 0),this.customWidget){var V=this.customWidget.getDisplayValue(this,x);if(V)return V}return x=x??this.createValueCopy(),this.isValueEmpty(x)?this.getDisplayValueEmpty():this.getDisplayValueCore(u,x)},p.prototype.getDisplayValueCore=function(u,x){return x},p.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(p.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(u){if(this.isValueExpression(u)){this.defaultValueExpression=u.substring(1);return}this.setPropertyValue("defaultValue",this.convertDefaultValue(u)),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(u){this.setPropertyValue("defaultValueExpression",u),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"resizeStyle",{get:function(){return this.allowResizeComment?"both":"none"},enumerable:!1,configurable:!0}),p.prototype.getPlainData=function(u){var x=this;if(u||(u={includeEmpty:!0,includeQuestionTypes:!1}),u.includeEmpty||!this.isEmpty()){var V={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(A){return typeof A=="object"?JSON.stringify(A):A}};return u.includeQuestionTypes===!0&&(V.questionType=this.getType()),(u.calculations||[]).forEach(function(A){V[A.propertyName]=x[A.propertyName]}),this.hasComment&&(V.isNode=!0,V.data=[{name:0,isComment:!0,title:"Comment",value:b.settings.commentSuffix,displayValue:this.comment,getString:function(A){return typeof A=="object"?JSON.stringify(A):A},isNode:!1}]),V}},Object.defineProperty(p.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(u){this.setPropertyValue("correctAnswer",this.convertDefaultValue(u))},enumerable:!1,configurable:!0}),p.prototype.convertDefaultValue=function(u){return u},Object.defineProperty(p.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"correctAnswerCount",{get:function(){return!this.isEmpty()&&!this.isValueEmpty(this.correctAnswer)?this.getCorrectAnswerCount():0},enumerable:!1,configurable:!0}),p.prototype.getQuizQuestionCount=function(){return 1},p.prototype.getCorrectAnswerCount=function(){return this.checkIfAnswerCorrect()?1:0},p.prototype.checkIfAnswerCorrect=function(){var u=this.isTwoValueEquals(this.value,this.correctAnswer,!b.settings.comparator.caseSensitive,!0),x={result:u,correctAnswer:u?1:0};return this.survey&&this.survey.onCorrectQuestionAnswer(this,x),x.result},p.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},p.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()},Object.defineProperty(p.prototype,"isClearValueOnHidden",{get:function(){var u=this.getClearIfInvisible();return u==="none"||u==="onComplete"?!1:u==="onHidden"||u==="onHiddenContainer"},enumerable:!1,configurable:!0}),p.prototype.getQuestionFromArray=function(u,x){return null},p.prototype.getDefaultValue=function(){return this.defaultValue},p.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue)},p.prototype.getDefaultRunner=function(u,x){return!u&&x&&(u=new O.ExpressionRunner(x)),u&&(u.expression=x),u},p.prototype.setDefaultValue=function(){var u=this;this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(x){o.Helpers.isTwoValueEquals(u.value,x)||(u.value=x)})},p.prototype.isValueExpression=function(u){return!!u&&typeof u=="string"&&u.length>0&&u[0]=="="},p.prototype.setValueAndRunExpression=function(u,x,V,A,M){var T=this;A===void 0&&(A=null),M===void 0&&(M=null);var D=function(R){T.runExpressionSetValue(R,V)};this.runDefaultValueExpression(u,A,M,D)||D(x)},p.prototype.convertFuncValuetoQuestionValue=function(u){return o.Helpers.convertValToQuestionVal(u)},p.prototype.runExpressionSetValue=function(u,x){x(this.convertFuncValuetoQuestionValue(u))},p.prototype.runDefaultValueExpression=function(u,x,V,A){var M=this;return x===void 0&&(x=null),V===void 0&&(V=null),!u||!this.data?!1:(A||(A=function(T){M.runExpressionSetValue(T,function(D){o.Helpers.isTwoValueEquals(M.value,D)||(M.value=D)})}),x||(x=this.data.getFilteredValues()),V||(V=this.data.getFilteredProperties()),u&&u.canRun&&(u.onRunComplete=function(T){T==null&&(T=M.defaultValue),M.isChangingViaDefaultValue=!0,A(T),M.isChangingViaDefaultValue=!1},u.run(x,V)),!0)},Object.defineProperty(p.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(u){if(u){var x=u.toString().trim();x!==u&&(u=x,u===this.comment&&this.setPropertyValueDirectly("comment",u))}this.comment!=u&&(this.setQuestionComment(u),this.updateCommentElements())},enumerable:!1,configurable:!0}),p.prototype.getCommentAreaCss=function(u){return u===void 0&&(u=!1),new g.CssClassBuilder().append("form-group",u).append(this.cssClasses.formGroup,!u).append(this.cssClasses.commentArea).toString()},p.prototype.getQuestionComment=function(){return this.questionComment},p.prototype.setQuestionComment=function(u){this.setNewComment(u)},p.prototype.isEmpty=function(){return this.isValueEmpty(this.value)},Object.defineProperty(p.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")},set:function(u){this.setPropertyValue("isAnswered",u)},enumerable:!1,configurable:!0}),p.prototype.updateIsAnswered=function(){var u=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),u!==this.isAnswered&&this.updateQuestionCss()},p.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(p.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(u){this.setPropertyValue("validators",u)},enumerable:!1,configurable:!0}),p.prototype.getValidators=function(){return this.validators},p.prototype.getSupportedValidators=function(){for(var u=[],x=this.getType();x;){var V=b.settings.supportedValidators[x];if(V)for(var A=V.length-1;A>=0;A--)u.splice(0,0,V[A]);var M=a.Serializer.findClass(x);x=M.parentName}return u},p.prototype.addSupportedValidators=function(u,x){},p.prototype.addConditionObjectsByContext=function(u,x){u.push({name:this.getValueName(),text:this.processedTitle,question:this})},p.prototype.getConditionJson=function(u,x){var V=new a.JsonObject().toJsonObject(this);return V.type=this.getType(),V},p.prototype.hasErrors=function(u,x){u===void 0&&(u=!0),x===void 0&&(x=null);var V=this.errors.length>0,A=this.checkForErrors(!!x&&x.isOnValueChanged===!0);return u&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,A),this.errors=A),this.updateContainsErrors(),V!=A.length>0&&this.updateQuestionCss(),this.isCollapsed&&x&&u&&A.length>0&&this.expand(),A.length>0},p.prototype.validate=function(u,x){return u===void 0&&(u=!0),x===void 0&&(x=null),x&&x.isOnValueChanged&&this.parent&&this.parent.validateContainerOnly(),!this.hasErrors(u,x)},Object.defineProperty(p.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"requiredText",{get:function(){return this.survey!=null&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),p.prototype.addError=function(u){if(u){var x=null;typeof u=="string"||u instanceof String?x=new c.CustomError(u,this.survey):x=u,this.errors.push(x)}},p.prototype.removeError=function(u){var x=this.errors,V=x.indexOf(u);V!==-1&&x.splice(V,1)},p.prototype.checkForErrors=function(u){var x=new Array;return this.isVisible&&this.canCollectErrors()&&this.collectErrors(x,u),x},p.prototype.canCollectErrors=function(){return!this.isReadOnly},p.prototype.collectErrors=function(u,x){if(this.onCheckForErrors(u,x),!(u.length>0||!this.canRunValidators(x))){var V=this.runValidators();if(V.length>0){u.length=0;for(var A=0;A<V.length;A++)u.push(V[A])}if(this.survey&&u.length==0){var M=this.fireSurveyValidation();M&&u.push(M)}}},p.prototype.canRunValidators=function(u){return!0},p.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},p.prototype.onCheckForErrors=function(u,x){var V=this;if(!x&&this.hasRequiredError()){var A=new c.AnswerRequiredError(this.requiredErrorText,this);A.onUpdateErrorTextCallback=function(M){M.text=V.requiredErrorText},u.push(A)}},p.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(p.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),p.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},p.prototype.runValidators=function(){var u=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new C.ValidatorRunner,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(x){u.doOnAsyncCompleted(x)},this.validatorRunner.run(this)},p.prototype.doOnAsyncCompleted=function(u){for(var x=0;x<u.length;x++)this.errors.push(u[x]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},p.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},p.prototype.setNewValue=function(u){if(!this.isNewValueEqualsToValue(u)){var x=this.isAnswered;this.setNewValueInData(u),this.allowNotifyValueChanged&&this.onValueChanged(),this.isAnswered!=x&&this.updateQuestionCss()}},p.prototype.isNewValueEqualsToValue=function(u){var x=this.value;if(!this.isTwoValueEquals(u,x))return!1;var V=u===x&&!!x&&(Array.isArray(x)||typeof x=="object");return!V},p.prototype.isTextValue=function(){return!1},Object.defineProperty(p.prototype,"isSurveyInputTextUpdate",{get:function(){return this.survey?this.survey.isUpdateValueTextOnTyping:!1},enumerable:!1,configurable:!0}),p.prototype.getDataLocNotification=function(){return this.isInputTextUpdate?"text":!1},Object.defineProperty(p.prototype,"isInputTextUpdate",{get:function(){return this.isSurveyInputTextUpdate&&this.isTextValue()},enumerable:!1,configurable:!0}),p.prototype.setNewValueInData=function(u){u=this.valueToData(u),this.isValueChangedInSurvey||this.setValueCore(u)},p.prototype.getValueCore=function(){return this.questionValue},p.prototype.setValueCore=function(u){this.setQuestionValue(u),this.data!=null&&this.canSetValueToSurvey()&&(u=this.valueForSurvey,this.data.setValue(this.getValueName(),u,this.getDataLocNotification(),this.allowNotifyValueChanged)),this.isMouseDown=!1},p.prototype.canSetValueToSurvey=function(){return!0},p.prototype.valueFromData=function(u){return u},p.prototype.valueToData=function(u){return u},p.prototype.onValueChanged=function(){},p.prototype.onMouseDown=function(){this.isMouseDown=!0},p.prototype.setNewComment=function(u){this.questionComment!==u&&(this.questionComment=u,this.data!=null&&this.data.setComment(this.getValueName(),u,this.isSurveyInputTextUpdate?"text":!1))},p.prototype.getValidName=function(u){return d(u)},p.prototype.updateValueFromSurvey=function(u){u=this.getUnbindValue(u),this.valueFromDataCallback&&(u=this.valueFromDataCallback(u)),this.setQuestionValue(this.valueFromData(u)),this.updateIsAnswered()},p.prototype.updateCommentFromSurvey=function(u){this.questionComment=u},p.prototype.onChangeQuestionValue=function(u){},p.prototype.setValueChangedDirectly=function(){this.isValueChangedDirectly=!0},p.prototype.setQuestionValue=function(u,x){x===void 0&&(x=!0);var V=this.isTwoValueEquals(this.questionValue,u);!V&&!this.isChangingViaDefaultValue&&this.setValueChangedDirectly(),this.questionValue=u,V||this.onChangeQuestionValue(u),!V&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),x&&this.updateIsAnswered()},p.prototype.onSurveyValueChanged=function(u){},p.prototype.setVisibleIndex=function(u){return(!this.isVisible||!this.hasTitle&&!b.settings.numbering.includeQuestionsWithHiddenTitle||this.hideNumber&&!b.settings.numbering.includeQuestionsWithHiddenNumber)&&(u=-1),this.setPropertyValue("visibleIndex",u),this.setPropertyValue("no",this.calcNo()),u<0?0:1},p.prototype.removeElement=function(u){return!1},p.prototype.supportGoNextPageAutomatic=function(){return!1},p.prototype.supportGoNextPageError=function(){return!0},p.prototype.clearIncorrectValues=function(){},p.prototype.clearOnDeletingContainer=function(){},p.prototype.clearErrors=function(){this.errors=[]},p.prototype.clearUnusedValues=function(){},p.prototype.onAnyValueChanged=function(u){},p.prototype.checkBindings=function(u,x){if(!(this.bindings.isEmpty()||!this.data))for(var V=this.bindings.getPropertiesByValueName(u),A=0;A<V.length;A++){var M=V[A];this.isValueEmpty(x)&&o.Helpers.isNumber(this[M])&&(x=0),this[M]=x}},p.prototype.getComponentName=function(){return P.RendererFactory.Instance.getRendererByQuestion(this)},p.prototype.isDefaultRendering=function(){return!!this.customWidget||this.renderAs==="default"||this.getComponentName()==="default"},p.prototype.getErrorCustomText=function(u,x){return this.survey?this.survey.getSurveyErrorCustomText(this,u,x):u},p.prototype.getValidatorTitle=function(){return null},Object.defineProperty(p.prototype,"validatedValue",{get:function(){return this.value},set:function(u){this.value=u},enumerable:!1,configurable:!0}),p.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},p.prototype.processPopupVisiblilityChanged=function(u,x){this.survey.processPopupVisiblityChanged(this,u,x)},p.prototype.transformToMobileView=function(){},p.prototype.transformToDesktopView=function(){},p.prototype.needResponsiveWidth=function(){return!1},p.prototype.supportResponsiveness=function(){return!1},p.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},p.prototype.checkForResponsiveness=function(u){var x=this;if(this.needResponsiveness())if(this.isCollapsed){var V=function(){x.isExpanded&&(x.initResponsiveness(u),x.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))};this.registerPropertyChangedHandlers(["state"],V,"for-responsiveness")}else this.initResponsiveness(u)},p.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},p.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},p.prototype.initResponsiveness=function(u){var x=this;if(this.destroyResizeObserver(),u&&this.isDefaultRendering()){var V=this.getObservedElementSelector();if(!V)return;var A=u.querySelector(V);if(!A)return;var M=!1,T=void 0;this.resizeObserver=new ResizeObserver(function(){var D=u.querySelector(V);!T&&x.isDefaultRendering()&&(T=D.scrollWidth),M||!Object(m.isContainerVisible)(D)?M=!1:M=x.processResponsiveness(T,Object(m.getElementWidth)(D))}),this.onMobileChangedCallback=function(){setTimeout(function(){var D=u.querySelector(V);x.processResponsiveness(T,Object(m.getElementWidth)(D))},0)},this.resizeObserver.observe(u)}},p.prototype.getCompactRenderAs=function(){return"default"},p.prototype.getDesktopRenderAs=function(){return"default"},p.prototype.processResponsiveness=function(u,x){if(x=Math.round(x),Math.abs(u-x)>2){var V=this.renderAs;return u>x?this.renderAs=this.getCompactRenderAs():this.renderAs=this.getDesktopRenderAs(),V!==this.renderAs}return!1},p.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.renderAs=this.getDesktopRenderAs())},p.prototype.dispose=function(){h.prototype.dispose.call(this),this.destroyResizeObserver()},p.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},p.questionCounter=100,f([Object(a.property)({defaultValue:!1,onSet:function(u,x){x.setIsMobile(u)}})],p.prototype,"isMobile",void 0),f([Object(a.property)()],p.prototype,"forceIsInputReadOnly",void 0),f([Object(a.property)({localizable:!0})],p.prototype,"commentPlaceholder",void 0),f([Object(a.property)()],p.prototype,"renderAs",void 0),f([Object(a.property)({defaultValue:!1})],p.prototype,"inMatrixMode",void 0),p}(s.SurveyElement);function d(h){if(!h)return h;for(h=h.trim().replace(/[\{\}]+/g,"");h&&h[0]===b.settings.expressionDisableConversionChar;)h=h.substring(1);return h}a.Serializer.addClass("question",[{name:"!name",onSettingValue:function(h,p){return d(p)}},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:function(){return b.settings.minWidth}},{name:"maxWidth",defaultFunc:function(){return b.settings.maxWidth}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(h){var p=h?h.survey:null;return!p||!p.pages||p.pages.length>1},choices:function(h){var p=h?h.survey:null;return p?p.pages.map(function(u){return{value:u.name,text:u.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(h,p){h&&p&&(p.placeholder=h.name)}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(h){if(!h)return!0;if(h.titleLocation==="hidden")return!1;var p=h?h.parent:null,u=!p||p.showQuestionNumbers!=="off";if(!u)return!1;var x=h?h.survey:null;return!x||x.showQuestionNumbers!=="off"||!!p&&p.showQuestionNumbers==="onpanel"}},{name:"valueName",onSettingValue:function(h,p){return d(p)}},"enableIf:condition","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(h){return h.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(h){return h.showCommentArea},serializationProperty:"locCommentText",layout:"row"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(h){return h.hasComment}}]),a.Serializer.addAlterNativeClassName("question","questionbase")},"./src/questionCustomWidgets.ts":function(n,r,i){i.r(r),i.d(r,"QuestionCustomWidget",function(){return a}),i.d(r,"CustomWidgetCollection",function(){return s});var o=i("./src/base.ts"),a=function(){function c(C,E){this.name=C,this.widgetJson=E,this.htmlTemplate=E.htmlTemplate?E.htmlTemplate:""}return c.prototype.afterRender=function(C,E){var O=this;this.widgetJson.afterRender&&(C.localeChangedCallback=function(){O.widgetJson.willUnmount&&O.widgetJson.willUnmount(C,E),O.widgetJson.afterRender(C,E)},this.widgetJson.afterRender(C,E))},c.prototype.willUnmount=function(C,E){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(C,E)},c.prototype.getDisplayValue=function(C,E){return E===void 0&&(E=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(C,E):null},c.prototype.isFit=function(C){return this.isLibraryLoaded()&&this.widgetJson.isFit?this.widgetJson.isFit(C):!1},Object.defineProperty(c.prototype,"canShowInToolbox",{get:function(){return this.widgetJson.showInToolbox===!1||s.Instance.getActivatedBy(this.name)!="customtype"?!1:!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showInToolbox",{get:function(){return this.widgetJson.showInToolbox!==!1},set:function(C){this.widgetJson.showInToolbox=C},enumerable:!1,configurable:!0}),c.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},c.prototype.activatedByChanged=function(C){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(C)},c.prototype.isLibraryLoaded=function(){return this.widgetJson.widgetIsLoaded?this.widgetJson.widgetIsLoaded()==!0:!0},Object.defineProperty(c.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),c}(),s=function(){function c(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new o.Event}return Object.defineProperty(c.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),c.prototype.add=function(C,E){E===void 0&&(E="property"),this.addCustomWidget(C,E)},c.prototype.addCustomWidget=function(C,E){E===void 0&&(E="property");var O=C.name;O||(O="widget_"+this.widgets.length+1);var y=new a(O,C);return this.widgetsValues.push(y),y.init(),this.widgetsActivatedBy[O]=E,y.activatedByChanged(E),this.onCustomWidgetAdded.fire(y,null),y},c.prototype.getActivatedBy=function(C){var E=this.widgetsActivatedBy[C];return E||"property"},c.prototype.setActivatedBy=function(C,E){if(!(!C||!E)){var O=this.getCustomWidgetByName(C);O&&(this.widgetsActivatedBy[C]=E,O.activatedByChanged(E))}},c.prototype.clear=function(){this.widgetsValues=[]},c.prototype.getCustomWidgetByName=function(C){for(var E=0;E<this.widgets.length;E++)if(this.widgets[E].name==C)return this.widgets[E];return null},c.prototype.getCustomWidget=function(C){for(var E=0;E<this.widgetsValues.length;E++)if(this.widgetsValues[E].isFit(C))return this.widgetsValues[E];return null},c.Instance=new c,c}()},"./src/question_baseselect.ts":function(n,r,i){i.r(r),i.d(r,"QuestionSelectBase",function(){return l}),i.d(r,"QuestionCheckboxBase",function(){return d});var o=i("./src/jsonobject.ts"),a=i("./src/survey.ts"),s=i("./src/question.ts"),c=i("./src/itemvalue.ts"),C=i("./src/surveyStrings.ts"),E=i("./src/error.ts"),O=i("./src/choicesRestful.ts"),y=i("./src/conditions.ts"),b=i("./src/helpers.ts"),P=i("./src/settings.ts"),g=i("./src/utils/cssClassBuilder.ts"),m=i("./src/utils/utils.ts"),v=function(){var h=function(p,u){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,V){x.__proto__=V}||function(x,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(x[A]=V[A])},h(p,u)};return function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");h(p,u);function x(){this.constructor=p}p.prototype=u===null?Object.create(u):(x.prototype=u.prototype,new x)}}(),f=function(h,p,u,x){var V=arguments.length,A=V<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,u):x,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(h,p,u,x);else for(var T=h.length-1;T>=0;T--)(M=h[T])&&(A=(V<3?M(A):V>3?M(p,u,A):M(p,u))||A);return V>3&&A&&Object.defineProperty(p,u,A),A},l=function(h){v(p,h);function p(u){var x=h.call(this,u)||this;x.otherItemValue=new c.ItemValue("other"),x.dependedQuestions=[],x.noneItemValue=new c.ItemValue(P.settings.noneItemValue),x.isSettingDefaultValue=!1,x.isSettingComment=!1,x.isRunningChoices=!1,x.isFirstLoadChoicesFromUrl=!0,x.isUpdatingChoicesDependedQuestions=!1,x.prevIsOtherSelected=!1;var V=x.createLocalizableString("noneText",x.noneItemValue,!0,"noneItemText");x.noneItemValue.locOwner=x,x.noneItemValue.setLocText(V),x.createItemValues("choices"),x.registerPropertyChangedHandlers(["choices"],function(){x.filterItems()||x.onVisibleChoicesChanged()}),x.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","showNoneItem"],function(){x.onVisibleChoicesChanged()}),x.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],function(){x.onVisibleChanged()}),x.createNewArray("visibleChoices"),x.setNewRestfulProperty();var A=x.createLocalizableString("otherText",x.otherItemValue,!0,"otherItemText");return x.createLocalizableString("otherErrorText",x,!0,"otherRequiredError"),x.otherItemValue.locOwner=x,x.otherItemValue.setLocText(A),x.choicesByUrl.createItemValue=function(M){return x.createItemValue(M)},x.choicesByUrl.beforeSendRequestCallback=function(){x.onBeforeSendRequest()},x.choicesByUrl.getResultCallback=function(M){x.onLoadChoicesFromUrl(M)},x.choicesByUrl.updateResultCallback=function(M,T){return x.survey?x.survey.updateChoicesFromServer(x,M,T):M},x}return Object.defineProperty(p.prototype,"waitingChoicesByURL",{get:function(){return!this.isChoicesLoaded&&!this.choicesByUrl.isEmpty},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"waitingAcyncOperations",{get:function(){return this.waitingChoicesByURL||this.waitingGetChoiceDisplayValueResponse},enumerable:!1,configurable:!0}),p.prototype.getType=function(){return"selectbase"},p.prototype.dispose=function(){h.prototype.dispose.call(this);for(var u=0;u<this.dependedQuestions.length;u++)this.dependedQuestions[u].choicesFromQuestion="";this.removeFromDependedQuestion(this.getQuestionWithChoices())},Object.defineProperty(p.prototype,"otherId",{get:function(){return this.id+"_other"},enumerable:!1,configurable:!0}),p.prototype.getCommentElementsId=function(){return[this.commentId,this.otherId]},p.prototype.getItemValueType=function(){return"itemvalue"},p.prototype.createItemValue=function(u,x){var V=o.Serializer.createClass(this.getItemValueType(),u);return V.locOwner=this,x&&(V.text=x),V},Object.defineProperty(p.prototype,"isUsingCarryForward",{get:function(){return this.getPropertyValue("isUsingCarrayForward",!1)},enumerable:!1,configurable:!0}),p.prototype.setIsUsingCarrayForward=function(u){this.setPropertyValue("isUsingCarrayForward",u)},p.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.otherValue},p.prototype.isLayoutTypeSupported=function(u){return!0},p.prototype.localeChanged=function(){h.prototype.localeChanged.call(this),this.choicesOrder!=="none"&&this.updateVisibleChoices()},p.prototype.locStrsChanged=function(){h.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(c.ItemValue.locStrsChanged(this.choicesFromUrl),c.ItemValue.locStrsChanged(this.visibleChoices))},Object.defineProperty(p.prototype,"otherValue",{get:function(){return this.showCommentArea?this.otherValueCore:this.comment},set:function(u){this.showCommentArea?this.setOtherValueInternally(u):this.comment=u},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"otherValueCore",{get:function(){return this.getPropertyValue("otherValue")},set:function(u){this.setPropertyValue("otherValue",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isNoneSelected",{get:function(){return this.hasNone&&this.getIsItemValue(this.renderedValue,this.noneItem)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showNoneItem",{get:function(){return this.getPropertyValue("showNoneItem")},set:function(u){this.setPropertyValue("showNoneItem",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasNone",{get:function(){return this.showNoneItem},set:function(u){this.showNoneItem=u},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(u){this.setLocalizableStringText("noneText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(u){this.setPropertyValue("choicesVisibleIf",u),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(u){this.setPropertyValue("choicesEnableIf",u),this.filterItems()},enumerable:!1,configurable:!0}),p.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},p.prototype.runCondition=function(u,x){h.prototype.runCondition.call(this,u,x),!this.isUsingCarryForward&&(this.runItemsEnableCondition(u,x),this.runItemsCondition(u,x))},p.prototype.isTextValue=function(){return!0},p.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevOtherValue=void 0,h.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1},p.prototype.getIsMultipleValue=function(){return!1},p.prototype.convertDefaultValue=function(u){if(u==null||u==null)return u;if(this.getIsMultipleValue()){if(!Array.isArray(u))return[u]}else if(Array.isArray(u)&&u.length>0)return u[0];return u},p.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var u=this.getDataFilteredValues(),x=this.getDataFilteredProperties();return this.runItemsEnableCondition(u,x),this.runItemsCondition(u,x)},p.prototype.runItemsCondition=function(u,x){this.setConditionalChoicesRunner();var V=this.runConditionsForItems(u,x);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),V&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),V},p.prototype.runItemsEnableCondition=function(u,x){var V=this;this.setConditionalEnableChoicesRunner();var A=c.ItemValue.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,u,x,function(M,T){return T&&V.onEnableItemCallBack(M)});A&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},p.prototype.onAfterRunItemsEnableCondition=function(){},p.prototype.onEnableItemCallBack=function(u){return!0},p.prototype.onSelectedItemValuesChangedHandler=function(u){var x;(x=this.survey)===null||x===void 0||x.loadedChoicesFromServer(this)},p.prototype.getItemIfChoicesNotContainThisValue=function(u,x){return this.waitingChoicesByURL?this.createItemValue(u,x):null},p.prototype.getSingleSelectedItem=function(){var u=this.selectedItemValues;if(this.isEmpty())return null;var x=c.ItemValue.getItemByValue(this.visibleChoices,this.value);return this.onGetSingleSelectedItem(x),!x&&(!u||this.value!=u.id)&&this.updateSelectedItemValues(),x||u||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))},p.prototype.onGetSingleSelectedItem=function(u){},p.prototype.getMultipleSelectedItems=function(){return[]},p.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new y.ConditionRunner(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},p.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new y.ConditionRunner(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},p.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},p.prototype.changeItemVisisbility=function(){var u=this;return this.canSurveyChangeItemVisibility()?function(x,V){return u.survey.getChoiceItemVisibility(u,x,V)}:null},p.prototype.runConditionsForItems=function(u,x){this.filteredChoicesValue=[];var V=this.changeItemVisisbility();return c.ItemValue.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,u,x,!this.survey||!this.survey.areInvisibleElementsShowing,function(A,M){return V?V(A,M):M})},p.prototype.getHasOther=function(u){return this.getIsItemValue(u,this.otherItem)},p.prototype.getIsItemValue=function(u,x){return u===x.value},Object.defineProperty(p.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),p.prototype.createRestful=function(){return new O.ChoicesRestful},p.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},Object.defineProperty(p.prototype,"autoOtherMode",{get:function(){return this.getPropertyValue("autoOtherMode")},set:function(u){this.setPropertyValue("autoOtherMode",u)},enumerable:!1,configurable:!0}),p.prototype.getQuestionComment=function(){return this.showCommentArea?h.prototype.getQuestionComment.call(this):this.otherValueCore?this.otherValueCore:this.hasComment||this.getStoreOthersAsComment()?h.prototype.getQuestionComment.call(this):this.otherValueCore},p.prototype.selectOtherValueFromComment=function(u){this.value=u?this.otherItem.value:void 0},p.prototype.setQuestionComment=function(u){if(this.showCommentArea){h.prototype.setQuestionComment.call(this,u);return}this.onUpdateCommentOnAutoOtherMode(u),this.getStoreOthersAsComment()?h.prototype.setQuestionComment.call(this,u):this.setOtherValueInternally(u),this.updateChoicesDependedQuestions()},p.prototype.onUpdateCommentOnAutoOtherMode=function(u){if(this.autoOtherMode){this.prevOtherValue=void 0;var x=this.isOtherSelected;(!x&&u||x&&!u)&&this.selectOtherValueFromComment(!!u)}},p.prototype.setOtherValueInternally=function(u){!this.isSettingComment&&u!=this.otherValueCore&&(this.isSettingComment=!0,this.otherValueCore=u,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},p.prototype.clearValue=function(){h.prototype.clearValue.call(this),this.prevOtherValue=void 0},p.prototype.updateCommentFromSurvey=function(u){h.prototype.updateCommentFromSurvey.call(this,u),this.prevOtherValue=void 0},Object.defineProperty(p.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(x){this.setPropertyValue("renderedValue",x);var x=this.rendredValueToData(x);this.isTwoValueEquals(x,this.value)||(this.value=x)},enumerable:!1,configurable:!0}),p.prototype.setQuestionValue=function(u,x,V){if(x===void 0&&(x=!0),V===void 0&&(V=!0),!(this.isLoadingFromJson||this.isTwoValueEquals(this.value,u))&&(h.prototype.setQuestionValue.call(this,u,x),this.setPropertyValue("renderedValue",this.rendredValueFromData(u)),this.updateChoicesDependedQuestions(),!(this.hasComment||!V))){var A=this.isOtherSelected;if(A&&this.prevOtherValue){var M=this.prevOtherValue;this.prevOtherValue=void 0,this.otherValue=M}!A&&this.otherValue&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevOtherValue=this.otherValue),this.otherValue="")}},p.prototype.setNewValue=function(u){u=this.valueFromData(u),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(u))&&(this.cachedValueForUrlRequests=u),h.prototype.setNewValue.call(this,u)},p.prototype.valueFromData=function(u){var x=c.ItemValue.getItemByValue(this.activeChoices,u);return x?x.value:h.prototype.valueFromData.call(this,u)},p.prototype.rendredValueFromData=function(u){return this.getStoreOthersAsComment()?u:this.renderedValueFromDataCore(u)},p.prototype.rendredValueToData=function(u){return this.getStoreOthersAsComment()?u:this.rendredValueToDataCore(u)},p.prototype.renderedValueFromDataCore=function(u){return this.hasUnknownValue(u,!0,!1)?(this.otherValue=u,this.otherItem.value):this.valueFromData(u)},p.prototype.rendredValueToDataCore=function(u){return u==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(u=this.otherValue),u},p.prototype.needConvertRenderedOtherToDataValue=function(){var u=this.otherValue;return!u||(u=u.trim(),!u)?!1:this.hasUnknownValue(u,!0,!1)},p.prototype.updateSelectedItemValues=function(){if(!this.waitingGetChoiceDisplayValueResponse){var u=this.getIsMultipleValue();u?this.updateMultipleSelectedItemValues():this.updateSingleSelectedItemValues()}},p.prototype.updateSingleSelectedItemValues=function(){var u=this;this.survey&&!this.isEmpty()&&!c.ItemValue.getItemByValue(this.choices,this.value)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.isReady=!this.waitingAcyncOperations,this.survey.getChoiceDisplayValue({question:this,values:[this.value],setItems:function(x){u.waitingGetChoiceDisplayValueResponse=!1,!(!x||!x.length)&&(u.selectedItemValues=u.createItemValue(u.value,x[0]),u.isReady=!u.waitingAcyncOperations)}}))},p.prototype.updateMultipleSelectedItemValues=function(){var u=this,x=this.value,V=x.some(function(A){return!c.ItemValue.getItemByValue(u.choices,A)});this.survey&&!this.isEmpty()&&V&&(this.waitingGetChoiceDisplayValueResponse=!0,this.isReady=this.waitingAcyncOperations,this.survey.getChoiceDisplayValue({question:this,values:x,setItems:function(A){u.waitingGetChoiceDisplayValueResponse=!1,!(!A||!A.length)&&(u.selectedItemValues=A.map(function(M,T){return u.createItemValue(u.value[T],M)}),u.isReady=!u.waitingAcyncOperations)}}))},p.prototype.hasUnknownValue=function(u,x,V,A){if(x===void 0&&(x=!1),V===void 0&&(V=!0),A===void 0&&(A=!1),!A&&this.isValueEmpty(u)||x&&u==this.otherItem.value||this.hasNone&&u==this.noneItem.value)return!1;var M=V?this.getFilteredChoices():this.activeChoices;return c.ItemValue.getItemByValue(M,u)==null},p.prototype.isValueDisabled=function(u){var x=c.ItemValue.getItemByValue(this.getFilteredChoices(),u);return!!x&&!x.isEnabled},Object.defineProperty(p.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(u){u&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(u.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(u){this.setPropertyValue("choices",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(u){var x=this.getQuestionWithChoices();this.isLockVisibleChoices=!!x&&x.name===u,x&&x.name!==u&&x.removeFromDependedQuestion(this),this.setPropertyValue("choicesFromQuestion",u),this.isLockVisibleChoices=!1},enumerable:!1,configurable:!0}),p.prototype.addIntoDependedQuestion=function(u){!u||u.dependedQuestions.indexOf(this)>-1||u.dependedQuestions.push(this)},p.prototype.removeFromDependedQuestion=function(u){if(u){var x=u.dependedQuestions.indexOf(this);x>-1&&u.dependedQuestions.splice(x,1)}},Object.defineProperty(p.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(u){this.setPropertyValue("choicesFromQuestionMode",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty")},set:function(u){this.setPropertyValue("hideIfChoicesEmpty",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(u){this.setPropertyValue("keepIncorrectValues",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(u){this.setPropertyValue("storeOthersAsComment",u)},enumerable:!1,configurable:!0}),p.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(p.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(u){u=u.toLowerCase(),u!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",u),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(u){this.setLocalizableStringText("otherText",u),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"otherPlaceHolder",{get:function(){return this.otherPlaceholder},set:function(u){this.otherPlaceholder=u},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(u){this.setLocalizableStringText("otherErrorText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"enabledChoices",{get:function(){for(var u=[],x=this.visibleChoices,V=0;V<x.length;V++)x[V].isEnabled&&u.push(x[V]);return u},enumerable:!1,configurable:!0}),p.prototype.updateVisibleChoices=function(){if(!this.isLoadingFromJson){var u=new Array,x=this.calcVisibleChoices();x||(x=[]);for(var V=0;V<x.length;V++)u.push(x[V]);this.setPropertyValue("visibleChoices",u)}},p.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var u=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(u,this.isAddDefaultItems),u},p.prototype.canUseFilteredChoices=function(){return!this.isAddDefaultItems&&!this.hasNone&&!this.hasOther&&this.choicesOrder=="none"},p.prototype.setCanShowOptionItemCallback=function(u){this.canShowOptionItemCallback=u,u&&this.onVisibleChoicesChanged()},Object.defineProperty(p.prototype,"newItem",{get:function(){return this.newItemValue},enumerable:!1,configurable:!0}),p.prototype.addToVisibleChoices=function(u,x){x&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0),!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,x,!1)&&u.push(this.newItemValue)),this.supportNone()&&this.canShowOptionItem(this.noneItem,x,this.hasNone)&&u.push(this.noneItem),this.supportOther()&&this.canShowOptionItem(this.otherItem,x,this.hasOther)&&u.push(this.otherItem)},p.prototype.canShowOptionItem=function(u,x,V){var A=x&&(this.canShowOptionItemCallback?this.canShowOptionItemCallback(u):!0)||V;if(this.canSurveyChangeItemVisibility()){var M=this.changeItemVisisbility();return M(u,A)}return A},p.prototype.isItemInList=function(u){return u===this.otherItem?this.hasOther:u===this.noneItem?this.hasNone:u!==this.newItemValue},Object.defineProperty(p.prototype,"isAddDefaultItems",{get:function(){return P.settings.supportCreatorV2&&P.settings.showDefaultItemsInCreatorV2&&this.isDesignMode&&!this.customWidget&&!this.isContentElement},enumerable:!1,configurable:!0}),p.prototype.getPlainData=function(u){var x=this;u===void 0&&(u={includeEmpty:!0,includeQuestionTypes:!1});var V=h.prototype.getPlainData.call(this,u);if(V){var A=Array.isArray(this.value)?this.value:[this.value];V.isNode=!0,V.data=(V.data||[]).concat(A.map(function(M,T){var D=c.ItemValue.getItemByValue(x.visibleChoices,M),R={name:T,title:"Choice",value:M,displayValue:x.getChoicesDisplayValue(x.visibleChoices,M),getString:function(S){return typeof S=="object"?JSON.stringify(S):S},isNode:!1};return D&&(u.calculations||[]).forEach(function(S){R[S.propertyName]=D[S.propertyName]}),x.isOtherSelected&&x.otherItemValue===D&&(R.isOther=!0,R.displayValue=x.otherValue),R}))}return V},p.prototype.getDisplayValueCore=function(u,x){return this.getChoicesDisplayValue(this.visibleChoices,x)},p.prototype.getDisplayValueEmpty=function(){return c.ItemValue.getTextOrHtmlByValue(this.visibleChoices,void 0)},p.prototype.getChoicesDisplayValue=function(u,x){if(x==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;var V=this.getSingleSelectedItem();if(V&&this.isTwoValueEquals(V.value,x))return V.locText.textOrHtml;var A=c.ItemValue.getTextOrHtmlByValue(u,x);return A==""&&x?x:A},p.prototype.getDisplayArrayValue=function(u,x,V){for(var A=this.visibleChoices,M=[],T=[],D=0;D<x.length;D++)T.push(V?V(D):x[D]);if(b.Helpers.isTwoValueEquals(this.value,T)&&this.getMultipleSelectedItems().forEach(function(S){return M.push(S.locText.textOrHtml)}),M.length===0)for(var D=0;D<T.length;D++){var R=this.getChoicesDisplayValue(A,T[D]);R&&M.push(R)}return M.join(", ")},p.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(p.prototype,"activeChoices",{get:function(){var u=this.getQuestionWithChoices();return this.setIsUsingCarrayForward(!!u),this.isUsingCarryForward?(this.addIntoDependedQuestion(u),this.getChoicesFromQuestion(u)):this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),p.prototype.getQuestionWithChoices=function(){if(!this.choicesFromQuestion||!this.data)return null;var u=this.data.findQuestionByName(this.choicesFromQuestion);return u&&u.visibleChoices&&Array.isArray(u.dependedQuestions)&&u!==this?u:null},p.prototype.getChoicesFromQuestion=function(u){if(this.isDesignMode)return[];for(var x=[],V=this.choicesFromQuestionMode=="selected"?!0:this.choicesFromQuestionMode=="unselected"?!1:void 0,A=u.visibleChoices,M=0;M<A.length;M++)if(!this.isBuiltInChoice(A[M],u)){if(V===void 0){x.push(this.copyChoiceItem(A[M]));continue}var T=u.isItemSelected(A[M]);(T&&V||!T&&!V)&&x.push(this.copyChoiceItem(A[M]))}return this.choicesFromQuestionMode==="selected"&&u.isOtherSelected&&u.comment&&x.push(this.createItemValue(u.otherItem.value,u.comment)),x},p.prototype.copyChoiceItem=function(u){var x=this.createItemValue(u.value);return x.setData(u),x},Object.defineProperty(p.prototype,"hasActiveChoices",{get:function(){var u=this.visibleChoices;(!u||u.length==0)&&(this.onVisibleChoicesChanged(),u=this.visibleChoices);for(var x=0;x<u.length;x++)if(!this.isBuiltInChoice(u[x],this))return!0;return!1},enumerable:!1,configurable:!0}),p.prototype.isHeadChoice=function(u,x){return!1},p.prototype.isFootChoice=function(u,x){return u===x.noneItem||u===x.otherItem||u===x.newItemValue},p.prototype.isBuiltInChoice=function(u,x){return this.isHeadChoice(u,x)||this.isFootChoice(u,x)},p.prototype.getChoices=function(){return this.choices},p.prototype.supportOther=function(){return this.isSupportProperty("showOtherItem")},p.prototype.supportNone=function(){return this.isSupportProperty("showNoneItem")},p.prototype.isSupportProperty=function(u){return!this.isDesignMode||this.getPropertyByName(u).visible},p.prototype.onCheckForErrors=function(u,x){var V=this;if(h.prototype.onCheckForErrors.call(this,u,x),!(!this.hasOther||!this.isOtherSelected||this.otherValue)){var A=new E.OtherEmptyError(this.otherErrorText,this);A.onUpdateErrorTextCallback=function(M){M.text=V.otherErrorText},u.push(A)}},p.prototype.setSurveyImpl=function(u,x){this.isRunningChoices=!0,h.prototype.setSurveyImpl.call(this,u,x),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},p.prototype.setSurveyCore=function(u){h.prototype.setSurveyCore.call(this,u),u&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},p.prototype.getStoreOthersAsComment=function(){return this.isSettingDefaultValue||this.showCommentArea?!1:this.storeOthersAsComment===!0||this.storeOthersAsComment=="default"&&(this.survey!=null?this.survey.storeOthersAsComment:!0)||!this.choicesByUrl.isEmpty&&!this.choicesFromUrl},p.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),h.prototype.onSurveyLoad.call(this)},p.prototype.onAnyValueChanged=function(u){h.prototype.onAnyValueChanged.call(this,u),u!=this.getValueName()&&this.runChoicesByUrl(),u&&u==this.choicesFromQuestion&&this.onVisibleChoicesChanged()},p.prototype.updateValueFromSurvey=function(u){var x="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(u)&&!this.getHasOther(u)?(x=this.getCommentFromValue(u),u=this.setOtherValueIntoValue(u)):x=this.data.getComment(this.getValueName())),h.prototype.updateValueFromSurvey.call(this,u),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),x&&this.setNewComment(x)},p.prototype.getCommentFromValue=function(u){return u},p.prototype.setOtherValueIntoValue=function(u){return this.otherItem.value},p.prototype.onOtherValueInput=function(u){this.isInputTextUpdate?u.target&&(this.otherValue=u.target.value):this.updateCommentElements()},p.prototype.onOtherValueChange=function(u){this.otherValue=u.target.value,this.otherValue!==u.target.value&&(u.target.value=this.otherValue)},p.prototype.runChoicesByUrl=function(){if(!(!this.choicesByUrl||this.isLoadingFromJson||this.isRunningChoices)){var u=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;u||(u=this.survey),u&&(this.isReadyValue=!this.waitingAcyncOperations,this.isRunningChoices=!0,this.choicesByUrl.run(u),this.isRunningChoices=!1)}},p.prototype.onBeforeSendRequest=function(){P.settings.web.disableQuestionWhileLoadingChoices===!0&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)},p.prototype.onLoadChoicesFromUrl=function(u){this.enableOnLoadingChoices&&(this.readOnly=!1);var x=[];this.isReadOnly||this.choicesByUrl&&this.choicesByUrl.error&&x.push(this.choicesByUrl.error);var V=null,A=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,A=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value),this.isFirstLoadChoicesFromUrl=!1;var M=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,A);if(u&&(u.length>0||this.choicesByUrl.allowEmptyResponse)&&(V=new Array,c.ItemValue.setData(V,u)),V)for(var T=0;T<V.length;T++)V[T].locOwner=this;if(this.choicesFromUrl=V,this.filterItems(),this.onVisibleChoicesChanged(),V){var D=this.updateCachedValueForUrlRequests(M,V);if(D&&!this.isReadOnly){var R=!this.isTwoValueEquals(this.value,D.value);try{this.isValueEmpty(D.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=R,R?this.value=D.value:this.setQuestionValue(D.value)}finally{this.allowNotifyValueChanged=!0}}}!this.isReadOnly&&!V&&!this.isFirstLoadChoicesFromUrl&&(this.value=null),this.errors=x,this.choicesLoaded()},p.prototype.createCachedValueForUrlRequests=function(u,x){if(this.isValueEmpty(u))return null;if(Array.isArray(u)){for(var V=[],A=0;A<u.length;A++)V.push(this.createCachedValueForUrlRequests(u[A],!0));return V}var M=x?!this.hasUnknownValue(u):!0;return{value:u,isExists:M}},p.prototype.updateCachedValueForUrlRequests=function(u,x){if(this.isValueEmpty(u))return null;if(Array.isArray(u)){for(var V=[],A=0;A<u.length;A++){var M=this.updateCachedValueForUrlRequests(u[A],x);if(M&&!this.isValueEmpty(M.value)){var T=M.value,R=c.ItemValue.getItemByValue(x,M.value);R&&(T=R.value),V.push(T)}}return{value:V}}var D=u.isExists&&this.hasUnknownValue(u.value)?null:u.value,R=c.ItemValue.getItemByValue(x,D);return R&&(D=R.value),{value:D}},p.prototype.updateChoicesDependedQuestions=function(){if(!(this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions||!this.allowNotifyValueChanged||this.choicesByUrl.isRunning)){this.isUpdatingChoicesDependedQuestions=!0;for(var u=0;u<this.dependedQuestions.length;u++){var x=this.dependedQuestions[u];x.onVisibleChoicesChanged(),x.clearIncorrectValues()}this.isUpdatingChoicesDependedQuestions=!1}},p.prototype.onSurveyValueChanged=function(u){h.prototype.onSurveyValueChanged.call(this,u),this.updateChoicesDependedQuestions()},p.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},p.prototype.isVisibleCore=function(){var u=h.prototype.isVisibleCore.call(this);if(!this.hideIfChoicesEmpty||!u)return u;var x=this.getFilteredChoices();return!x||x.length>0},p.prototype.sortVisibleChoices=function(u){if(this.isDesignMode)return u;var x=this.choicesOrder.toLowerCase();return x=="asc"?this.sortArray(u,1):x=="desc"?this.sortArray(u,-1):x=="random"?this.randomizeArray(u):u},p.prototype.sortArray=function(u,x){return u.sort(function(V,A){return b.Helpers.compareStrings(V.calculatedText,A.calculatedText)*x})},p.prototype.randomizeArray=function(u){return b.Helpers.randomizeArray(u)},p.prototype.clearIncorrectValues=function(){this.hasValueToClearIncorrectValues()&&(this.survey&&this.survey.questionCountByValueName(this.getValueName())>1||this.choicesByUrl&&!this.choicesByUrl.isEmpty&&(!this.choicesFromUrl||this.choicesFromUrl.length==0)||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore()))},p.prototype.hasValueToClearIncorrectValues=function(){return this.survey&&this.survey.keepIncorrectValues?!1:!this.keepIncorrectValues&&!this.isEmpty()},p.prototype.clearValueIfInvisibleCore=function(u){h.prototype.clearValueIfInvisibleCore.call(this,u),this.clearIncorrectValues()},p.prototype.isItemSelected=function(u){return u===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(u)},p.prototype.isItemSelectedCore=function(u){return u.value===this.value},p.prototype.clearDisabledValues=function(){!this.survey||!this.survey.clearValueOnDisableItems||this.clearDisabledValuesCore()},p.prototype.clearIncorrectValuesCore=function(){var u=this.value;this.canClearValueAnUnknown(u)&&this.clearValue()},p.prototype.canClearValueAnUnknown=function(u){return!this.getStoreOthersAsComment()&&this.isOtherSelected?!1:this.hasUnknownValue(u,!0,!0,!0)},p.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue()},p.prototype.clearUnusedValues=function(){h.prototype.clearUnusedValues.call(this),this.isOtherSelected||(this.otherValue=""),!this.showCommentArea&&!this.getStoreOthersAsComment()&&!this.isOtherSelected&&(this.comment="")},p.prototype.getColumnClass=function(){return new g.CssClassBuilder().append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},p.prototype.getItemIndex=function(u){return this.visibleChoices.indexOf(u)},p.prototype.getItemClass=function(u){var x={item:u},V=this.getItemClassCore(u,x);return x.css=V,this.survey&&this.survey.updateChoiceItemCss(this,x),x.css},p.prototype.getCurrentColCount=function(){return this.colCount},p.prototype.getItemClassCore=function(u,x){var V=new g.CssClassBuilder().append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&this.colCount===0).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&this.colCount!==0).append(this.cssClasses.itemOnError,this.errors.length>0),A=this.isReadOnly||!u.isEnabled,M=this.isItemSelected(u)||this.isOtherSelected&&this.otherItem.value===u.value,T=!A&&!M&&!(this.survey&&this.survey.isDesignMode),D=u===this.noneItem;return x.isDisabled=A,x.isChecked=M,x.isNone=D,V.append(this.cssClasses.itemDisabled,A).append(this.cssClasses.itemChecked,M).append(this.cssClasses.itemHover,T).append(this.cssClasses.itemNone,D).toString()},p.prototype.getLabelClass=function(u){return new g.CssClassBuilder().append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(u)).toString()},p.prototype.getControlLabelClass=function(u){return new g.CssClassBuilder().append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(u)).toString()||void 0},Object.defineProperty(p.prototype,"headItems",{get:function(){var u=this;return this.separateSpecialChoices||this.isDesignMode?this.visibleChoices.filter(function(x){return u.isHeadChoice(x,u)}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"footItems",{get:function(){var u=this;return this.separateSpecialChoices||this.isDesignMode?this.visibleChoices.filter(function(x){return u.isFootChoice(x,u)}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"dataChoices",{get:function(){var u=this;return this.visibleChoices.filter(function(x){return!u.isBuiltInChoice(x,u)})},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"bodyItems",{get:function(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.visibleChoices},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"columns",{get:function(){var u=[],x=this.getCurrentColCount();if(this.hasColumns&&this.visibleChoices.length>0){var V=!this.separateSpecialChoices&&!this.isDesignMode?this.visibleChoices:this.dataChoices;if(P.settings.showItemsInOrder=="column")for(var A=0,M=V.length%x,T=0;T<x;T++){for(var D=[],R=A;R<A+Math.floor(V.length/x);R++)D.push(V[R]);M>0&&(M--,D.push(V[R]),R++),A=R,u.push(D)}else for(var T=0;T<x;T++){for(var D=[],R=T;R<V.length;R+=x)D.push(V[R]);u.push(D)}}return u},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"rowLayout",{get:function(){return this.getCurrentColCount()==0&&!(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"blockedRow",{get:function(){return this.getCurrentColCount()==0&&(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),p.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0,this.isReady=!this.waitingAcyncOperations,this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},p.prototype.getItemValueWrapperComponentName=function(u){var x=this.survey;return x?x.getItemValueWrapperComponentName(u,this):a.SurveyModel.TemplateRendererComponentName},p.prototype.getItemValueWrapperComponentData=function(u){var x=this.survey;return x?x.getItemValueWrapperComponentData(u,this):u},p.prototype.ariaItemChecked=function(u){return this.renderedValue===u.value?"true":"false"},p.prototype.isOtherItem=function(u){return this.hasOther&&u.value==this.otherItem.value},Object.defineProperty(p.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),p.prototype.getSelectBaseRootCss=function(){return new g.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootRow,this.rowLayout).toString()},p.prototype.getAriaItemLabel=function(u){return u.locText.renderedHtml},p.prototype.getItemId=function(u){return this.inputId+"_"+this.getItemIndex(u)},Object.defineProperty(p.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),p.prototype.getItemEnabled=function(u){return!this.isInputReadOnly&&u.isEnabled},p.prototype.afterRender=function(u){h.prototype.afterRender.call(this,u),this.rootElement=u},p.prototype.beforeDestroyQuestionElement=function(u){h.prototype.beforeDestroyQuestionElement.call(this,u),this.rootElement=void 0},p.prototype.focusOtherComment=function(){var u=this;this.rootElement&&setTimeout(function(){var x=u.rootElement.querySelector("textarea");x&&x.focus()},10)},p.prototype.onValueChanged=function(){h.prototype.onValueChanged.call(this),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},p.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(p.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(u){this.setPropertyValue("itemComponent",u)},enumerable:!1,configurable:!0}),p.prototype.updateCssClasses=function(u,x){if(h.prototype.updateCssClasses.call(this,u,x),this.dropdownListModel){var V={};Object(m.mergeValues)(x.list,V),Object(m.mergeValues)(u.list,V),u.list=V}},p.prototype.calcCssClasses=function(u){var x=h.prototype.calcCssClasses.call(this,u);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(x.popup,x.list),x},f([Object(o.property)({onSet:function(u,x){x.onSelectedItemValuesChangedHandler(u)}})],p.prototype,"selectedItemValues",void 0),f([Object(o.property)()],p.prototype,"separateSpecialChoices",void 0),f([Object(o.property)({localizable:!0})],p.prototype,"otherPlaceholder",void 0),p}(s.Question),d=function(h){v(p,h);function p(u){return h.call(this,u)||this}return Object.defineProperty(p.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:1)},set:function(u){u<0||u>5||this.isFlowLayout||(this.setPropertyValue("colCount",u),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),p.prototype.clickItemHandler=function(u,x){var V=[].concat(this.renderedValue||[]),A=V.indexOf(u.value);x?A<0&&V.push(u.value):A>-1&&V.splice(A,1),this.renderedValue=V},p.prototype.onParentChanged=function(){h.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},p.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},p.prototype.getSearchableItemValueKeys=function(u){u.push("choices")},p}(l);o.Serializer.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_selectbase",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return C.surveyLocalization.getString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(h){return!h.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(h){return!!h.choicesFromQuestion}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(h){return!h.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(h){return h.choicesByUrl.getData()},onSetValue:function(h,p){h.choicesByUrl.setData(p)}},"hideIfChoicesEmpty:boolean",{name:"choicesVisibleIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(h){return!h.choicesFromQuestion}},{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(h){return!h.choicesFromQuestion}},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(h){return h.hasOther}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(h){return h.hasNone}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(h){return h.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(h){return h.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),o.Serializer.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase")},"./src/question_boolean.ts":function(n,r,i){i.r(r),i.d(r,"QuestionBooleanModel",function(){return y});var o=i("./src/questionfactory.ts"),a=i("./src/jsonobject.ts"),s=i("./src/question.ts"),c=i("./src/utils/cssClassBuilder.ts"),C=i("./src/utils/utils.ts"),E=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),O=function(b,P,g,m){var v=arguments.length,f=v<3?P:m===null?m=Object.getOwnPropertyDescriptor(P,g):m,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(b,P,g,m);else for(var d=b.length-1;d>=0;d--)(l=b[d])&&(f=(v<3?l(f):v>3?l(P,g,f):l(P,g))||f);return v>3&&f&&Object.defineProperty(P,g,f),f},y=function(b){E(P,b);function P(g){var m=b.call(this,g)||this;return m.createLocalizableString("labelFalse",m,!0,"booleanUncheckedLabel"),m.createLocalizableString("labelTrue",m,!0,"booleanCheckedLabel"),m}return P.prototype.getType=function(){return"boolean"},P.prototype.isLayoutTypeSupported=function(g){return!0},P.prototype.supportGoNextPageAutomatic=function(){return this.renderAs!=="checkbox"},Object.defineProperty(P.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"booleanValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(g){this.isReadOnly||this.setBooleanValue(g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"checkedValue",{get:function(){return this.booleanValue},set:function(g){this.booleanValue=g},enumerable:!1,configurable:!0}),P.prototype.setBooleanValue=function(g){this.isValueEmpty(g)?(this.value=null,this.booleanValueRendered=null):(this.value=g==!0?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=g)},Object.defineProperty(P.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(g){g===!0&&(g="true"),g===!1&&(g="false"),g===void 0&&(g="indeterminate"),this.setPropertyValue("defaultValue",g),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),P.prototype.getDefaultValue=function(){return this.defaultValue=="indeterminate"||this.defaultValue===void 0?null:this.defaultValue=="true"?this.getValueTrue():this.getValueFalse()},Object.defineProperty(P.prototype,"locTitle",{get:function(){var g=this.getLocalizableString("title");return!this.isValueEmpty(this.locLabel.text)&&(this.isValueEmpty(g.text)||this.isLabelRendered&&!this.showTitle)?this.locLabel:g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"labelRenderedAriaID",{get:function(){return this.isLabelRendered?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isLabelRendered",{get:function(){return this.titleLocation==="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"canRenderLabelDescription",{get:function(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(g){this.setLocalizableStringText("labelTrue",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isDeterminated",{get:function(){return this.booleanValue!==null},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(g){this.setLocalizableStringText("labelFalse",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),P.prototype.getValueTrue=function(){return this.valueTrue!==void 0?this.valueTrue:!0},P.prototype.getValueFalse=function(){return this.valueFalse!==void 0?this.valueFalse:!1},P.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1),this.defaultValue=="indeterminate"&&this.setBooleanValue(null)},P.prototype.isDefaultValueSet=function(g,m){return this.defaultValue==g||m!==void 0&&this.defaultValue===m},P.prototype.getDisplayValueCore=function(g,m){return m==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},P.prototype.getItemCssValue=function(g){return new c.CssClassBuilder().append(g.item).append(g.itemOnError,this.errors.length>0).append(g.itemDisabled,this.isReadOnly).append(g.itemHover,!this.isDesignMode).append(g.itemChecked,!!this.booleanValue).append(g.itemIndeterminate,this.booleanValue===null).toString()},P.prototype.getItemCss=function(){return this.getItemCssValue(this.cssClasses)},P.prototype.getCheckboxItemCss=function(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})},P.prototype.getLabelCss=function(g){return new c.CssClassBuilder().append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!g||this.isReadOnly).toString()},Object.defineProperty(P.prototype,"svgIcon",{get:function(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:this.booleanValue===null&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),P.prototype.getCheckedLabel=function(){if(this.booleanValue===!0)return this.locLabelTrue;if(this.booleanValue===!1)return this.locLabelFalse},P.prototype.setQuestionValue=function(g,m){m===void 0&&(m=!0),g==="true"&&this.valueTrue!=="true"&&(g=!0),g==="false"&&this.valueFalse!=="false"&&(g=!1),g==="indeterminate"&&(g=null),b.prototype.setQuestionValue.call(this,g,m)},P.prototype.onLabelClick=function(g,m){return this.allowClick&&(Object(C.preventDefaults)(g),this.booleanValue=m),!0},P.prototype.calculateBooleanValueByEvent=function(g,m){var v=document.defaultView.getComputedStyle(g.target).direction=="rtl";this.booleanValue=v?!m:m},P.prototype.onSwitchClickModel=function(g){if(this.allowClick){Object(C.preventDefaults)(g);var m=g.offsetX/g.target.offsetWidth>.5;this.calculateBooleanValueByEvent(g,m);return}return!0},P.prototype.onKeyDownCore=function(g){if(g.key==="ArrowLeft"||g.key==="ArrowRight"){Object(C.preventDefaults)(g),this.calculateBooleanValueByEvent(g,g.key==="ArrowRight");return}return!0},P.prototype.getRadioItemClass=function(g,m){var v=void 0;return g.radioItem&&(v=g.radioItem),g.radioItemChecked&&m===this.booleanValue&&(v=(v?v+" ":"")+g.radioItemChecked),v},P.prototype.supportResponsiveness=function(){return!0},P.prototype.getCompactRenderAs=function(){return"radio"},P.prototype.createActionContainer=function(g){return b.prototype.createActionContainer.call(this,this.renderAs!=="checkbox")},O([Object(a.property)()],P.prototype,"booleanValueRendered",void 0),O([Object(a.property)()],P.prototype,"showTitle",void 0),O([Object(a.property)({localizable:!0})],P.prototype,"label",void 0),O([Object(a.property)()],P.prototype,"valueTrue",void 0),O([Object(a.property)()],P.prototype,"valueFalse",void 0),P}(s.Question);a.Serializer.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"renderAs",default:"default",visible:!1}],function(){return new y("")},"question"),o.QuestionFactory.Instance.registerQuestion("boolean",function(b){return new y(b)})},"./src/question_buttongroup.ts":function(n,r,i){i.r(r),i.d(r,"ButtonGroupItemValue",function(){return O}),i.d(r,"QuestionButtonGroupModel",function(){return y}),i.d(r,"ButtonGroupItemModel",function(){return b});var o=i("./src/jsonobject.ts"),a=i("./src/itemvalue.ts"),s=i("./src/question_baseselect.ts"),c=i("./src/utils/cssClassBuilder.ts"),C=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),E=function(P,g,m,v){var f=arguments.length,l=f<3?g:v===null?v=Object.getOwnPropertyDescriptor(g,m):v,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(P,g,m,v);else for(var h=P.length-1;h>=0;h--)(d=P[h])&&(l=(f<3?d(l):f>3?d(g,m,l):d(g,m))||l);return f>3&&l&&Object.defineProperty(g,m,l),l},O=function(P){C(g,P);function g(m,v,f){v===void 0&&(v=null),f===void 0&&(f="buttongroupitemvalue");var l=P.call(this,m,v,f)||this;return l.typeName=f,l}return g.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},E([Object(o.property)()],g.prototype,"iconName",void 0),E([Object(o.property)()],g.prototype,"iconSize",void 0),E([Object(o.property)()],g.prototype,"showCaption",void 0),g}(a.ItemValue),y=function(P){C(g,P);function g(m){return P.call(this,m)||this}return g.prototype.getType=function(){return"buttongroup"},g.prototype.getItemValueType=function(){return"buttongroupitemvalue"},g.prototype.supportOther=function(){return!1},g}(s.QuestionCheckboxBase);o.Serializer.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new y("")},"checkboxbase"),o.Serializer.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(P){return new O(P)},"itemvalue");var b=function(){function P(g,m,v){this.question=g,this.item=m,this.index=v}return Object.defineProperty(P.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showCaption",{get:function(){return this.item.showCaption||this.item.showCaption===void 0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"labelClass",{get:function(){return new c.CssClassBuilder().append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),P.prototype.onChange=function(){this.question.renderedValue=this.item.value},P}()},"./src/question_checkbox.ts":function(n,r,i){i.r(r),i.d(r,"QuestionCheckboxModel",function(){return y});var o=i("./src/jsonobject.ts"),a=i("./src/questionfactory.ts"),s=i("./src/question_baseselect.ts"),c=i("./src/helpers.ts"),C=i("./src/itemvalue.ts"),E=i("./src/utils/cssClassBuilder.ts"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){var m=b.call(this,g)||this;m.selectAllItemValue=new C.ItemValue("selectall"),m.invisibleOldValues={},m.isChangingValueOnClearIncorrect=!1;var v=m.createLocalizableString("selectAllText",m.selectAllItem,!0,"selectAllItemText");return m.selectAllItem.locOwner=m,m.selectAllItem.setLocText(v),m.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],function(){m.onVisibleChoicesChanged()}),m}return P.prototype.getDefaultItemComponent=function(){return"survey-checkbox-item"},Object.defineProperty(P.prototype,"ariaRole",{get:function(){return"listbox"},enumerable:!1,configurable:!0}),P.prototype.getType=function(){return"checkbox"},P.prototype.onCreating=function(){b.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},P.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(P.prototype,"valuePropertyName",{get:function(){return this.getPropertyValue("valuePropertyName")},set:function(g){this.setPropertyValue("valuePropertyName",g)},enumerable:!1,configurable:!0}),P.prototype.getQuestionFromArray=function(g,m){if(g&&g===this.valuePropertyName){var v=this.value;if(Array.isArray(v)&&m<v.length)return this}return null},Object.defineProperty(P.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(g){this.setLocalizableStringText("selectAllText",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showSelectAllItem",{get:function(){return this.getPropertyValue("showSelectAllItem")},set:function(g){this.setPropertyValue("showSelectAllItem",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasSelectAll",{get:function(){return this.showSelectAllItem},set:function(g){this.showSelectAllItem=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isAllSelected",{get:function(){var g=this.value;if(!g||!Array.isArray(g)||this.isItemSelected(this.noneItem))return!1;var m=this.visibleChoices.length;this.hasOther&&m--,this.hasNone&&m--,this.hasSelectAll&&m--;var v=g.length;return this.isOtherSelected&&v--,v===m},set:function(g){g?this.selectAll():this.clearValue()},enumerable:!1,configurable:!0}),P.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},P.prototype.selectAll=function(){for(var g=[],m=0;m<this.visibleChoices.length;m++){var v=this.visibleChoices[m];v===this.noneItem||v===this.otherItem||v===this.selectAllItem||g.push(v.value)}this.renderedValue=g},P.prototype.isItemSelectedCore=function(g){if(g===this.selectAllItem)return this.isAllSelected;var m=this.renderedValue;if(!m||!Array.isArray(m))return!1;for(var v=0;v<m.length;v++)if(this.isTwoValueEquals(m[v],g.value))return!0;return!1},P.prototype.getRealValue=function(g){return g&&(this.valuePropertyName?g[this.valuePropertyName]:g)},Object.defineProperty(P.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(g){g<0&&(g=0),this.setPropertyValue("maxSelectedChoices",g),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"selectedChoices",{get:function(){if(this.isEmpty())return[];var g=this.renderedValue,m=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,this.visibleChoices):this.visibleChoices,v=g.map(function(f){return C.ItemValue.getItemByValue(m,f)}).filter(function(f){return!!f});return!v.length&&!this.selectedItemValues&&this.updateSelectedItemValues(),this.validateItemValues(v)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"selectedItems",{get:function(){return this.selectedChoices},enumerable:!1,configurable:!0}),P.prototype.getMultipleSelectedItems=function(){return this.selectedChoices},P.prototype.validateItemValues=function(g){if(g.length)return g;var m=this.selectedItemValues;if(m&&m.length)return this.defaultSelectedItemValues=[].concat(m),m;var v=this.renderedValue;return v.map(function(f){return new C.ItemValue(f)})},P.prototype.onEnableItemCallBack=function(g){return this.shouldCheckMaxSelectedChoices()?this.isItemSelected(g):!0},P.prototype.onAfterRunItemsEnableCondition=function(){if(this.maxSelectedChoices<1){this.selectAllItem.setIsEnabled(!0),this.otherItem.setIsEnabled(!0);return}this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.maxSelectedChoices>=this.activeChoices.length),this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected)},P.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var g=this.value,m=Array.isArray(g)?g.length:0;return m>=this.maxSelectedChoices},P.prototype.getItemClassCore=function(g,m){return this.value,m.isSelectAllItem=g===this.selectAllItem,new E.CssClassBuilder().append(b.prototype.getItemClassCore.call(this,g,m)).append(this.cssClasses.itemSelectAll,m.isSelectAllItem).toString()},P.prototype.updateValueFromSurvey=function(g){b.prototype.updateValueFromSurvey.call(this,g),this.invisibleOldValues={}},P.prototype.setDefaultValue=function(){b.prototype.setDefaultValue.call(this);var g=this.defaultValue;if(Array.isArray(g))for(var m=0;m<g.length;m++){var v=this.getRealValue(g[m]);this.canClearValueAnUnknown(v)&&this.addIntoInvisibleOldValues(v)}},P.prototype.addIntoInvisibleOldValues=function(g){this.invisibleOldValues[g]=g},P.prototype.hasValueToClearIncorrectValues=function(){return b.prototype.hasValueToClearIncorrectValues.call(this)||!c.Helpers.isValueEmpty(this.invisibleOldValues)},P.prototype.setNewValue=function(g){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),g=this.valueFromData(g);var m=this.value;if(g||(g=[]),m||(m=[]),!this.isTwoValueEquals(m,g)){if(this.hasNone){var v=this.noneIndexInArray(m),f=this.noneIndexInArray(g);v>-1?f>-1&&g.length>1&&g.splice(f,1):f>-1&&(g.splice(0,g.length),g.push(this.noneItem.value))}b.prototype.setNewValue.call(this,g)}},P.prototype.getIsMultipleValue=function(){return!0},P.prototype.getCommentFromValue=function(g){var m=this.getFirstUnknownIndex(g);return m<0?"":g[m]},P.prototype.setOtherValueIntoValue=function(g){var m=this.getFirstUnknownIndex(g);return m<0||g.splice(m,1,this.otherItem.value),g},P.prototype.getFirstUnknownIndex=function(g){if(!Array.isArray(g))return-1;for(var m=0;m<g.length;m++)if(this.hasUnknownValue(g[m],!1,!1))return m;return-1},P.prototype.noneIndexInArray=function(g){if(!g||!Array.isArray(g))return-1;for(var m=this.noneItem.value,v=0;v<g.length;v++)if(g[v]==m)return v;return-1},P.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&b.prototype.canUseFilteredChoices.call(this)},P.prototype.supportSelectAll=function(){return this.isSupportProperty("showSelectAllItem")},P.prototype.addToVisibleChoices=function(g,m){this.supportSelectAll()&&this.canShowOptionItem(this.selectAllItem,m,this.hasSelectAll)&&g.unshift(this.selectAllItem),b.prototype.addToVisibleChoices.call(this,g,m)},P.prototype.isHeadChoice=function(g,m){return g===m.selectAllItem},P.prototype.isItemInList=function(g){return g==this.selectAllItem?this.hasSelectAll:b.prototype.isItemInList.call(this,g)},P.prototype.getDisplayValueCore=function(g,m){if(!Array.isArray(m))return b.prototype.getDisplayValueCore.call(this,g,m);var v=this.valuePropertyName,f=function(l){var d=m[l];return v&&d[v]&&(d=d[v]),d};return this.getDisplayArrayValue(g,m,f)},P.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},P.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},P.prototype.clearIncorrectAndDisabledValues=function(g){var m=this.value,v=!1,f=this.restoreValuesFromInvisible();if(!(!m&&f.length==0)){if(!Array.isArray(m)||m.length==0){if(this.isChangingValueOnClearIncorrect=!0,g||(this.hasComment?this.value=null:this.clearValue()),this.isChangingValueOnClearIncorrect=!1,f.length==0)return;m=[]}for(var l=[],d=0;d<m.length;d++){var h=this.getRealValue(m[d]),p=this.canClearValueAnUnknown(h);!g&&!p||g&&!this.isValueDisabled(h)?l.push(m[d]):(v=!0,p&&this.addIntoInvisibleOldValues(m[d]))}for(var d=0;d<f.length;d++)l.push(f[d]),v=!0;v&&(this.isChangingValueOnClearIncorrect=!0,l.length==0?this.clearValue():this.value=l,this.isChangingValueOnClearIncorrect=!1)}},P.prototype.restoreValuesFromInvisible=function(){for(var g=[],m=this.visibleChoices,v=0;v<m.length;v++){var f=m[v].value;c.Helpers.isTwoValueEquals(f,this.invisibleOldValues[f])&&(this.isItemSelected(m[v])||g.push(f),delete this.invisibleOldValues[f])}return g},P.prototype.getConditionJson=function(g,m){g===void 0&&(g=null);var v=b.prototype.getConditionJson.call(this);return(g=="contains"||g=="notcontains")&&(v.type="radiogroup"),v.maxSelectedChoices=0,v},P.prototype.isAnswerCorrect=function(){return c.Helpers.isArrayContainsEqual(this.value,this.correctAnswer)},P.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},P.prototype.getIsItemValue=function(g,m){return!g||!Array.isArray(g)?!1:g.indexOf(m.value)>=0},P.prototype.valueFromData=function(g){if(!g)return g;if(!Array.isArray(g))return[b.prototype.valueFromData.call(this,g)];for(var m=[],v=0;v<g.length;v++){var f=C.ItemValue.getItemByValue(this.activeChoices,g[v]);f?m.push(f.value):m.push(g[v])}return m},P.prototype.rendredValueFromData=function(g){return g=this.convertValueFromObject(g),b.prototype.rendredValueFromData.call(this,g)},P.prototype.rendredValueToData=function(g){return g=b.prototype.rendredValueToData.call(this,g),this.convertValueToObject(g)},P.prototype.convertValueFromObject=function(g){return this.valuePropertyName?c.Helpers.convertArrayObjectToValue(g,this.valuePropertyName):g},P.prototype.convertValueToObject=function(g){if(!this.valuePropertyName)return g;var m=void 0;return this.survey&&this.survey.questionCountByValueName(this.getValueName())>1&&(m=this.data.getValue(this.getValueName())),c.Helpers.convertArrayValueToObject(g,this.valuePropertyName,m)},P.prototype.renderedValueFromDataCore=function(g){if((!g||!Array.isArray(g))&&(g=[]),!this.hasActiveChoices)return g;for(var m=0;m<g.length;m++){if(g[m]==this.otherItem.value)return g;if(this.hasUnknownValue(g[m],!0,!1)){this.otherValue=g[m];var v=g.slice();return v[m]=this.otherItem.value,v}}return g},P.prototype.rendredValueToDataCore=function(g){if(!g||!g.length)return g;for(var m=0;m<g.length;m++)if(g[m]==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()){var v=g.slice();return v[m]=this.otherValue,v}return g},P.prototype.selectOtherValueFromComment=function(g){var m=[],v=this.renderedValue;if(Array.isArray(v))for(var f=0;f<v.length;f++)v[f]!==this.otherItem.value&&m.push(v[f]);g&&m.push(this.otherItem.value),this.value=m},Object.defineProperty(P.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),P}(s.QuestionCheckboxBase);o.Serializer.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(b){return b.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new y("")},"checkboxbase"),a.QuestionFactory.Instance.registerQuestion("checkbox",function(b){var P=new y(b);return P.choices=a.QuestionFactory.DefaultChoices,P})},"./src/question_comment.ts":function(n,r,i){i.r(r),i.d(r,"QuestionCommentModel",function(){return O});var o=i("./src/jsonobject.ts"),a=i("./src/questionfactory.ts"),s=i("./src/question_textbase.ts"),c=i("./src/utils/utils.ts"),C=i("./src/settings.ts"),E=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),O=function(y){E(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return Object.defineProperty(b.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(P){this.setPropertyValue("rows",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(P){this.setPropertyValue("cols",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(P){this.setPropertyValue("acceptCarriageReturn",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")||this.survey&&this.survey.autoGrowComment},set:function(P){this.setPropertyValue("autoGrow",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"allowResize",{get:function(){return this.getPropertyValue("allowResize")&&this.survey&&this.survey.allowResizeComment},set:function(P){this.setPropertyValue("allowResize",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"resizeStyle",{get:function(){return this.allowResize?"both":"none"},enumerable:!1,configurable:!0}),b.prototype.getType=function(){return"comment"},b.prototype.afterRenderQuestionElement=function(P){var g=C.settings.environment.root;this.element=g.getElementById(this.inputId)||P,this.updateElement(),y.prototype.afterRenderQuestionElement.call(this,P)},b.prototype.updateElement=function(){var P=this;this.element&&this.autoGrow&&setTimeout(function(){return Object(c.increaseHeightByContent)(P.element)},1)},b.prototype.beforeDestroyQuestionElement=function(P){y.prototype.beforeDestroyQuestionElement.call(this,P),this.element=void 0},b.prototype.onInput=function(P){this.isInputTextUpdate?this.value=P.target.value:this.updateElement(),this.updateRemainingCharacterCounter(P.target.value)},b.prototype.onKeyDown=function(P){this.checkForUndo(P),!this.acceptCarriageReturn&&(P.key==="Enter"||P.keyCode===13)&&(P.preventDefault(),P.stopPropagation())},b.prototype.onValueChanged=function(){y.prototype.onValueChanged.call(this),this.updateElement()},b.prototype.setNewValue=function(P){!this.acceptCarriageReturn&&P&&(P=P.replace(new RegExp(`(\r
|
|\r)`,"gm"),"")),y.prototype.setNewValue.call(this,P)},Object.defineProperty(b.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),b}(s.QuestionTextBase);o.Serializer.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean"},{name:"allowResize:boolean",default:!0},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new O("")},"textbase"),a.QuestionFactory.Instance.registerQuestion("comment",function(y){return new O(y)})},"./src/question_custom.ts":function(n,r,i){i.r(r),i.d(r,"ComponentQuestionJSON",function(){return y}),i.d(r,"ComponentCollection",function(){return b}),i.d(r,"QuestionCustomModelBase",function(){return P}),i.d(r,"QuestionCustomModel",function(){return g}),i.d(r,"QuestionCompositeModel",function(){return v});var o=i("./src/question.ts"),a=i("./src/jsonobject.ts"),s=i("./src/survey-element.ts"),c=i("./src/helpers.ts"),C=i("./src/textPreProcessor.ts"),E=i("./src/utils/cssClassBuilder.ts"),O=function(){var f=function(l,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(h[u]=p[u])},f(l,d)};return function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(l,d);function h(){this.constructor=l}l.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),y=function(){function f(l,d){this.name=l,this.json=d;var h=this;a.Serializer.addClass(l,[],function(p){return b.Instance.createQuestion(p?p.name:"",h)},"question"),this.onInit()}return f.prototype.onInit=function(){this.json.onInit&&this.json.onInit()},f.prototype.onCreated=function(l){this.json.onCreated&&this.json.onCreated(l)},f.prototype.onLoaded=function(l){this.json.onLoaded&&this.json.onLoaded(l)},f.prototype.onAfterRender=function(l,d){this.json.onAfterRender&&this.json.onAfterRender(l,d)},f.prototype.onAfterRenderContentElement=function(l,d,h){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(l,d,h)},f.prototype.onUpdateQuestionCssClasses=function(l,d,h){this.json.onUpdateQuestionCssClasses&&this.json.onUpdateQuestionCssClasses(l,d,h)},f.prototype.onPropertyChanged=function(l,d,h){this.json.onPropertyChanged&&this.json.onPropertyChanged(l,d,h)},f.prototype.onValueChanged=function(l,d,h){this.json.onValueChanged&&this.json.onValueChanged(l,d,h)},f.prototype.onValueChanging=function(l,d,h){return this.json.onValueChanging?this.json.onValueChanging(l,d,h):h},f.prototype.onItemValuePropertyChanged=function(l,d,h,p,u){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(l,{obj:d,propertyName:h,name:p,newValue:u})},f.prototype.getDisplayValue=function(l,d,h){return this.json.getDisplayValue?this.json.getDisplayValue(h):h.getDisplayValue(l,d)},f.prototype.setValueToQuestion=function(l){var d=this.json.valueToQuestion||this.json.setValue;return d?d(l):l},f.prototype.getValueFromQuestion=function(l){var d=this.json.valueFromQuestion||this.json.getValue;return d?d(l):l},Object.defineProperty(f.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),f}(),b=function(){function f(){this.customQuestionValues=[]}return f.prototype.add=function(l){if(l){var d=l.name;if(!d)throw"Attribute name is missed";if(d=d.toLowerCase(),this.getCustomQuestionByName(d))throw"There is already registered custom question with name '"+d+"'";if(a.Serializer.findClass(d))throw"There is already class with name '"+d+"'";var h=new y(d,l);this.onAddingJson&&this.onAddingJson(d,h.isComposite),this.customQuestionValues.push(h)}},Object.defineProperty(f.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),f.prototype.getCustomQuestionByName=function(l){for(var d=0;d<this.customQuestionValues.length;d++)if(this.customQuestionValues[d].name==l)return this.customQuestionValues[d];return null},f.prototype.clear=function(){for(var l=0;l<this.customQuestionValues.length;l++)a.Serializer.removeClass(this.customQuestionValues[l].name);this.customQuestionValues=[]},f.prototype.createQuestion=function(l,d){return d.isComposite?this.createCompositeModel(l,d):this.createCustomModel(l,d)},f.prototype.createCompositeModel=function(l,d){return this.onCreateComposite?this.onCreateComposite(l,d):new v(l,d)},f.prototype.createCustomModel=function(l,d){return this.onCreateCustom?this.onCreateCustom(l,d):new g(l,d)},f.Instance=new f,f}(),P=function(f){O(l,f);function l(d,h){var p=f.call(this,d)||this;return p.customQuestion=h,a.CustomPropertiesCollection.createProperties(p),s.SurveyElement.CreateDisabledDesignElements=!0,p.createWrapper(),s.SurveyElement.CreateDisabledDesignElements=!1,p.customQuestion&&p.customQuestion.onCreated(p),p}return l.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},l.prototype.locStrsChanged=function(){f.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},l.prototype.createWrapper=function(){},l.prototype.onPropertyValueChanged=function(d,h,p){f.prototype.onPropertyValueChanged.call(this,d,h,p),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,d,p)},l.prototype.itemValuePropertyChanged=function(d,h,p,u){f.prototype.itemValuePropertyChanged.call(this,d,h,p,u),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,d,d.ownerPropertyName,h,u)},l.prototype.onFirstRendering=function(){var d=this.getElement();d&&d.onFirstRendering(),f.prototype.onFirstRendering.call(this)},l.prototype.getProgressInfo=function(){var d=f.prototype.getProgressInfo.call(this);return this.getElement()&&(d=this.getElement().getProgressInfo()),this.isRequired&&d.requiredQuestionCount==0&&(d.requiredQuestionCount=1,this.isEmpty()||(d.answeredQuestionCount=1)),d},l.prototype.initElement=function(d){d&&(d.setSurveyImpl(this),d.disableDesignActions=!0)},l.prototype.setSurveyImpl=function(d,h){this.isSettingValOnLoading=!0,f.prototype.setSurveyImpl.call(this,d,h),this.initElement(this.getElement()),this.isSettingValOnLoading=!1},l.prototype.onSurveyLoad=function(){f.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},l.prototype.afterRenderQuestionElement=function(d){},l.prototype.afterRender=function(d){f.prototype.afterRender.call(this,d),this.customQuestion&&this.customQuestion.onAfterRender(this,d)},l.prototype.onUpdateQuestionCssClasses=function(d,h){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,d,h)},l.prototype.setQuestionValue=function(d,h){h===void 0&&(h=!0),f.prototype.setQuestionValue.call(this,d,h),this.updateElementCss()},l.prototype.setNewValue=function(d){f.prototype.setNewValue.call(this,d),this.updateElementCss()},l.prototype.getSurveyData=function(){return this},l.prototype.getTextProcessor=function(){return this.textProcessor},l.prototype.getValue=function(d){return this.value},l.prototype.setValue=function(d,h,p,u){if(this.data){var x=this.convertDataName(d),V=this.convertDataValue(d,h);this.valueToDataCallback&&(V=this.valueToDataCallback(V)),this.data.setValue(x,V,p,u),this.updateIsAnswered(),this.updateElementCss(),this.customQuestion&&this.customQuestion.onValueChanged(this,d,h)}},l.prototype.getQuestionByName=function(d){},l.prototype.isValueChanging=function(d,h){if(this.customQuestion){var p=h;if(h=this.customQuestion.onValueChanging(this,d,h),!c.Helpers.isTwoValueEquals(h,p)){var u=this.getQuestionByName(d);if(u)return u.value=h,!0}}return!1},l.prototype.convertDataName=function(d){return this.getValueName()},l.prototype.convertDataValue=function(d,h){return h},l.prototype.getVariable=function(d){return this.data?this.data.getVariable(d):null},l.prototype.setVariable=function(d,h){this.data&&this.data.setVariable(d,h)},l.prototype.getComment=function(d){return this.data?this.data.getComment(this.getValueName()):""},l.prototype.setComment=function(d,h,p){this.data&&this.data.setComment(this.getValueName(),h,p)},l.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},l.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},l.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},l.prototype.findQuestionByName=function(d){return this.data?this.data.findQuestionByName(d):null},l.prototype.addElement=function(d,h){},l.prototype.removeElement=function(d){return!1},l.prototype.getQuestionTitleLocation=function(){return"left"},l.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},l.prototype.getChildrenLayoutType=function(){return"row"},l.prototype.elementWidthChanged=function(d){},Object.defineProperty(l.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),l.prototype.indexOf=function(d){return-1},l.prototype.ensureRowsVisibility=function(){},l.prototype.validateContainerOnly=function(){},l.prototype.getContentDisplayValueCore=function(d,h,p){return p?this.customQuestion.getDisplayValue(d,h,p):f.prototype.getDisplayValueCore.call(this,d,h)},l}(o.Question),g=function(f){O(l,f);function l(){return f!==null&&f.apply(this,arguments)||this}return l.prototype.getTemplate=function(){return"custom"},l.prototype.createWrapper=function(){this.questionWrapper=this.createQuestion()},l.prototype.getElement=function(){return this.contentQuestion},l.prototype.onAnyValueChanged=function(d){f.prototype.onAnyValueChanged.call(this,d),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(d)},l.prototype.getQuestionByName=function(d){return this.contentQuestion},l.prototype.setValue=function(d,h,p,u){this.isValueChanging(d,h)||f.prototype.setValue.call(this,d,h,p,u)},l.prototype.onSetData=function(){f.prototype.onSetData.call(this),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)},l.prototype.hasErrors=function(d,h){if(d===void 0&&(d=!0),h===void 0&&(h=null),!this.contentQuestion)return!1;var p=this.contentQuestion.hasErrors(d,h);this.errors=[];for(var u=0;u<this.contentQuestion.errors.length;u++)this.errors.push(this.contentQuestion.errors[u]);return p||(p=f.prototype.hasErrors.call(this,d,h)),this.updateElementCss(),p},l.prototype.focus=function(d){d===void 0&&(d=!1),this.contentQuestion?this.contentQuestion.focus(d):f.prototype.focus.call(this,d)},Object.defineProperty(l.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),l.prototype.createQuestion=function(){var d=this,h=this.customQuestion.json,p=null;if(h.questionJSON){var u=h.questionJSON.type;if(!u||!a.Serializer.findClass(u))throw"type attribute in questionJSON is empty or incorrect";p=a.Serializer.createClass(u),this.initElement(p),p.fromJSON(h.questionJSON)}else h.createQuestion&&(p=h.createQuestion(),this.initElement(p));return p&&(p.isContentElement=!0,p.name||(p.name="question"),p.onUpdateCssClassesCallback=function(x){d.onUpdateQuestionCssClasses(p,x)}),p},l.prototype.onSurveyLoad=function(){f.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())},l.prototype.runCondition=function(d,h){f.prototype.runCondition.call(this,d,h),this.contentQuestion&&this.contentQuestion.runCondition(d,h)},l.prototype.convertDataName=function(d){if(!this.contentQuestion)return f.prototype.convertDataName.call(this,d);var h=d.replace(this.contentQuestion.getValueName(),this.getValueName());return h.indexOf(this.getValueName())==0?h:f.prototype.convertDataName.call(this,d)},l.prototype.convertDataValue=function(d,h){return this.convertDataName(d)==f.prototype.convertDataName.call(this,d)?this.getContentQuestionValue():h},l.prototype.getContentQuestionValue=function(){if(this.contentQuestion){var d=this.contentQuestion.value;return this.customQuestion&&(d=this.customQuestion.getValueFromQuestion(d)),d}},l.prototype.setContentQuestionValue=function(d){this.contentQuestion&&(this.customQuestion&&(d=this.customQuestion.setValueToQuestion(d)),this.contentQuestion.value=d)},l.prototype.canSetValueToSurvey=function(){return!1},l.prototype.setQuestionValue=function(d,h){h===void 0&&(h=!0),f.prototype.setQuestionValue.call(this,d,h),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.getContentQuestionValue(),d)&&this.setContentQuestionValue(this.getUnbindValue(d))},l.prototype.onSurveyValueChanged=function(d){f.prototype.onSurveyValueChanged.call(this,d),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(d)},l.prototype.getValueCore=function(){return this.contentQuestion?this.getContentQuestionValue():f.prototype.getValueCore.call(this)},l.prototype.initElement=function(d){var h=this;f.prototype.initElement.call(this,d),d&&(d.parent=this,d.afterRenderQuestionCallback=function(p,u){h.customQuestion&&h.customQuestion.onAfterRenderContentElement(h,p,u)})},l.prototype.updateElementCss=function(d){this.contentQuestion&&this.questionWrapper.updateElementCss(d),f.prototype.updateElementCss.call(this,d)},l.prototype.updateElementCssCore=function(d){this.contentQuestion&&(d=this.contentQuestion.cssClasses),f.prototype.updateElementCssCore.call(this,d)},l.prototype.getDisplayValueCore=function(d,h){return f.prototype.getContentDisplayValueCore.call(this,d,h,this.contentQuestion)},l}(P),m=function(f){O(l,f);function l(d,h){var p=f.call(this,h)||this;return p.composite=d,p.variableName=h,p}return Object.defineProperty(l.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),l}(C.QuestionTextProcessor),v=function(f){O(l,f);function l(d,h){var p=f.call(this,d,h)||this;return p.customQuestion=h,p.settingNewValue=!1,p.textProcessing=new m(p,l.ItemVariableName),p}return l.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},l.prototype.getTemplate=function(){return"composite"},l.prototype.getElement=function(){return this.contentPanel},l.prototype.getCssRoot=function(d){return new E.CssClassBuilder().append(f.prototype.getCssRoot.call(this,d)).append(d.composite).toString()},Object.defineProperty(l.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),l.prototype.hasErrors=function(d,h){d===void 0&&(d=!0),h===void 0&&(h=null);var p=f.prototype.hasErrors.call(this,d,h);return this.contentPanel&&this.contentPanel.hasErrors(d,!1,h)||p},l.prototype.updateElementCss=function(d){f.prototype.updateElementCss.call(this,d),this.contentPanel&&this.contentPanel.updateElementCss(d)},l.prototype.getTextProcessor=function(){return this.textProcessing},l.prototype.findQuestionByName=function(d){var h=this.getQuestionByName(d);return h||f.prototype.findQuestionByName.call(this,d)},l.prototype.clearValueIfInvisibleCore=function(d){f.prototype.clearValueIfInvisibleCore.call(this,d);for(var h=this.contentPanel.questions,p=0;p<h.length;p++)h[p].clearValueIfInvisible(d)},l.prototype.onAnyValueChanged=function(d){f.prototype.onAnyValueChanged.call(this,d);for(var h=this.contentPanel.questions,p=0;p<h.length;p++)h[p].onAnyValueChanged(d)},l.prototype.createPanel=function(){var d=this,h=a.Serializer.createClass("panel");h.showQuestionNumbers="off",h.renderWidth="100%";var p=this.customQuestion.json;return p.elementsJSON&&h.fromJSON({elements:p.elementsJSON}),p.createElements&&p.createElements(h,this),this.initElement(h),h.readOnly=this.isReadOnly,h.questions.forEach(function(u){return u.onUpdateCssClassesCallback=function(x){d.onUpdateQuestionCssClasses(u,x)}}),this.setAfterRenderCallbacks(h),h},l.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),f.prototype.onReadOnlyChanged.call(this)},l.prototype.onSurveyLoad=function(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),f.prototype.onSurveyLoad.call(this),this.contentPanel){var d=this.getContentPanelValue();c.Helpers.isValueEmpty(d)||(this.value=d)}this.isSettingValOnLoading=!1},l.prototype.setIsContentElement=function(d){d.isContentElement=!0;for(var h=d.elements,p=0;p<h.length;p++){var u=h[p];u.isPanel?this.setIsContentElement(u):u.isContentElement=!0}},l.prototype.setVisibleIndex=function(d){var h=f.prototype.setVisibleIndex.call(this,d);return this.isVisible&&this.contentPanel&&(h+=this.contentPanel.setVisibleIndex(d)),h},l.prototype.runCondition=function(d,h){if(f.prototype.runCondition.call(this,d,h),this.contentPanel){var p=d[l.ItemVariableName];d[l.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(d,h),delete d[l.ItemVariableName],p&&(d[l.ItemVariableName]=p)}},l.prototype.getValue=function(d){var h=this.value;return h?h[d]:null},l.prototype.getQuestionByName=function(d){return this.contentPanel?this.contentPanel.getQuestionByName(d):void 0},l.prototype.setValue=function(d,h,p,u){if(this.settingNewValue){this.setNewValueIntoQuestion(d,h);return}if(!this.isValueChanging(d,h)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel)for(var x=0,V=this.contentPanel.questions.length+1;x<V&&this.updateValueCoreWithPanelValue();)x++;this.setNewValueIntoQuestion(d,h),f.prototype.setValue.call(this,d,h,p,u),this.settingNewValue=!1}},l.prototype.updateValueCoreWithPanelValue=function(){var d=this.getContentPanelValue();return this.isTwoValueEquals(this.getValueCore(),d)?!1:(this.setValueCore(d),!0)},l.prototype.getContentPanelValue=function(d){return d||(d=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(d)},l.prototype.getValueForContentPanel=function(d){return this.customQuestion.getValueFromQuestion(d)},l.prototype.setNewValueIntoQuestion=function(d,h){var p=this.getQuestionByName(d);p&&!this.isTwoValueEquals(h,p.value)&&(p.value=h)},l.prototype.addConditionObjectsByContext=function(d,h){if(this.contentPanel)for(var p=this.contentPanel.questions,u=this.name,x=this.title,V=0;V<p.length;V++)d.push({name:u+"."+p[V].name,text:x+"."+p[V].title,question:p[V]})},l.prototype.convertDataValue=function(d,h){var p=this.getValueForContentPanel(this.value);return p||(p={}),this.isValueEmpty(h)&&!this.isEditingSurveyElement?delete p[d]:p[d]=h,this.getContentPanelValue(p)},l.prototype.setQuestionValue=function(d,h){h===void 0&&(h=!0),this.setValuesIntoQuestions(d),!this.isEditingSurveyElement&&this.contentPanel&&(d=this.getContentPanelValue()),f.prototype.setQuestionValue.call(this,d,h)},l.prototype.setValuesIntoQuestions=function(d){if(this.contentPanel){d=this.getValueForContentPanel(d);var h=this.settingNewValue;this.settingNewValue=!0;for(var p=this.contentPanel.questions,u=0;u<p.length;u++){var x=p[u].getValueName(),V=d?d[x]:void 0,A=p[u];this.isTwoValueEquals(A.value,V)||(A.value=V)}this.settingNewValue=h}},l.prototype.getDisplayValueCore=function(d,h){return f.prototype.getContentDisplayValueCore.call(this,d,h,this.contentPanel)},l.prototype.setAfterRenderCallbacks=function(d){var h=this;if(!(!d||!this.customQuestion))for(var p=d.questions,u=0;u<p.length;u++)p[u].afterRenderQuestionCallback=function(x,V){h.customQuestion.onAfterRenderContentElement(h,x,V)}},l.ItemVariableName="composite",l}(P)},"./src/question_dropdown.ts":function(n,r,i){i.r(r),i.d(r,"QuestionDropdownModel",function(){return P});var o=i("./src/jsonobject.ts"),a=i("./src/questionfactory.ts"),s=i("./src/question_baseselect.ts"),c=i("./src/itemvalue.ts"),C=i("./src/utils/cssClassBuilder.ts"),E=i("./src/dropdownListModel.ts"),O=i("./src/settings.ts"),y=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),b=function(g,m,v,f){var l=arguments.length,d=l<3?m:f===null?f=Object.getOwnPropertyDescriptor(m,v):f,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(g,m,v,f);else for(var p=g.length-1;p>=0;p--)(h=g[p])&&(d=(l<3?h(d):l>3?h(m,v,d):h(m,v))||d);return l>3&&d&&Object.defineProperty(m,v,d),d},P=function(g){y(m,g);function m(v){var f=g.call(this,v)||this;return f.lastSelectedItemValue=null,f.minMaxChoices=[],f.onOpened=f.addEvent(),f.createLocalizableString("placeholder",f,!1,!0),f.createLocalizableString("clearCaption",f,!1,!0),f.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],function(){f.onVisibleChoicesChanged()}),f.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){f.updateReadOnlyText()}),f.updateReadOnlyText(),f}return m.prototype.updateReadOnlyText=function(){var v=this.selectedItem?"":this.placeholder;this.renderAs=="select"&&(this.isOtherSelected?v=this.otherText:this.isNoneSelected?v=this.noneText:this.selectedItem&&(v=this.selectedItemText)),this.readOnlyText=v},m.prototype.locStrsChanged=function(){g.prototype.locStrsChanged.call(this),this.updateReadOnlyText()},Object.defineProperty(m.prototype,"showOptionsCaption",{get:function(){return this.allowClear},set:function(v){this.allowClear=v},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(v){this.placeholder=v},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(v){this.setLocalizableStringText("placeholder",v)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(v){this.setLocalizableStringText("clearCaption",v)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),m.prototype.getType=function(){return"dropdown"},Object.defineProperty(m.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),m.prototype.onGetSingleSelectedItem=function(v){v&&(this.lastSelectedItemValue=v)},m.prototype.supportGoNextPageAutomatic=function(){return!0},m.prototype.getChoices=function(){var v=g.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return v;for(var f=[],l=0;l<v.length;l++)f.push(v[l]);if(this.minMaxChoices.length===0||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1){this.minMaxChoices=[];for(var l=this.choicesMin;l<=this.choicesMax;l+=this.choicesStep)this.minMaxChoices.push(new c.ItemValue(l))}return f=f.concat(this.minMaxChoices),f},Object.defineProperty(m.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(v){this.setPropertyValue("choicesMin",v)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(v){this.setPropertyValue("choicesMax",v)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(v){v<1&&(v=1),this.setPropertyValue("choicesStep",v)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(v){this.setPropertyValue("autocomplete",v)},enumerable:!1,configurable:!0}),m.prototype.getControlClass=function(){return new C.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()},Object.defineProperty(m.prototype,"selectedItemLocText",{get:function(){var v=this.suggestedItem||this.selectedItem;return v==null?void 0:v.locText},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"inputFieldComponentName",{get:function(){return this.inputFieldComponent||this.itemComponent},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"showSelectedItemLocText",{get:function(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"showInputFieldComponent",{get:function(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"selectedItemText",{get:function(){var v=this.selectedItem;return v?v.text:""},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"dropdownListModel",{get:function(){return this.renderAs!=="select"&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new E.DropdownListModel(this)),this.dropdownListModelValue},set:function(v){this.dropdownListModelValue=v},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"popupModel",{get:function(){var v;return(v=this.dropdownListModel)===null||v===void 0?void 0:v.popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"ariaExpanded",{get:function(){var v=this.popupModel;return v&&v.isVisible?"true":"false"},enumerable:!1,configurable:!0}),m.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},m.prototype.onSelectedItemValuesChangedHandler=function(v){var f;(f=this.dropdownListModel)===null||f===void 0||f.setInputStringFromSelectedItem(v),g.prototype.onSelectedItemValuesChangedHandler.call(this,v)},m.prototype.hasUnknownValue=function(v,f,l,d){return this.choicesLazyLoadEnabled?!1:g.prototype.hasUnknownValue.call(this,v,f,l,d)},m.prototype.needConvertRenderedOtherToDataValue=function(){var v,f=(v=this.otherValue)===null||v===void 0?void 0:v.trim();return f?g.prototype.hasUnknownValue.call(this,f,!0,!1):!1},m.prototype.getItemIfChoicesNotContainThisValue=function(v,f){return this.choicesLazyLoadEnabled&&!this.dropdownListModel.isAllDataLoaded?this.createItemValue(v,f):g.prototype.getItemIfChoicesNotContainThisValue.call(this,v,f)},m.prototype.onVisibleChoicesChanged=function(){g.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},m.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},m.prototype.getInputId=function(){return this.inputId+"_0"},m.prototype.clearValue=function(){var v;g.prototype.clearValue.call(this),this.lastSelectedItemValue=null,(v=this.dropdownListModel)===null||v===void 0||v.clear()},m.prototype.onClick=function(v){this.onOpenedCallBack&&this.onOpenedCallBack()},m.prototype.onKeyUp=function(v){var f=v.which||v.keyCode;f===46&&(this.clearValue(),v.preventDefault(),v.stopPropagation())},m.prototype.dispose=function(){g.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},b([Object(o.property)()],m.prototype,"allowClear",void 0),b([Object(o.property)({onSet:function(v,f){f.dropdownListModel&&f.dropdownListModel.setSearchEnabled(v)}})],m.prototype,"searchEnabled",void 0),b([Object(o.property)({defaultValue:!1})],m.prototype,"inputHasValue",void 0),b([Object(o.property)({defaultValue:""})],m.prototype,"readOnlyText",void 0),b([Object(o.property)()],m.prototype,"choicesLazyLoadEnabled",void 0),b([Object(o.property)({defaultValue:25})],m.prototype,"choicesLazyLoadPageSize",void 0),b([Object(o.property)()],m.prototype,"suggestedItem",void 0),m}(s.QuestionSelectBase);o.Serializer.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:O.settings.questions.dataList},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new P("")},"selectbase"),a.QuestionFactory.Instance.registerQuestion("dropdown",function(g){var m=new P(g);return m.choices=a.QuestionFactory.DefaultChoices,m})},"./src/question_empty.ts":function(n,r,i){i.r(r),i.d(r,"QuestionEmptyModel",function(){return c});var o=i("./src/jsonobject.ts"),a=i("./src/question.ts"),s=function(){var C=function(E,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(y[P]=b[P])},C(E,O)};return function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");C(E,O);function y(){this.constructor=E}E.prototype=O===null?Object.create(O):(y.prototype=O.prototype,new y)}}(),c=function(C){s(E,C);function E(O){return C.call(this,O)||this}return E.prototype.getType=function(){return"empty"},E}(a.Question);o.Serializer.addClass("empty",[],function(){return new c("")},"question")},"./src/question_expression.ts":function(n,r,i){i.r(r),i.d(r,"QuestionExpressionModel",function(){return O}),i.d(r,"getCurrecyCodes",function(){return y});var o=i("./src/helpers.ts"),a=i("./src/question.ts"),s=i("./src/jsonobject.ts"),c=i("./src/questionfactory.ts"),C=i("./src/conditions.ts"),E=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),O=function(b){E(P,b);function P(g){var m=b.call(this,g)||this;return m.createLocalizableString("format",m),m.registerPropertyChangedHandlers(["expression"],function(){m.expressionRunner&&(m.expressionRunner=new C.ExpressionRunner(m.expression))}),m.registerPropertyChangedHandlers(["format","currency","displayStyle"],function(){m.updateFormatedValue()}),m}return P.prototype.getType=function(){return"expression"},Object.defineProperty(P.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(g){this.setLocalizableStringText("format",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(g){this.setPropertyValue("expression",g)},enumerable:!1,configurable:!0}),P.prototype.locCalculation=function(){this.expressionIsRunning=!0},P.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},P.prototype.runCondition=function(g,m){var v=this;b.prototype.runCondition.call(this,g,m),!(!this.expression||this.expressionIsRunning||!this.runIfReadOnly&&this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=new C.ExpressionRunner(this.expression)),this.expressionRunner.onRunComplete=function(f){v.value=f,v.unlocCalculation()},this.expressionRunner.run(g,m))},P.prototype.canCollectErrors=function(){return!0},P.prototype.hasRequiredError=function(){return!1},Object.defineProperty(P.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(g){g<-1||g>20||this.setPropertyValue("maximumFractionDigits",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(g){g<-1||g>20||this.setPropertyValue("minimumFractionDigits",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"runIfReadOnly",{get:function(){return this.runIfReadOnlyValue===!0},set:function(g){this.runIfReadOnlyValue=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),P.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},P.prototype.onValueChanged=function(){this.updateFormatedValue()},P.prototype.updateValueFromSurvey=function(g){b.prototype.updateValueFromSurvey.call(this,g),this.updateFormatedValue()},P.prototype.getDisplayValueCore=function(g,m){var v=this.isValueEmpty(m)?this.defaultValue:m,f="";if(!this.isValueEmpty(v)){var l=this.getValueAsStr(v);f=this.format?this.format.format(l):l}return this.survey&&(f=this.survey.getExpressionDisplayValue(this,v,f)),f},Object.defineProperty(P.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(g){this.setPropertyValue("displayStyle",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(g){y().indexOf(g)<0||this.setPropertyValue("currency",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(g){this.setPropertyValue("useGrouping",g)},enumerable:!1,configurable:!0}),P.prototype.getValueAsStr=function(g){if(this.displayStyle=="date"){var m=new Date(g);if(m&&m.toLocaleDateString)return m.toLocaleDateString()}if(this.displayStyle!="none"&&o.Helpers.isNumber(g)){var v=this.getLocale();v||(v="en");var f={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(f.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(f.minimumFractionDigits=this.minimumFractionDigits),g.toLocaleString(v,f)}return g.toString()},P}(a.Question);function y(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}s.Serializer.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return y()},default:"USD"},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new O("")},"question"),c.QuestionFactory.Instance.registerQuestion("expression",function(b){return new O(b)})},"./src/question_file.ts":function(n,r,i){i.r(r),i.d(r,"QuestionFileModel",function(){return m}),i.d(r,"FileLoader",function(){return v});var o=i("./src/question.ts"),a=i("./src/jsonobject.ts"),s=i("./src/questionfactory.ts"),c=i("./src/error.ts"),C=i("./src/utils/cssClassBuilder.ts"),E=i("./src/utils/utils.ts"),O=i("./src/actions/container.ts"),y=i("./src/actions/action.ts"),b=i("./src/helpers.ts"),P=function(){var f=function(l,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(h[u]=p[u])},f(l,d)};return function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(l,d);function h(){this.constructor=l}l.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),g=function(f,l,d,h){var p=arguments.length,u=p<3?l:h===null?h=Object.getOwnPropertyDescriptor(l,d):h,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(f,l,d,h);else for(var V=f.length-1;V>=0;V--)(x=f[V])&&(u=(p<3?x(u):p>3?x(l,d,u):x(l,d))||u);return p>3&&u&&Object.defineProperty(l,d,u),u},m=function(f){P(l,f);function l(d){var h=f.call(this,d)||this;return h.isUploading=!1,h.isDragging=!1,h.onUploadStateChanged=h.addEvent(),h.onStateChanged=h.addEvent(),h.mobileFileNavigator=new O.ActionContainer,h.dragCounter=0,h.onDragEnter=function(p){h.isInputReadOnly||(p.preventDefault(),h.isDragging=!0,h.dragCounter++)},h.onDragOver=function(p){if(h.isInputReadOnly)return p.returnValue=!1,!1;p.dataTransfer.dropEffect="copy",p.preventDefault()},h.onDrop=function(p){if(!h.isInputReadOnly){h.isDragging=!1,h.dragCounter=0,p.preventDefault();var u=p.dataTransfer;h.onChange(u)}},h.onDragLeave=function(p){h.isInputReadOnly||(h.dragCounter--,h.dragCounter===0&&(h.isDragging=!1))},h.doChange=function(p){var u=p.target||p.srcElement;h.onChange(u)},h.doClean=function(p){if(p.currentTarget||p.srcElement,h.needConfirmRemoveFile){var u=Object(E.confirmAction)(h.confirmRemoveAllMessage);if(!u)return}h.rootElement&&(h.rootElement.querySelectorAll("input")[0].value=""),h.clear()},h.doDownloadFile=function(p,u){Object(E.detectIEOrEdge)()&&(p.preventDefault(),Object(E.loadFileFromBase64)(u.content,u.name))},h.fileIndexAction=new y.Action({id:"fileIndex",title:h.getFileIndexCaption(),enabled:!1}),h.prevFileAction=new y.Action({id:"prevPage",iconSize:16,action:function(){h.indexToShow=h.previewValue.length&&(h.indexToShow-1+h.previewValue.length)%h.previewValue.length||0,h.fileIndexAction.title=h.getFileIndexCaption()}}),h.nextFileAction=new y.Action({id:"nextPage",iconSize:16,action:function(){h.indexToShow=h.previewValue.length&&(h.indexToShow+1)%h.previewValue.length||0,h.fileIndexAction.title=h.getFileIndexCaption()}}),h.mobileFileNavigator.actions=[h.prevFileAction,h.fileIndexAction,h.nextFileAction],h}return Object.defineProperty(l.prototype,"mobileFileNavigatorVisible",{get:function(){return this.isMobile&&this.containsMultiplyFiles},enumerable:!1,configurable:!0}),l.prototype.updateElementCssCore=function(d){f.prototype.updateElementCssCore.call(this,d),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId},l.prototype.getFileIndexCaption=function(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.previewValue.length)},l.prototype.isPreviewVisible=function(d){return!this.isMobile||d===this.indexToShow},l.prototype.getType=function(){return"file"},l.prototype.clearValue=function(){this.clearOnDeletingContainer(),f.prototype.clearValue.call(this)},l.prototype.clearOnDeletingContainer=function(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,function(){})},Object.defineProperty(l.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(d){this.setPropertyValue("showPreview",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple")},set:function(d){this.setPropertyValue("allowMultiple",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(d){this.setPropertyValue("imageHeight",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(d){this.setPropertyValue("imageWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(d){this.setPropertyValue("acceptedTypes",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(d){this.setPropertyValue("storeDataAsText",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(d){this.setPropertyValue("waitForUpload",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(d){this.setPropertyValue("allowImagesPreview",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(d){this.setPropertyValue("maxSize",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(d){this.setPropertyValue("needConfirmRemoveFile",d)},enumerable:!1,configurable:!0}),l.prototype.getConfirmRemoveMessage=function(d){return this.confirmRemoveMessage.format(d)},Object.defineProperty(l.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),l.prototype.clear=function(d){var h=this;this.survey&&(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(p,u){p==="success"&&(h.value=void 0,h.errors=[],d&&d(),h.indexToShow=0,h.fileIndexAction.title=h.getFileIndexCaption())}))},Object.defineProperty(l.prototype,"renderCapture",{get:function(){return this.allowCameraAccess?"user":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"multipleRendered",{get:function(){return this.allowMultiple?"multiple":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showRemoveButton",{get:function(){return!this.isReadOnly&&!this.isEmpty()&&this.cssClasses.removeButton},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showRemoveButtonBottom",{get:function(){return!this.isReadOnly&&!this.isEmpty()&&this.cssClasses.removeButtonBottom},enumerable:!1,configurable:!0}),l.prototype.defaultImage=function(d){return!this.canPreviewImage(d)&&!!this.cssClasses.defaultImage},l.prototype.removeFile=function(d){this.removeFileByContent(this.value.filter(function(h){return h.name===d})[0])},l.prototype.removeFileByContent=function(d){var h=this;this.survey&&this.survey.clearFiles(this,this.name,this.value,d.name,function(p,u){if(p==="success"){var x=h.value;Array.isArray(x)?h.value=x.filter(function(V){return!b.Helpers.isTwoValueEquals(V,d,!0)}):h.value=void 0}})},l.prototype.loadFiles=function(d){var h=this;if(this.survey&&(this.errors=[],!!this.allFilesOk(d))){var p=function(){h.stateChanged("loading");var u=[];h.storeDataAsText?d.forEach(function(x){var V=new FileReader;V.onload=function(A){u=u.concat([{name:x.name,type:x.type,content:V.result}]),u.length===d.length&&(h.value=(h.value||[]).concat(u))},V.readAsDataURL(x)}):h.survey&&h.survey.uploadFiles(h,h.name,d,function(x,V){x==="error"&&h.stateChanged("error"),x==="success"&&(h.value=(h.value||[]).concat(V.map(function(A){return{name:A.file.name,type:A.file.type,content:A.content}})))})};this.allowMultiple?p():this.clear(p)}},l.prototype.canPreviewImage=function(d){return this.allowImagesPreview&&!!d&&this.isFileImage(d)},l.prototype.loadPreview=function(d){var h=this;if(this.previewValue.splice(0,this.previewValue.length),!(!this.showPreview||!d)){var p=Array.isArray(d)?d:d?[d]:[];this.storeDataAsText?p.forEach(function(u){var x=u.content||u;h.previewValue.push({name:u.name,type:u.type,content:x})}):(this._previewLoader&&this._previewLoader.dispose(),this.isReadyValue=!1,this._previewLoader=new v(this,function(u,x){u==="loaded"&&x.forEach(function(V){h.previewValue.push(V)}),h.isReady=!0,h._previewLoader.dispose(),h._previewLoader=void 0}),this._previewLoader.load(p)),this.indexToShow=this.previewValue.length>0&&this.indexToShow>0?this.indexToShow-1:0,this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1}},l.prototype.onCheckForErrors=function(d,h){f.prototype.onCheckForErrors.call(this,d,h),this.isUploading&&this.waitForUpload&&d.push(new c.UploadingFileError(this.getLocalizationString("uploadingFile"),this))},l.prototype.stateChanged=function(d){this.currentState!=d&&(d==="loading"&&(this.isUploading=!0),d==="loaded"&&(this.isUploading=!1),d==="error"&&(this.isUploading=!1),this.currentState=d,this.onStateChanged.fire(this,{state:d}),this.onUploadStateChanged.fire(this,{state:d}))},l.prototype.allFilesOk=function(d){var h=this,p=this.errors?this.errors.length:0;return(d||[]).forEach(function(u){h.maxSize>0&&u.size>h.maxSize&&h.errors.push(new c.ExceedSizeError(h.maxSize,h))}),p===this.errors.length},l.prototype.isFileImage=function(d){if(!d||!d.content||!d.content.substring)return!1;var h="data:image",p=d.content&&d.content.substring(0,h.length);p=p&&p.toLowerCase();var u=p===h||!!d.type&&d.type.toLowerCase().indexOf("image/")===0;return u},l.prototype.getPlainData=function(d){d===void 0&&(d={includeEmpty:!0});var h=f.prototype.getPlainData.call(this,d);if(h&&!this.isEmpty()){h.isNode=!1;var p=Array.isArray(this.value)?this.value:[this.value];h.data=p.map(function(u,x){return{name:x,title:"File",value:u.content&&u.content||u,displayValue:u.name&&u.name||u,getString:function(V){return typeof V=="object"?JSON.stringify(V):V},isNode:!1}})}return h},l.prototype.getChooseFileCss=function(){var d=this.isAnswered;return new C.CssClassBuilder().append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!d).append(this.cssClasses.chooseFileAsTextDisabled,!d&&this.isInputReadOnly).append(this.cssClasses.chooseFileAsIcon,d).toString()},l.prototype.getReadOnlyFileCss=function(){return new C.CssClassBuilder().append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(l.prototype,"fileRootCss",{get:function(){return new C.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),l.prototype.getFileDecoratorCss=function(){return new C.CssClassBuilder().append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},l.prototype.onChange=function(d){if(window.FileReader&&!(!d||!d.files||d.files.length<1)){for(var h=[],p=this.allowMultiple?d.files.length:1,u=0;u<p;u++)h.push(d.files[u]);d.value="",this.loadFiles(h)}},l.prototype.onChangeQuestionValue=function(d){f.prototype.onChangeQuestionValue.call(this,d),this.stateChanged(this.isEmpty()?"empty":"loaded"),this.isLoadingFromJson||this.loadPreview(d)},l.prototype.endLoadingFromJson=function(){f.prototype.endLoadingFromJson.call(this),this.loadPreview(this.value)},l.prototype.afterRender=function(d){this.rootElement=d,f.prototype.afterRender.call(this,d)},l.prototype.doRemoveFile=function(d){if(this.needConfirmRemoveFile){var h=Object(E.confirmAction)(this.getConfirmRemoveMessage(d.name));if(!h)return}var p=this.previewValue.indexOf(d);this.removeFileByContent(p===-1?d:this.value[p])},g([Object(a.property)()],l.prototype,"isDragging",void 0),g([Object(a.propertyArray)({})],l.prototype,"previewValue",void 0),g([Object(a.property)({defaultValue:"empty"})],l.prototype,"currentState",void 0),g([Object(a.property)({defaultValue:0})],l.prototype,"indexToShow",void 0),g([Object(a.property)({defaultValue:!1})],l.prototype,"containsMultiplyFiles",void 0),g([Object(a.property)()],l.prototype,"allowCameraAccess",void 0),g([Object(a.property)({localizable:{defaultStr:"confirmRemoveFile"}})],l.prototype,"confirmRemoveMessage",void 0),g([Object(a.property)({localizable:{defaultStr:"confirmRemoveAllFiles"}})],l.prototype,"confirmRemoveAllMessage",void 0),g([Object(a.property)({localizable:{defaultStr:"noFileChosen"}})],l.prototype,"noFileChosenCaption",void 0),g([Object(a.property)({localizable:{defaultStr:"chooseFileCaption"}})],l.prototype,"chooseButtonCaption",void 0),g([Object(a.property)({localizable:{defaultStr:"clearCaption"}})],l.prototype,"clearButtonCaption",void 0),g([Object(a.property)({localizable:{defaultStr:"removeFileCaption"}})],l.prototype,"removeFileCaption",void 0),g([Object(a.property)({localizable:{defaultStr:"loadingFile"}})],l.prototype,"loadingFileTitle",void 0),g([Object(a.property)({localizable:{defaultStr:"chooseFile"}})],l.prototype,"chooseFileTitle",void 0),g([Object(a.property)({localizable:{defaultStr:"fileDragAreaPlaceholder"}})],l.prototype,"dragAreaPlaceholder",void 0),l}(o.Question);a.Serializer.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"allowCameraAccess:switch",category:"general"}],function(){return new m("")},"question"),s.QuestionFactory.Instance.registerQuestion("file",function(f){return new m(f)});var v=function(){function f(l,d){this.fileQuestion=l,this.callback=d,this.loaded=[]}return f.prototype.load=function(l){var d=this,h=0;this.loaded=new Array(l.length),l.forEach(function(p,u){d.fileQuestion.survey&&d.fileQuestion.survey.downloadFile(d.fileQuestion,d.fileQuestion.name,p,function(x,V){!d.fileQuestion||!d.callback||(x==="success"?(d.loaded[u]={content:V,name:p.name,type:p.type},h++,h===l.length&&d.callback("loaded",d.loaded)):d.callback("error",d.loaded))})})},f.prototype.dispose=function(){this.fileQuestion=void 0,this.callback=void 0},f}()},"./src/question_html.ts":function(n,r,i){i.r(r),i.d(r,"QuestionHtmlModel",function(){return C});var o=i("./src/questionnonvalue.ts"),a=i("./src/jsonobject.ts"),s=i("./src/questionfactory.ts"),c=function(){var E=function(O,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,P){b.__proto__=P}||function(b,P){for(var g in P)Object.prototype.hasOwnProperty.call(P,g)&&(b[g]=P[g])},E(O,y)};return function(O,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");E(O,y);function b(){this.constructor=O}O.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),C=function(E){c(O,E);function O(y){var b=E.call(this,y)||this,P=b.createLocalizableString("html",b);return P.onGetTextCallback=function(g){return b.survey&&!b.ignoreHtmlProgressing?b.processHtml(g):g},b}return O.prototype.getType=function(){return"html"},Object.defineProperty(O.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),O.prototype.getProcessedText=function(y){return this.ignoreHtmlProgressing?y:E.prototype.getProcessedText.call(this,y)},Object.defineProperty(O.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(y){this.setLocalizableStringText("html",y)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"processedHtml",{get:function(){return this.processHtml(this.html)},enumerable:!1,configurable:!0}),O.prototype.processHtml=function(y){return this.survey?this.survey.processHtml(y,"html-question"):this.html},O}(o.QuestionNonValue);a.Serializer.addClass("html",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new C("")},"nonvalue"),s.QuestionFactory.Instance.registerQuestion("html",function(E){return new C(E)})},"./src/question_image.ts":function(n,r,i){i.r(r),i.d(r,"QuestionImageModel",function(){return m});var o=i("./src/questionnonvalue.ts"),a=i("./src/jsonobject.ts"),s=i("./src/questionfactory.ts"),c=i("./src/utils/cssClassBuilder.ts"),C=function(){var f=function(l,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(h[u]=p[u])},f(l,d)};return function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(l,d);function h(){this.constructor=l}l.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),E=function(f,l,d,h){var p=arguments.length,u=p<3?l:h===null?h=Object.getOwnPropertyDescriptor(l,d):h,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(f,l,d,h);else for(var V=f.length-1;V>=0;V--)(x=f[V])&&(u=(p<3?x(u):p>3?x(l,d,u):x(l,d))||u);return p>3&&u&&Object.defineProperty(l,d,u),u},O=["youtube.com","youtu.be"],y=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],b="https://www.youtube.com/",P="embed";function g(f){if(!f)return!1;f=f.toLowerCase();for(var l=0;l<O.length;l++)if(f.indexOf(O[l])!==-1)return!0;return!1}var m=function(f){C(l,f);function l(d){var h=f.call(this,d)||this,p=h.createLocalizableString("imageLink",h,!1);return p.onGetTextCallback=function(u){return v(u)},h.createLocalizableString("altText",h,!1),h.registerPropertyChangedHandlers(["contentMode","imageLink"],function(){return h.calculateRenderedMode()}),h}return l.prototype.getType=function(){return"image"},Object.defineProperty(l.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),l.prototype.onSurveyLoad=function(){f.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(l.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(d){this.setLocalizableStringText("imageLink",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"altText",{get:function(){return this.getLocalizableStringText("altText")},set:function(d){this.setLocalizableStringText("altText",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locAltText",{get:function(){return this.getLocalizableString("altText")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(d){this.setPropertyValue("imageHeight",d)},enumerable:!1,configurable:!0}),l.prototype.getRenderedSize=function(d){return isNaN(Number(d))?d:d+"px"},Object.defineProperty(l.prototype,"renderedHeight",{get:function(){return this.imageHeight?this.getRenderedSize(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(d){this.setPropertyValue("imageWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedWidth",{get:function(){return this.imageWidth?this.getRenderedSize(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(d){this.setPropertyValue("imageFit",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(d){this.setPropertyValue("contentMode",d),d==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),l.prototype.getImageCss=function(){var d=this.getPropertyByName("imageHeight"),h=this.getPropertyByName("imageWidth"),p=d.isDefaultValue(this.imageHeight)&&h.isDefaultValue(this.imageWidth);return new c.CssClassBuilder().append(this.cssClasses.image).append(this.cssClasses.adaptive,p).toString()},l.prototype.onLoadHandler=function(){this.contentNotLoaded=!1},l.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},l.prototype.setRenderedMode=function(d){this.setPropertyValue("renderedMode",d)},l.prototype.calculateRenderedMode=function(){this.contentMode!=="auto"?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},l.prototype.isYoutubeVideo=function(){return g(this.imageLink)},l.prototype.isVideo=function(){var d=this.imageLink;if(!d)return!1;d=d.toLowerCase();for(var h=0;h<y.length;h++)if(d.endsWith(y[h]))return!0;return!1},E([Object(a.property)({defaultValue:!1})],l.prototype,"contentNotLoaded",void 0),l}(o.QuestionNonValue);function v(f){if(!f||!g(f))return f;var l=f.toLocaleLowerCase();if(l.indexOf(P)>-1)return f;for(var d="",h=f.length-1;h>=0&&!(f[h]==="="||f[h]==="/");h--)d=f[h]+d;return b+P+"/"+d}a.Serializer.addClass("image",[{name:"imageLink",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new m("")},"nonvalue"),s.QuestionFactory.Instance.registerQuestion("image",function(f){return new m(f)})},"./src/question_imagepicker.ts":function(n,r,i){i.r(r),i.d(r,"ImageItemValue",function(){return g}),i.d(r,"QuestionImagePickerModel",function(){return m});var o=i("./src/jsonobject.ts"),a=i("./src/questionfactory.ts"),s=i("./src/question_baseselect.ts"),c=i("./src/itemvalue.ts"),C=i("./src/helpers.ts"),E=i("./src/utils/cssClassBuilder.ts"),O=i("./src/settings.ts"),y=i("./src/utils/utils.ts"),b=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),P=function(v,f,l,d){var h=arguments.length,p=h<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,l):d,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(v,f,l,d);else for(var x=v.length-1;x>=0;x--)(u=v[x])&&(p=(h<3?u(p):h>3?u(f,l,p):u(f,l))||p);return h>3&&p&&Object.defineProperty(f,l,p),p},g=function(v){b(f,v);function f(l,d,h){d===void 0&&(d=null),h===void 0&&(h="imageitemvalue");var p=v.call(this,l,d,h)||this;return p.typeName=h,p.createLocalizableString("imageLink",p,!1),p}return f.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(f.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(l){this.setLocalizableStringText("imageLink",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),f.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},f.prototype.getMarkdownHtml=function(l,d){return this.locOwner?this.locOwner.getMarkdownHtml(l,d):void 0},f.prototype.getRenderer=function(l){return this.locOwner?this.locOwner.getRenderer(l):null},f.prototype.getRendererContext=function(l){return this.locOwner?this.locOwner.getRendererContext(l):l},f.prototype.getProcessedText=function(l){return this.locOwner?this.locOwner.getProcessedText(l):l},f.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},Object.defineProperty(f.prototype,"contentNotLoaded",{get:function(){return this.locOwner instanceof m&&this.locOwner.contentMode=="video"?this.videoNotLoaded:this.imageNotLoaded},set:function(l){this.locOwner instanceof m&&this.locOwner.contentMode=="video"?this.videoNotLoaded=l:this.imageNotLoaded=l},enumerable:!1,configurable:!0}),P([Object(o.property)({defaultValue:!1})],f.prototype,"videoNotLoaded",void 0),P([Object(o.property)({defaultValue:!1})],f.prototype,"imageNotLoaded",void 0),f}(c.ItemValue),m=function(v){b(f,v);function f(l){var d=v.call(this,l)||this;return d.isResponsiveValue=!1,d.onContentLoaded=function(h,p){h.contentNotLoaded=!1;var u=p.target;d.contentMode=="video"?h.aspectRatio=u.videoWidth/u.videoHeight:h.aspectRatio=u.naturalWidth/u.naturalHeight,d._width&&d.processResponsiveness(0,d._width)},d.colCount=0,d.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){d._width&&d.processResponsiveness(0,d._width)}),d.registerPropertyChangedHandlers(["imageWidth","imageHeight"],function(){d.calcIsResponsive()}),d.calcIsResponsive(),d}return f.prototype.getType=function(){return"imagepicker"},f.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(f.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),f.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(f.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),f.prototype.supportOther=function(){return!1},f.prototype.supportNone=function(){return!1},f.prototype.isAnswerCorrect=function(){return this.multiSelect?C.Helpers.isArrayContainsEqual(this.value,this.correctAnswer):v.prototype.isAnswerCorrect.call(this)},Object.defineProperty(f.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(l){this.setPropertyValue("multiSelect",l)},enumerable:!1,configurable:!0}),f.prototype.isItemSelected=function(l){var d=this.value,h=l;if(this.isValueEmpty(d)||!h.imageLink||h.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(d,l.value);if(!Array.isArray(d))return!1;for(var p=0;p<d.length;p++)if(this.isTwoValueEquals(d[p],l.value))return!0;return!1},f.prototype.getItemEnabled=function(l){var d=l;return!d.imageLink||d.contentNotLoaded?!1:v.prototype.getItemEnabled.call(this,l)},f.prototype.clearIncorrectValues=function(){if(this.multiSelect){var l=this.value;if(!l)return;if(!Array.isArray(l)||l.length==0){this.clearValue();return}for(var d=[],h=0;h<l.length;h++)this.hasUnknownValue(l[h],!0)||d.push(l[h]);if(d.length==l.length)return;d.length==0?this.clearValue():this.value=d}else v.prototype.clearIncorrectValues.call(this)},f.prototype.getDisplayValueCore=function(l,d){return!this.multiSelect&&!Array.isArray(d)?v.prototype.getDisplayValueCore.call(this,l,d):this.getDisplayArrayValue(l,d)},Object.defineProperty(f.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(l){this.setPropertyValue("showLabel",l)},enumerable:!1,configurable:!0}),f.prototype.endLoadingFromJson=function(){v.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},f.prototype.getValueCore=function(){var l=v.prototype.getValueCore.call(this);return l!==void 0?l:this.multiSelect?[]:l},f.prototype.convertValToArrayForMultSelect=function(l){return!this.multiSelect||this.isValueEmpty(l)||Array.isArray(l)?l:[l]},f.prototype.renderedValueFromDataCore=function(l){return this.convertValToArrayForMultSelect(l)},f.prototype.rendredValueToDataCore=function(l){return this.convertValToArrayForMultSelect(l)},Object.defineProperty(f.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(l){this.setPropertyValue("imageHeight",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedImageHeight",{get:function(){var l=this.isResponsive?this.responsiveImageHeight:this.imageHeight;return(l||150)+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(l){this.setPropertyValue("imageWidth",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedImageWidth",{get:function(){var l=this.isResponsive?this.responsiveImageWidth:this.imageWidth;return(l||200)+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(l){this.setPropertyValue("imageFit",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(l){this.setPropertyValue("contentMode",l),l==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),f.prototype.convertDefaultValue=function(l){return l},Object.defineProperty(f.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),f.prototype.isFootChoice=function(l,d){return!1},f.prototype.getSelectBaseRootCss=function(){return new E.CssClassBuilder().append(v.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,this.getCurrentColCount()==1).toString()},Object.defineProperty(f.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"exactSizesAreEmpty",{get:function(){var l=this;return!["imageHeight","imageWidth"].some(function(d){return l[d]!==void 0&&l[d]!==null})},enumerable:!1,configurable:!0}),f.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},f.prototype.getObservedElementSelector=function(){return Object(y.classesToSelector)(this.cssClasses.root)},f.prototype.supportResponsiveness=function(){return!0},f.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},f.prototype.getCurrentColCount=function(){return this.responsiveColCount===void 0||this.colCount===0?this.colCount:this.responsiveColCount},f.prototype.processResponsiveness=function(l,d){this._width=d=Math.floor(d);var h=function(F,W,U){var Q=Math.floor(F/(W+U));return(Q+1)*(W+U)-U<=F&&Q++,Q};if(this.isResponsive){var p=this.choices.length+(this.isDesignMode?1:0),u=this.gapBetweenItems||0,x=this.minImageWidth,V=this.maxImageWidth,A=this.maxImageHeight,M=this.minImageHeight,T=this.colCount,D;if(T===0)if((u+x)*p-u>d){var R=h(d,x,u);D=Math.floor((d-u*(R-1))/R)}else D=Math.floor((d-u*(p-1))/p);else{var S=h(d,x,u);S<T?(this.responsiveColCount=S>=1?S:1,T=this.responsiveColCount):this.responsiveColCount=T,D=Math.floor((d-u*(T-1))/T)}D=Math.max(x,Math.min(D,V));var I=Number.MIN_VALUE;this.choices.forEach(function(F){var W=D/F.aspectRatio;I=W>I?W:I}),I>A?I=A:I<M&&(I=M);var w=this.responsiveImageWidth,L=this.responsiveImageHeight;return this.responsiveImageWidth=D,this.responsiveImageHeight=I,w!==this.responsiveImageWidth||L!==this.responsiveImageHeight}return!1},f.prototype.afterRender=function(l){v.prototype.afterRender.call(this,l);var d=this.survey.getCss().variables;d&&(this.gapBetweenItems=Number.parseInt(window.getComputedStyle(l).getPropertyValue(d.imagepickerGapBetweenItems))||0)},P([Object(o.property)({})],f.prototype,"responsiveImageHeight",void 0),P([Object(o.property)({})],f.prototype,"responsiveImageWidth",void 0),P([Object(o.property)({})],f.prototype,"isResponsiveValue",void 0),P([Object(o.property)({})],f.prototype,"maxImageWidth",void 0),P([Object(o.property)({})],f.prototype,"minImageWidth",void 0),P([Object(o.property)({})],f.prototype,"maxImageHeight",void 0),P([Object(o.property)({})],f.prototype,"minImageHeight",void 0),P([Object(o.property)({})],f.prototype,"responsiveColCount",void 0),f}(s.QuestionCheckboxBase);o.Serializer.addClass("imageitemvalue",[{name:"imageLink",serializationProperty:"locImageLink"}],function(v){return new g(v)},"itemvalue"),o.Serializer.addClass("responsiveImageSize",[],void 0,"number"),o.Serializer.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return O.settings.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return O.settings.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return O.settings.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return O.settings.supportCreatorV2}}],function(){return new m("")},"checkboxbase"),o.Serializer.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),o.Serializer.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),o.Serializer.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),o.Serializer.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),a.QuestionFactory.Instance.registerQuestion("imagepicker",function(v){var f=new m(v);return f})},"./src/question_matrix.ts":function(n,r,i){i.r(r),i.d(r,"MatrixRowModel",function(){return f}),i.d(r,"MatrixCells",function(){return l}),i.d(r,"QuestionMatrixModel",function(){return d});var o=i("./src/helpers.ts"),a=i("./src/itemvalue.ts"),s=i("./src/martixBase.ts"),c=i("./src/jsonobject.ts"),C=i("./src/base.ts"),E=i("./src/surveyStrings.ts"),O=i("./src/error.ts"),y=i("./src/questionfactory.ts"),b=i("./src/localizablestring.ts"),P=i("./src/question_dropdown.ts"),g=i("./src/settings.ts"),m=i("./src/utils/cssClassBuilder.ts"),v=function(){var h=function(p,u){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,V){x.__proto__=V}||function(x,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(x[A]=V[A])},h(p,u)};return function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");h(p,u);function x(){this.constructor=p}p.prototype=u===null?Object.create(u):(x.prototype=u.prototype,new x)}}(),f=function(h){v(p,h);function p(u,x,V,A){var M=h.call(this)||this;return M.fullName=x,M.item=u,M.data=V,M.value=A,M.cellClick=function(T){M.value=T.value},M.registerPropertyChangedHandlers(["value"],function(){M.data&&M.data.onMatrixRowChanged(M)}),M}return Object.defineProperty(p.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(u){u=this.data.getCorrectedRowValue(u),this.setPropertyValue("value",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"rowClasses",{get:function(){var u=this.data.cssClasses,x=!!this.data.getErrorByType("requiredinallrowserror");return new m.CssClassBuilder().append(u.row).append(u.rowError,x&&this.isValueEmpty(this.value)).toString()},enumerable:!1,configurable:!0}),p}(C.Base),l=function(){function h(p){this.cellsOwner=p,this.values={}}return Object.defineProperty(h.prototype,"isEmpty",{get:function(){return Object.keys(this.values).length==0},enumerable:!1,configurable:!0}),h.prototype.valuesChanged=function(){this.onValuesChanged&&this.onValuesChanged()},h.prototype.setCellText=function(p,u,x){if(p=this.getCellRowColumnValue(p,this.rows),u=this.getCellRowColumnValue(u,this.columns),!(!p||!u)){if(x)this.values[p]||(this.values[p]={}),this.values[p][u]||(this.values[p][u]=this.createString()),this.values[p][u].text=x;else if(this.values[p]&&this.values[p][u]){var V=this.values[p][u];V.text="",V.isEmpty&&(delete this.values[p][u],Object.keys(this.values[p]).length==0&&delete this.values[p])}this.valuesChanged()}},h.prototype.setDefaultCellText=function(p,u){this.setCellText(g.settings.matrix.defaultRowName,p,u)},h.prototype.getCellLocText=function(p,u){return p=this.getCellRowColumnValue(p,this.rows),u=this.getCellRowColumnValue(u,this.columns),!p||!u||!this.values[p]||!this.values[p][u]?null:this.values[p][u]},h.prototype.getDefaultCellLocText=function(p,u){return this.getCellLocText(g.settings.matrix.defaultRowName,p)},h.prototype.getCellDisplayLocText=function(p,u){var x=this.getCellLocText(p,u);return x&&!x.isEmpty||(x=this.getCellLocText(g.settings.matrix.defaultRowName,u),x&&!x.isEmpty)?x:(typeof u=="number"&&(u=u>=0&&u<this.columns.length?this.columns[u]:null),u&&u.locText?u.locText:null)},h.prototype.getCellText=function(p,u){var x=this.getCellLocText(p,u);return x?x.calculatedText:null},h.prototype.getDefaultCellText=function(p){var u=this.getCellLocText(g.settings.matrix.defaultRowName,p);return u?u.calculatedText:null},h.prototype.getCellDisplayText=function(p,u){var x=this.getCellDisplayLocText(p,u);return x?x.calculatedText:null},Object.defineProperty(h.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),h.prototype.getCellRowColumnValue=function(p,u){if(p==null)return null;if(typeof p=="number"){if(p<0||p>=u.length)return null;p=u[p].value}return p.value?p.value:p},h.prototype.getJson=function(){if(this.isEmpty)return null;var p={};for(var u in this.values){var x={},V=this.values[u];for(var A in V)x[A]=V[A].getJson();p[u]=x}return p},h.prototype.setJson=function(p){if(this.values={},p){for(var u in p)if(u!="pos"){var x=p[u];this.values[u]={};for(var V in x)if(V!="pos"){var A=this.createString();A.setJson(x[V]),this.values[u][V]=A}}}this.valuesChanged()},h.prototype.locStrsChanged=function(){if(!this.isEmpty)for(var p in this.values){var u=this.values[p];for(var x in u)u[x].strChanged()}},h.prototype.createString=function(){return new b.LocalizableString(this.cellsOwner,!0)},h}(),d=function(h){v(p,h);function p(u){var x=h.call(this,u)||this;return x.isRowChanging=!1,x.emptyLocalizableString=new b.LocalizableString(x),x.cellsValue=new l(x),x.cellsValue.onValuesChanged=function(){x.updateHasCellText(),x.propertyValueChanged("cells",x.cells,x.cells)},x.registerPropertyChangedHandlers(["columns"],function(){x.onColumnsChanged()}),x.registerPropertyChangedHandlers(["rows"],function(){x.filterItems()||x.onRowsChanged()}),x.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){x.updateVisibilityBasedOnRows()}),x}return p.prototype.getType=function(){return"matrix"},Object.defineProperty(p.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired")},set:function(u){this.setPropertyValue("isAllRowRequired",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(u){u=u.toLowerCase(),u!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",u),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(u){this.setPropertyValue("hideIfRowsEmpty",u)},enumerable:!1,configurable:!0}),p.prototype.getRows=function(){return this.rows},p.prototype.getColumns=function(){return this.visibleColumns},p.prototype.addColumn=function(u,x){var V=new a.ItemValue(u,x);return this.columns.push(V),V},p.prototype.getItemClass=function(u,x){var V=u.value==x.value,A=this.isReadOnly,M=!V&&!A;return new m.CssClassBuilder().append(this.cssClasses.cell,this.hasCellText).append(this.hasCellText?this.cssClasses.cellText:this.cssClasses.label).append(this.cssClasses.itemOnError,!this.hasCellText&&this.errors.length>0).append(this.hasCellText?this.cssClasses.cellTextSelected:this.cssClasses.itemChecked,V).append(this.hasCellText?this.cssClasses.cellTextDisabled:this.cssClasses.itemDisabled,A).append(this.cssClasses.itemHover,M&&!this.hasCellText).toString()},Object.defineProperty(p.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),p.prototype.locStrsChanged=function(){h.prototype.locStrsChanged.call(this),this.cells.locStrsChanged()},p.prototype.getQuizQuestionCount=function(){for(var u=0,x=0;x<this.rows.length;x++)this.isValueEmpty(this.correctAnswer[this.rows[x].value])||u++;return u},p.prototype.getCorrectAnswerCount=function(){for(var u=0,x=this.value,V=0;V<this.rows.length;V++){var A=this.rows[V].value;!this.isValueEmpty(x[A])&&this.isTwoValueEquals(this.correctAnswer[A],x[A])&&u++}return u},p.prototype.getVisibleRows=function(){var u=new Array,x=this.value;x||(x={});for(var V=this.filteredRows?this.filteredRows:this.rows,A=0;A<V.length;A++){var M=V[A];this.isValueEmpty(M.value)||u.push(this.createMatrixRow(M,this.id+"_"+M.value.toString().replace(/\s/g,"_"),x[M.value]))}return this.generatedVisibleRows=u,u},p.prototype.sortVisibleRows=function(u){if(this.survey&&this.survey.isDesignMode)return u;var x=this.rowsOrder.toLowerCase();return x==="random"?o.Helpers.randomizeArray(u):u},p.prototype.endLoadingFromJson=function(){h.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows)},p.prototype.processRowsOnSet=function(u){return this.sortVisibleRows(u)},Object.defineProperty(p.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"cells",{get:function(){return this.cellsValue},set:function(u){this.cells.setJson(u&&u.getJson?u.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),p.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},p.prototype.setCellText=function(u,x,V){this.cells.setCellText(u,x,V)},p.prototype.getCellText=function(u,x){return this.cells.getCellText(u,x)},p.prototype.setDefaultCellText=function(u,x){this.cells.setDefaultCellText(u,x)},p.prototype.getDefaultCellText=function(u){return this.cells.getDefaultCellText(u)},p.prototype.getCellDisplayText=function(u,x){return this.cells.getCellDisplayText(u,x)},p.prototype.getCellDisplayLocText=function(u,x){var V=this.cells.getCellDisplayLocText(u,x);return V||this.emptyLocalizableString},p.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0&&this.hasValuesInAllRows()},p.prototype.onCheckForErrors=function(u,x){h.prototype.onCheckForErrors.call(this,u,x),(!x||this.errors.length>0)&&this.hasErrorInRows()&&u.push(new O.RequiredInAllRowsError(null,this))},p.prototype.hasErrorInRows=function(){return this.isAllRowRequired?!this.hasValuesInAllRows():!1},p.prototype.hasValuesInAllRows=function(){var u=this.generatedVisibleRows;if(u||(u=this.visibleRows),!u)return!0;for(var x=0;x<u.length;x++)if(this.isValueEmpty(u[x].value))return!1;return!0},p.prototype.getIsAnswered=function(){return h.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},p.prototype.createMatrixRow=function(u,x,V){var A=new f(u,x,this,V);return this.onMatrixRowCreated(A),A},p.prototype.onMatrixRowCreated=function(u){},p.prototype.setQuestionValue=function(u,x){if(x===void 0&&(x=!0),h.prototype.setQuestionValue.call(this,u,this.isRowChanging||x),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0)){this.isRowChanging=!0;var V=this.value;if(V||(V={}),this.rows.length==0)this.generatedVisibleRows[0].value=V;else for(var A=0;A<this.generatedVisibleRows.length;A++){var M=this.generatedVisibleRows[A],T=V[M.name];this.isValueEmpty(T)&&(T=null),this.generatedVisibleRows[A].value=T}this.updateIsAnswered(),this.isRowChanging=!1}},p.prototype.getDisplayValueCore=function(u,x){var V={};for(var A in x){var M=u?a.ItemValue.getTextOrHtmlByValue(this.rows,A):A;M||(M=A);var T=a.ItemValue.getTextOrHtmlByValue(this.columns,x[A]);T||(T=x[A]),V[M]=T}return V},p.prototype.getPlainData=function(u){var x=this;u===void 0&&(u={includeEmpty:!0});var V=h.prototype.getPlainData.call(this,u);if(V){var A=this.createValueCopy();V.isNode=!0,V.data=Object.keys(A||{}).map(function(M){var T=x.rows.filter(function(S){return S.value===M})[0],D={name:M,title:T?T.text:"row",value:A[M],displayValue:a.ItemValue.getTextOrHtmlByValue(x.visibleColumns,A[M]),getString:function(S){return typeof S=="object"?JSON.stringify(S):S},isNode:!1},R=a.ItemValue.getItemByValue(x.visibleColumns,A[M]);return R&&(u.calculations||[]).forEach(function(S){D[S.propertyName]=R[S.propertyName]}),D})}return V},p.prototype.addConditionObjectsByContext=function(u,x){for(var V=0;V<this.rows.length;V++){var A=this.rows[V];A.value&&u.push({name:this.getValueName()+"."+A.value,text:this.processedTitle+"."+A.calculatedText,question:this})}},p.prototype.getConditionJson=function(u,x){if(x===void 0&&(x=null),!x)return h.prototype.getConditionJson.call(this);var V=new P.QuestionDropdownModel(x);V.choices=this.columns;var A=new c.JsonObject().toJsonObject(V);return A.type=V.getType(),A},p.prototype.clearValueIfInvisibleCore=function(u){h.prototype.clearValueIfInvisibleCore.call(this,u),this.hasRows&&this.clearInvisibleValuesInRows()},p.prototype.getFirstInputElementId=function(){var u=this.generatedVisibleRows;return u||(u=this.visibleRows),u.length>0&&this.visibleColumns.length>0?this.inputId+"_"+u[0].name+"_0":h.prototype.getFirstInputElementId.call(this)},p.prototype.onMatrixRowChanged=function(u){if(!this.isRowChanging){if(this.isRowChanging=!0,!this.hasRows)this.setNewValue(u.value);else{var x=this.value;x||(x={}),x[u.name]=u.value,this.setNewValue(x)}this.isRowChanging=!1}},p.prototype.getCorrectedRowValue=function(u){for(var x=0;x<this.columns.length;x++)if(u===this.columns[x].value)return u;for(var x=0;x<this.columns.length;x++)if(this.isTwoValueEquals(u,this.columns[x].value))return this.columns[x].value;return u},p.prototype.getSearchableItemValueKeys=function(u){u.push("columns"),u.push("rows")},Object.defineProperty(p.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),p.prototype.getColumnHeaderWrapperComponentName=function(u){return this.SurveyModel.getElementWrapperComponentName({column:u},"column-header")},p.prototype.getColumnHeaderWrapperComponentData=function(u){return this.SurveyModel.getElementWrapperComponentData({column:u},"column-header")},p.prototype.getRowHeaderWrapperComponentName=function(u){return this.SurveyModel.getElementWrapperComponentName({row:u},"row-header")},p.prototype.getRowHeaderWrapperComponentData=function(u){return this.SurveyModel.getElementWrapperComponentData({row:u},"row-header")},p}(s.QuestionMatrixBaseModel);c.Serializer.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return E.surveyLocalization.getString("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return E.surveyLocalization.getString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean","hideIfRowsEmpty:boolean"],function(){return new d("")},"matrixbase"),y.QuestionFactory.Instance.registerQuestion("matrix",function(h){var p=new d(h);return p.rows=y.QuestionFactory.DefaultRows,p.columns=y.QuestionFactory.DefaultColums,p})},"./src/question_matrixdropdown.ts":function(n,r,i){i.r(r),i.d(r,"MatrixDropdownRowModel",function(){return E}),i.d(r,"QuestionMatrixDropdownModel",function(){return O});var o=i("./src/question_matrixdropdownbase.ts"),a=i("./src/jsonobject.ts"),s=i("./src/itemvalue.ts"),c=i("./src/questionfactory.ts"),C=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),E=function(y){C(b,y);function b(P,g,m,v){var f=y.call(this,m,v)||this;return f.name=P,f.item=g,f.buildCells(v),f}return Object.defineProperty(b.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),b}(o.MatrixDropdownRowModelBase),O=function(y){C(b,y);function b(P){var g=y.call(this,P)||this;return g.createLocalizableString("totalText",g,!0),g.registerPropertyChangedHandlers(["rows"],function(){g.clearGeneratedRows(),g.resetRenderedTable(),g.filterItems()||g.onRowsChanged(),g.clearIncorrectValues()}),g.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){g.updateVisibilityBasedOnRows()}),g}return b.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(b.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(P){this.setLocalizableStringText("totalText",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),b.prototype.getFooterText=function(){return this.locTotalText},b.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},Object.defineProperty(b.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(P){this.setPropertyValue("hideIfRowsEmpty",P)},enumerable:!1,configurable:!0}),b.prototype.getDisplayValueCore=function(P,g){if(!g)return g;var m=this.visibleRows,v={};if(!m)return v;for(var f=0;f<m.length;f++){var l=m[f].rowName,d=g[l];if(d){if(P){var h=s.ItemValue.getTextOrHtmlByValue(this.rows,l);h&&(l=h)}v[l]=this.getRowDisplayValue(P,m[f],d)}}return v},b.prototype.getConditionObjectRowName=function(P){return"."+this.rows[P].value},b.prototype.getConditionObjectRowText=function(P){return"."+this.rows[P].calculatedText},b.prototype.getConditionObjectsRowIndeces=function(){for(var P=[],g=0;g<this.rows.length;g++)P.push(g);return P},b.prototype.setNewValue=function(P){P&&typeof P!="object"||y.prototype.setNewValue.call(this,P)},b.prototype.clearIncorrectValues=function(){var P=this.value;if(P){var g=null,m=!1,v=this.filteredRows?this.filteredRows:this.rows;for(var f in P)s.ItemValue.getItemByValue(v,f)?(g==null&&(g={}),g[f]=P[f]):m=!0;m&&(this.value=g),y.prototype.clearIncorrectValues.call(this)}},b.prototype.clearValueIfInvisibleCore=function(P){y.prototype.clearValueIfInvisibleCore.call(this,P),this.clearInvisibleValuesInRows()},b.prototype.generateRows=function(){var P=new Array,g=this.filteredRows?this.filteredRows:this.rows;if(!g||g.length===0)return P;var m=this.value;m||(m={});for(var v=0;v<g.length;v++)this.isValueEmpty(g[v].value)||P.push(this.createMatrixRow(g[v],m[g[v].value]));return P},b.prototype.createMatrixRow=function(P,g){return new E(P.value,P,this,g)},b.prototype.getSearchableItemValueKeys=function(P){P.push("rows")},b.prototype.updateProgressInfoByValues=function(P){var g=this.value;g||(g={});for(var m=0;m<this.rows.length;m++){var v=this.rows[m],f=g[v.value];this.updateProgressInfoByRow(P,f||{})}},b}(o.QuestionMatrixDropdownModelBase);a.Serializer.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new O("")},"matrixdropdownbase"),c.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(y){var b=new O(y);return b.choices=[1,2,3,4,5],b.rows=c.QuestionFactory.DefaultRows,o.QuestionMatrixDropdownModelBase.addDefaultColumns(b),b})},"./src/question_matrixdropdownbase.ts":function(n,r,i){i.r(r),i.d(r,"MatrixDropdownCell",function(){return d}),i.d(r,"MatrixDropdownTotalCell",function(){return h}),i.d(r,"MatrixDropdownRowModelBase",function(){return u}),i.d(r,"MatrixDropdownTotalRowModel",function(){return x}),i.d(r,"QuestionMatrixDropdownModelBase",function(){return V});var o=i("./src/jsonobject.ts"),a=i("./src/martixBase.ts"),s=i("./src/helpers.ts"),c=i("./src/base.ts"),C=i("./src/survey-element.ts"),E=i("./src/textPreProcessor.ts"),O=i("./src/itemvalue.ts"),y=i("./src/questionfactory.ts"),b=i("./src/functionsfactory.ts"),P=i("./src/settings.ts"),g=i("./src/error.ts"),m=i("./src/utils/cssClassBuilder.ts"),v=i("./src/question_matrixdropdowncolumn.ts"),f=i("./src/question_matrixdropdownrendered.ts"),l=function(){var A=function(M,T){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,R){D.__proto__=R}||function(D,R){for(var S in R)Object.prototype.hasOwnProperty.call(R,S)&&(D[S]=R[S])},A(M,T)};return function(M,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");A(M,T);function D(){this.constructor=M}M.prototype=T===null?Object.create(T):(D.prototype=T.prototype,new D)}}(),d=function(){function A(M,T,D){this.column=M,this.row=T,this.data=D,this.questionValue=this.createQuestion(M,T,D),this.questionValue.updateCustomWidget()}return A.prototype.locStrsChanged=function(){this.question.locStrsChanged()},A.prototype.createQuestion=function(M,T,D){var R=D.createQuestion(this.row,this.column);return R.validateValueCallback=function(){return D.validateCell(T,M.name,T.value)},o.CustomPropertiesCollection.getProperties(M.getType()).forEach(function(S){var I=S.name;M[I]!==void 0&&(R[I]=M[I])}),R},Object.defineProperty(A.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"value",{get:function(){return this.question.value},set:function(M){this.question.value=M},enumerable:!1,configurable:!0}),A.prototype.runCondition=function(M,T){this.question.runCondition(M,T)},A}(),h=function(A){l(M,A);function M(T,D,R){var S=A.call(this,T,D,R)||this;return S.column=T,S.row=D,S.data=R,S.updateCellQuestion(),S}return M.prototype.createQuestion=function(T,D,R){var S=o.Serializer.createClass("expression");return S.setSurveyImpl(D),S},M.prototype.locStrsChanged=function(){this.updateCellQuestion(),A.prototype.locStrsChanged.call(this)},M.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(T){delete T.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},M.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if(this.column.totalType=="none")return"''";var T=this.column.totalType+"InArray";return b.FunctionFactory.Instance.hasFunction(T)?T+"({self}, '"+this.column.name+"')":""},M}(d),p=function(A){l(M,A);function M(T,D,R){var S=A.call(this,D)||this;return S.row=T,S.variableName=D,S.parentTextProcessor=R,S}return M.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(M.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),M.prototype.getValues=function(){return this.row.value},M.prototype.getQuestionByName=function(T){return this.row.getQuestionByName(T)},M.prototype.onCustomProcessText=function(T){return T.name==u.IndexVariableName?(T.isExists=!0,T.value=this.row.rowIndex,!0):T.name==u.RowValueVariableName?(T.isExists=!0,T.value=this.row.rowName,!0):!1},M}(E.QuestionTextProcessor),u=function(){function A(M,T){var D=this;this.isSettingValue=!1,this.detailPanelValue=null,this.cells=[],this.isCreatingDetailPanel=!1,this.data=M,this.subscribeToChanges(T),this.textPreProcessor=new p(this,A.RowVariableName,M?M.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(D.getSurvey().isDesignMode)return!0;D.showHideDetailPanel()},this.idValue=A.getId()}return A.getId=function(){return"srow_"+A.idCounter++},Object.defineProperty(A.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"value",{get:function(){for(var M={},T=this.questions,D=0;D<T.length;D++){var R=T[D];R.isEmpty()||(M[R.getValueName()]=R.value),R.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(M[R.getValueName()+c.Base.commentSuffix]=R.comment)}return M},set:function(M){this.isSettingValue=!0,this.subscribeToChanges(M);for(var T=this.questions,D=0;D<T.length;D++){var R=T[D],S=this.getCellValue(M,R.getValueName()),I=R.comment,w=M?M[R.getValueName()+c.Base.commentSuffix]:"";w==null&&(w=""),R.updateValueFromSurvey(S),(w||this.isTwoValueEquals(I,R.comment))&&R.updateCommentFromSurvey(w),R.onSurveyValueChanged(S)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"hasPanel",{get:function(){return this.data?this.data.hasDetailPanel(this):!1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isDetailPanelShowing",{get:function(){return this.data?this.data.getIsDetailPanelShowing(this):!1},enumerable:!1,configurable:!0}),A.prototype.setIsDetailPanelShowing=function(M){this.data&&this.data.setIsDetailPanelShowing(this,M),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},A.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},A.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},A.prototype.hideDetailPanel=function(M){M===void 0&&(M=!1),this.setIsDetailPanelShowing(!1),M&&(this.detailPanelValue=null)},A.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!(this.detailPanelValue||!this.hasPanel||!this.data)){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var M=this.detailPanelValue.questions,T=this.data.getRowValue(this.data.getRowIndex(this));if(!s.Helpers.isValueEmpty(T))for(var D=0;D<M.length;D++){var R=M[D].getValueName();s.Helpers.isValueEmpty(T[R])||(M[D].value=T[R])}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},A.prototype.getAllValues=function(){return this.value},A.prototype.getFilteredValues=function(){var M=this.getAllValues(),T=this.validationValues;T||(T={}),T.row=M;for(var D in M)T[D]=M[D];return T},A.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},A.prototype.runCondition=function(M,T){this.data&&(M[A.OwnerVariableName]=this.data.value),M[A.IndexVariableName]=this.rowIndex,M[A.RowValueVariableName]=this.rowName,T||(T={}),T[A.RowVariableName]=this;for(var D=0;D<this.cells.length;D++)M[A.RowVariableName]=this.value,this.cells[D].runCondition(M,T);this.detailPanel&&this.detailPanel.runCondition(M,T)},A.prototype.clearValue=function(){for(var M=this.questions,T=0;T<M.length;T++)M[T].clearValue()},A.prototype.onAnyValueChanged=function(M){for(var T=this.questions,D=0;D<T.length;D++)T[D].onAnyValueChanged(M)},A.prototype.getDataValueCore=function(M,T){var D=this.getSurvey();return D?D.getDataValueCore(M,T):M[T]},A.prototype.getValue=function(M){var T=this.getQuestionByName(M);return T?T.value:null},A.prototype.setValue=function(M,T){this.setValueCore(M,T,!1)},A.prototype.getVariable=function(M){},A.prototype.setVariable=function(M,T){},A.prototype.getComment=function(M){var T=this.getQuestionByName(M);return T?T.comment:""},A.prototype.setComment=function(M,T,D){this.setValueCore(M,T,!0)},A.prototype.findQuestionByName=function(M){if(M){var T=A.RowVariableName+".";if(M.indexOf(T)===0)return this.getQuestionByName(M.substring(T.length));var D=this.getSurvey();return D?D.getQuestionByName(M):null}},A.prototype.setValueCore=function(M,T,D){if(!this.isSettingValue){this.updateQuestionsValue(M,T,D);var R=this.value,S=D?M+c.Base.commentSuffix:M,I=T,w=this.getQuestionByName(M),L=this.data.onRowChanging(this,S,R);if(w&&!this.isTwoValueEquals(L,I)&&(this.isSettingValue=!0,D?w.comment=L:w.value=L,this.isSettingValue=!1,R=this.value),!(this.data.isValidateOnValueChanging&&this.hasQuestonError(w))){var F=T==null&&!w||D&&!T&&!!w&&w.autoOtherMode;this.data.onRowChanged(this,S,R,F),this.onAnyValueChanged(A.RowVariableName)}}},A.prototype.updateQuestionsValue=function(M,T,D){if(this.detailPanel){var R=this.getQuestionByColumnName(M),S=this.detailPanel.getQuestionByName(M);if(!(!R||!S)){var I=this.isTwoValueEquals(T,D?R.comment:R.value),w=I?S:R;this.isSettingValue=!0,D?w.comment=T:w.value=T,this.isSettingValue=!1}}},A.prototype.hasQuestonError=function(M){if(!M)return!1;if(M.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(M.isEmpty())return!1;var T=this.getCellByColumnName(M.name);return!T||!T.column||!T.column.isUnique?!1:this.data.checkIfValueInRowDuplicated(this,M)},Object.defineProperty(A.prototype,"isEmpty",{get:function(){var M=this.value;if(s.Helpers.isValueEmpty(M))return!0;for(var T in M)if(M[T]!==void 0&&M[T]!==null)return!1;return!0},enumerable:!1,configurable:!0}),A.prototype.getQuestionByColumn=function(M){var T=this.getCellByColumn(M);return T?T.question:null},A.prototype.getCellByColumn=function(M){for(var T=0;T<this.cells.length;T++)if(this.cells[T].column==M)return this.cells[T];return null},A.prototype.getCellByColumnName=function(M){for(var T=0;T<this.cells.length;T++)if(this.cells[T].column.name==M)return this.cells[T];return null},A.prototype.getQuestionByColumnName=function(M){var T=this.getCellByColumnName(M);return T?T.question:null},Object.defineProperty(A.prototype,"questions",{get:function(){for(var M=[],T=0;T<this.cells.length;T++)M.push(this.cells[T].question);for(var D=this.detailPanel?this.detailPanel.questions:[],T=0;T<D.length;T++)M.push(D[T]);return M},enumerable:!1,configurable:!0}),A.prototype.getQuestionByName=function(M){var T=this.getQuestionByColumnName(M);return T||(this.detailPanel?this.detailPanel.getQuestionByName(M):null)},A.prototype.getQuestionsByName=function(M){var T=[],D=this.getQuestionByColumnName(M);return D&&T.push(D),this.detailPanel&&(D=this.detailPanel.getQuestionByName(M),D&&T.push(D)),T},A.prototype.getSharedQuestionByName=function(M){return this.data?this.data.getSharedQuestionByName(M,this):null},A.prototype.clearIncorrectValues=function(M){for(var T in M){var D=this.getQuestionByName(T);if(D){var R=D.value;D.clearIncorrectValues(),this.isTwoValueEquals(R,D.value)||this.setValue(T,D.value)}else!this.getSharedQuestionByName(T)&&T.indexOf(P.settings.matrix.totalsSuffix)<0&&this.setValue(T,null)}},A.prototype.getLocale=function(){return this.data?this.data.getLocale():""},A.prototype.getMarkdownHtml=function(M,T){return this.data?this.data.getMarkdownHtml(M,T):void 0},A.prototype.getRenderer=function(M){return this.data?this.data.getRenderer(M):null},A.prototype.getRendererContext=function(M){return this.data?this.data.getRendererContext(M):M},A.prototype.getProcessedText=function(M){return this.data?this.data.getProcessedText(M):M},A.prototype.locStrsChanged=function(){for(var M=0;M<this.cells.length;M++)this.cells[M].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},A.prototype.updateCellQuestionOnColumnChanged=function(M,T,D){var R=this.getCellByColumn(M);R&&this.updateCellOnColumnChanged(R,T,D)},A.prototype.updateCellQuestionOnColumnItemValueChanged=function(M,T,D,R,S,I){var w=this.getCellByColumn(M);w&&this.updateCellOnColumnItemValueChanged(w,T,D,R,S,I)},A.prototype.onQuestionReadOnlyChanged=function(M){for(var T=this.questions,D=0;D<T.length;D++){var R=T[D];R.setPropertyValue("isReadOnly",R.isReadOnly)}this.detailPanel&&(this.detailPanel.readOnly=M)},A.prototype.hasErrors=function(M,T,D){var R=!1,S=this.cells;if(!S)return R;this.validationValues=T.validationValues;for(var I=0;I<S.length;I++)if(S[I]){var w=S[I].question;!w||!w.visible||(w.onCompletedAsyncValidators=function(F){D()},!(T&&T.isOnValueChanged===!0&&w.isEmpty())&&(R=w.hasErrors(M,T)||R))}if(this.hasPanel){this.ensureDetailPanel();var L=this.detailPanel.hasErrors(M,!1,T);!T.hideErroredPanel&&L&&M&&(T.isSingleDetailPanel&&(T.hideErroredPanel=!0),this.showDetailPanel()),R=L||R}return this.validationValues=void 0,R},A.prototype.updateCellOnColumnChanged=function(M,T,D){M.question[T]=D},A.prototype.updateCellOnColumnItemValueChanged=function(M,T,D,R,S,I){var w=M.question[T];if(Array.isArray(w)){var L=R==="value"?I:D.value,F=O.ItemValue.getItemByValue(w,L);F&&(F[R]=S)}},A.prototype.buildCells=function(M){this.isSettingValue=!0;for(var T=this.data.columns,D=0;D<T.length;D++){var R=T[D];if(R.isVisible){var S=this.createCell(R);this.cells.push(S);var I=this.getCellValue(M,R.name);if(!s.Helpers.isValueEmpty(I)){S.question.value=I;var w=R.name+c.Base.commentSuffix;M&&!s.Helpers.isValueEmpty(M[w])&&(S.question.comment=M[w])}}}this.isSettingValue=!1},A.prototype.isTwoValueEquals=function(M,T){return s.Helpers.isTwoValueEquals(M,T,!1,!0,!1)},A.prototype.getCellValue=function(M,T){return this.editingObj?o.Serializer.getObjPropertyValue(this.editingObj,T):M?M[T]:void 0},A.prototype.createCell=function(M){return new d(M,this,this.data)},A.prototype.getSurveyData=function(){return this},A.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},A.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(A.prototype,"rowIndex",{get:function(){return this.data?this.data.getRowIndex(this)+1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),A.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},A.prototype.subscribeToChanges=function(M){var T=this;!M||!M.getType||!M.onPropertyChanged||M!==this.editingObj&&(this.editingObjValue=M,this.onEditingObjPropertyChanged=function(D,R){T.updateOnSetValue(R.name,R.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},A.prototype.updateOnSetValue=function(M,T){this.isSettingValue=!0;for(var D=this.getQuestionsByName(M),R=0;R<D.length;R++)D[R].value=T;this.isSettingValue=!1},A.RowVariableName="row",A.OwnerVariableName="self",A.IndexVariableName="rowIndex",A.RowValueVariableName="rowValue",A.idCounter=1,A}(),x=function(A){l(M,A);function M(T){var D=A.call(this,T,null)||this;return D.buildCells(null),D}return M.prototype.createCell=function(T){return new h(T,this,this.data)},M.prototype.setValue=function(T,D){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},M.prototype.runCondition=function(T,D){var R=0,S;do S=s.Helpers.getUnbindValue(this.value),A.prototype.runCondition.call(this,T,D),R++;while(!s.Helpers.isTwoValueEquals(S,this.value)&&R<3)},M.prototype.updateCellOnColumnChanged=function(T,D,R){T.updateCellQuestion()},M}(u),V=function(A){l(M,A);function M(T){var D=A.call(this,T)||this;return D.isRowChanging=!1,D.lockResetRenderedTable=!1,D.isDoingonAnyValueChanged=!1,D.createItemValues("choices"),D.createLocalizableString("placeholder",D,!1,!0),D.createLocalizableString("keyDuplicationError",D,!1,!0),D.detailPanelValue=D.createNewDetailPanel(),D.detailPanel.selectedElementInDesign=D,D.detailPanel.renderWidth="100%",D.detailPanel.isInteractiveDesignElement=!1,D.detailPanel.showTitle=!1,D.registerPropertyChangedHandlers(["columns","cellType"],function(){D.updateColumnsAndRows()}),D.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],function(){D.clearRowsAndResetRenderedTable()}),D.registerPropertyChangedHandlers(["columnLayout","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode"],function(){D.resetRenderedTable()}),D.registerPropertyChangedHandlers(["isMobile"],function(){D.columnLayout==="vertical"&&D.resetRenderedTable()}),D}return Object.defineProperty(M,"defaultCellType",{get:function(){return P.settings.matrix.defaultCellType},set:function(T){P.settings.matrix.defaultCellType=T},enumerable:!1,configurable:!0}),M.addDefaultColumns=function(T){for(var D=y.QuestionFactory.DefaultColums,R=0;R<D.length;R++)T.addColumn(D[R])},M.prototype.createColumnValues=function(){var T=this;return this.createNewArray("columns",function(D){D.colOwner=T,T.onAddColumn&&T.onAddColumn(D),T.survey&&T.survey.matrixColumnAdded(T,D)},function(D){D.colOwner=null,T.onRemoveColumn&&T.onRemoveColumn(D)})},M.prototype.getType=function(){return"matrixdropdownbase"},M.prototype.dispose=function(){A.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(M.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),M.prototype.beginUpdate=function(){this.isUpdating=!0},M.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},M.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},M.prototype.itemValuePropertyChanged=function(T,D,R,S){A.prototype.itemValuePropertyChanged.call(this,T,D,R,S),T.ownerPropertyName==="choices"&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(M.prototype,"columnLayout",{get:function(){return this.getPropertyValue("columnLayout")},set:function(T){this.setPropertyValue("columnLayout",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(T){this.columnLayout=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isColumnLayoutHorizontal",{get:function(){return this.isMobile?!0:this.columnLayout!="vertical"},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isUniqueCaseSensitive",{get:function(){return this.isUniqueCaseSensitiveValue!==void 0?this.isUniqueCaseSensitiveValue:P.settings.comparator.caseSensitive},set:function(T){this.isUniqueCaseSensitiveValue=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(T){this.setPropertyValue("detailPanelMode",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),M.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(M.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),M.prototype.createNewDetailPanel=function(){return o.Serializer.createClass("panel")},Object.defineProperty(M.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),M.prototype.getFooterText=function(){return null},Object.defineProperty(M.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),M.prototype.canRemoveRow=function(T){return!0},M.prototype.onPointerDown=function(T,D){},M.prototype.onRowsChanged=function(){this.resetRenderedTable(),A.prototype.onRowsChanged.call(this)},M.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly()},M.prototype.onEndRowAdding=function(){if(this.lockResetRenderedTable=!1,!!this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{var T=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[T],T)}},M.prototype.onEndRowRemoving=function(T){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():T&&this.renderedTable.onRemovedRow(T)},Object.defineProperty(M.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(T){this.setPropertyValue("renderedTable",T)},enumerable:!1,configurable:!0}),M.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},M.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},M.prototype.clearGeneratedRows=function(){if(this.generatedVisibleRows){for(var T=0;T<this.generatedVisibleRows.length;T++)this.generatedVisibleRows[T].dispose();A.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(M.prototype,"isRendredTableCreated",{get:function(){return!!this.renderedTableValue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),M.prototype.createRenderedTable=function(){return new f.QuestionMatrixDropdownRenderedTable(this)},M.prototype.onMatrixRowCreated=function(T){if(this.survey)for(var D={rowValue:T.value,row:T,column:null,columnName:null,cell:null,cellQuestion:null,value:null},R=0;R<this.visibleColumns.length;R++){D.column=this.visibleColumns[R],D.columnName=D.column.name;var S=T.cells[R];D.cell=S,D.cellQuestion=S.question,D.value=S.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(D),this.survey.matrixCellCreated(this,D)}},Object.defineProperty(M.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",P.settings.matrix.defaultCellType)},set:function(T){T=T.toLowerCase(),this.setPropertyValue("cellType",T)},enumerable:!1,configurable:!0}),M.prototype.updateColumnsCellType=function(){for(var T=0;T<this.columns.length;T++)this.columns[T].defaultCellTypeChanged()},M.prototype.updateColumnsIndexes=function(T){for(var D=0;D<T.length;D++)T[D].setIndex(D)},Object.defineProperty(M.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(T){T<0||T>4||this.setPropertyValue("columnColCount",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll")},set:function(T){this.setPropertyValue("horizontalScroll",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(T){this.setPropertyValue("allowAdaptiveActions",T),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=T)},enumerable:!1,configurable:!0}),M.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},M.prototype.hasChoices=function(){return this.choices.length>0},M.prototype.onColumnPropertyChanged=function(T,D,R){if(this.updateHasFooter(),!!this.generatedVisibleRows){for(var S=0;S<this.generatedVisibleRows.length;S++)this.generatedVisibleRows[S].updateCellQuestionOnColumnChanged(T,D,R);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(T,D,R),this.onColumnsChanged(),D=="isRequired"&&this.resetRenderedTable()}},M.prototype.onColumnItemValuePropertyChanged=function(T,D,R,S,I,w){if(this.generatedVisibleRows)for(var L=0;L<this.generatedVisibleRows.length;L++)this.generatedVisibleRows[L].updateCellQuestionOnColumnItemValueChanged(T,D,R,S,I,w)},M.prototype.onShowInMultipleColumnsChanged=function(T){this.clearGeneratedRows(),this.resetRenderedTable()},M.prototype.onColumnCellTypeChanged=function(T){this.clearGeneratedRows(),this.resetRenderedTable()},M.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(M.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),M.prototype.getAddRowLocation=function(){return"default"},M.prototype.getShowColumnsIfEmpty=function(){return!1},M.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},M.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(M.prototype,"hasTotal",{get:function(){for(var T=0;T<this.columns.length;T++)if(this.columns[T].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),M.prototype.getCellType=function(){return this.cellType},M.prototype.getCustomCellType=function(T,D,R){if(!this.survey)return R;var S={rowValue:D.value,row:D,column:T,columnName:T.name,cellType:R};return this.survey.matrixCellCreating(this,S),S.cellType},M.prototype.getConditionJson=function(T,D){if(T===void 0&&(T=null),D===void 0&&(D=null),!D)return A.prototype.getConditionJson.call(this);for(var R="",S=D.length-1;S>=0&&D[S]!=".";S--)R=D[S]+R;var I=this.getColumnByName(R);if(!I)return null;var w=I.createCellQuestion(null);return w?w.getConditionJson(T):null},M.prototype.clearIncorrectValues=function(){var T=this.visibleRows;if(T)for(var D=0;D<T.length;D++)T[D].clearIncorrectValues(this.getRowValue(D))},M.prototype.clearErrors=function(){A.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(T){T.clearErrors()})},M.prototype.localeChanged=function(){A.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(T){T.localeChanged()})},M.prototype.runFuncForCellQuestions=function(T){if(this.generatedVisibleRows)for(var D=0;D<this.generatedVisibleRows.length;D++)for(var R=this.generatedVisibleRows[D],S=0;S<R.cells.length;S++)T(R.cells[S].question)},M.prototype.runCondition=function(T,D){A.prototype.runCondition.call(this,T,D);var R=0,S;do S=s.Helpers.getUnbindValue(this.totalValue),this.runCellsCondition(T,D),this.runTotalsCondition(T,D),R++;while(!s.Helpers.isTwoValueEquals(S,this.totalValue)&&R<3)},M.prototype.shouldRunColumnExpression=function(){return!1},M.prototype.runCellsCondition=function(T,D){if(this.generatedVisibleRows){for(var R=this.getRowConditionValues(T),S=this.generatedVisibleRows,I=0;I<S.length;I++)S[I].runCondition(R,D);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()}},M.prototype.checkColumnsVisibility=function(){for(var T=!1,D=0;D<this.visibleColumns.length;D++)this.visibleColumns[D].visibleIf&&(T=this.isColumnVisibilityChanged(this.visibleColumns[D])||T);T&&this.resetRenderedTable()},M.prototype.checkColumnsRenderedRequired=function(){for(var T=this.generatedVisibleRows,D=0;D<this.visibleColumns.length;D++){var R=this.visibleColumns[D];if(R.requiredIf){for(var S=T.length>0,I=0;I<T.length;I++)if(!T[I].cells[D].question.isRequired){S=!1;break}R.updateIsRenderedRequired(S)}}},M.prototype.isColumnVisibilityChanged=function(T){for(var D=T.hasVisibleCell,R=!1,S=this.generatedVisibleRows,I=0;I<S.length;I++){var w=S[I].cells[T.index];if(w&&w.question&&w.question.isVisible){R=!0;break}}return D!=R&&(T.hasVisibleCell=R),D!=R},M.prototype.runTotalsCondition=function(T,D){this.generatedTotalRow&&this.generatedTotalRow.runCondition(this.getRowConditionValues(T),D)},M.prototype.getRowConditionValues=function(T){var D=T;D||(D={});var R={};return this.isValueEmpty(this.totalValue)||(R=JSON.parse(JSON.stringify(this.totalValue))),D.row={},D.totalRow=R,D},M.prototype.locStrsChanged=function(){A.prototype.locStrsChanged.call(this);for(var T=this.columns,D=0;D<T.length;D++)T[D].locStrsChanged();var R=this.generatedVisibleRows;if(R){for(var D=0;D<R.length;D++)R[D].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},M.prototype.getColumnByName=function(T){for(var D=0;D<this.columns.length;D++)if(this.columns[D].name==T)return this.columns[D];return null},M.prototype.getColumnName=function(T){return this.getColumnByName(T)},M.prototype.getColumnWidth=function(T){var D;return T.minWidth?T.minWidth:this.columnMinWidth?this.columnMinWidth:((D=P.settings.matrix.columnWidthsByType[T.cellType])===null||D===void 0?void 0:D.minWidth)||""},Object.defineProperty(M.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(T){this.setPropertyValue("choices",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(T){this.setLocalizableStringText("placeholder",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(T){this.placeholder=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(T){this.setLocalizableStringText("keyDuplicationError",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"storeOthersAsComment",{get:function(){return this.survey?this.survey.storeOthersAsComment:!1},enumerable:!1,configurable:!0}),M.prototype.addColumn=function(T,D){D===void 0&&(D=null);var R=new v.MatrixDropdownColumn(T,D);return this.columns.push(R),R},M.prototype.getVisibleRows=function(){var T=this;return this.isUpdateLocked?null:(this.generatedVisibleRows||(this.generatedVisibleRows=this.generateRows(),this.generatedVisibleRows.forEach(function(D){return T.onMatrixRowCreated(D)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()),this.generatedVisibleRows)},M.prototype.updateValueOnRowsGeneration=function(T){for(var D=this.createNewValue(!0),R=this.createNewValue(),S=0;S<T.length;S++){var I=T[S];if(!I.editingObj){var w=this.getRowValue(S),L=I.value;this.isTwoValueEquals(w,L)||(R=this.getNewValueOnRowChanged(I,"",L,!1,R).value)}}this.isTwoValueEquals(D,R)||(this.isRowChanging=!0,this.setNewValue(R),this.isRowChanging=!1)},Object.defineProperty(M.prototype,"totalValue",{get:function(){return!this.hasTotal||!this.visibleTotalRow?{}:this.visibleTotalRow.value},enumerable:!1,configurable:!0}),M.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var T={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),T)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(M.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),M.prototype.onSurveyLoad=function(){A.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},M.prototype.getRowValue=function(T){if(T<0)return null;var D=this.visibleRows;if(T>=D.length)return null;var R=this.createNewValue();return this.getRowValueCore(D[T],R)},M.prototype.checkIfValueInRowDuplicated=function(T,D){if(!this.generatedVisibleRows)return!1;for(var R=!1,S=0;S<this.generatedVisibleRows.length;S++){var I=this.generatedVisibleRows[S];if(T!==I&&s.Helpers.isTwoValueEquals(I.getValue(D.name),D.value,!0,this.isUniqueCaseSensitive)){R=!0;break}}return R?this.addDuplicationError(D):D.clearErrors(),R},M.prototype.setRowValue=function(T,D){if(T<0)return null;var R=this.visibleRows;if(T>=R.length)return null;R[T].value=D,this.onRowChanged(R[T],"",D,!1)},M.prototype.generateRows=function(){return null},M.prototype.generateTotalRow=function(){return new x(this)},M.prototype.createNewValue=function(T){T===void 0&&(T=!1);var D=this.value?this.createValueCopy():{};return T&&this.isMatrixValueEmpty(D)?null:D},M.prototype.getRowValueCore=function(T,D,R){R===void 0&&(R=!1);var S=D&&D[T.rowName]?D[T.rowName]:null;return!S&&R&&(S={},D&&(D[T.rowName]=S)),S},M.prototype.getRowObj=function(T){var D=this.getRowValueCore(T,this.value);return D&&D.getType?D:null},M.prototype.getRowDisplayValue=function(T,D,R){if(!R||D.editingObj)return R;for(var S=Object.keys(R),I=0;I<S.length;I++){var w=S[I],L=D.getQuestionByName(w);if(L||(L=this.getSharedQuestionByName(w,D)),L){var F=L.getDisplayValue(T,R[w]);T&&L.title&&L.title!==w?(R[L.title]=F,delete R[w]):R[w]=F}}return R},M.prototype.getPlainData=function(T){var D=this;T===void 0&&(T={includeEmpty:!0});var R=A.prototype.getPlainData.call(this,T);return R&&(R.isNode=!0,R.data=this.visibleRows.map(function(S){var I={name:S.rowName,title:S.text,value:S.value,displayValue:D.getRowDisplayValue(!1,S,S.value),getString:function(w){return typeof w=="object"?JSON.stringify(w):w},isNode:!0,data:S.cells.map(function(w){return w.question.getPlainData(T)}).filter(function(w){return!!w})};return(T.calculations||[]).forEach(function(w){I[w.propertyName]=S[w.propertyName]}),I})),R},M.prototype.addConditionObjectsByContext=function(T,D){var R=D?D===!0||this.columns.indexOf(D)>-1:!1,S=this.getConditionObjectsRowIndeces();R&&S.push(-1);for(var I=0;I<S.length;I++){var w=S[I],L=w>-1?this.getConditionObjectRowName(w):"row";if(L)for(var F=w>-1?this.getConditionObjectRowText(w):"row",W=w>-1||D===!0,U=W&&w===-1?".":"",Q=(W?this.getValueName():"")+U+L+".",$=(W?this.processedTitle:"")+U+F+".",z=0;z<this.columns.length;z++){var q=this.columns[z];if(!(w===-1&&D===q)){var K={name:Q+q.name,text:$+q.fullTitle,question:this};w===-1&&D===!0&&(K.context=this),T.push(K)}}}},M.prototype.getConditionObjectRowName=function(T){return""},M.prototype.getConditionObjectRowText=function(T){return this.getConditionObjectRowName(T)},M.prototype.getConditionObjectsRowIndeces=function(){return[]},M.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return C.SurveyElement.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var T=c.Base.createProgressInfo();return this.updateProgressInfoByValues(T),T.requiredQuestionCount===0&&this.isRequired&&(T.requiredQuestionCount=1,T.requiredAnsweredQuestionCount=this.isEmpty()?0:1),T},M.prototype.updateProgressInfoByValues=function(T){},M.prototype.updateProgressInfoByRow=function(T,D){for(var R=0;R<this.columns.length;R++){var S=this.columns[R];if(S.templateQuestion.hasInput){T.questionCount+=1,T.requiredQuestionCount+=S.isRequired;var I=!s.Helpers.isValueEmpty(D[S.name]);T.answeredQuestionCount+=I?1:0,T.requiredAnsweredQuestionCount+=I&&S.isRequired?1:0}}},M.prototype.getCellQuestions=function(){var T=[];return this.runFuncForCellQuestions(function(D){T.push(D)}),T},M.prototype.onBeforeValueChanged=function(T){},M.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0))){this.isRowChanging=!0;for(var T=this.createNewValue(),D=0;D<this.generatedVisibleRows.length;D++){var R=this.generatedVisibleRows[D];this.generatedVisibleRows[D].value=this.getRowValueCore(R,T)}this.isRowChanging=!1}},M.prototype.setQuestionValue=function(T){A.prototype.setQuestionValue.call(this,T,!1),this.onSetQuestionValue(),this.updateIsAnswered()},M.prototype.supportGoNextPageAutomatic=function(){var T=this.generatedVisibleRows;if(T||(T=this.visibleRows),!T)return!0;for(var D=0;D<T.length;D++){var R=this.generatedVisibleRows[D].cells;if(R)for(var S=0;S<R.length;S++){var I=R[S].question;if(I&&(!I.supportGoNextPageAutomatic()||!I.value))return!1}}return!0},M.prototype.getContainsErrors=function(){return A.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(T){return T.containsErrors},!1)},M.prototype.getIsAnswered=function(){return A.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(T){return T.isAnswered},!0)},M.prototype.checkForAnswersOrErrors=function(T,D){D===void 0&&(D=!1);var R=this.generatedVisibleRows;if(!R)return!1;for(var S=0;S<R.length;S++){var I=R[S].cells;if(I){for(var w=0;w<I.length;w++)if(I[w]){var L=I[w].question;if(L&&L.isVisible){if(T(L)){if(!D)return!0}else if(D)return!1}}}}return!!D},M.prototype.hasErrors=function(T,D){T===void 0&&(T=!0),D===void 0&&(D=null);var R=this.hasErrorInRows(T,D),S=this.isValueDuplicated();return A.prototype.hasErrors.call(this,T,D)||R||S},M.prototype.getIsRunningValidators=function(){if(A.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var T=0;T<this.generatedVisibleRows.length;T++){var D=this.generatedVisibleRows[T].cells;if(D){for(var R=0;R<D.length;R++)if(D[R]){var S=D[R].question;if(S&&S.isRunningValidators)return!0}}}return!1},M.prototype.getAllErrors=function(){var T=A.prototype.getAllErrors.call(this),D=this.generatedVisibleRows;if(D===null)return T;for(var R=0;R<D.length;R++)for(var S=D[R],I=0;I<S.cells.length;I++){var w=S.cells[I].question.getAllErrors();w&&w.length>0&&(T=T.concat(w))}return T},M.prototype.hasErrorInRows=function(T,D){var R=this,S=this.generatedVisibleRows;this.generatedVisibleRows||(S=this.visibleRows);var I=!1;if(D||(D={}),!S)return D;D.validationValues=this.getDataFilteredValues(),D.isSingleDetailPanel=this.detailPanelMode==="underRowSingle";for(var w=0;w<S.length;w++)I=S[w].hasErrors(T,D,function(){R.raiseOnCompletedAsyncValidators()})||I;return I},M.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var T=this.getUniqueColumns(),D=!1,R=0;R<T.length;R++)D=this.isValueInColumnDuplicated(T[R])||D;return D},M.prototype.isValueInColumnDuplicated=function(T){for(var D=[],R=!1,S=0;S<this.generatedVisibleRows.length;S++)R=this.isValueDuplicatedInRow(this.generatedVisibleRows[S],T,D)||R;return R},M.prototype.getUniqueColumns=function(){for(var T=new Array,D=0;D<this.columns.length;D++)this.columns[D].isUnique&&T.push(this.columns[D]);return T},M.prototype.isValueDuplicatedInRow=function(T,D,R){var S=T.getQuestionByColumn(D);if(!S||S.isEmpty())return!1;for(var I=S.value,w=0;w<R.length;w++)if(s.Helpers.isTwoValueEquals(I,R[w],!0,this.isUniqueCaseSensitive))return this.addDuplicationError(S),!0;return R.push(I),!1},M.prototype.addDuplicationError=function(T){T.addError(new g.KeyDuplicationError(this.keyDuplicationError,this))},M.prototype.getFirstQuestionToFocus=function(T){return this.getFirstCellQuestion(T)},M.prototype.getFirstInputElementId=function(){var T=this.getFirstCellQuestion(!1);return T?T.inputId:A.prototype.getFirstInputElementId.call(this)},M.prototype.getFirstErrorInputElementId=function(){var T=this.getFirstCellQuestion(!0);return T?T.inputId:A.prototype.getFirstErrorInputElementId.call(this)},M.prototype.getFirstCellQuestion=function(T){if(!this.generatedVisibleRows)return null;for(var D=0;D<this.generatedVisibleRows.length;D++)for(var R=this.generatedVisibleRows[D].cells,S=0;S<R.length;S++)if(!T||R[S].question.currentErrorCount>0)return R[S].question;return null},M.prototype.onReadOnlyChanged=function(){if(A.prototype.onReadOnlyChanged.call(this),!!this.generateRows)for(var T=0;T<this.visibleRows.length;T++)this.visibleRows[T].onQuestionReadOnlyChanged(this.isReadOnly)},M.prototype.createQuestion=function(T,D){return this.createQuestionCore(T,D)},M.prototype.createQuestionCore=function(T,D){var R=D.createCellQuestion(T);return R.setSurveyImpl(T),R.setParentQuestion(this),R.inMatrixMode=!0,R},M.prototype.deleteRowValue=function(T,D){return T&&(delete T[D.rowName],this.isObject(T)&&Object.keys(T).length==0?null:T)},M.prototype.onAnyValueChanged=function(T){if(!(this.isUpdateLocked||this.isDoingonAnyValueChanged||!this.generatedVisibleRows)){this.isDoingonAnyValueChanged=!0;for(var D=this.visibleRows,R=0;R<D.length;R++)D[R].onAnyValueChanged(T);var S=this.visibleTotalRow;S&&S.onAnyValueChanged(T),this.isDoingonAnyValueChanged=!1}},M.prototype.isObject=function(T){return T!==null&&typeof T=="object"},M.prototype.getOnCellValueChangedOptions=function(T,D,R){var S=function(I){return T.getQuestionByName(I)};return{row:T,columnName:D,rowValue:R,value:R?R[D]:null,getCellQuestion:S,cellQuestion:T.getQuestionByName(D),column:this.getColumnByName(D)}},M.prototype.onCellValueChanged=function(T,D,R){if(this.survey){var S=this.getOnCellValueChangedOptions(T,D,R);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(S),this.survey.matrixCellValueChanged(this,S)}},M.prototype.validateCell=function(T,D,R){if(this.survey){var S=this.getOnCellValueChangedOptions(T,D,R);return this.survey.matrixCellValidate(this,S)}},Object.defineProperty(M.prototype,"isValidateOnValueChanging",{get:function(){return this.survey?this.survey.isValidateOnValueChanging:!1},enumerable:!1,configurable:!0}),M.prototype.onRowChanging=function(T,D,R){if(!this.survey&&!this.cellValueChangingCallback)return R?R[D]:null;var S=this.getOnCellValueChangedOptions(T,D,R),I=this.getRowValueCore(T,this.createNewValue(),!0);return S.oldValue=I?I[D]:null,this.cellValueChangingCallback&&(S.value=this.cellValueChangingCallback(T,D,S.value,S.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,S),S.value},M.prototype.onRowChanged=function(T,D,R,S){var I=D?this.getRowObj(T):null;if(I){var w=null;R&&!S&&(w=R[D]),this.isRowChanging=!0,I[D]=w,this.isRowChanging=!1,this.onCellValueChanged(T,D,I)}else{var L=this.createNewValue(!0),F=this.getNewValueOnRowChanged(T,D,R,S,this.createNewValue());if(this.isTwoValueEquals(L,F.value))return;this.isRowChanging=!0,this.setNewValue(F.value),this.isRowChanging=!1,D&&this.onCellValueChanged(T,D,F.rowValue)}},M.prototype.getNewValueOnRowChanged=function(T,D,R,S,I){var w=this.getRowValueCore(T,I,!0);S&&delete w[D];for(var L=0;L<T.cells.length;L++){var F=T.cells[L].question.getValueName();delete w[F]}if(R){R=JSON.parse(JSON.stringify(R));for(var F in R)this.isValueEmpty(R[F])||(w[F]=R[F])}return this.isObject(w)&&Object.keys(w).length===0&&(I=this.deleteRowValue(I,T)),{value:I,rowValue:w}},M.prototype.getRowIndex=function(T){return this.generatedVisibleRows?this.visibleRows.indexOf(T):-1},M.prototype.getElementsInDesign=function(T){T===void 0&&(T=!1);var D;return this.detailPanelMode=="none"?D=A.prototype.getElementsInDesign.call(this,T):D=T?[this.detailPanel]:this.detailElements,this.columns.concat(D)},M.prototype.hasDetailPanel=function(T){return this.detailPanelMode=="none"?!1:this.isDesignMode?!0:this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(T):this.detailElements.length>0},M.prototype.getIsDetailPanelShowing=function(T){if(this.detailPanelMode=="none")return!1;if(this.isDesignMode){var D=this.visibleRows.indexOf(T)==0;return D&&(T.detailPanel||T.showDetailPanel()),D}return this.getPropertyValue("isRowShowing"+T.id,!1)},M.prototype.setIsDetailPanelShowing=function(T,D){if(D!=this.getIsDetailPanelShowing(T)&&(this.setPropertyValue("isRowShowing"+T.id,D),this.updateDetailPanelButtonCss(T),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(T,D),D&&this.detailPanelMode==="underRowSingle"))for(var R=this.visibleRows,S=0;S<R.length;S++)R[S].id!==T.id&&R[S].isDetailPanelShowing&&R[S].hideDetailPanel()},M.prototype.getDetailPanelButtonCss=function(T){var D=new m.CssClassBuilder().append(this.getPropertyValue("detailButtonCss"+T.id));return D.append(this.cssClasses.detailButton,D.toString()==="").toString()},M.prototype.getDetailPanelIconCss=function(T){var D=new m.CssClassBuilder().append(this.getPropertyValue("detailIconCss"+T.id));return D.append(this.cssClasses.detailIcon,D.toString()==="").toString()},M.prototype.getDetailPanelIconId=function(T){return this.getIsDetailPanelShowing(T)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},M.prototype.updateDetailPanelButtonCss=function(T){var D=this.cssClasses,R=this.getIsDetailPanelShowing(T),S=new m.CssClassBuilder().append(D.detailIcon).append(D.detailIconExpanded,R);this.setPropertyValue("detailIconCss"+T.id,S.toString());var I=new m.CssClassBuilder().append(D.detailButton).append(D.detailButtonExpanded,R);this.setPropertyValue("detailButtonCss"+T.id,I.toString())},M.prototype.createRowDetailPanel=function(T){if(this.isDesignMode)return this.detailPanel;var D=this.createNewDetailPanel();D.readOnly=this.isReadOnly;var R=this.detailPanel.toJSON();return new o.JsonObject().toObject(R,D),D.renderWidth="100%",D.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(T,D),D},M.prototype.getSharedQuestionByName=function(T,D){if(!this.survey||!this.valueName)return null;var R=this.getRowIndex(D);return R<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,T,R)},M.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+P.settings.matrix.totalsSuffix,this.totalValue,!1)},M.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var T=this.parent.data;return T&&T.getTextProcessor?T.getTextProcessor():null},M.prototype.getQuestionFromArray=function(T,D){return D>=this.visibleRows.length?null:this.visibleRows[D].getQuestionByName(T)},M.prototype.isMatrixValueEmpty=function(T){if(T){if(Array.isArray(T)){for(var D=0;D<T.length;D++)if(this.isObject(T[D])&&Object.keys(T[D]).length>0)return!1;return!0}return Object.keys(T).length==0}},Object.defineProperty(M.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),M.prototype.getCellTemplateData=function(T){return this.SurveyModel.getMatrixCellTemplateData(T)},M.prototype.getCellWrapperComponentName=function(T){return this.SurveyModel.getElementWrapperComponentName(T,T.row instanceof x?"row-footer":"cell")},M.prototype.getCellWrapperComponentData=function(T){return this.SurveyModel.getElementWrapperComponentData(T,T.row instanceof x?"row-footer":"cell")},M.prototype.getColumnHeaderWrapperComponentName=function(T){return this.SurveyModel.getElementWrapperComponentName(T,"column-header")},M.prototype.getColumnHeaderWrapperComponentData=function(T){return this.SurveyModel.getElementWrapperComponentData(T,"column-header")},M.prototype.getRowHeaderWrapperComponentName=function(T){return this.SurveyModel.getElementWrapperComponentName(T,"row-header")},M.prototype.getRowHeaderWrapperComponentData=function(T){return this.SurveyModel.getElementWrapperComponentData(T,"row-header")},Object.defineProperty(M.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),M.prototype.getRootCss=function(){return new m.CssClassBuilder().append(A.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},M.prototype.getIsTooltipErrorInsideSupported=function(){return!0},M}(a.QuestionMatrixBaseModel);o.Serializer.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn"},{name:"columnLayout",alternativeName:"columnsLocation",default:"horizontal",choices:["horizontal","vertical"]},{name:"detailElements",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},"horizontalScroll:boolean",{name:"choices:itemvalue[]",uniqueProperty:"value"},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return v.MatrixDropdownColumn.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new V("")},"matrixbase")},"./src/question_matrixdropdowncolumn.ts":function(n,r,i){i.r(r),i.d(r,"matrixDropdownColumnTypes",function(){return O}),i.d(r,"MatrixDropdownColumn",function(){return y});var o=i("./src/jsonobject.ts"),a=i("./src/base.ts"),s=i("./src/question_expression.ts"),c=i("./src/settings.ts"),C=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();function E(b,P,g,m){b.storeOthersAsComment=g?g.storeOthersAsComment:!1,(!b.choices||b.choices.length==0)&&b.choicesByUrl.isEmpty&&(b.choices=g.choices),b.choicesByUrl.isEmpty||b.choicesByUrl.run(m.getTextProcessor())}var O={dropdown:{onCellQuestionUpdate:function(b,P,g,m){E(b,P,g,m),b.locPlaceholder&&b.locPlaceholder.isEmpty&&!g.locPlaceholder.isEmpty&&(b.optionsCaption=g.optionsCaption)}},checkbox:{onCellQuestionUpdate:function(b,P,g,m){E(b,P,g,m),b.colCount=P.colCount>-1?P.colCount:g.columnColCount}},radiogroup:{onCellQuestionUpdate:function(b,P,g,m){E(b,P,g,m),b.colCount=P.colCount>-1?P.colCount:g.columnColCount}},tagbox:{},text:{},comment:{},boolean:{onCellQuestionUpdate:function(b,P,g,m){b.renderAs=P.renderAs}},expression:{},rating:{}},y=function(b){C(P,b);function P(g,m){m===void 0&&(m=null);var v=b.call(this)||this;return v.colOwnerValue=null,v.indexValue=-1,v._isVisible=!0,v._hasVisibleCell=!0,v.previousChoicesId=void 0,v.createLocalizableString("totalFormat",v),v.createLocalizableString("cellHint",v),v.registerPropertyChangedHandlers(["showInMultipleColumns"],function(){v.doShowInMultipleColumnsChanged()}),v.updateTemplateQuestion(),v.name=g,m?v.title=m:v.templateQuestion.locTitle.strChanged(),v}return P.getColumnTypes=function(){var g=[];for(var m in O)g.push(m);return g},P.prototype.getOriginalObj=function(){return this.templateQuestion},P.prototype.getClassNameProperty=function(){return"cellType"},P.prototype.getSurvey=function(g){return this.colOwner?this.colOwner.survey:null},P.prototype.endLoadingFromJson=function(){var g=this;b.prototype.endLoadingFromJson.call(this),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return g.getSurvey()}},P.prototype.getDynamicPropertyName=function(){return"cellType"},P.prototype.getDynamicType=function(){return this.cellType==="default"?"question":this.calcCellQuestionType(null)},Object.defineProperty(P.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(g){this.colOwnerValue=g,g&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))},enumerable:!1,configurable:!0}),P.prototype.locStrsChanged=function(){b.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},P.prototype.addUsedLocales=function(g){b.prototype.addUsedLocales.call(this,g),this.templateQuestion.addUsedLocales(g)},Object.defineProperty(P.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),P.prototype.setIndex=function(g){this.indexValue=g},P.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(P.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(g){g=g.toLocaleLowerCase(),this.updateTemplateQuestion(g),this.setPropertyValue("cellType",g),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!1,configurable:!0}),P.prototype.setIsVisible=function(g){this._isVisible=g},Object.defineProperty(P.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(g){this._hasVisibleCell=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(g){this.templateQuestion.name=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(g){this.templateQuestion.title=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(g){this.templateQuestion.isRequired=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isRenderedRequired",{get:function(){return this.getPropertyValue("isRenderedRequired",this.isRequired)},set:function(g){this.setPropertyValue("isRenderedRequired",g)},enumerable:!1,configurable:!0}),P.prototype.updateIsRenderedRequired=function(g){this.isRenderedRequired=g||this.isRequired},Object.defineProperty(P.prototype,"requiredText",{get:function(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredText:this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(g){this.templateQuestion.requiredErrorText=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(g){this.templateQuestion.readOnly=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(g){this.templateQuestion.hasOther=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(g){this.templateQuestion.visibleIf=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(g){this.templateQuestion.enableIf=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(g){this.templateQuestion.requiredIf=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(g){this.setPropertyValue("isUnique",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns")},set:function(g){this.setPropertyValue("showInMultipleColumns",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(g){this.templateQuestion.validators=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(g){this.setPropertyValue("totalType",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(g){this.setPropertyValue("totalExpression",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasTotal",{get:function(){return this.totalType!="none"||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(g){this.setLocalizableStringText("totalFormat",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"cellHint",{get:function(){return this.getLocalizableStringText("cellHint","")},set:function(g){this.setLocalizableStringText("cellHint",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locCellHint",{get:function(){return this.getLocalizableString("cellHint")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(g){this.setPropertyValue("renderAs",g),this.templateQuestion&&(this.templateQuestion.renderAs=g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(g){g<-1||g>20||this.setPropertyValue("totalMaximumFractionDigits",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(g){g<-1||g>20||this.setPropertyValue("totalMinimumFractionDigits",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(g){this.setPropertyValue("totalDisplayStyle",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(g){Object(s.getCurrecyCodes)().indexOf(g)<0||this.setPropertyValue("totalCurrency",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(g){this.setPropertyValue("minWidth",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"width",{get:function(){return this.templateQuestion.width},set:function(g){this.templateQuestion.width=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(g){g<-1||g>4||this.setPropertyValue("colCount",g)},enumerable:!1,configurable:!0}),P.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},P.prototype.getMarkdownHtml=function(g,m){return this.colOwner?this.colOwner.getMarkdownHtml(g,m):void 0},P.prototype.getRenderer=function(g){return this.colOwner?this.colOwner.getRenderer(g):null},P.prototype.getRendererContext=function(g){return this.colOwner?this.colOwner.getRendererContext(g):g},P.prototype.getProcessedText=function(g){return this.colOwner?this.colOwner.getProcessedText(g):g},P.prototype.createCellQuestion=function(g){var m=this.calcCellQuestionType(g),v=this.createNewQuestion(m);return this.callOnCellQuestionUpdate(v,g),v},P.prototype.startLoadingFromJson=function(g){b.prototype.startLoadingFromJson.call(this,g),g&&!g.cellType&&g.choices&&(g.cellType=this.colOwner.getCellType())},P.prototype.updateCellQuestion=function(g,m,v){v===void 0&&(v=null),this.setQuestionProperties(g,v)},P.prototype.callOnCellQuestionUpdate=function(g,m){var v=g.getType(),f=O[v];f&&f.onCellQuestionUpdate&&f.onCellQuestionUpdate(g,this,this.colOwner,m)},P.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},P.prototype.calcCellQuestionType=function(g){var m=this.getDefaultCellQuestionType();return g&&this.colOwner&&(m=this.colOwner.getCustomCellType(this,g,m)),m},P.prototype.getDefaultCellQuestionType=function(g){return g||(g=this.cellType),g!=="default"?g:this.colOwner?this.colOwner.getCellType():c.settings.matrix.defaultCellType},P.prototype.updateTemplateQuestion=function(g){var m=this,v=this.getDefaultCellQuestionType(g),f=this.templateQuestion?this.templateQuestion.getType():"";v!==f&&(this.templateQuestion&&this.removeProperties(f),this.templateQuestionValue=this.createNewQuestion(v),this.templateQuestion.locOwner=this,this.addProperties(v),this.templateQuestion.onPropertyChanged.add(function(l,d){m.propertyValueChanged(d.name,d.oldValue,d.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add(function(l,d){m.doItemValuePropertyChanged(d.propertyName,d.obj,d.name,d.newValue,d.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return m.getSurvey()}),this.templateQuestion.locTitle.strChanged())},P.prototype.createNewQuestion=function(g){var m=o.Serializer.createClass(g);return m||(m=o.Serializer.createClass("text")),m.loadingOwner=this,m.isEditableTemplateElement=!0,m.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(m),this.setParentQuestionToTemplate(m),m},P.prototype.setParentQuestionToTemplate=function(g){this.colOwner&&this.colOwner.isQuestion&&g.setParentQuestion(this.colOwner)},P.prototype.setQuestionProperties=function(g,m){var v=this;if(m===void 0&&(m=null),this.templateQuestion){var f=new o.JsonObject().toJsonObject(this.templateQuestion,!0);m&&m(f),f.type=g.getType(),this.cellType==="default"&&this.colOwner&&this.colOwner.hasChoices()&&delete f.choices,delete f.itemComponent,new o.JsonObject().toObject(f,g),g.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,g.loadedChoicesFromServerCallback=function(){if(v.isShowInMultipleColumns&&!(v.previousChoicesId&&v.previousChoicesId!==g.id)){v.previousChoicesId=g.id;var l=g.visibleChoices;v.templateQuestion.choices=l,v.propertyValueChanged("choices",l,l)}}}},P.prototype.propertyValueChanged=function(g,m,v){b.prototype.propertyValueChanged.call(this,g,m,v),g==="isRequired"&&this.updateIsRenderedRequired(v),!(!this.colOwner||this.isLoadingFromJson)&&(this.isShowInMultipleColumns&&["visibleChoices","choices"].indexOf(g)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this),o.Serializer.hasOriginalProperty(this,g)&&this.colOwner.onColumnPropertyChanged(this,g,v))},P.prototype.doItemValuePropertyChanged=function(g,m,v,f,l){o.Serializer.hasOriginalProperty(m,v)&&this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,g,m,v,f,l)},P.prototype.doShowInMultipleColumnsChanged=function(){this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)},P.prototype.getProperties=function(g){return o.Serializer.getDynamicPropertiesByObj(this,g)},P.prototype.removeProperties=function(g){for(var m=this.getProperties(g),v=0;v<m.length;v++){var f=m[v];delete this[f.name],f.serializationProperty&&delete this[f.serializationProperty]}},P.prototype.addProperties=function(g){for(var m=this.templateQuestion,v=this.getProperties(g),f=0;f<v.length;f++){var l=v[f];this.addProperty(m,l.name,!1),l.serializationProperty&&this.addProperty(m,l.serializationProperty,!0),l.alternativeName&&this.addProperty(m,l.alternativeName,!1)}},P.prototype.addProperty=function(g,m,v){var f={configurable:!0,get:function(){return g[m]}};v||(f.set=function(l){g[m]=l}),Object.defineProperty(this,m,f)},P}(a.Base);o.Serializer.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(b,P){b&&P&&(P.placeholder=b.name)}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:function(){var b=y.getColumnTypes();return b.splice(0,0,"default"),b}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(b,P){b&&P&&(P.value=b.minWidth)}},"width","visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(b){return b?b.isSupportMultipleColumns:!1}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",default:"none",choices:["none","sum","count","min","max","avg"]},"totalExpression:expression",{name:"totalFormat",serializationProperty:"locTotalFormat"},{name:"totalDisplayStyle",default:"none",choices:["none","decimal","currency","percent"]},{name:"totalCurrency",choices:function(){return Object(s.getCurrecyCodes)()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1},{name:"totalMinimumFractionDigits:number",default:-1},{name:"renderAs",default:"default",visible:!1}],function(){return new y("")})},"./src/question_matrixdropdownrendered.ts":function(n,r,i){i.r(r),i.d(r,"QuestionMatrixDropdownRenderedCell",function(){return g}),i.d(r,"QuestionMatrixDropdownRenderedRow",function(){return m}),i.d(r,"QuestionMatrixDropdownRenderedTable",function(){return v});var o=i("./src/jsonobject.ts"),a=i("./src/base.ts"),s=i("./src/itemvalue.ts"),c=i("./src/actions/action.ts"),C=i("./src/actions/adaptive-container.ts"),E=i("./src/utils/cssClassBuilder.ts"),O=i("./src/actions/container.ts"),y=i("./src/settings.ts"),b=function(){var f=function(l,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(h[u]=p[u])},f(l,d)};return function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(l,d);function h(){this.constructor=l}l.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),P=function(f,l,d,h){var p=arguments.length,u=p<3?l:h===null?h=Object.getOwnPropertyDescriptor(l,d):h,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(f,l,d,h);else for(var V=f.length-1;V>=0;V--)(x=f[V])&&(u=(p<3?x(u):p>3?x(l,d,u):x(l,d))||u);return p>3&&u&&Object.defineProperty(l,d,u),u},g=function(){function f(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isDragHandlerCell=!1,this.classNameValue="",this.idValue=f.counter++}return Object.defineProperty(f.prototype,"hasQuestion",{get:function(){return!!this.question},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),f.prototype.showErrorOnCore=function(l){return this.getShowErrorLocation(l)&&(!this.isChoice||this.isFirstChoice)},f.prototype.getShowErrorLocation=function(l){return this.hasQuestion&&this.question.showErrorOnCore(l)},Object.defineProperty(f.prototype,"item",{get:function(){return this.itemValue},set:function(l){this.itemValue=l,l&&(l.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isItemChoice",{get:function(){return this.isChoice&&!this.isOtherChoice},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isCheckbox",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRadio",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isFirstChoice",{get:function(){return this.choiceIndex===0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"className",{get:function(){var l=new E.CssClassBuilder().append(this.classNameValue);return this.hasQuestion&&l.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),l.toString()},set:function(l){this.classNameValue=l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"headers",{get:function(){if(this.cell&&this.cell.column){if(this.cell.column.cellHint===" ")return"";if(this.cell.column.cellHint)return this.cell.column.locCellHint.renderedHtml;if(this.cell.column.isShowInMultipleColumns)return this.item?this.item.locText.renderedHtml:""}return this.question&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),f.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},f.prototype.calculateFinalClassName=function(l){var d=this.cell.question.cssClasses,h=new E.CssClassBuilder().append(d.itemValue,!!d).append(d.asCell,!!d);return h.append(l.cell,h.isEmpty()&&!!l).append(l.choiceCell,this.isChoice).toString()},f.counter=1,f}(),m=function(f){b(l,f);function l(d,h){h===void 0&&(h=!1);var p=f.call(this)||this;return p.cssClasses=d,p.isDetailRow=h,p.cells=[],p.idValue=l.counter++,p}return Object.defineProperty(l.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"className",{get:function(){return new E.CssClassBuilder().append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),l.counter=1,P([Object(o.property)({defaultValue:!1})],l.prototype,"isGhostRow",void 0),P([Object(o.property)({defaultValue:!1})],l.prototype,"isAdditionalClasses",void 0),l}(a.Base),v=function(f){b(l,f);function l(d){var h=f.call(this)||this;return h.matrix=d,h.renderedRowsChangedCallback=function(){},h.hasActionCellInRowsValues={},h.build(),h}return Object.defineProperty(l.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),l.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(l.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowRowsDragAndDrop",{get:function(){return this.matrix.allowRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),l.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.matrix.visibleRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},l.prototype.updateShowTableAndAddRow=function(){var d=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",d);var h=this.matrix.canAddRow&&d,p=h,u=h;p&&(this.matrix.getAddRowLocation()==="default"?p=!this.matrix.isColumnLayoutHorizontal:p=this.matrix.getAddRowLocation()!=="bottom"),u&&this.matrix.getAddRowLocation()!=="topBottom"&&(u=!p),this.setPropertyValue("showAddRowOnTop",p),this.setPropertyValue("showAddRowOnBottom",u)},l.prototype.onAddedRow=function(d,h){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var p=this.getRenderedRowIndexByIndex(h);this.rowsActions.splice(h,0,this.buildRowActions(d)),this.addHorizontalRow(this.rows,d,this.matrix.visibleRows.length==1&&!this.matrix.showHeader,p),this.updateShowTableAndAddRow()}},l.prototype.getRenderedRowIndexByIndex=function(d){for(var h=0,p=0,u=0;u<this.rows.length;u++){if(p===d){this.rows[u].isDetailRow&&h++;break}h++,this.rows[u].isDetailRow||p++}return p<d?this.rows.length:h},l.prototype.getRenderedDataRowCount=function(){for(var d=0,h=0;h<this.rows.length;h++)this.rows[h].isDetailRow||d++;return d},l.prototype.onRemovedRow=function(d){var h=this.getRenderedRowIndex(d);if(!(h<0)){this.rowsActions.splice(h,1);var p=1;h<this.rows.length-1&&this.rows[h+1].isDetailRow&&p++,this.rows.splice(h,p),this.updateShowTableAndAddRow()}},l.prototype.onDetailPanelChangeVisibility=function(d,h){var p=this.getRenderedRowIndex(d);if(!(p<0)){var u=p<this.rows.length-1&&this.rows[p+1].isDetailRow?p+1:-1;if(!(h&&u>-1||!h&&u<0))if(h){var x=this.createDetailPanelRow(d,this.rows[p]);this.rows.splice(p+1,0,x)}else this.rows.splice(u,1)}},l.prototype.getRenderedRowIndex=function(d){for(var h=0;h<this.rows.length;h++)if(this.rows[h].row==d)return h;return-1},l.prototype.buildRowsActions=function(){this.rowsActions=[];for(var d=this.matrix.visibleRows,h=0;h<d.length;h++)this.rowsActions.push(this.buildRowActions(d[h]))},l.prototype.createRenderedRow=function(d,h){return h===void 0&&(h=!1),new m(d,h)},l.prototype.buildHeader=function(){var d=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader,h=d||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",h),!!h){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.allowRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var p=0;p<this.matrix.visibleColumns.length;p++){var u=this.matrix.visibleColumns[p];u.hasVisibleCell&&(u.isShowInMultipleColumns?this.createMutlipleColumnsHeader(u):this.headerRow.cells.push(this.createHeaderCell(u)))}else{for(var x=this.matrix.visibleRows,p=0;p<x.length;p++){var V=this.createTextCell(x[p].locText);V.row=x[p],this.headerRow.cells.push(V)}this.matrix.hasFooter&&this.headerRow.cells.push(this.createTextCell(this.matrix.getFooterText()))}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null))}},l.prototype.buildFooter=function(){if(this.showFooter){this.footerRowValue=this.createRenderedRow(this.cssClasses),this.allowRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.footerRow.cells.push(this.createTextCell(this.matrix.getFooterText()));for(var d=this.matrix.visibleTotalRow.cells,h=0;h<d.length;h++){var p=d[h];if(p.column.hasVisibleCell)if(p.column.isShowInMultipleColumns)this.createMutlipleColumnsFooter(this.footerRow,p);else{var u=this.createEditCell(p);p.column&&this.setHeaderCellWidth(p.column,u),this.footerRow.cells.push(u)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null))}},l.prototype.buildRows=function(){var d=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=d},l.prototype.hasActionCellInRows=function(d){return this.hasActionCellInRowsValues[d]===void 0&&(this.hasActionCellInRowsValues[d]=this.hasActionsCellInLocaltion(d)),this.hasActionCellInRowsValues[d]},l.prototype.hasActionsCellInLocaltion=function(d){var h=this;return d=="end"&&this.hasRemoveRows?!0:this.matrix.visibleRows.some(function(p,u){return!h.isValueEmpty(h.getRowActions(u,d))})},l.prototype.canRemoveRow=function(d){return this.matrix.canRemoveRow(d)},l.prototype.buildHorizontalRows=function(){for(var d=this.matrix.visibleRows,h=[],p=0;p<d.length;p++)this.addHorizontalRow(h,d[p],p==0&&!this.matrix.showHeader);return h},l.prototype.addHorizontalRow=function(d,h,p,u){u===void 0&&(u=-1);var x=this.createHorizontalRow(h,p);x.row=h,u<0&&(u=d.length),d.splice(u,0,x),h.isDetailPanelShowing&&d.splice(u+1,0,this.createDetailPanelRow(h,x))},l.prototype.getRowDragCell=function(d){var h=new g;return h.isDragHandlerCell=!0,h.className=this.getActionsCellClassName(),h.row=this.matrix.visibleRows[d],h},l.prototype.getActionsCellClassName=function(){return new E.CssClassBuilder().append(this.cssClasses.actionsCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal).toString()},l.prototype.getRowActionsCell=function(d,h){var p=this.getRowActions(d,h);if(!this.isValueEmpty(p)){var u=new g,x=this.matrix.allowAdaptiveActions?new C.AdaptiveActionContainer:new O.ActionContainer;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(x.cssClasses=this.matrix.survey.getCss().actionBar),x.setItems(p);var V=new s.ItemValue(x);return u.item=V,u.isActionsCell=!0,u.className=this.getActionsCellClassName(),u.row=this.matrix.visibleRows[d],u}return null},l.prototype.getRowActions=function(d,h){var p=this.rowsActions[d];return Array.isArray(p)?p.filter(function(u){return u.location||(u.location="start"),u.location===h}):[]},l.prototype.buildRowActions=function(d){var h=[];return this.setDefaultRowActions(d,h),this.matrix.survey&&(h=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,d,h)),h},Object.defineProperty(l.prototype,"showRemoveButtonAsIcon",{get:function(){return y.settings.matrix.renderRemoveAsIcon&&this.matrix.survey&&this.matrix.survey.css.root==="sd-root-modern"},enumerable:!1,configurable:!0}),l.prototype.setDefaultRowActions=function(d,h){var p=this.matrix;this.hasRemoveRows&&this.canRemoveRow(d)&&(this.showRemoveButtonAsIcon?h.push(new c.Action({id:"remove-row",iconName:"icon-delete",component:"sv-action-bar-item",innerCss:new E.CssClassBuilder().append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:p.removeRowText,enabled:!p.isInputReadOnly,data:{row:d,question:p},action:function(){p.removeRowUI(d)}})):h.push(new c.Action({id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:d,question:this.matrix}}))),d.hasPanel&&h.push(new c.Action({id:"show-detail",title:this.matrix.getLocalizationString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:d,question:this.matrix}}))},l.prototype.createHorizontalRow=function(d,h){var p=this.createRenderedRow(this.cssClasses);if(this.allowRowsDragAndDrop){var u=this.matrix.visibleRows.indexOf(d);p.cells.push(this.getRowDragCell(u))}if(this.addRowActionsCell(d,p,"start"),this.matrix.hasRowText){var x=this.createTextCell(d.locText);x.row=d,p.cells.push(x),h&&this.setHeaderCellWidth(null,x),x.className=new E.CssClassBuilder().append(x.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.detailRowText,d.hasPanel).toString()}for(var V=0;V<d.cells.length;V++){var A=d.cells[V];if(A.column.hasVisibleCell)if(A.column.isShowInMultipleColumns)this.createMutlipleEditCells(p,A);else{var x=this.createEditCell(A);p.cells.push(x),h&&this.setHeaderCellWidth(A.column,x)}}return this.addRowActionsCell(d,p,"end"),p},l.prototype.addRowActionsCell=function(d,h,p){var u=this.matrix.visibleRows.indexOf(d);if(this.hasActionCellInRows(p)){var x=this.getRowActionsCell(u,p);if(x)h.cells.push(x);else{var V=new g;V.isEmpty=!0,h.cells.push(V)}}},l.prototype.createDetailPanelRow=function(d,h){var p=this.matrix.isDesignMode,u=this.createRenderedRow(this.cssClasses,!0);u.row=d;var x=new g;this.matrix.hasRowText&&(x.colSpans=2),x.isEmpty=!0,p||u.cells.push(x);var V=null;this.hasActionCellInRows("end")&&(V=new g,V.isEmpty=!0);var A=new g;return A.panel=d.detailPanel,A.colSpans=h.cells.length-(p?0:x.colSpans)-(V?V.colSpans:0),A.className=this.cssClasses.detailPanelCell,u.cells.push(A),V&&u.cells.push(V),typeof this.matrix.onCreateDetailPanelRenderedRowCallback=="function"&&this.matrix.onCreateDetailPanelRenderedRowCallback(u),u},l.prototype.buildVerticalRows=function(){for(var d=this.matrix.columns,h=[],p=0;p<d.length;p++){var u=d[p];u.isVisible&&u.hasVisibleCell&&(u.isShowInMultipleColumns?this.createMutlipleVerticalRows(h,u,p):h.push(this.createVerticalRow(u,p)))}return this.hasActionCellInRows("end")&&h.push(this.createEndVerticalActionRow()),h},l.prototype.createMutlipleVerticalRows=function(d,h,p){var u=this.getMultipleColumnChoices(h);if(u)for(var x=0;x<u.length;x++)d.push(this.createVerticalRow(h,p,u[x],x))},l.prototype.createVerticalRow=function(d,h,p,u){p===void 0&&(p=null),u===void 0&&(u=-1);var x=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var V=p?p.locText:d.locTitle,A=this.createTextCell(V);A.column=d,A.className=new E.CssClassBuilder().append(A.className).append(this.cssClasses.rowTextCell).toString(),p||this.setRequriedToHeaderCell(d,A),x.cells.push(A)}for(var M=this.matrix.visibleRows,T=0;T<M.length;T++){var D=p,R=u>=0?u:T,S=M[T].cells[h],I=p?S.question.visibleChoices:void 0;I&&R<I.length&&(D=I[R]);var w=this.createEditCell(S,D);w.item=D,w.choiceIndex=R,x.cells.push(w)}return this.matrix.hasTotal&&x.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[h])),x},l.prototype.createEndVerticalActionRow=function(){var d=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&d.cells.push(this.createEmptyCell());for(var h=this.matrix.visibleRows,p=0;p<h.length;p++)d.cells.push(this.getRowActionsCell(p,"end"));return this.matrix.hasTotal&&d.cells.push(this.createEmptyCell()),d},l.prototype.createMutlipleEditCells=function(d,h,p){p===void 0&&(p=!1);var u=p?this.getMultipleColumnChoices(h.column):h.question.visibleChoices;if(u)for(var x=0;x<u.length;x++){var V=this.createEditCell(h,p?void 0:u[x]);p||(this.setItemCellCssClasses(V),V.choiceIndex=x),d.cells.push(V)}},l.prototype.setItemCellCssClasses=function(d){d.className=new E.CssClassBuilder().append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,d.isRadio).append(this.cssClasses.checkboxCell,d.isCheckbox).toString()},l.prototype.createEditCell=function(d,h){h===void 0&&(h=void 0);var p=new g;return p.cell=d,p.row=d.row,p.question=d.question,p.matrix=this.matrix,p.item=h,p.isOtherChoice=!!h&&!!d.question&&d.question.otherItem===h,p.className=p.calculateFinalClassName(this.cssClasses),p},l.prototype.createMutlipleColumnsFooter=function(d,h){this.createMutlipleEditCells(d,h,!0)},l.prototype.createMutlipleColumnsHeader=function(d){var h=this.getMultipleColumnChoices(d);if(h)for(var p=0;p<h.length;p++){var u=this.createTextCell(h[p].locText);this.setHeaderCell(d,u),this.setHeaderCellCssClasses(u),this.headerRow.cells.push(u)}},l.prototype.getMultipleColumnChoices=function(d){var h=d.templateQuestion.choices;return h&&Array.isArray(h)&&h.length==0?this.matrix.choices:(h=d.templateQuestion.visibleChoices,!h||!Array.isArray(h)?null:h)},l.prototype.setHeaderCellCssClasses=function(d,h){d.className=new E.CssClassBuilder().append(this.cssClasses.headerCell).append(this.cssClasses.emptyCell,!!d.isEmpty).append(this.cssClasses.cell+"--"+h,!!h).toString()},l.prototype.createHeaderCell=function(d){var h=d?this.createTextCell(d.locTitle):this.createEmptyCell();h.column=d,this.setHeaderCell(d,h);var p=d&&d.cellType!=="default"?d.cellType:this.matrix.cellType;return this.setHeaderCellCssClasses(h,p),h},l.prototype.setHeaderCell=function(d,h){this.setHeaderCellWidth(d,h),this.setRequriedToHeaderCell(d,h)},l.prototype.setHeaderCellWidth=function(d,h){h.minWidth=d!=null?this.matrix.getColumnWidth(d):this.matrix.getRowTitleWidth(),h.width=d!=null?d.width:this.matrix.getRowTitleWidth()},l.prototype.setRequriedToHeaderCell=function(d,h){d&&d.isRequired&&this.matrix.survey&&(h.requiredText=this.matrix.survey.requiredText)},l.prototype.createRemoveRowCell=function(d){var h=new g;return h.row=d,h.isRemoveRow=this.canRemoveRow(d),this.cssClasses.cell&&(h.className=this.cssClasses.cell),h},l.prototype.createTextCell=function(d){var h=new g;return h.locTitle=d,d&&d.strChanged(),this.cssClasses.cell&&(h.className=this.cssClasses.cell),h},l.prototype.createEmptyCell=function(){var d=this.createTextCell(null);return d.isEmpty=!0,d},P([Object(o.propertyArray)({onPush:function(d,h,p){p.renderedRowsChangedCallback()}})],l.prototype,"rows",void 0),l}(a.Base)},"./src/question_matrixdynamic.ts":function(n,r,i){i.r(r),i.d(r,"MatrixDynamicRowModel",function(){return m}),i.d(r,"QuestionMatrixDynamicModel",function(){return v});var o=i("./src/jsonobject.ts"),a=i("./src/questionfactory.ts"),s=i("./src/question_matrixdropdownbase.ts"),c=i("./src/error.ts"),C=i("./src/settings.ts"),E=i("./src/utils/utils.ts"),O=i("./src/dragdrop/matrix-rows.ts"),y=i("./src/utils/cssClassBuilder.ts"),b=i("./src/question_matrixdropdownrendered.ts"),P=i("./src/utils/dragOrClickHelper.ts"),g=function(){var l=function(d,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(p[x]=u[x])},l(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}(),m=function(l){g(d,l);function d(h,p,u){var x=l.call(this,p,u)||this;return x.index=h,x.buildCells(u),x}return Object.defineProperty(d.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"shortcutText",{get:function(){var h=this.data,p=h.visibleRows.indexOf(this)+1,u=this.cells.length>1?this.cells[1].questionValue:void 0,x=this.cells.length>0?this.cells[0].questionValue:void 0;return u&&u.value||x&&x.value||""+p},enumerable:!1,configurable:!0}),d}(s.MatrixDropdownRowModelBase),v=function(l){g(d,l);function d(h){var p=l.call(this,h)||this;p.rowCounter=0,p.initialRowCount=2,p.setRowCountValueFromData=!1,p.startDragMatrixRow=function(x,V){p.dragDropMatrixRows.startDrag(x,p.draggedRow,p,x.target)},p.createLocalizableString("confirmDeleteText",p,!1,"confirmDelete");var u=p.createLocalizableString("addRowText",p);return u.onGetTextCallback=function(x){return x||p.defaultAddRowText},p.createLocalizableString("removeRowText",p,!1,"removeRow"),p.createLocalizableString("emptyRowsText",p,!1,!0),p.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],function(){p.updateShowTableAndAddRow()}),p.registerPropertyChangedHandlers(["allowRowsDragAndDrop"],function(){p.clearRowsAndResetRenderedTable()}),p.dragOrClickHelper=new P.DragOrClickHelper(p.startDragMatrixRow),p}return d.prototype.setSurveyImpl=function(h,p){l.prototype.setSurveyImpl.call(this,h,p),this.dragDropMatrixRows=new O.DragDropMatrixRows(this.survey,null,!0)},d.prototype.isBanStartDrag=function(h){var p=h.target;return p.getAttribute("contenteditable")==="true"||p.nodeName==="INPUT"||!this.isDragHandleAreaValid(p)},d.prototype.isDragHandleAreaValid=function(h){return this.survey.matrixDragHandleArea==="icon"?h.classList.contains(this.cssClasses.dragElementDecorator):!0},d.prototype.onPointerDown=function(h,p){!p||!this.allowRowsDragAndDrop||this.isBanStartDrag(h)||p.isDetailPanelShowing||(this.draggedRow=p,this.dragOrClickHelper.onPointerDown(h))},d.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(d.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(h){this.setPropertyValue("confirmDelete",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(h){this.setPropertyValue("keyName",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(h){this.setPropertyValue("defaultRowValue",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow")},set:function(h){this.setPropertyValue("defaultValueFromLastRow",h)},enumerable:!1,configurable:!0}),d.prototype.isDefaultValueEmpty=function(){return l.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},d.prototype.valueFromData=function(h){if(this.minRowCount<1)return l.prototype.valueFromData.call(this,h);Array.isArray(h)||(h=[]);for(var p=h.length;p<this.minRowCount;p++)h.push({});return h},d.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultRowValue)||!this.isValueEmpty(this.defaultValue)){l.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.rowCount==0)){for(var h=[],p=0;p<this.rowCount;p++)h.push(this.defaultRowValue);this.value=h}},d.prototype.moveRowByIndex=function(h,p){var u=this.createNewValue();if(!(!Array.isArray(u)&&Math.max(h,p)>=u.length)){var x=u[h];u.splice(h,1),u.splice(p,0,x),this.value=u}},d.prototype.clearOnDrop=function(){this.isEditingSurveyElement||this.resetRenderedTable()},Object.defineProperty(d.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(h){if(!(h<0||h>C.settings.matrix.maxRowCount)){this.setRowCountValueFromData=!1;var p=this.rowCountValue;if(this.rowCountValue=h,this.value&&this.value.length>h){var u=this.value;u.splice(h),this.value=u}if(this.isUpdateLocked){this.initialRowCount=h;return}if(this.generatedVisibleRows||p==0){this.generatedVisibleRows||(this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(h);for(var x=p;x<h;x++){var V=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(V),this.onMatrixRowCreated(V)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}},enumerable:!1,configurable:!0}),d.prototype.updateProgressInfoByValues=function(h){var p=this.value;Array.isArray(p)||(p=[]);for(var u=0;u<this.rowCount;u++){var x=u<p.length?p[u]:{};this.updateProgressInfoByRow(h,x)}},d.prototype.getValueForNewRow=function(){var h=null;return this.onGetValueForNewRowCallBack&&(h=this.onGetValueForNewRowCallBack(this)),h},Object.defineProperty(d.prototype,"allowRowsDragAndDrop",{get:function(){return this.readOnly?!1:this.getPropertyValue("allowRowsDragAndDrop")},set:function(h){this.setPropertyValue("allowRowsDragAndDrop",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),d.prototype.createRenderedTable=function(){return new f(this)},Object.defineProperty(d.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(h){this.setPropertyValue("rowCount",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(h){h<0&&(h=0),this.setPropertyValue("minRowCount",h),h>this.maxRowCount&&(this.maxRowCount=h),this.rowCount<h&&(this.rowCount=h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(h){h<=0||(h>C.settings.matrix.maxRowCount&&(h=C.settings.matrix.maxRowCount),h!=this.maxRowCount&&(this.setPropertyValue("maxRowCount",h),h<this.minRowCount&&(this.minRowCount=h),this.rowCount>h&&(this.rowCount=h)))},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(h){this.setPropertyValue("allowAddRows",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(h){this.setPropertyValue("allowRemoveRows",h),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"canRemoveRows",{get:function(){var h=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(h):h},enumerable:!1,configurable:!0}),d.prototype.canRemoveRow=function(h){return this.survey?this.survey.matrixAllowRemoveRow(this,h.index,h):!0},d.prototype.addRowUI=function(){this.addRow(!0)},d.prototype.getQuestionToFocusOnAddingRow=function(){for(var h=this.visibleRows[this.visibleRows.length-1],p=0;p<h.cells.length;p++){var u=h.cells[p].question;if(u&&u.isVisible&&!u.isReadOnly)return u}return null},d.prototype.addRow=function(h){var p=this.rowCount,u=this.canAddRow,x={question:this,canAddRow:u,allow:u};this.survey&&this.survey.matrixBeforeRowAdded(x);var V=u!==x.allow?x.allow:u!==x.canAddRow?x.canAddRow:u;if(V&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),h&&p!==this.rowCount)){var A=this.getQuestionToFocusOnAddingRow();A&&A.focus()}},Object.defineProperty(d.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(h){this.setPropertyValue("detailPanelShowOnAdding",h)},enumerable:!1,configurable:!0}),d.prototype.hasRowsAsItems=function(){return!1},d.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,l.prototype.unbindValue.call(this)},d.prototype.isValueSurveyElement=function(h){return this.isEditingSurveyElement||l.prototype.isValueSurveyElement.call(this,h)},d.prototype.addRowCore=function(){var h=this.rowCount;this.rowCount=this.rowCount+1;var p=this.getDefaultRowValue(!0),u=null;if(this.isValueEmpty(p)||(u=this.createNewValue(),u.length==this.rowCount&&(u[u.length-1]=p,this.value=u)),this.data&&(this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.isValueEmpty(p))){var x=this.visibleRows[this.rowCount-1];this.isValueEmpty(x.value)||(u||(u=this.createNewValue()),!this.isValueSurveyElement(u)&&!this.isTwoValueEquals(u[u.length-1],x.value)&&(u[u.length-1]=x.value,this.value=u))}this.survey&&h+1==this.rowCount&&(this.survey.matrixRowAdded(this,this.visibleRows[this.visibleRows.length-1]),this.onRowsChanged())},d.prototype.getDefaultRowValue=function(h){for(var p=null,u=0;u<this.columns.length;u++){var x=this.columns[u].templateQuestion;x&&!this.isValueEmpty(x.getDefaultValue())&&(p=p||{},p[this.columns[u].name]=x.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var V in this.defaultRowValue)p=p||{},p[V]=this.defaultRowValue[V];if(h&&this.defaultValueFromLastRow){var A=this.value;if(A&&Array.isArray(A)&&A.length>=this.rowCount-1){var M=A[this.rowCount-2];for(var V in M)p=p||{},p[V]=M[V]}}return p},d.prototype.removeRowUI=function(h){if(h&&h.rowName){var p=this.visibleRows.indexOf(h);if(p<0)return;h=p}this.removeRow(h)},d.prototype.isRequireConfirmOnRowDelete=function(h){if(!this.confirmDelete||h<0||h>=this.rowCount)return!1;var p=this.createNewValue();return this.isValueEmpty(p)||!Array.isArray(p)||h>=p.length?!1:!this.isValueEmpty(p[h])},d.prototype.removeRow=function(h,p){if(this.canRemoveRows&&!(h<0||h>=this.rowCount)){var u=this.visibleRows&&h<this.visibleRows.length?this.visibleRows[h]:null;p===void 0&&(p=this.isRequireConfirmOnRowDelete(h)),!(p&&!Object(E.confirmAction)(this.confirmDeleteText))&&(u&&this.survey&&!this.survey.matrixRowRemoving(this,h,u)||(this.onStartRowAddingRemoving(),this.removeRowCore(h),this.onEndRowRemoving(u)))}},d.prototype.removeRowCore=function(h){var p=this.generatedVisibleRows?this.generatedVisibleRows[h]:null;if(this.generatedVisibleRows&&h<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(h,1),this.rowCountValue--,this.value){var u=[];Array.isArray(this.value)&&h<this.value.length?u=this.createValueCopy():u=this.createNewValue(),u.splice(h,1),u=this.deleteRowValue(u,null),this.isRowChanging=!0,this.value=u,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,h,p)},Object.defineProperty(d.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(h){this.setLocalizableStringText("confirmDeleteText",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(h){this.setLocalizableStringText("addRowText",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"defaultAddRowText",{get:function(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(h){this.setPropertyValue("addRowLocation",h)},enumerable:!1,configurable:!0}),d.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(d.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(h){this.setPropertyValue("hideColumnsIfEmpty",h)},enumerable:!1,configurable:!0}),d.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(d.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(h){this.setLocalizableStringText("removeRowText",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(h){this.setLocalizableStringText("emptyRowsText",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),d.prototype.getDisplayValueCore=function(h,p){if(!p||!Array.isArray(p))return p;for(var u=this.getUnbindValue(p),x=this.visibleRows,V=0;V<x.length&&V<u.length;V++){var A=u[V];A&&(u[V]=this.getRowDisplayValue(h,x[V],A))}return u},d.prototype.getConditionObjectRowName=function(h){return"["+h.toString()+"]"},d.prototype.getConditionObjectsRowIndeces=function(){for(var h=[],p=Math.max(this.rowCount,1),u=0;u<Math.min(C.settings.matrix.maxRowCountInCondition,p);u++)h.push(u);return h},d.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(d.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),d.prototype.onCheckForErrors=function(h,p){l.prototype.onCheckForErrors.call(this,h,p),!p&&this.hasErrorInMinRows()&&h.push(new c.MinRowCountError(this.minRowCount,this))},d.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var h=0,p=0;p<this.generatedVisibleRows.length;p++){var u=this.generatedVisibleRows[p];u.isEmpty||h++}return h<this.minRowCount},d.prototype.getUniqueColumns=function(){var h=l.prototype.getUniqueColumns.call(this);if(this.keyName){var p=this.getColumnByName(this.keyName);p&&h.indexOf(p)<0&&h.push(p)}return h},d.prototype.generateRows=function(){var h=new Array;if(this.rowCount===0)return h;for(var p=this.createNewValue(),u=0;u<this.rowCount;u++)h.push(this.createMatrixRow(this.getRowValueByIndex(p,u)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=p),h},d.prototype.createMatrixRow=function(h){return new m(this.rowCounter++,this,h)},d.prototype.getInsertedDeletedIndex=function(h,p){for(var u=Math.min(h.length,p.length),x=0;x<u;x++)if(p[x]!==h[x].editingObj)return x;return u},d.prototype.isEditingObjectValueChanged=function(){var h=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(h))return!1;var p=this.lastDeletedRow;this.lastDeletedRow=void 0;var u=this.generatedVisibleRows;if(!Array.isArray(h)||Math.abs(u.length-h.length)>1)return!1;var x=this.getInsertedDeletedIndex(u,h);if(u.length>h.length){this.lastDeletedRow=u[x];var V=u[x];u.splice(x,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(V)}else{var A=void 0;p&&p.editingObj===h[x]?A=p:A=this.createMatrixRow(h[x]),u.splice(x,0,A),p||this.onMatrixRowCreated(A),this.isRendredTableCreated&&this.renderedTable.onAddedRow(A,x)}return this.setPropertyValueDirectly("rowCount",h.length),!0},d.prototype.onBeforeValueChanged=function(h){if(!(!h||!Array.isArray(h))){var p=h.length;if(p!=this.rowCount&&!(!this.setRowCountValueFromData&&p<this.initialRowCount)&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=p,!!this.generatedVisibleRows)){if(p==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();var u=this.getRowValueByIndex(h,p-1),x=this.createMatrixRow(u);this.generatedVisibleRows.push(x),this.onMatrixRowCreated(x),this.onEndRowAdding()}else this.clearGeneratedRows(),this.generatedVisibleRows=this.visibleRows,this.onRowsChanged();this.setRowCountValueFromData=!1}}},d.prototype.createNewValue=function(){var h=this.createValueCopy();(!h||!Array.isArray(h))&&(h=[]),h.length>this.rowCount&&h.splice(this.rowCount);var p=this.getDefaultRowValue(!1);p=p||{};for(var u=h.length;u<this.rowCount;u++)h.push(this.getUnbindValue(p));return h},d.prototype.deleteRowValue=function(h,p){for(var u=!0,x=0;x<h.length;x++)if(this.isObject(h[x])&&Object.keys(h[x]).length>0){u=!1;break}return u?null:h},d.prototype.getRowValueByIndex=function(h,p){return Array.isArray(h)&&p>=0&&p<h.length?h[p]:null},d.prototype.getRowValueCore=function(h,p,u){if(u===void 0&&(u=!1),!this.generatedVisibleRows)return{};var x=this.getRowValueByIndex(p,this.generatedVisibleRows.indexOf(h));return!x&&u&&(x={}),x},d.prototype.getAddRowButtonCss=function(h){return h===void 0&&(h=!1),new y.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,h).toString()},d.prototype.getRemoveRowButtonCss=function(){return new y.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},d.prototype.getRootCss=function(){var h;return new y.CssClassBuilder().append(l.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!(!((h=this.renderedTable)===null||h===void 0)&&h.showTable)).toString()},d}(s.QuestionMatrixDropdownModelBase),f=function(l){g(d,l);function d(){return l!==null&&l.apply(this,arguments)||this}return d.prototype.setDefaultRowActions=function(h,p){l.prototype.setDefaultRowActions.call(this,h,p)},d}(b.QuestionMatrixDropdownRenderedTable);o.Serializer.addClass("matrixdynamic",[{name:"rowsVisibleIf:condition",visible:!1},{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:C.settings.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(l){return!l||l.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(l){return!l||l.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(l){return l.detailPanelMode!=="none"}},"allowRowsDragAndDrop:switch"],function(){return new v("")},"matrixdropdownbase"),a.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(l){var d=new v(l);return d.choices=[1,2,3,4,5],s.QuestionMatrixDropdownModelBase.addDefaultColumns(d),d})},"./src/question_multipletext.ts":function(n,r,i){i.r(r),i.d(r,"MultipleTextEditorModel",function(){return g}),i.d(r,"MultipleTextItemModel",function(){return m}),i.d(r,"QuestionMultipleTextModel",function(){return v});var o=i("./src/base.ts"),a=i("./src/survey-element.ts"),s=i("./src/question.ts"),c=i("./src/question_text.ts"),C=i("./src/jsonobject.ts"),E=i("./src/questionfactory.ts"),O=i("./src/helpers.ts"),y=i("./src/utils/cssClassBuilder.ts"),b=i("./src/settings.ts"),P=function(){var f=function(l,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(h[u]=p[u])},f(l,d)};return function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(l,d);function h(){this.constructor=l}l.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),g=function(f){P(l,f);function l(){return f!==null&&f.apply(this,arguments)||this}return Object.defineProperty(l.prototype,"a11y_input_ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"a11y_input_ariaLabelledBy",{get:function(){return null},enumerable:!1,configurable:!0}),l}(c.QuestionTextModel),m=function(f){P(l,f);function l(d,h){d===void 0&&(d=null),h===void 0&&(h=null);var p=f.call(this)||this;return p.editorValue=p.createEditor(d),p.editor.questionTitleTemplateCallback=function(){return""},p.editor.titleLocation="left",h&&(p.title=h),p}return l.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(l.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),l.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(l.prototype,"name",{get:function(){return this.editor.name},set:function(d){this.editor.name=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),l.prototype.createEditor=function(d){return new g(d)},l.prototype.addUsedLocales=function(d){f.prototype.addUsedLocales.call(this,d),this.editor.addUsedLocales(d)},l.prototype.localeChanged=function(){f.prototype.localeChanged.call(this),this.editor.localeChanged()},l.prototype.locStrsChanged=function(){f.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},l.prototype.setData=function(d){this.data=d,d&&(this.editor.defaultValue=d.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=d)},Object.defineProperty(l.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(d){this.editor.isRequired=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(d){this.editor.inputType=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"title",{get:function(){return this.editor.title},set:function(d){this.editor.title=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(d){this.editor.maxLength=d},enumerable:!1,configurable:!0}),l.prototype.getMaxLength=function(){var d=this.getSurvey();return O.Helpers.getMaxLength(this.maxLength,d?d.maxTextLength:-1)},Object.defineProperty(l.prototype,"placeholder",{get:function(){return this.editor.placeholder},set:function(d){this.editor.placeholder=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locPlaceholder",{get:function(){return this.editor.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(d){this.placeholder=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(d){this.editor.requiredErrorText=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"size",{get:function(){return this.editor.size},set:function(d){this.editor.size=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"validators",{get:function(){return this.editor.validators},set:function(d){this.editor.validators=d},enumerable:!1,configurable:!0}),l.prototype.getValidators=function(){return this.validators},Object.defineProperty(l.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(d){this.data!=null&&this.data.setMultipleTextValue(this.name,d)},enumerable:!1,configurable:!0}),l.prototype.isEmpty=function(){return this.editor.isEmpty()},l.prototype.onValueChanged=function(d){this.valueChangedCallback&&this.valueChangedCallback(d)},l.prototype.getSurveyData=function(){return this},l.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},l.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},l.prototype.getValue=function(d){return this.data?this.data.getMultipleTextValue(d):null},l.prototype.setValue=function(d,h){this.data&&this.data.setMultipleTextValue(d,h)},l.prototype.getVariable=function(d){},l.prototype.setVariable=function(d,h){},l.prototype.getComment=function(d){return null},l.prototype.setComment=function(d,h){},l.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},l.prototype.getFilteredValues=function(){return this.getAllValues()},l.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},l.prototype.findQuestionByName=function(d){var h=this.getSurvey();return h?h.getQuestionByName(d):null},l.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(l.prototype,"validatedValue",{get:function(){return this.value},set:function(d){this.value=d},enumerable:!1,configurable:!0}),l.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},l.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},l}(o.Base),v=function(f){P(l,f);function l(d){var h=f.call(this,d)||this;return h.isMultipleItemValueChanging=!1,h.createNewArray("items",function(p){p.setData(h),h.survey&&h.survey.multipleTextItemAdded(h,p)}),h.registerPropertyChangedHandlers(["items","colCount"],function(){h.fireCallback(h.colCountChangedCallback)}),h.registerPropertyChangedHandlers(["itemSize"],function(){h.updateItemsSize()}),h}return l.addDefaultItems=function(d){for(var h=E.QuestionFactory.DefaultMutlipleTextItems,p=0;p<h.length;p++)d.addItem(h[p])},l.prototype.getType=function(){return"multipletext"},l.prototype.setSurveyImpl=function(d,h){f.prototype.setSurveyImpl.call(this,d,h);for(var p=0;p<this.items.length;p++)this.items[p].setData(this)},Object.defineProperty(l.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(d){var h;(h=this.items)===null||h===void 0||h.map(function(p,u){return p.editor.id=d+"_"+u}),this.setPropertyValue("id",d)},enumerable:!1,configurable:!0}),l.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),f.prototype.onSurveyLoad.call(this),this.fireCallback(this.colCountChangedCallback)},l.prototype.setQuestionValue=function(d,h){h===void 0&&(h=!0),f.prototype.setQuestionValue.call(this,d,h),this.performForEveryEditor(function(p){p.editor.updateValueFromSurvey(p.value)}),this.updateIsAnswered()},l.prototype.onSurveyValueChanged=function(d){f.prototype.onSurveyValueChanged.call(this,d),this.performForEveryEditor(function(h){h.editor.onSurveyValueChanged(h.value)})},l.prototype.updateItemsSize=function(){this.performForEveryEditor(function(d){d.editor.updateInputSize()})},l.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(d){d.editor.onSurveyLoad()})},l.prototype.performForEveryEditor=function(d){for(var h=0;h<this.items.length;h++){var p=this.items[h];p.editor&&d(p)}},Object.defineProperty(l.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(d){this.setPropertyValue("items",d)},enumerable:!1,configurable:!0}),l.prototype.addItem=function(d,h){h===void 0&&(h=null);var p=this.createTextItem(d,h);return this.items.push(p),p},l.prototype.getItemByName=function(d){for(var h=0;h<this.items.length;h++)if(this.items[h].name==d)return this.items[h];return null},l.prototype.addConditionObjectsByContext=function(d,h){for(var p=0;p<this.items.length;p++){var u=this.items[p];d.push({name:this.getValueName()+"."+u.name,text:this.processedTitle+"."+u.fullTitle,question:this})}},l.prototype.getConditionJson=function(d,h){if(h===void 0&&(h=null),!h)return f.prototype.getConditionJson.call(this);var p=this.getItemByName(h);if(!p)return null;var u=new C.JsonObject().toJsonObject(p);return u.type="text",u},l.prototype.locStrsChanged=function(){f.prototype.locStrsChanged.call(this);for(var d=0;d<this.items.length;d++)this.items[d].locStrsChanged()},l.prototype.localeChanged=function(){f.prototype.localeChanged.call(this);for(var d=0;d<this.items.length;d++)this.items[d].localeChanged()},l.prototype.supportGoNextPageAutomatic=function(){for(var d=0;d<this.items.length;d++)if(this.items[d].isEmpty())return!1;return!0},Object.defineProperty(l.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(d){d<1||d>5||this.setPropertyValue("colCount",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(d){this.setPropertyValue("itemSize",d)},enumerable:!1,configurable:!0}),l.prototype.getRows=function(){for(var d=this.colCount,h=this.items,p=[],u=0,x=0;x<h.length;x++)u==0&&p.push([]),p[p.length-1].push(h[x]),u++,u>=d&&(u=0);return p},l.prototype.onValueChanged=function(){f.prototype.onValueChanged.call(this),this.onItemValueChanged()},l.prototype.createTextItem=function(d,h){return new m(d,h)},l.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var d=0;d<this.items.length;d++){var h=null;this.value&&this.items[d].name in this.value&&(h=this.value[this.items[d].name]),this.items[d].onValueChanged(h)}},l.prototype.getIsRunningValidators=function(){if(f.prototype.getIsRunningValidators.call(this))return!0;for(var d=0;d<this.items.length;d++)if(this.items[d].editor.isRunningValidators)return!0;return!1},l.prototype.hasErrors=function(d,h){var p=this;d===void 0&&(d=!0),h===void 0&&(h=null);for(var u=!1,x=0;x<this.items.length;x++)this.items[x].editor.onCompletedAsyncValidators=function(V){p.raiseOnCompletedAsyncValidators()},!(h&&h.isOnValueChanged===!0&&this.items[x].editor.isEmpty())&&(u=this.items[x].editor.hasErrors(d,h)||u);return f.prototype.hasErrors.call(this,d)||u},l.prototype.getAllErrors=function(){for(var d=f.prototype.getAllErrors.call(this),h=0;h<this.items.length;h++){var p=this.items[h].editor.getAllErrors();p&&p.length>0&&(d=d.concat(p))}return d},l.prototype.clearErrors=function(){f.prototype.clearErrors.call(this);for(var d=0;d<this.items.length;d++)this.items[d].editor.clearErrors()},l.prototype.getContainsErrors=function(){var d=f.prototype.getContainsErrors.call(this);if(d)return d;for(var h=this.items,p=0;p<h.length;p++)if(h[p].editor.containsErrors)return!0;return!1},l.prototype.getIsAnswered=function(){if(!f.prototype.getIsAnswered.call(this))return!1;for(var d=0;d<this.items.length;d++){var h=this.items[d].editor;if(h.isVisible&&!h.isAnswered)return!1}return!0},l.prototype.getProgressInfo=function(){for(var d=[],h=0;h<this.items.length;h++)d.push(this.items[h].editor);return a.SurveyElement.getProgressInfoByElements(d,this.isRequired)},l.prototype.getDisplayValueCore=function(d,h){if(!h)return h;for(var p={},u=0;u<this.items.length;u++){var x=this.items[u],V=h[x.name];if(!O.Helpers.isValueEmpty(V)){var A=x.name;d&&x.title&&(A=x.title),p[A]=x.editor.getDisplayValue(d,V)}}return p},l.prototype.getMultipleTextValue=function(d){return this.value?this.value[d]:null},l.prototype.setMultipleTextValue=function(d,h){this.isMultipleItemValueChanging=!0,this.isValueEmpty(h)&&(h=void 0);var p=this.value;p||(p={}),p[d]=h,this.setNewValue(p),this.isMultipleItemValueChanging=!1},l.prototype.getItemDefaultValue=function(d){return this.defaultValue?this.defaultValue[d]:null},l.prototype.getTextProcessor=function(){return this.textProcessor},l.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},l.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},l.prototype.addElement=function(d,h){},l.prototype.removeElement=function(d){return!1},l.prototype.getQuestionTitleLocation=function(){return"left"},l.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},l.prototype.getChildrenLayoutType=function(){return"row"},l.prototype.elementWidthChanged=function(d){},Object.defineProperty(l.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),l.prototype.indexOf=function(d){return-1},l.prototype.ensureRowsVisibility=function(){},l.prototype.validateContainerOnly=function(){},l.prototype.getItemLabelCss=function(d){return new y.CssClassBuilder().append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelOnError,d.editor.errors.length>0).toString()},l.prototype.getItemCss=function(){return new y.CssClassBuilder().append(this.cssClasses.item).toString()},l.prototype.getItemTitleCss=function(){return new y.CssClassBuilder().append(this.cssClasses.itemTitle).toString()},l.prototype.getIsTooltipErrorInsideSupported=function(){return!0},l}(s.Question);C.Serializer.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:b.settings.questions.inputTypes},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new m("")}),C.Serializer.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem"},{name:"itemSize:number",minValue:0},{name:"colCount:number",default:1,choices:[1,2,3,4,5]}],function(){return new v("")},"question"),E.QuestionFactory.Instance.registerQuestion("multipletext",function(f){var l=new v(f);return v.addDefaultItems(l),l})},"./src/question_paneldynamic.ts":function(n,r,i){i.r(r),i.d(r,"QuestionPanelDynamicItem",function(){return u}),i.d(r,"QuestionPanelDynamicTemplateSurveyImpl",function(){return x}),i.d(r,"QuestionPanelDynamicModel",function(){return V});var o=i("./src/helpers.ts"),a=i("./src/survey-element.ts"),s=i("./src/localizablestring.ts"),c=i("./src/textPreProcessor.ts"),C=i("./src/question.ts"),E=i("./src/jsonobject.ts"),O=i("./src/questionfactory.ts"),y=i("./src/error.ts"),b=i("./src/settings.ts"),P=i("./src/utils/utils.ts"),g=i("./src/utils/cssClassBuilder.ts"),m=i("./src/actions/action.ts"),v=i("./src/base.ts"),f=i("./src/actions/adaptive-container.ts"),l=function(){var A=function(M,T){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,R){D.__proto__=R}||function(D,R){for(var S in R)Object.prototype.hasOwnProperty.call(R,S)&&(D[S]=R[S])},A(M,T)};return function(M,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");A(M,T);function D(){this.constructor=M}M.prototype=T===null?Object.create(T):(D.prototype=T.prototype,new D)}}(),d=function(A,M,T,D){var R=arguments.length,S=R<3?M:D===null?D=Object.getOwnPropertyDescriptor(M,T):D,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(A,M,T,D);else for(var w=A.length-1;w>=0;w--)(I=A[w])&&(S=(R<3?I(S):R>3?I(M,T,S):I(M,T))||S);return R>3&&S&&Object.defineProperty(M,T,S),S},h=function(A,M){for(var T=0,D=M.length,R=A.length;T<D;T++,R++)A[R]=M[T];return A},p=function(A){l(M,A);function M(T,D,R){var S=A.call(this,R)||this;return S.data=T,S.panelItem=D,S.variableName=R,S.sharedQuestions={},S}return Object.defineProperty(M.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"visiblePanelIndex",{get:function(){return this.data?this.data.getVisibleItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),M.prototype.getValues=function(){return this.panelItem.getAllValues()},M.prototype.getQuestionByName=function(T){var D=A.prototype.getQuestionByName.call(this,T);if(D)return D;var R=this.panelIndex;D=R>-1?this.data.getSharedQuestionFromArray(T,R):void 0;var S=D?D.name:T;return this.sharedQuestions[S]=T,D},M.prototype.getQuestionDisplayText=function(T){var D=this.sharedQuestions[T.name];if(!D)return A.prototype.getQuestionDisplayText.call(this,T);var R=this.panelItem.getValue(D);return T.getDisplayValue(!0,R)},M.prototype.onCustomProcessText=function(T){if(T.name==u.IndexVariableName){var D=this.panelIndex;if(D>-1)return T.isExists=!0,T.value=D+1,!0}if(T.name==u.VisibleIndexVariableName){var D=this.visiblePanelIndex;if(D>-1)return T.isExists=!0,T.value=D+1,!0}if(T.name.toLowerCase().indexOf(u.ParentItemVariableName+".")==0){var R=this.data;if(R&&R.parentQuestion&&R.parent&&R.parent.data){var S=new M(R.parentQuestion,R.parent.data,u.ItemVariableName),I=u.ItemVariableName+T.name.substring(u.ParentItemVariableName.length),w=S.processValue(I,T.returnDisplayValue);T.isExists=w.isExists,T.value=w.value}return!0}return!1},M}(c.QuestionTextProcessor),u=function(){function A(M,T){this.data=M,this.panelValue=T,this.textPreProcessor=new p(M,this,A.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(A.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),A.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},A.prototype.getValue=function(M){var T=this.getAllValues();return T[M]},A.prototype.setValue=function(M,T){var D=this.data.getPanelItemData(this),R=D?D[M]:void 0;if(!o.Helpers.isTwoValueEquals(T,R)){this.data.setPanelItemData(this,M,o.Helpers.getUnbindValue(T));for(var S=this.panel.questions,I=0;I<S.length;I++)S[I].getValueName()!==M&&S[I].checkBindings(M,T)}},A.prototype.getVariable=function(M){},A.prototype.setVariable=function(M,T){},A.prototype.getComment=function(M){var T=this.getValue(M+b.settings.commentSuffix);return T||""},A.prototype.setComment=function(M,T,D){this.setValue(M+b.settings.commentSuffix,T)},A.prototype.findQuestionByName=function(M){if(M){var T=A.ItemVariableName+".";if(M.indexOf(T)===0)return this.panel.getQuestionByName(M.substring(T.length));var D=this.getSurvey();return D?D.getQuestionByName(M):null}},A.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},A.prototype.getFilteredValues=function(){var M={},T=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var D in T)M[D]=T[D];if(M[A.ItemVariableName]=this.getAllValues(),this.data){var R=A.IndexVariableName,S=A.VisibleIndexVariableName;delete M[R],delete M[S],M[R.toLowerCase()]=this.data.getItemIndex(this),M[S.toLowerCase()]=this.data.getVisibleItemIndex(this);var I=this.data;I&&I.parentQuestion&&I.parent&&(M[A.ParentItemVariableName]=I.parent.getValue())}return M},A.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},A.prototype.getSurveyData=function(){return this},A.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},A.prototype.getTextProcessor=function(){return this.textPreProcessor},A.ItemVariableName="panel",A.ParentItemVariableName="parentpanel",A.IndexVariableName="panelIndex",A.VisibleIndexVariableName="visiblePanelIndex",A}(),x=function(){function A(M){this.data=M}return A.prototype.getSurveyData=function(){return null},A.prototype.getSurvey=function(){return this.data.getSurvey()},A.prototype.getTextProcessor=function(){return null},A}(),V=function(A){l(M,A);function M(T){var D=A.call(this,T)||this;return D.isAddingNewPanels=!1,D.onReadyChangedCallback=function(){D.recalculateIsReadyValue()},D.isSetPanelItemData={},D.createNewArray("panels",function(R){D.onPanelAdded(R)},function(R){D.onPanelRemoved(R)}),D.createNewArray("visiblePanels"),D.templateValue=D.createAndSetupNewPanelObject(),D.template.renderWidth="100%",D.template.selectedElementInDesign=D,D.template.addElementCallback=function(R){D.addOnPropertyChangedCallback(R),D.rebuildPanels()},D.template.removeElementCallback=function(){D.rebuildPanels()},D.createLocalizableString("confirmDeleteText",D,!1,"confirmDelete"),D.createLocalizableString("keyDuplicationError",D,!1,!0),D.createLocalizableString("panelAddText",D,!1,"addPanel"),D.createLocalizableString("panelRemoveText",D,!1,"removePanel"),D.createLocalizableString("panelPrevText",D,!1,"pagePrevText"),D.createLocalizableString("panelNextText",D,!1,"pageNextText"),D.createLocalizableString("noEntriesText",D,!1,"noEntriesText"),D.createLocalizableString("templateTabTitle",D,!0,"panelDynamicTabTextFormat"),D.registerPropertyChangedHandlers(["panelsState"],function(){D.setPanelsState()}),D.registerPropertyChangedHandlers(["isMobile"],function(){D.updateFooterActions()}),D.registerPropertyChangedHandlers(["allowAddPanel"],function(){D.updateNoEntriesTextDefaultLoc()}),D}return Object.defineProperty(M.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),M.prototype.getFirstQuestionToFocus=function(T){for(var D=0;D<this.visiblePanels.length;D++){var R=this.visiblePanels[D].getFirstQuestionToFocus(T);if(R)return R}return null},M.prototype.setSurveyImpl=function(T,D){A.prototype.setSurveyImpl.call(this,T,D),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},M.prototype.assignOnPropertyChangedToTemplate=function(){for(var T=this.template.elements,D=0;D<T.length;D++)this.addOnPropertyChangedCallback(T[D])},M.prototype.addOnPropertyChangedCallback=function(T){var D=this;T.isQuestion&&T.setParentQuestion(this),T.onPropertyChanged.add(function(R,S){D.onTemplateElementPropertyChanged(R,S)}),T.isPanel&&(T.addElementCallback=function(R){D.addOnPropertyChangedCallback(R)})},M.prototype.onTemplateElementPropertyChanged=function(T,D){if(!(this.isLoadingFromJson||this.useTemplatePanel||this.panels.length==0)){var R=E.Serializer.findProperty(T.getType(),D.name);if(R)for(var S=this.panels,I=0;I<S.length;I++){var w=S[I].getQuestionByName(T.name);w&&w[D.name]!==D.newValue&&(w[D.name]=D.newValue)}}},Object.defineProperty(M.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),M.prototype.getType=function(){return"paneldynamic"},Object.defineProperty(M.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),M.prototype.clearOnDeletingContainer=function(){this.panels.forEach(function(T){T.clearOnDeletingContainer()})},Object.defineProperty(M.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),M.prototype.removeElement=function(T){return this.template.removeElement(T)},Object.defineProperty(M.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),M.prototype.getPanel=function(){return this.template},Object.defineProperty(M.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateTitle",{get:function(){return this.template.title},set:function(T){this.template.title=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateTabTitle",{get:function(){return this.locTemplateTabTitle.text},set:function(T){this.locTemplateTabTitle.text=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locTemplateTabTitle",{get:function(){return this.getLocalizableString("templateTabTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateDescription",{get:function(){return this.template.description},set:function(T){this.template.description=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateVisibleIf",{get:function(){return this.template.visibleIf},set:function(T){this.template.visibleIf=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"items",{get:function(){for(var T=[],D=0;D<this.panels.length;D++)T.push(this.panels[D].data);return T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panels",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"visiblePanels",{get:function(){return this.getPropertyValue("visiblePanels")},enumerable:!1,configurable:!0}),M.prototype.onPanelAdded=function(T){if(this.onPanelRemovedCore(T),!!T.visible){for(var D=0,R=this.panels,S=0;S<R.length&&R[S]!==T;S++)R[S].visible&&D++;this.visiblePanels.splice(D,0,T),this.addTabFromToolbar(T,D),this.currentPanel||(this.currentPanel=T)}},M.prototype.onPanelRemoved=function(T){var D=this.onPanelRemovedCore(T);if(this.currentPanel===T){var R=this.visiblePanels;D>=R.length&&(D=R.length-1),this.currentPanel=D>=0?R[D]:null}},M.prototype.onPanelRemovedCore=function(T){var D=this.visiblePanels,R=D.indexOf(T);return R>-1&&(D.splice(R,1),this.removeTabFromToolbar(T)),R},Object.defineProperty(M.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanels.indexOf(this.currentPanel)},set:function(T){T<0||this.visiblePanelCount<1||(T>=this.visiblePanelCount&&(T=this.visiblePanelCount-1),this.currentPanel=this.visiblePanels[T])},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"currentPanel",{get:function(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;var T=this.getPropertyValue("currentPanel",null);return!T&&this.visiblePanelCount>0&&(T=this.visiblePanels[0],this.currentPanel=T),T},set:function(T){this.isRenderModeList||this.useTemplatePanel||T&&this.visiblePanels.indexOf(T)<0||T===this.getPropertyValue("currentPanel")||(this.setPropertyValue("currentPanel",T),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback))},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(T){this.setPropertyValue("confirmDelete",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(T){this.setPropertyValue("keyName",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(T){this.setLocalizableStringText("confirmDeleteText",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(T){this.setLocalizableStringText("keyDuplicationError",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(T){this.setLocalizableStringText("panelPrevText",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(T){this.setLocalizableStringText("panelNextText",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(T){this.setLocalizableStringText("panelAddText",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(T){this.setLocalizableStringText("panelRemoveText",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isProgressTopShowing",{get:function(){return this.renderMode==="progressTop"||this.renderMode==="progressTopBottom"},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isProgressBottomShowing",{get:function(){return this.renderMode==="progressBottom"||this.renderMode==="progressTopBottom"},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isPrevButtonVisible",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isPrevButtonShowing",{get:function(){return this.isPrevButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isNextButtonVisible",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isNextButtonShowing",{get:function(){return this.isNextButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.visiblePanelCount>1},enumerable:!1,configurable:!0}),M.prototype.getElementsInDesign=function(T){return T===void 0&&(T=!1),T?[this.template]:this.templateElements},M.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},M.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},M.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:A.prototype.getValueCore.call(this)},M.prototype.setValueCore=function(T){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=T):A.prototype.setValueCore.call(this,T)},M.prototype.setIsMobile=function(T){(this.panels||[]).forEach(function(D){return D.elements.forEach(function(R){R instanceof C.Question&&(R.isMobile=T)})})},Object.defineProperty(M.prototype,"panelCount",{get:function(){return this.isLoadingFromJson||this.useTemplatePanel?this.getPropertyValue("panelCount"):this.panels.length},set:function(T){if(!(T<0)){if(this.isLoadingFromJson||this.useTemplatePanel){this.setPropertyValue("panelCount",T);return}if(!(T==this.panels.length||this.useTemplatePanel)){this.updateBindings("panelCount",T),this.prepareValueForPanelCreating();for(var D=this.panelCount;D<T;D++){var R=this.createNewPanel();this.panels.push(R),this.renderMode=="list"&&this.panelsState!="default"&&(this.panelsState==="expand"?R.expand():R.title&&R.collapse())}T<this.panelCount&&this.panels.splice(T,this.panelCount-T),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback)}}},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"visiblePanelCount",{get:function(){return this.visiblePanels.length},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(T){this.setPropertyValue("panelsState",T)},enumerable:!1,configurable:!0}),M.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new x(this))},M.prototype.setPanelsSurveyImpl=function(){for(var T=0;T<this.panels.length;T++){var D=this.panels[T];D!=this.template&&D.setSurveyImpl(D.data)}},M.prototype.setPanelsState=function(){if(!(this.useTemplatePanel||this.renderMode!="list"||!this.templateTitle))for(var T=0;T<this.panels.length;T++){var D=this.panelsState;D==="firstExpanded"&&(D=T===0?"expanded":"collapsed"),this.panels[T].state=D}},M.prototype.setValueBasedOnPanelCount=function(){var T=this.value;if((!T||!Array.isArray(T))&&(T=[]),T.length!=this.panelCount){for(var D=T.length;D<this.panelCount;D++)T.push({});T.length>this.panelCount&&T.splice(this.panelCount,T.length-this.panelCount),this.isValueChangingInternally=!0,this.value=T,this.isValueChangingInternally=!1}},Object.defineProperty(M.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(T){T<0&&(T=0),T!=this.minPanelCount&&(this.setPropertyValue("minPanelCount",T),T>this.maxPanelCount&&(this.maxPanelCount=T),this.panelCount<T&&(this.panelCount=T))},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(T){T<=0||(T>b.settings.panel.maxPanelCount&&(T=b.settings.panel.maxPanelCount),T!=this.maxPanelCount&&(this.setPropertyValue("maxPanelCount",T),T<this.minPanelCount&&(this.minPanelCount=T),this.panelCount>T&&(this.panelCount=T)))},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(T){this.setPropertyValue("allowAddPanel",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(T){this.setPropertyValue("allowRemovePanel",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(T){this.setPropertyValue("templateTitleLocation",T.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(T){this.setPropertyValue("showQuestionNumbers",T),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(T){this.setPropertyValue("panelRemoveButtonLocation",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"showRangeInProgress",{get:function(){return this.getPropertyValue("showRangeInProgress")},set:function(T){this.setPropertyValue("showRangeInProgress",T),this.updateFooterActions(),this.fireCallback(this.currentIndexChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"renderMode",{get:function(){return this.getPropertyValue("renderMode")},set:function(T){this.setPropertyValue("renderMode",T),this.updateFooterActions(),this.fireCallback(this.renderModeChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"tabAlign",{get:function(){return this.getPropertyValue("tabAlign")},set:function(T){this.setPropertyValue("tabAlign",T),this.isRenderModeTab&&(this.additionalTitleToolbar.containerCss=this.getAdditionalTitleToolbarCss())},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isRenderModeList",{get:function(){return this.renderMode==="list"},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isRenderModeTab",{get:function(){return this.renderMode==="tab"},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"hasTitleOnLeftTop",{get:function(){if(this.isRenderModeTab&&this.visiblePanelCount>0)return!0;if(!this.hasTitle)return!1;var T=this.getTitleLocation();return T==="left"||T==="top"},enumerable:!1,configurable:!0}),M.prototype.setVisibleIndex=function(T){if(!this.isVisible)return 0;for(var D=this.showQuestionNumbers=="onSurvey"?T:0,R=0;R<this.visiblePanels.length;R++){var S=this.setPanelVisibleIndex(this.visiblePanels[R],D,this.showQuestionNumbers!="off");this.showQuestionNumbers=="onSurvey"&&(D+=S)}return A.prototype.setVisibleIndex.call(this,this.showQuestionNumbers!="onSurvey"?T:-1),this.showQuestionNumbers!="onSurvey"?1:D-T},M.prototype.setPanelVisibleIndex=function(T,D,R){return R?T.setVisibleIndex(D):(T.setVisibleIndex(-1),0)},Object.defineProperty(M.prototype,"canAddPanel",{get:function(){return this.isDesignMode||this.isDefaultV2Theme&&!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.visiblePanelCount-1?!1:this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"canRemovePanel",{get:function(){return this.isDesignMode?!1:this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),M.prototype.rebuildPanels=function(){var T;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var D=[];if(this.useTemplatePanel)new u(this,this.template),D.push(this.template);else for(var R=0;R<this.panelCount;R++)this.createNewPanel(),D.push(this.createNewPanel());(T=this.panels).splice.apply(T,h([0,this.panels.length],D)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}},Object.defineProperty(M.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(T){this.setPropertyValue("defaultPanelValue",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel")},set:function(T){this.setPropertyValue("defaultValueFromLastPanel",T)},enumerable:!1,configurable:!0}),M.prototype.isDefaultValueEmpty=function(){return A.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},M.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultPanelValue)||!this.isValueEmpty(this.defaultValue)){A.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.panelCount==0)){for(var T=[],D=0;D<this.panelCount;D++)T.push(this.defaultPanelValue);this.value=T}},M.prototype.isEmpty=function(){var T=this.value;if(!T||!Array.isArray(T))return!0;for(var D=0;D<T.length;D++)if(!this.isRowEmpty(T[D]))return!1;return!0},M.prototype.getProgressInfo=function(){return a.SurveyElement.getProgressInfoByElements(this.visiblePanels,this.isRequired)},M.prototype.isRowEmpty=function(T){for(var D in T)if(T.hasOwnProperty(D))return!1;return!0},M.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var T=this.addPanel();return this.renderMode==="list"&&this.panelsState!=="default"&&T.expand(),T},M.prototype.addPanel=function(){this.panelCount++,this.isRenderModeList||(this.currentIndex=this.panelCount-1);var T=this.value,D=!1;return this.isValueEmpty(this.defaultPanelValue)||T&&Array.isArray(T)&&T.length==this.panelCount&&(D=!0,this.copyValue(T[T.length-1],this.defaultPanelValue)),this.defaultValueFromLastPanel&&T&&Array.isArray(T)&&T.length>1&&T.length==this.panelCount&&(D=!0,this.copyValue(T[T.length-1],T[T.length-2])),D&&(this.value=T),this.survey&&this.survey.dynamicPanelAdded(this),this.panels[this.panelCount-1]},M.prototype.canLeaveCurrentPanel=function(){return!(this.renderMode!=="list"&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))},M.prototype.copyValue=function(T,D){for(var R in D)T[R]=D[R]},M.prototype.removePanelUI=function(T){this.canRemovePanel&&(!this.confirmDelete||Object(P.confirmAction)(this.confirmDeleteText))&&this.removePanel(T)},M.prototype.goToNextPanel=function(){return this.currentIndex<0||!this.canLeaveCurrentPanel()?!1:(this.currentIndex++,!0)},M.prototype.goToPrevPanel=function(){this.currentIndex<0||this.currentIndex--},M.prototype.removePanel=function(I){var D=this.getVisualPanelIndex(I);if(!(D<0||D>=this.visiblePanelCount)){var R=this.visiblePanels[D],S=this.panels.indexOf(R);if(!(S<0)&&!(this.survey&&!this.survey.dynamicPanelRemoving(this,S,R))){this.panels.splice(S,1),this.updateBindings("panelCount",this.panelCount);var I=this.value;!I||!Array.isArray(I)||S>=I.length||(this.isValueChangingInternally=!0,I.splice(S,1),this.value=I,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,S,R),this.isValueChangingInternally=!1)}}},M.prototype.getVisualPanelIndex=function(T){if(o.Helpers.isNumber(T))return T;for(var D=this.visiblePanels,R=0;R<D.length;R++)if(D[R]===T||D[R].data===T)return R;return-1},M.prototype.getPanelIndexById=function(T){for(var D=0;D<this.panels.length;D++)if(this.panels[D].id===T)return D;return-1},M.prototype.locStrsChanged=function(){A.prototype.locStrsChanged.call(this);for(var T=this.panels,D=0;D<T.length;D++)T[D].locStrsChanged();this.additionalTitleToolbar&&this.additionalTitleToolbar.locStrsChanged()},M.prototype.clearIncorrectValues=function(){for(var T=0;T<this.panels.length;T++)this.clearIncorrectValuesInPanel(T)},M.prototype.clearErrors=function(){A.prototype.clearErrors.call(this);for(var T=0;T<this.panels.length;T++)this.panels[T].clearErrors()},M.prototype.getQuestionFromArray=function(T,D){return D>=this.panelCount?null:this.panels[D].getQuestionByName(T)},M.prototype.clearIncorrectValuesInPanel=function(T){var D=this.panels[T];D.clearIncorrectValues();var R=this.value,S=R&&T<R.length?R[T]:null;if(S){var I=!1;for(var w in S)if(!this.getSharedQuestionFromArray(w,T)){var L=D.getQuestionByName(w);L||this.iscorrectValueWithPostPrefix(D,w,b.settings.commentSuffix)||this.iscorrectValueWithPostPrefix(D,w,b.settings.matrix.totalsSuffix)||(delete S[w],I=!0)}I&&(R[T]=S,this.value=R)}},M.prototype.iscorrectValueWithPostPrefix=function(T,D,R){return D.indexOf(R)!==D.length-R.length?!1:!!T.getQuestionByName(D.substring(0,D.indexOf(R)))},M.prototype.getSharedQuestionFromArray=function(T,D){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,T,D):null},M.prototype.addConditionObjectsByContext=function(T,D){for(var R=D?D===!0||this.template.questions.indexOf(D)>-1:!1,S=new Array,I=this.template.questions,w=0;w<I.length;w++)I[w].addConditionObjectsByContext(S,D);for(var L=0;L<b.settings.panel.maxPanelCountInCondition;L++)for(var F="["+L+"].",W=this.getValueName()+F,U=this.processedTitle+F,w=0;w<S.length;w++)T.push({name:W+S[w].name,text:U+S[w].text,question:S[w].question});if(R){for(var W=D===!0?this.getValueName()+".":"",U=D===!0?this.processedTitle+".":"",w=0;w<S.length;w++)if(S[w].question!=D){var Q={name:W+"panel."+S[w].name,text:U+"panel."+S[w].text,question:S[w].question};D===!0&&(Q.context=this),T.push(Q)}}},M.prototype.getConditionJson=function(T,D){if(T===void 0&&(T=null),D===void 0&&(D=null),!D)return A.prototype.getConditionJson.call(this,T,D);var R=D,S=D.indexOf(".");S>-1&&(R=D.substring(0,S),D=D.substring(S+1));var I=this.template.getQuestionByName(R);return I?I.getConditionJson(T,D):null},M.prototype.onReadOnlyChanged=function(){var T=this.isReadOnly;this.template.readOnly=T;for(var D=0;D<this.panels.length;D++)this.panels[D].readOnly=T;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),A.prototype.onReadOnlyChanged.call(this)},M.prototype.updateNoEntriesTextDefaultLoc=function(){var T=this.getLocalizableString("noEntriesText");T&&(T.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText",T.strChanged())},M.prototype.onSurveyLoad=function(){if(this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.survey)for(var T=0;T<this.panelCount;T++)this.survey.dynamicPanelAdded(this);this.recalculateIsReadyValue(),(this.isReadOnly||!this.allowAddPanel)&&this.updateNoEntriesTextDefaultLoc(),A.prototype.onSurveyLoad.call(this)},M.prototype.onFirstRendering=function(){this.template.onFirstRendering();for(var T=0;T<this.panels.length;T++)this.panels[T].onFirstRendering();A.prototype.onFirstRendering.call(this)},M.prototype.localeChanged=function(){A.prototype.localeChanged.call(this);for(var T=0;T<this.panels.length;T++)this.panels[T].localeChanged()},M.prototype.runCondition=function(T,D){A.prototype.runCondition.call(this,T,D),this.runPanelsCondition(T,D)},M.prototype.reRunCondition=function(){this.data&&this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},M.prototype.runPanelsCondition=function(T,D){var R={};T&&T instanceof Object&&(R=JSON.parse(JSON.stringify(T))),this.parentQuestion&&this.parent&&(R[u.ParentItemVariableName]=this.parent.getValue());for(var S=0;S<this.panels.length;S++){var I=this.getPanelItemData(this.panels[S].data),w=o.Helpers.createCopy(R);w[u.ItemVariableName.toLowerCase()]=I,w[u.IndexVariableName.toLowerCase()]=S,this.panels[S].runCondition(w,D)}},M.prototype.onAnyValueChanged=function(T){A.prototype.onAnyValueChanged.call(this,T);for(var D=0;D<this.panels.length;D++)this.panels[D].onAnyValueChanged(T),this.panels[D].onAnyValueChanged(u.ItemVariableName)},M.prototype.hasKeysDuplicated=function(T,D){D===void 0&&(D=null);for(var R=[],S,I=0;I<this.panels.length;I++)S=this.isValueDuplicated(this.panels[I],R,D,T)||S;return S},M.prototype.updatePanelsContainsErrors=function(){for(var T=this.changingValueQuestion,D=T.parent;D;)D.updateContainsErrors(),D=D.parent;this.updateContainsErrors()},M.prototype.hasErrors=function(T,D){if(T===void 0&&(T=!0),D===void 0&&(D=null),this.isValueChangingInternally)return!1;var R=!1;if(this.changingValueQuestion){var R=this.changingValueQuestion.hasErrors(T,D);R=this.hasKeysDuplicated(T,D)||R,this.updatePanelsContainsErrors()}else R=this.hasErrorInPanels(T,D);return A.prototype.hasErrors.call(this,T,D)||R},M.prototype.getContainsErrors=function(){var T=A.prototype.getContainsErrors.call(this);if(T)return T;for(var D=this.panels,R=0;R<D.length;R++)if(D[R].containsErrors)return!0;return!1},M.prototype.getIsAnswered=function(){if(!A.prototype.getIsAnswered.call(this))return!1;for(var T=this.visiblePanels,D=0;D<T.length;D++){var R=[];T[D].addQuestionsToList(R,!0);for(var S=0;S<R.length;S++)if(!R[S].isAnswered)return!1}return!0},M.prototype.clearValueOnHidding=function(T){if(!T){if(this.survey&&this.survey.getQuestionClearIfInvisible("onHidden")==="none")return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}A.prototype.clearValueOnHidding.call(this,T)},M.prototype.clearValueIfInvisible=function(T){T===void 0&&(T="onHidden");var D=T==="onHidden"?"onHiddenContainer":T;this.clearValueInPanelsIfInvisible(D),A.prototype.clearValueIfInvisible.call(this,T)},M.prototype.clearValueInPanelsIfInvisible=function(T){for(var D=0;D<this.panels.length;D++){var R=this.panels[D].questions;this.isSetPanelItemData={};for(var S=0;S<R.length;S++){var I=R[S];I.clearValueIfInvisible(T),this.isSetPanelItemData[I.getValueName()]=this.maxCheckCount+1}}this.isSetPanelItemData={}},M.prototype.getIsRunningValidators=function(){if(A.prototype.getIsRunningValidators.call(this))return!0;for(var T=0;T<this.panels.length;T++)for(var D=this.panels[T].questions,R=0;R<D.length;R++)if(D[R].isRunningValidators)return!0;return!1},M.prototype.getAllErrors=function(){for(var T=A.prototype.getAllErrors.call(this),D=this.visiblePanels,R=0;R<D.length;R++)for(var S=D[R].questions,I=0;I<S.length;I++){var w=S[I].getAllErrors();w&&w.length>0&&(T=T.concat(w))}return T},M.prototype.getDisplayValueCore=function(T,D){var R=this.getUnbindValue(D);if(!R||!Array.isArray(R))return R;for(var S=0;S<this.panels.length&&S<R.length;S++){var I=R[S];I&&(R[S]=this.getPanelDisplayValue(S,I,T))}return R},M.prototype.getPanelDisplayValue=function(T,D,R){if(!D)return D;for(var S=this.panels[T],I=Object.keys(D),w=0;w<I.length;w++){var L=I[w],F=S.getQuestionByValueName(L);if(F||(F=this.getSharedQuestionFromArray(L,T)),F){var W=F.getDisplayValue(R,D[L]);D[L]=W,R&&F.title&&F.title!==L&&(D[F.title]=W,delete D[L])}}return D},M.prototype.hasErrorInPanels=function(T,D){for(var R=!1,S=this.visiblePanels,I=[],w=0;w<S.length;w++)this.setOnCompleteAsyncInPanel(S[w]);for(var w=0;w<S.length;w++){var L=S[w].hasErrors(T,!!D&&D.focuseOnFirstError,D);L=this.isValueDuplicated(S[w],I,D,T)||L,!this.isRenderModeList&&L&&!R&&(this.currentIndex=w),R=L||R}return R},M.prototype.setOnCompleteAsyncInPanel=function(T){for(var D=this,R=T.questions,S=0;S<R.length;S++)R[S].onCompletedAsyncValidators=function(I){D.raiseOnCompletedAsyncValidators()}},M.prototype.isValueDuplicated=function(T,D,R,S){if(!this.keyName)return!1;var I=T.getQuestionByValueName(this.keyName);if(!I||I.isEmpty())return!1;var w=I.value;this.changingValueQuestion&&I!=this.changingValueQuestion&&I.hasErrors(S,R);for(var L=0;L<D.length;L++)if(w==D[L])return S&&I.addError(new y.KeyDuplicationError(this.keyDuplicationError,this)),R&&!R.firstErrorQuestion&&(R.firstErrorQuestion=I),!0;return D.push(w),!1},M.prototype.getPanelActions=function(T){var D=this,R=T.footerActions;return this.panelRemoveButtonLocation!=="right"&&R.push(new m.Action({id:"remove-panel-"+T.id,component:"sv-paneldynamic-remove-btn",visible:new v.ComputedUpdater(function(){return[D.canRemovePanel,T.state!=="collapsed",D.panelRemoveButtonLocation!=="right"].every(function(S){return S===!0})}),data:{question:this,panel:T}})),this.survey&&(R=this.survey.getUpdatedPanelFooterActions(T,R,this)),R},M.prototype.createNewPanel=function(){var T=this,D=this.createAndSetupNewPanelObject(),R=this.template.toJSON();new E.JsonObject().toObject(R,D),D.renderWidth="100%",D.updateCustomWidgets(),new u(this,D),D.onFirstRendering();for(var S=D.questions,I=0;I<S.length;I++)S[I].setParentQuestion(this);return D.locStrsChanged(),D.onGetFooterActionsCallback=function(){return T.getPanelActions(D)},D.footerToolbarCss=this.cssClasses.panelFooter,D.registerPropertyChangedHandlers(["visible"],function(){D.visible?T.onPanelAdded(D):T.onPanelRemoved(D),T.updateFooterActions()}),D},M.prototype.createAndSetupNewPanelObject=function(){var T=this.createNewPanelObject();T.isInteractiveDesignElement=!1,T.setParentQuestion(this);var D=this;return T.onGetQuestionTitleLocation=function(){return D.getTemplateQuestionTitleLocation()},T},M.prototype.getTemplateQuestionTitleLocation=function(){return this.templateTitleLocation!="default"?this.templateTitleLocation:this.getTitleLocationCore()},M.prototype.createNewPanelObject=function(){return E.Serializer.createClass("panel")},M.prototype.setPanelCountBasedOnValue=function(){if(!(this.isValueChangingInternally||this.useTemplatePanel)){var T=this.value,D=T&&Array.isArray(T)?T.length:0;D==0&&this.getPropertyValue("panelCount")>0&&(D=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=D,this.settingPanelCountBasedOnValue=!1}},M.prototype.setQuestionValue=function(T){if(!this.settingPanelCountBasedOnValue){A.prototype.setQuestionValue.call(this,T,!1),this.setPanelCountBasedOnValue();for(var D=0;D<this.panels.length;D++)this.panelUpdateValueFromSurvey(this.panels[D]);this.updateIsAnswered()}},M.prototype.onSurveyValueChanged=function(T){if(!(T===void 0&&this.isAllPanelsEmpty())){A.prototype.onSurveyValueChanged.call(this,T);for(var D=0;D<this.panels.length;D++)this.panelSurveyValueChanged(this.panels[D]);T===void 0&&this.setValueBasedOnPanelCount(),this.recalculateIsReadyValue()}},M.prototype.isAllPanelsEmpty=function(){for(var T=0;T<this.panels.length;T++)if(!o.Helpers.isValueEmpty(this.panels[T].getValue()))return!1;return!0},M.prototype.panelUpdateValueFromSurvey=function(T){for(var D=T.questions,R=this.getPanelItemData(T.data),S=0;S<D.length;S++){var I=D[S];I.updateValueFromSurvey(R[I.getValueName()]),I.updateCommentFromSurvey(R[I.getValueName()+b.settings.commentSuffix])}},M.prototype.panelSurveyValueChanged=function(T){for(var D=T.questions,R=this.getPanelItemData(T.data),S=0;S<D.length;S++){var I=D[S];I.onSurveyValueChanged(R[I.getValueName()])}},M.prototype.recalculateIsReadyValue=function(){var T=this,D=!0;this.panels.forEach(function(R){R.questions.forEach(function(S){S.isReady?S.onReadyChanged.remove(T.onReadyChangedCallback):(D=!1,S.onReadyChanged.add(T.onReadyChangedCallback))})}),this.isReady=D},M.prototype.onSetData=function(){A.prototype.onSetData.call(this),this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},M.prototype.getItemIndex=function(T){var D=this.items.indexOf(T);return D>-1?D:this.items.length},M.prototype.getVisibleItemIndex=function(T){for(var D=this.visiblePanels,R=0;R<D.length;R++)if(D[R].data===T)return R;return D.length},M.prototype.getPanelItemData=function(T){var D=this.items,R=D.indexOf(T),S=this.value;return R<0&&Array.isArray(S)&&S.length>D.length&&(R=D.length),R<0?{}:!S||!Array.isArray(S)||S.length<=R?{}:S[R]},M.prototype.setPanelItemData=function(T,D,R){if(!(this.isSetPanelItemData[D]>this.maxCheckCount)){this.isSetPanelItemData[D]||(this.isSetPanelItemData[D]=0),this.isSetPanelItemData[D]++;var S=this.items,I=S.indexOf(T);I<0&&(I=S.length);var w=this.getUnbindValue(this.value);if((!w||!Array.isArray(w))&&(w=[]),w.length<=I)for(var L=w.length;L<=I;L++)w.push({});if(w[I]||(w[I]={}),this.isValueEmpty(R)?delete w[I][D]:w[I][D]=R,I>=0&&I<this.panels.length&&(this.changingValueQuestion=this.panels[I].getQuestionByValueName(D)),this.value=w,this.changingValueQuestion=null,this.survey){var F={question:this,panel:T.panel,name:D,itemIndex:I,itemValue:w[I],value:R};this.survey.dynamicPanelItemValueChanged(this,F)}this.isSetPanelItemData[D]--,this.isSetPanelItemData[D]-1&&delete this.isSetPanelItemData[D]}},M.prototype.getRootData=function(){return this.data},M.prototype.getPlainData=function(T){T===void 0&&(T={includeEmpty:!0});var D=A.prototype.getPlainData.call(this,T);return D&&(D.isNode=!0,D.data=this.panels.map(function(R,S){var I={name:R.name||S,title:R.title||"Panel",value:R.getValue(),displayValue:R.getValue(),getString:function(w){return typeof w=="object"?JSON.stringify(w):w},isNode:!0,data:R.questions.map(function(w){return w.getPlainData(T)}).filter(function(w){return!!w})};return(T.calculations||[]).forEach(function(w){I[w.propertyName]=R[w.propertyName]}),I})),D},M.prototype.updateElementCss=function(T){A.prototype.updateElementCss.call(this,T);for(var D=0;D<this.panels.length;D++){var R=this.panels[D];R.updateElementCss(T)}},Object.defineProperty(M.prototype,"progressText",{get:function(){var T=this.visiblePanelCount;return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"},enumerable:!1,configurable:!0}),M.prototype.getRootCss=function(){return new g.CssClassBuilder().append(A.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},Object.defineProperty(M.prototype,"cssHeader",{get:function(){var T=this.isRenderModeTab&&!!this.panelCount;return new g.CssClassBuilder().append(this.cssClasses.header).append(this.cssClasses.headerTop,this.hasTitleOnTop||T).append(this.cssClasses.headerTab,T).toString()},enumerable:!1,configurable:!0}),M.prototype.getPanelWrapperCss=function(){return new g.CssClassBuilder().append(this.cssClasses.panelWrapper).append(this.cssClasses.panelWrapperInRow,this.panelRemoveButtonLocation==="right").toString()},M.prototype.getPanelRemoveButtonCss=function(){return new g.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,this.panelRemoveButtonLocation==="right").toString()},M.prototype.getAddButtonCss=function(){return new g.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode",this.renderMode==="list").toString()},M.prototype.getPrevButtonCss=function(){return new g.CssClassBuilder().append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()},M.prototype.getNextButtonCss=function(){return new g.CssClassBuilder().append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()},Object.defineProperty(M.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(T){this.setLocalizableStringText("noEntriesText",T)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),M.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&this.visiblePanelCount===0},M.prototype.needResponsiveWidth=function(){var T=this.getPanel();return!!(T&&T.needResponsiveWidth())},M.prototype.getAdditionalTitleToolbar=function(){return this.isRenderModeTab?(this.additionalTitleToolbarValue||(this.additionalTitleToolbarValue=new f.AdaptiveActionContainer,this.additionalTitleToolbarValue.dotsItem.popupModel.showPointer=!1,this.additionalTitleToolbarValue.dotsItem.popupModel.verticalPosition="bottom",this.additionalTitleToolbarValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.additionalTitleToolbarValue):null},Object.defineProperty(M.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),M.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},M.prototype.initFooterToolbar=function(){var T=this;this.footerToolbarValue=this.createActionContainer();var D=[],R=new m.Action({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){T.goToPrevPanel()}}),S=new m.Action({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){T.goToNextPanel()}}),I=new m.Action({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),w=new m.Action({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),L=new m.Action({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),F=new m.Action({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});D.push(R,S,I,w,L,F),this.updateFooterActionsCallback=function(){var W=T.legacyNavigation,U=T.isRenderModeList,Q=T.isMobile,$=!W&&!U;R.visible=$&&T.currentIndex>0,S.visible=$&&T.currentIndex<T.visiblePanelCount-1,S.needSpace=Q&&S.visible&&R.visible,I.visible=T.canAddPanel,I.needSpace=T.isMobile&&!S.visible&&R.visible,L.visible=!T.isRenderModeList&&!Q,L.needSpace=!W&&!T.isMobile;var z=W&&!U;w.visible=z,F.visible=z,w.needSpace=z},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(D)},M.prototype.createTabByPanel=function(T){var D=this;if(this.isRenderModeTab){var R=new s.LocalizableString(T,!0);R.sharedData=this.locTemplateTabTitle;var S=this.getPanelIndexById(T.id)===this.currentIndex,I=new m.Action({id:T.id,pressed:S,locTitle:R,disableHide:S,action:function(){D.currentIndex=D.getPanelIndexById(I.id)}});return I}},M.prototype.getAdditionalTitleToolbarCss=function(T){var D=T??this.cssClasses;return new g.CssClassBuilder().append(D.tabsRoot).append(D.tabsLeft,this.tabAlign==="left").append(D.tabsRight,this.tabAlign==="right").append(D.tabsCenter,this.tabAlign==="center").toString()},M.prototype.updateTabToolbarItemsPressedState=function(){if(this.isRenderModeTab&&!(this.currentIndex<0||this.currentIndex>=this.visiblePanelCount)){var T=this.visiblePanels[this.currentIndex];this.additionalTitleToolbar.renderedActions.forEach(function(D){var R=D.id===T.id;D.pressed=R,D.disableHide=R,D.mode==="popup"&&D.disableHide&&D.raiseUpdate()})}},M.prototype.updateTabToolbar=function(){var T=this;if(this.isRenderModeTab){var D=[];this.visiblePanels.forEach(function(R){return D.push(T.createTabByPanel(R))}),this.additionalTitleToolbar.setItems(D)}},M.prototype.addTabFromToolbar=function(T,D){if(this.isRenderModeTab){var R=this.createTabByPanel(T);this.additionalTitleToolbar.actions.splice(D,0,R),this.updateTabToolbarItemsPressedState()}},M.prototype.removeTabFromToolbar=function(T){if(this.isRenderModeTab){var D=this.additionalTitleToolbar.getActionById(T.id);D&&(this.additionalTitleToolbar.actions.splice(this.additionalTitleToolbar.actions.indexOf(D),1),this.updateTabToolbarItemsPressedState())}},Object.defineProperty(M.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"showNavigation",{get:function(){return this.visiblePanelCount>0&&!this.showLegacyNavigation&&!!this.cssClasses.footer},enumerable:!1,configurable:!0}),M.prototype.showSeparator=function(T){return this.isRenderModeList&&T<this.visiblePanelCount-1},M.prototype.calcCssClasses=function(T){var D=A.prototype.calcCssClasses.call(this,T),R=this.additionalTitleToolbar;return R&&(R.containerCss=this.getAdditionalTitleToolbarCss(D),R.cssClasses=D.tabs,R.dotsItem.cssClasses=D.tabs,R.dotsItem.popupModel.contentComponentData.model.cssClasses=T.list),D},M.maxCheckCount=3,d([Object(E.property)({defaultValue:!1,onSet:function(T,D){D.updateFooterActions()}})],M.prototype,"legacyNavigation",void 0),M}(C.Question);E.Serializer.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:function(A){return A.renderMode==="tab"}},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",default:b.settings.panel.maxPanelCount},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"]},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText"},{name:"panelAddText",serializationProperty:"locPanelAddText"},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText"},{name:"panelPrevText",serializationProperty:"locPanelPrevText"},{name:"panelNextText",serializationProperty:"locPanelNextText"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom","tab"]},{name:"tabAlign",default:"center",choices:["center","left","right"],visibleIf:function(A){return A.renderMode==="tab"}},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"]}],function(){return new V("")},"question"),O.QuestionFactory.Instance.registerQuestion("paneldynamic",function(A){return new V(A)})},"./src/question_radiogroup.ts":function(n,r,i){i.r(r),i.d(r,"QuestionRadiogroupModel",function(){return O});var o=i("./src/jsonobject.ts"),a=i("./src/questionfactory.ts"),s=i("./src/question_baseselect.ts"),c=i("./src/actions/action.ts"),C=i("./src/base.ts"),E=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),O=function(y){E(b,y);function b(P){return y.call(this,P)||this}return b.prototype.getDefaultItemComponent=function(){return"survey-radiogroup-item"},b.prototype.getType=function(){return"radiogroup"},Object.defineProperty(b.prototype,"ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"titleAriaLabel",{get:function(){return null},enumerable:!1,configurable:!0}),b.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(b.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(P){this.setPropertyValue("showClearButton",P)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),b.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0},b.prototype.setNewComment=function(P){this.isMouseDown=!0,y.prototype.setNewComment.call(this,P),this.isMouseDown=!1},Object.defineProperty(b.prototype,"showClearButtonInContent",{get:function(){return!this.isDefaultV2Theme&&this.canShowClearButton},enumerable:!1,configurable:!0}),b.prototype.clickItemHandler=function(P){this.renderedValue=P.value},b.prototype.getDefaultTitleActions=function(){var P=this,g=[];if(this.isDefaultV2Theme&&!this.isDesignMode){var m=new c.Action({title:this.clearButtonCaption,id:"sv-clr-btn-"+this.id,action:function(){P.clearValue()},innerCss:this.cssClasses.clearButton,visible:new C.ComputedUpdater(function(){return P.canShowClearButton})});g.push(m)}return g},b}(s.QuestionCheckboxBase);o.Serializer.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new O("")},"checkboxbase"),a.QuestionFactory.Instance.registerQuestion("radiogroup",function(y){var b=new O(y);return b.choices=a.QuestionFactory.DefaultChoices,b})},"./src/question_ranking.ts":function(n,r,i){i.r(r),i.d(r,"QuestionRankingModel",function(){return v});var o=i("./src/dragdrop/ranking-choices.ts"),a=i("./src/dragdrop/ranking-select-to-rank.ts"),s=i("./src/itemvalue.ts"),c=i("./src/jsonobject.ts"),C=i("./src/questionfactory.ts"),E=i("./src/question_checkbox.ts"),O=i("./src/utils/cssClassBuilder.ts"),y=i("./src/utils/devices.ts"),b=i("./src/helpers.ts"),P=i("./src/settings.ts"),g=function(){var f=function(l,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(h[u]=p[u])},f(l,d)};return function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(l,d);function h(){this.constructor=l}l.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),m=function(f,l,d,h){var p=arguments.length,u=p<3?l:h===null?h=Object.getOwnPropertyDescriptor(l,d):h,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(f,l,d,h);else for(var V=f.length-1;V>=0;V--)(x=f[V])&&(u=(p<3?x(u):p>3?x(l,d,u):x(l,d))||u);return p>3&&u&&Object.defineProperty(l,d,u),u},v=function(f){g(l,f);function l(d){var h=f.call(this,d)||this;return h.domNode=null,h.onVisibleChoicesChanged=function(){if(f.prototype.onVisibleChoicesChanged.call(h),h.visibleChoices.length===1){h.value=[],h.updateRankingChoices();return}if(h.isEmpty()){h.updateRankingChoices();return}if(h.selectToRankEnabled){h.updateRankingChoices();return}h.visibleChoices.length>h.value.length&&h.addToValueByVisibleChoices(),h.visibleChoices.length<h.value.length&&h.removeFromValueByVisibleChoices(),h.updateRankingChoices()},h.localeChanged=function(){f.prototype.localeChanged.call(h),h.updateRankingChoices()},h.handlePointerDown=function(p,u,x){var V=p.target;h.isDragStartNodeValid(V)&&h.allowStartDrag&&h.canStartDragDueMaxSelectedChoices(V)&&h.dragDropRankingChoices.startDrag(p,u,h,x)},h.handleKeydown=function(p,u){if(!h.isDesignMode){var x=p.key,V=h.rankingChoices.indexOf(u);if(h.selectToRankEnabled){h.handleKeydownSelectToRank(p,u);return}x==="ArrowUp"&&V&&(h.handleArrowUp(V,u),p.preventDefault()),x==="ArrowDown"&&V!==h.rankingChoices.length-1&&(h.handleArrowDown(V,u),p.preventDefault())}},h.handleArrowUp=function(p,u){var x=h.rankingChoices;x.splice(p,1),x.splice(p-1,0,u),h.setValue(),setTimeout(function(){h.focusItem(p-1)},1)},h.handleArrowDown=function(p,u){var x=h.rankingChoices;x.splice(p,1),x.splice(p+1,0,u),h.setValue(),setTimeout(function(){h.focusItem(p+1)},1)},h.focusItem=function(p,u){if(h.selectToRankEnabled&&u){var x="[data-ranking='"+u+"']",V=h.domNode.querySelectorAll(x+" ."+h.cssClasses.item);V[p].focus()}else{var V=h.domNode.querySelectorAll("."+h.cssClasses.item);V[p].focus()}},h.setValue=function(){var p=[];h.rankingChoices.forEach(function(u){p.push(u.value)}),h.value=p},h.createNewArray("rankingChoices"),h.registerFunctionOnPropertyValueChanged("selectToRankEnabled",function(){h.clearValue(),h.setDragDropRankingChoices(),h.updateRankingChoices()}),h}return l.prototype.getDefaultItemComponent=function(){return""},l.prototype.getType=function(){return"ranking"},l.prototype.getItemTabIndex=function(d){return this.isDesignMode?void 0:0},Object.defineProperty(l.prototype,"rootClass",{get:function(){return new O.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,y.IsMobile).append(this.cssClasses.rootDisabled,this.isReadOnly).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.errors.length>0).append(this.cssClasses.rootDragHandleAreaIcon,P.settings.rankingDragHandleArea==="icon").append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&this.selectToRankAreasLayout==="horizontal").append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&this.selectToRankAreasLayout==="vertical").toString()},enumerable:!1,configurable:!0}),l.prototype.getItemClassCore=function(d,h){var p=this.rankingChoices.indexOf(d),u=this.rankingChoices.indexOf(this.currentDropTarget);return new O.CssClassBuilder().append(f.prototype.getItemClassCore.call(this,d,h)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===d).append("sv-dragdrop-movedown",p===u+1&&this.dropTargetNodeMove==="down").append("sv-dragdrop-moveup",p===u-1&&this.dropTargetNodeMove==="up").toString()},l.prototype.getContainerClasses=function(d){var h=!1,p=d==="to",u=d==="from";return p?h=this.rankingChoices.length===0:u&&(h=this.unRankingChoices.length===0),new O.CssClassBuilder().append(this.cssClasses.container).append(this.cssClasses.containerToMode,p).append(this.cssClasses.containerFromMode,u).append(this.cssClasses.containerEmptyMode,h).toString()},l.prototype.isItemCurrentDropTarget=function(d){return this.dragDropRankingChoices.dropTarget===d},Object.defineProperty(l.prototype,"ghostPositionCssClass",{get:function(){return this.ghostPosition==="top"?this.cssClasses.dragDropGhostPositionTop:this.ghostPosition==="bottom"?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),l.prototype.getItemIndexClasses=function(d){var h;return this.selectToRankEnabled?h=this.unRankingChoices.indexOf(d)!==-1:h=this.isEmpty(),new O.CssClassBuilder().append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,h).toString()},l.prototype.getNumberByIndex=function(d){return this.isEmpty()?"":d+1+""},l.prototype.setSurveyImpl=function(d,h){f.prototype.setSurveyImpl.call(this,d,h),this.setDragDropRankingChoices(),this.updateRankingChoices()},l.prototype.isAnswerCorrect=function(){return b.Helpers.isArraysEqual(this.value,this.correctAnswer,!1)},l.prototype.onSurveyValueChanged=function(d){f.prototype.onSurveyValueChanged.call(this,d),!this.isLoadingFromJson&&this.updateRankingChoices()},l.prototype.addToValueByVisibleChoices=function(){var d=this.value.slice();this.visibleChoices.forEach(function(h){d.indexOf(h.value)===-1&&d.push(h.value)}),this.value=d},l.prototype.removeFromValueByVisibleChoices=function(){for(var d=this.value.slice(),h=this.visibleChoices,p=this.value.length-1;p>=0;p--)s.ItemValue.getItemByValue(h,this.value[p])||d.splice(p,1);this.value=d},Object.defineProperty(l.prototype,"rankingChoices",{get:function(){return this.getPropertyValue("rankingChoices",[])},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"unRankingChoices",{get:function(){var d=[],h=this.rankingChoices;return this.visibleChoices.forEach(function(p){d.push(p)}),h.forEach(function(p){d.forEach(function(u,x){u.value===p.value&&d.splice(x,1)})}),d},enumerable:!1,configurable:!0}),l.prototype.updateRankingChoices=function(d){var h=this;if(d===void 0&&(d=!1),this.selectToRankEnabled){this.updateRankingChoicesSelectToRankMode(d);return}var p=[];if(this.visibleChoices.length===1){this.setPropertyValue("rankingChoices",p);return}if(d&&this.setPropertyValue("rankingChoices",[]),this.isEmpty()){this.setPropertyValue("rankingChoices",this.visibleChoices);return}this.value.forEach(function(u){h.visibleChoices.forEach(function(x){x.value===u&&p.push(x)})}),this.setPropertyValue("rankingChoices",p)},l.prototype.updateRankingChoicesSelectToRankMode=function(d){var h=this;if(this.isEmpty()){this.setPropertyValue("rankingChoices",[]);return}var p=[];this.value.forEach(function(u){h.visibleChoices.forEach(function(x){x.value===u&&p.push(x)})}),this.setPropertyValue("rankingChoices",p)},l.prototype.endLoadingFromJson=function(){f.prototype.endLoadingFromJson.call(this),this.setDragDropRankingChoices()},l.prototype.setDragDropRankingChoices=function(){this.dragDropRankingChoices=this.createDragDropRankingChoices()},l.prototype.createDragDropRankingChoices=function(){return this.selectToRankEnabled?new a.DragDropRankingSelectToRank(this.survey,null,this.longTap):new o.DragDropRankingChoices(this.survey,null,this.longTap)},l.prototype.isDragStartNodeValid=function(d){return P.settings.rankingDragHandleArea==="icon"?d.classList.contains(this.cssClasses.itemIconHoverMod):!0},Object.defineProperty(l.prototype,"allowStartDrag",{get:function(){return!this.isReadOnly&&!this.isDesignMode},enumerable:!1,configurable:!0}),l.prototype.canStartDragDueMaxSelectedChoices=function(d){if(!this.selectToRankEnabled)return!0;var h=d.closest("[data-ranking='from-container']");return h?this.checkMaxSelectedChoicesUnreached():!0},l.prototype.checkMaxSelectedChoicesUnreached=function(){if(this.maxSelectedChoices<1)return!0;var d=this.value,h=Array.isArray(d)?d.length:0;return h<this.maxSelectedChoices},l.prototype.afterRenderQuestionElement=function(d){this.domNode=d,f.prototype.afterRenderQuestionElement.call(this,d)},l.prototype.beforeDestroyQuestionElement=function(d){f.prototype.beforeDestroyQuestionElement.call(this,d)},l.prototype.supportSelectAll=function(){return!1},l.prototype.supportOther=function(){return!1},l.prototype.supportNone=function(){return!1},l.prototype.handleKeydownSelectToRank=function(d,h){if(!this.isDesignMode){var p=this.dragDropRankingChoices,u=d.key,x=this.rankingChoices,V=this.unRankingChoices,A=x.indexOf(h)!==-1,M=!A,T,D;if((u===" "||u==="Enter")&&M){T=V.indexOf(h),D=0,p.selectToRank(this,T,D),this.setValueAfterKeydown(D,"to-container");return}if((u===" "||u==="Enter")&&A){T=x.indexOf(h),p.unselectFromRank(this,T),D=this.unRankingChoices.indexOf(h),this.setValueAfterKeydown(D,"from-container");return}if(u==="ArrowUp"&&A){if(T=x.indexOf(h),D=T-1,T<0)return;p.reorderRankedItem(this,T,D),this.setValueAfterKeydown(D,"to-container");return}if(u==="ArrowDown"&&A){if(T=x.indexOf(h),D=T+1,D>=x.length)return;p.reorderRankedItem(this,T,D),this.setValueAfterKeydown(D,"to-container");return}}},l.prototype.setValueAfterKeydown=function(d,h){var p=this;this.setValue(),setTimeout(function(){p.focusItem(d,h)},1),event.preventDefault()},l.prototype.getIconHoverCss=function(){return new O.CssClassBuilder().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},l.prototype.getIconFocusCss=function(){return new O.CssClassBuilder().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},Object.defineProperty(l.prototype,"longTap",{get:function(){return this.getPropertyValue("longTap")},set:function(d){this.setPropertyValue("longTap",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"selectToRankEnabled",{get:function(){return this.getPropertyValue("selectToRankEnabled",!1)},set:function(d){this.setPropertyValue("selectToRankEnabled",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"selectToRankAreasLayout",{get:function(){return y.IsMobile?"vertical":this.getPropertyValue("selectToRankAreasLayout","horizontal")},set:function(d){this.setPropertyValue("selectToRankAreasLayout",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"useFullItemSizeForShortcut",{get:function(){return this.getPropertyValue("useFullItemSizeForShortcut")},set:function(d){this.setPropertyValue("useFullItemSizeForShortcut",d)},enumerable:!1,configurable:!0}),m([Object(c.property)({defaultValue:null})],l.prototype,"currentDropTarget",void 0),m([Object(c.property)({defaultValue:null})],l.prototype,"dropTargetNodeMove",void 0),m([Object(c.property)({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],l.prototype,"selectToRankEmptyRankedAreaText",void 0),m([Object(c.property)({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],l.prototype,"selectToRankEmptyUnrankedAreaText",void 0),l}(E.QuestionCheckboxModel);c.Serializer.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"maxSelectedChoices",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled",default:!1,visible:!1,isSerializable:!0},{name:"selectToRankAreasLayout",default:"horizontal",visible:!1,isSerializable:!0},{name:"itemComponent",visible:!1,default:""}],function(){return new v("")},"checkbox"),C.QuestionFactory.Instance.registerQuestion("ranking",function(f){var l=new v(f);return l.choices=C.QuestionFactory.DefaultChoices,l})},"./src/question_rating.ts":function(n,r,i){i.r(r),i.d(r,"RenderedRatingItem",function(){return m}),i.d(r,"QuestionRatingModel",function(){return v});var o=i("./src/itemvalue.ts"),a=i("./src/question.ts"),s=i("./src/jsonobject.ts"),c=i("./src/questionfactory.ts"),C=i("./src/settings.ts"),E=i("./src/surveyStrings.ts"),O=i("./src/utils/cssClassBuilder.ts"),y=i("./src/base.ts"),b=i("./src/utils/utils.ts"),P=function(){var f=function(l,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(h[u]=p[u])},f(l,d)};return function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(l,d);function h(){this.constructor=l}l.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),g=function(f,l,d,h){var p=arguments.length,u=p<3?l:h===null?h=Object.getOwnPropertyDescriptor(l,d):h,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(f,l,d,h);else for(var V=f.length-1;V>=0;V--)(x=f[V])&&(u=(p<3?x(u):p>3?x(l,d,u):x(l,d))||u);return p>3&&u&&Object.defineProperty(l,d,u),u},m=function(f){P(l,f);function l(d,h){h===void 0&&(h=null);var p=f.call(this)||this;return p.itemValue=d,p.locString=h,p.locText.onStringChanged.add(p.onStringChangedCallback.bind(p)),p.onStringChangedCallback(),p}return l.prototype.onStringChangedCallback=function(){this.text=this.itemValue.text},Object.defineProperty(l.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),g([Object(s.property)({defaultValue:""})],l.prototype,"highlight",void 0),g([Object(s.property)({defaultValue:""})],l.prototype,"text",void 0),g([Object(s.property)()],l.prototype,"style",void 0),l}(y.Base),v=function(f){P(l,f);function l(d){var h=f.call(this,d)||this;return h._syncPropertiesChanging=!1,h.initColors(),h.createItemValues("rateValues"),h.createRenderedRateItems(),h.createLocalizableString("ratingOptionsCaption",h,!1,!0),h.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],function(){return h.createRenderedRateItems()}),h.registerFunctionOnPropertiesValueChanged(["rateType"],function(){h.setIconsToRateValues(),h.createRenderedRateItems(),h.updateRateCount()}),h.registerFunctionOnPropertiesValueChanged(["rateValues"],function(){h.autoGenerate=!1,h.setIconsToRateValues(),h.createRenderedRateItems()}),h.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],function(){h.initColors()}),h.registerFunctionOnPropertiesValueChanged(["autoGenerate"],function(){!h.autoGenerate&&h.rateValues.length===0&&h.setPropertyValue("rateValues",h.visibleRateValues),h.autoGenerate&&(h.rateValues.length=0,h.updateRateMax()),h.createRenderedRateItems()}),h.createLocalizableString("minRateDescription",h,!0),h.createLocalizableString("maxRateDescription",h,!0),h.initPropertyDependencies(),h}return l.prototype.setIconsToRateValues=function(){var d=this;this.rateType=="smileys"&&this.rateValues.map(function(h){return h.icon=d.getItemSmiley(h)})},l.prototype.startLoadingFromJson=function(d){f.prototype.startLoadingFromJson.call(this,d),this.jsonObj=d},l.prototype.endLoadingFromJson=function(){f.prototype.endLoadingFromJson.call(this),this.initColors(),this.hasMinRateDescription=!!this.minRateDescription,this.hasMaxRateDescription=!!this.maxRateDescription,this.jsonObj.rateMin!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMax===void 0&&this.updateRateMax(),this.jsonObj.rateMax!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMin===void 0&&this.updateRateMin(),this.jsonObj.autoGenerate===void 0&&this.jsonObj.rateValues!==void 0&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues(),this.createRenderedRateItems()},l.prototype.registerSychProperties=function(d,h){var p=this;this.registerFunctionOnPropertiesValueChanged(d,function(){p._syncPropertiesChanging||(p._syncPropertiesChanging=!0,h(),p._syncPropertiesChanging=!1)})},l.prototype.useRateValues=function(){return!!this.rateValues.length&&!this.autoGenerate},l.prototype.updateRateMax=function(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)},l.prototype.updateRateMin=function(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)},l.prototype.updateRateCount=function(){var d=0;this.useRateValues()?d=this.rateValues.length:d=Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1,d>10&&this.rateDisplayMode=="smileys"&&(d=10),this.rateCount=d,this.rateValues.length>d&&(this.rateValues.length=d)},l.prototype.initPropertyDependencies=function(){var d=this;this.registerSychProperties(["rateCount"],function(){if(!d.useRateValues())d.rateMax=d.rateMin+d.rateStep*(d.rateCount-1);else if(d.rateCount<d.rateValues.length){if(d.rateCount>=10&&d.rateDisplayMode=="smileys")return;d.rateValues.splice(d.rateCount,d.rateValues.length-d.rateCount)}else for(var h=d.rateValues.length;h<d.rateCount;h++)d.rateValues.push(new o.ItemValue(E.surveyLocalization.getString("choices_Item")+(h+1)))}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],function(){d.updateRateCount()})},Object.defineProperty(l.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(d){this.setPropertyValue("rateValues",d),this.createRenderedRateItems()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(d){this.setPropertyValue("rateMin",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(d){this.setPropertyValue("rateMax",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(d){this.setPropertyValue("rateStep",d)},enumerable:!1,configurable:!0}),l.prototype.initColors=function(){if(this.colorMode==="monochrome"||typeof document>"u"||!document||l.badColor&&l.normalColor&&l.goodColor)return;function d(h){var p=getComputedStyle(document.documentElement),u=p.getPropertyValue&&p.getPropertyValue(h);if(!u)return null;var x=document.createElement("canvas").getContext("2d");x.fillStyle=u;var V=x.fillStyle;if(V.startsWith("rgba"))return V.substring(5,V.length-1).split(",").map(function(M){return+M.trim()});var A=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(V);return A?[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16),1]:null}l.badColor=d("--sd-rating-bad-color"),l.normalColor=d("--sd-rating-normal-color"),l.goodColor=d("--sd-rating-good-color"),l.badColorLight=d("--sd-rating-bad-color-light"),l.normalColorLight=d("--sd-rating-normal-color-light"),l.goodColorLight=d("--sd-rating-good-color-light")},l.prototype.getDisplayValueCore=function(d,h){var p=o.ItemValue.getTextOrHtmlByValue(this.visibleRateValues,h);return p||h},Object.defineProperty(l.prototype,"visibleRateValues",{get:function(){return this.renderedRateItems.map(function(d){return d.itemValue})},enumerable:!1,configurable:!0}),l.prototype.itemValuePropertyChanged=function(d,h,p,u){!this.useRateValues()&&u!==void 0&&(this.autoGenerate=!1),f.prototype.itemValuePropertyChanged.call(this,d,h,p,u)},l.prototype.createRenderedRateItems=function(){var d=this,h=[];if(this.useRateValues())h=this.rateValues;else{for(var p=[],u=this.rateMin,x=this.rateStep;u<=this.rateMax&&p.length<C.settings.ratingMaximumRateValueCount;){var V=new o.ItemValue(u);V.locOwner=this,V.ownerPropertyName="rateValues",p.push(V),u=this.correctValue(u+x,x)}h=p}this.rateType=="smileys"&&h.length>10&&(h=h.slice(0,10)),this.renderedRateItems=h.map(function(A,M){var T=null;return d.displayRateDescriptionsAsExtremeItems&&(M==0&&(T=new m(A,d.minRateDescription&&d.locMinRateDescription||A.locText)),M==h.length-1&&(T=new m(A,d.maxRateDescription&&d.locMaxRateDescription||A.locText))),T||(T=new m(A)),T})},l.prototype.correctValue=function(d,h){if(!d||Math.round(d)==d)return d;for(var p=0;Math.round(h)!=h;)h*=10,p++;return parseFloat(d.toFixed(p))},l.prototype.getType=function(){return"rating"},l.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},l.prototype.getInputId=function(d){return this.inputId+"_"+d},l.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0},l.prototype.supportOther=function(){return!1},Object.defineProperty(l.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(d){this.setLocalizableStringText("minRateDescription",d),this.hasMinRateDescription=!!this.minRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(d){this.setLocalizableStringText("maxRateDescription",d),this.hasMaxRateDescription=!!this.maxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rateDisplayMode",{get:function(){return this.rateType},set:function(d){this.rateType=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isStar",{get:function(){return this.rateType=="stars"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isSmiley",{get:function(){return this.rateType=="smileys"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"itemComponentName",{get:function(){return this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"},enumerable:!1,configurable:!0}),l.prototype.valueToData=function(d){if(this.useRateValues()){var h=o.ItemValue.getItemByValue(this.rateValues,d);return h?h.value:d}return isNaN(d)?d:parseFloat(d)},l.prototype.setValueFromClick=function(d){this.value===parseFloat(d)?this.clearValue():this.value=d;for(var h=0;h<this.renderedRateItems.length;h++)this.renderedRateItems[h].highlight="none"},l.prototype.onItemMouseIn=function(d){if(!(this.isReadOnly||!d.itemValue.isEnabled||this.isDesignMode)){var h=!0,p=this.value!=null;if(this.rateType!=="stars"){d.highlight="highlighted";return}for(var u=0;u<this.renderedRateItems.length;u++)this.renderedRateItems[u].highlight=h&&!p&&"highlighted"||!h&&p&&"unhighlighted"||"none",this.renderedRateItems[u]==d&&(h=!1),this.renderedRateItems[u].itemValue.value==this.value&&(p=!1)}},l.prototype.onItemMouseOut=function(d){this.renderedRateItems.forEach(function(h){return h.highlight="none"})},Object.defineProperty(l.prototype,"itemSmallMode",{get:function(){return this.inMatrixMode&&C.settings.matrix.rateSize=="small"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ratingRootCss",{get:function(){var d=(this.displayMode=="buttons"||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:this.cssClasses.root;return new O.CssClassBuilder().append(d).append(this.cssClasses.itemSmall,this.itemSmallMode&&this.rateType!="labels").toString()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"itemStarIcon",{get:function(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"itemStarIconAlt",{get:function(){return this.itemStarIcon+"-2"},enumerable:!1,configurable:!0}),l.prototype.getItemSmiley=function(d){var h=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"],p=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"],u=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,x=p.slice(0,u),V=h.filter(function(A){return x.indexOf(A)!=-1});return this.useRateValues()?V[this.rateValues.indexOf(d)]:V[d.value-this.rateMin]},l.prototype.getItemSmileyIconName=function(d){return"icon-"+this.getItemSmiley(d)},l.prototype.getItemClassByText=function(d,h){return this.getItemClass(d)},l.prototype.getRenderedItemColor=function(d,h){var p=h?l.badColorLight:l.badColor,u=h?l.goodColorLight:l.goodColor,x=(this.rateCount-1)/2,V=h?l.normalColorLight:l.normalColor;if(d<x?u=V:(p=V,d-=x),!p||!u)return null;for(var A=[0,0,0,0],M=0;M<4;M++)A[M]=p[M]+(u[M]-p[M])*d/x,M<3&&(A[M]=Math.trunc(A[M]));return"rgba("+A[0]+", "+A[1]+", "+A[2]+", "+A[3]+")"},l.prototype.getItemStyle=function(d,h){if(h===void 0&&(h="none"),this.scaleColorMode==="monochrome"&&this.rateColorMode=="default")return{borderColor:null,fill:null,backgroundColor:null};var p=this.visibleRateValues.indexOf(d),u=this.getRenderedItemColor(p,!1);if(this.value!=this.renderedRateItems[p].value){var x=this.getRenderedItemColor(p,!0);return h=="highlighted"&&this.scaleColorMode==="colored"?{borderColor:u,fill:u,backgroundColor:x}:this.scaleColorMode==="colored"&&this.errors.length==0?{borderColor:u,fill:u,backgroundColor:null}:{borderColor:null,fill:null,backgroundColor:null}}else return{borderColor:u,fill:null,backgroundColor:u}},l.prototype.getItemClass=function(d,h){var p=this,u=this.value==d.value;this.isStar&&(this.useRateValues()?u=this.rateValues.indexOf(this.rateValues.filter(function(z){return z.value==p.value})[0])>=this.rateValues.indexOf(d):u=this.value>=d.value);var x=this.isReadOnly||!d.isEnabled,V=!x&&this.value!=d.value&&!(this.survey&&this.survey.isDesignMode),A=this.renderedRateItems.filter(function(z){return z.itemValue==d})[0],M=this.isStar&&(A==null?void 0:A.highlight)=="highlighted",T=this.isStar&&(A==null?void 0:A.highlight)=="unhighlighted",D=this.cssClasses.item,R=this.cssClasses.selected,S=this.cssClasses.itemDisabled,I=this.cssClasses.itemHover,w=this.cssClasses.itemOnError,L=null,F=null,W=null,U=null,Q=null;this.isStar&&(D=this.cssClasses.itemStar,R=this.cssClasses.itemStarSelected,S=this.cssClasses.itemStarDisabled,I=this.cssClasses.itemStarHover,w=this.cssClasses.itemStarOnError,L=this.cssClasses.itemStarHighlighted,F=this.cssClasses.itemStarUnhighlighted,Q=this.cssClasses.itemStarSmall),this.isSmiley&&(D=this.cssClasses.itemSmiley,R=this.cssClasses.itemSmileySelected,S=this.cssClasses.itemSmileyDisabled,I=this.cssClasses.itemSmileyHover,w=this.cssClasses.itemSmileyOnError,L=this.cssClasses.itemSmileyHighlighted,W=this.cssClasses.itemSmileyScaleColored,U=this.cssClasses.itemSmileyRateColored,Q=this.cssClasses.itemSmileySmall);var $=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&d!=this.rateValues[0]&&d!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&d.value!=this.rateMin&&d.value!=this.rateMax)&&d.locText.calculatedText.length<=2&&Number.isInteger(Number(d.locText.calculatedText));return new O.CssClassBuilder().append(D).append(R,u).append(S,this.isReadOnly).append(I,V).append(L,M).append(W,this.scaleColorMode=="colored").append(U,this.rateColorMode=="scale"&&u).append(F,T).append(w,this.errors.length>0).append(Q,this.itemSmallMode).append(this.cssClasses.itemFixedSize,$).toString()},l.prototype.getControlClass=function(){return this.isEmpty(),new O.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(l.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(d){this.setLocalizableStringText("ratingOptionsCaption",d)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowClear",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"searchEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedValue",{get:function(){return this.value},set:function(d){this.value=d},enumerable:!1,configurable:!0}),l.prototype.isItemSelected=function(d){return d.value==this.value},Object.defineProperty(l.prototype,"visibleChoices",{get:function(){return this.visibleRateValues},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"readOnlyText",{get:function(){return this.displayValue||this.placeholder},enumerable:!1,configurable:!0}),l.prototype.needResponsiveWidth=function(){this.getPropertyValue("rateValues");var d=this.getPropertyValue("rateStep"),h=this.getPropertyValue("rateMax"),p=this.getPropertyValue("rateMin");return this.displayMode!="dropdown"&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||d&&(h-p)/d>9)},l.prototype.supportResponsiveness=function(){return!0},l.prototype.getCompactRenderAs=function(){return this.displayMode=="buttons"?"default":"dropdown"},l.prototype.getDesktopRenderAs=function(){return this.displayMode=="dropdown"?"dropdown":"default"},Object.defineProperty(l.prototype,"ariaExpanded",{get:function(){var d,h=(d=this.dropdownListModel)===null||d===void 0?void 0:d.popupModel;return h?h.isVisible?"true":"false":null},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropdownListModel",{get:function(){return this.dropdownListModelValue},set:function(d){this.dropdownListModelValue=d,this.updateElementCss()},enumerable:!1,configurable:!0}),l.prototype.updateCssClasses=function(d,h){if(f.prototype.updateCssClasses.call(this,d,h),this.dropdownListModel){var p={};Object(b.mergeValues)(h.list,p),Object(b.mergeValues)(d.list,p),d.list=p}},l.prototype.calcCssClasses=function(d){var h=f.prototype.calcCssClasses.call(this,d);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(h.popup,h.list),h},l.prototype.dispose=function(){f.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},g([Object(s.property)({defaultValue:!0})],l.prototype,"autoGenerate",void 0),g([Object(s.property)({defaultValue:5})],l.prototype,"rateCount",void 0),g([Object(s.propertyArray)()],l.prototype,"renderedRateItems",void 0),g([Object(s.property)({defaultValue:!1})],l.prototype,"hasMinRateDescription",void 0),g([Object(s.property)({defaultValue:!1})],l.prototype,"hasMaxRateDescription",void 0),g([Object(s.property)({defaultValue:!1})],l.prototype,"displayRateDescriptionsAsExtremeItems",void 0),g([Object(s.property)({defaultValue:"auto",onSet:function(d,h){h.isDesignMode||(d==="dropdown"?h.renderAs="dropdown":h.renderAs="default")}})],l.prototype,"displayMode",void 0),g([Object(s.property)({defaultValue:"labels"})],l.prototype,"rateType",void 0),g([Object(s.property)({defaultValue:"monochrome"})],l.prototype,"scaleColorMode",void 0),g([Object(s.property)({defaultValue:"scale"})],l.prototype,"rateColorMode",void 0),l}(a.Question);s.Serializer.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:0},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(f){return f.rateDisplayMode=="smileys"},visibleIndex:1},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(f){return f.rateDisplayMode=="smileys"&&f.scaleColorMode=="monochrome"},visibleIndex:2},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:4},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:3,onSettingValue:function(f,l){return l<2?2:l>C.settings.ratingMaximumRateValueCount&&l>f.rateValues.length?C.settings.ratingMaximumRateValueCount:l>10&&f.rateDisplayMode=="smileys"?10:l}},{name:"rateValues:itemvalue[]",baseValue:function(){return E.surveyLocalization.getString("choices_Item")},category:"rateValues",visibleIf:function(f){return!f.autoGenerate},visibleIndex:5},{name:"rateMin:number",default:1,onSettingValue:function(f,l){return l>f.rateMax-f.rateStep?f.rateMax-f.rateStep:l},visibleIf:function(f){return!!f.autoGenerate},visibleIndex:6},{name:"rateMax:number",default:5,onSettingValue:function(f,l){return l<f.rateMin+f.rateStep?f.rateMin+f.rateStep:l},visibleIf:function(f){return!!f.autoGenerate},visibleIndex:7},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:function(f,l){return l<=0&&(l=1),l>f.rateMax-f.rateMin&&(l=f.rateMax-f.rateMin),l},visibleIf:function(f){return!!f.autoGenerate},visibleIndex:8},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:17},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:18},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:19,visibleIf:function(f){return f.rateType=="labels"}},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:20}],function(){return new v("")},"question"),c.QuestionFactory.Instance.registerQuestion("rating",function(f){return new v(f)})},"./src/question_signaturepad.ts":function(n,r,i){i.r(r),i.d(r,"QuestionSignaturePadModel",function(){return g});var o=i("./src/jsonobject.ts"),a=i("./src/questionfactory.ts"),s=i("./src/question.ts"),c=i("./node_modules/signature_pad/dist/signature_pad.js"),C=i("./src/utils/cssClassBuilder.ts"),E=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),O=function(v,f,l,d){var h=arguments.length,p=h<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,l):d,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(v,f,l,d);else for(var x=v.length-1;x>=0;x--)(u=v[x])&&(p=(h<3?u(p):h>3?u(f,l,p):u(f,l))||p);return h>3&&p&&Object.defineProperty(f,l,p),p},y=300,b=200;function P(v){var f=v.getContext("2d"),l=window.devicePixelRatio||1,d=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1,h=l/d,p=v.width,u=v.height;v.width=p*h,v.height=u*h,v.style.width=p+"px",v.style.height=u+"px",f.scale(h,h)}var g=function(v){E(f,v);function f(l){return v.call(this,l)||this}return f.prototype.getPenColorFromTheme=function(){var l=this.survey;return!!l&&!!l.themeVariables&&l.themeVariables["--sjs-primary-backcolor"]},f.prototype.getCssRoot=function(l){return new C.CssClassBuilder().append(v.prototype.getCssRoot.call(this,l)).append(l.small,this.signatureWidth.toString()==="300").toString()},f.prototype.updateValue=function(){if(this.signaturePad){var l=this.dataFormat==="jpeg"?"image/jpeg":this.dataFormat==="svg"?"image/svg+xml":"",d=this.signaturePad.toDataURL(l);this.value=d}},f.prototype.getType=function(){return"signaturepad"},f.prototype.afterRenderQuestionElement=function(l){l&&this.initSignaturePad(l),v.prototype.afterRenderQuestionElement.call(this,l)},f.prototype.beforeDestroyQuestionElement=function(l){l&&this.destroySignaturePad(l)},f.prototype.initSignaturePad=function(l){var d=this,h=l.getElementsByTagName("canvas")[0],p=new c.default(h,{backgroundColor:"#ffffff"});this.isInputReadOnly&&p.off(),this.readOnlyChangedCallback=function(){d.isInputReadOnly?p.off():p.on()},p.penColor=this.penColor,p.backgroundColor=this.backgroundColor,p.addEventListener("beginStroke",function(){d.isDrawingValue=!0,h.focus()},{once:!1}),p.addEventListener("endStroke",function(){d.isDrawingValue=!1,d.updateValue()},{once:!1});var u=function(){var V=d.value;h.width=d.signatureWidth||y,h.height=d.signatureHeight||b,P(h),V?p.fromDataURL(V):p.clear()};u(),this.readOnlyChangedCallback(),this.signaturePad=p;var x=function(V,A){(A.name==="signatureWidth"||A.name==="signatureHeight"||A.name==="value")&&u()};this.onPropertyChanged.add(x),this.signaturePad.propertyChangedHandler=x},f.prototype.destroySignaturePad=function(l){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(f.prototype,"dataFormat",{get:function(){return this.getPropertyValue("dataFormat")},set:function(l){this.setPropertyValue("dataFormat",m(l))},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"signatureWidth",{get:function(){return this.getPropertyValue("signatureWidth")},set:function(l){this.setPropertyValue("signatureWidth",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"signatureHeight",{get:function(){return this.getPropertyValue("signatureHeight")},set:function(l){this.setPropertyValue("signatureHeight",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(l){this.setPropertyValue("height",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(l){this.setPropertyValue("allowClear",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"canShowClearButton",{get:function(){return!this.isInputReadOnly&&this.allowClear},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor",this.getPenColorFromTheme())},set:function(l){this.setPropertyValue("penColor",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(l){this.setPropertyValue("backgroundColor",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),f.prototype.needShowPlaceholder=function(){return!this.isDrawingValue&&this.isEmpty()},Object.defineProperty(f.prototype,"placeHolderText",{get:function(){return this.getLocalizationString("signaturePlaceHolder")},enumerable:!1,configurable:!0}),f.prototype.endLoadingFromJson=function(){v.prototype.endLoadingFromJson.call(this),this.signatureWidth===300&&this.width&&typeof this.width=="number"&&this.width&&(console.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),this.signatureHeight===200&&this.height&&(console.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)},O([Object(o.property)({defaultValue:!1})],f.prototype,"isDrawingValue",void 0),f}(s.Question);function m(v){return v||(v="png"),v=v.replace("image/","").replace("+xml",""),v!=="jpeg"&&v!=="svg"&&(v="png"),v}o.Serializer.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"penColor:color",category:"general",default:"#1ab394"},{name:"backgroundColor:color",category:"general",default:"#ffffff"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}],onSettingValue:function(v,f){return m(f)}},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1}],function(){return new g("")},"question"),a.QuestionFactory.Instance.registerQuestion("signaturepad",function(v){return new g(v)})},"./src/question_tagbox.ts":function(n,r,i){i.r(r),i.d(r,"QuestionTagboxModel",function(){return b});var o=i("./src/jsonobject.ts"),a=i("./src/questionfactory.ts"),s=i("./src/utils/cssClassBuilder.ts"),c=i("./src/question_checkbox.ts"),C=i("./src/dropdownMultiSelectListModel.ts"),E=i("./src/settings.ts"),O=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),y=function(P,g,m,v){var f=arguments.length,l=f<3?g:v===null?v=Object.getOwnPropertyDescriptor(g,m):v,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(P,g,m,v);else for(var h=P.length-1;h>=0;h--)(d=P[h])&&(l=(f<3?d(l):f>3?d(g,m,l):d(g,m))||l);return f>3&&l&&Object.defineProperty(g,m,l),l},b=function(P){O(g,P);function g(m){var v=P.call(this,m)||this;return v.itemDisplayNameMap={},v.onOpened=v.addEvent(),v.createLocalizableString("placeholder",v,!1,!0),v.createLocalizableString("clearCaption",v,!1,!0),v}return g.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(g.prototype,"readOnlyText",{get:function(){return this.displayValue||this.placeholder},enumerable:!1,configurable:!0}),g.prototype.onSurveyLoad=function(){P.prototype.onSurveyLoad.call(this),this.dropdownListModel||(this.dropdownListModel=new C.DropdownMultiSelectListModel(this))},Object.defineProperty(g.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(m){this.setLocalizableStringText("placeholder",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(m){this.setLocalizableStringText("clearCaption",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),g.prototype.getType=function(){return"tagbox"},Object.defineProperty(g.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"popupModel",{get:function(){var m;return(m=this.dropdownListModel)===null||m===void 0?void 0:m.popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ariaExpanded",{get:function(){var m=this.popupModel;return m&&m.isVisible?"true":"false"},enumerable:!1,configurable:!0}),g.prototype.getControlClass=function(){return new s.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},g.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},g.prototype.hasUnknownValue=function(m,v,f,l){return this.choicesLazyLoadEnabled?!1:P.prototype.hasUnknownValue.call(this,m,v,f,l)},g.prototype.needConvertRenderedOtherToDataValue=function(){var m,v=(m=this.otherValue)===null||m===void 0?void 0:m.trim();return v?P.prototype.hasUnknownValue.call(this,v,!0,!1):!1},g.prototype.onVisibleChoicesChanged=function(){P.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},g.prototype.getItemIfChoicesNotContainThisValue=function(m,v){var f;return this.choicesLazyLoadEnabled&&!(!((f=this.dropdownListModel)===null||f===void 0)&&f.isAllDataLoaded)?this.createItemValue(m,v):P.prototype.getItemIfChoicesNotContainThisValue.call(this,m,v)},g.prototype.validateItemValues=function(m){var v=this;this.updateItemDisplayNameMap();var f=this.renderedValue;if(m.length&&m.length===f.length)return m;var l=this.selectedItemValues;if(!m.length&&l&&l.length)return this.defaultSelectedItemValues=[].concat(l),l;var d=m.map(function(h){return h.value});return f.filter(function(h){return d.indexOf(h)===-1}).forEach(function(h){var p=v.getItemIfChoicesNotContainThisValue(h,v.itemDisplayNameMap[h]);p&&m.push(p)}),m.sort(function(h,p){return f.indexOf(h.value)-f.indexOf(p.value)}),m},g.prototype.updateItemDisplayNameMap=function(){var m=this,v=function(f){m.itemDisplayNameMap[f.value]=f.text};(this.defaultSelectedItemValues||[]).forEach(v),(this.selectedItemValues||[]).forEach(v),this.visibleChoices.forEach(v)},g.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},g.prototype.getInputId=function(){return this.inputId+"_0"},g.prototype.dispose=function(){P.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},g.prototype.clearValue=function(){P.prototype.clearValue.call(this),this.dropdownListModel.clear()},y([Object(o.property)()],g.prototype,"allowClear",void 0),y([Object(o.property)({defaultValue:!0,onSet:function(m,v){v.dropdownListModel&&v.dropdownListModel.setSearchEnabled(m)}})],g.prototype,"searchEnabled",void 0),y([Object(o.property)({onSet:function(m,v){v.dropdownListModel&&v.dropdownListModel.setHideSelectedItems(m)}})],g.prototype,"hideSelectedItems",void 0),y([Object(o.property)()],g.prototype,"choicesLazyLoadEnabled",void 0),y([Object(o.property)({defaultValue:25})],g.prototype,"choicesLazyLoadPageSize",void 0),y([Object(o.property)({getDefaultValue:function(){return E.settings.tagboxCloseOnSelect}})],g.prototype,"closeOnSelect",void 0),g}(c.QuestionCheckboxModel);o.Serializer.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""}],function(){return new b("")},"checkbox"),a.QuestionFactory.Instance.registerQuestion("tagbox",function(P){var g=new b(P);return g.choices=a.QuestionFactory.DefaultChoices,g})},"./src/question_text.ts":function(n,r,i){i.r(r),i.d(r,"QuestionTextModel",function(){return P});var o=i("./src/questionfactory.ts"),a=i("./src/jsonobject.ts"),s=i("./src/localizablestring.ts"),c=i("./src/helpers.ts"),C=i("./src/validator.ts"),E=i("./src/error.ts"),O=i("./src/settings.ts"),y=i("./src/question_textbase.ts"),b=function(){var h=function(p,u){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,V){x.__proto__=V}||function(x,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(x[A]=V[A])},h(p,u)};return function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");h(p,u);function x(){this.constructor=p}p.prototype=u===null?Object.create(u):(x.prototype=u.prototype,new x)}}(),P=function(h){b(p,h);function p(u){var x=h.call(this,u)||this;return x._isWaitingForEnter=!1,x.onCompositionUpdate=function(V){x.isInputTextUpdate&&setTimeout(function(){x.updateValueOnEvent(V)},1),x.updateRemainingCharacterCounter(V.target.value)},x.onKeyUp=function(V){x.isInputTextUpdate?(!x._isWaitingForEnter||V.keyCode===13)&&(x.updateValueOnEvent(V),x._isWaitingForEnter=!1):V.keyCode===13&&x.updateValueOnEvent(V),x.updateRemainingCharacterCounter(V.target.value)},x.onKeyDown=function(V){x.checkForUndo(V),x.isInputTextUpdate&&(x._isWaitingForEnter=V.keyCode===229),V.keyCode===13&&x.survey.questionEditFinishCallback(x,V)},x.onChange=function(V){V.target===O.settings.environment.root.activeElement?x.isInputTextUpdate&&x.updateValueOnEvent(V):x.updateValueOnEvent(V),x.updateRemainingCharacterCounter(V.target.value)},x.onBlur=function(V){x.updateValueOnEvent(V),x.updateRemainingCharacterCounter(V.target.value)},x.onFocus=function(V){x.updateRemainingCharacterCounter(V.target.value)},x.createLocalizableString("minErrorText",x,!0,"minError"),x.createLocalizableString("maxErrorText",x,!0,"maxError"),x.locDataListValue=new s.LocalizableStrings(x),x.locDataListValue.onValueChanged=function(V,A){x.propertyValueChanged("dataList",V,A)},x.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],function(){x.setRenderedMinMax()}),x.registerPropertyChangedHandlers(["inputType","size"],function(){x.updateInputSize(),x.calcRenderedPlaceholder()}),x}return p.prototype.isTextValue=function(){return["text","number","password"].indexOf(this.inputType)>-1},p.prototype.getType=function(){return"text"},p.prototype.onSurveyLoad=function(){h.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(p.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(u){u=u.toLowerCase(),(u==="datetime_local"||u==="datetime")&&(u="datetime-local"),this.setPropertyValue("inputType",u.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0)},enumerable:!1,configurable:!0}),p.prototype.runCondition=function(u,x){h.prototype.runCondition.call(this,u,x),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(u,x)},p.prototype.getValidators=function(){var u=h.prototype.getValidators.call(this);return this.inputType==="email"&&!this.validators.some(function(x){return x.getType()==="emailvalidator"})&&u.push(new C.EmailValidator),u},p.prototype.isLayoutTypeSupported=function(u){return!0},Object.defineProperty(p.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(u){this.setPropertyValue("size",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),p.prototype.updateInputSize=function(){var u=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&u<1&&this.parent&&this.parent.itemSize&&(u=this.parent.itemSize),this.setPropertyValue("inputSize",u),this.setPropertyValue("inputWidth",u>0?"auto":"")},Object.defineProperty(p.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete",null)},set:function(u){this.setPropertyValue("autocomplete",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(u){if(this.isValueExpression(u)){this.minValueExpression=u.substring(1);return}this.setPropertyValue("min",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(u){if(this.isValueExpression(u)){this.maxValueExpression=u.substring(1);return}this.setPropertyValue("max",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(u){this.setPropertyValue("minValueExpression",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(u){this.setPropertyValue("maxValueExpression",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(u){this.setLocalizableStringText("minErrorText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(u){this.setLocalizableStringText("maxErrorText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isMinMaxType",{get:function(){return m(this)},enumerable:!1,configurable:!0}),p.prototype.onCheckForErrors=function(u,x){var V=this;if(h.prototype.onCheckForErrors.call(this,u,x),!x){if(this.isValueLessMin){var A=new E.CustomError(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);A.onUpdateErrorTextCallback=function(T){T.text=V.getMinMaxErrorText(V.minErrorText,V.getCalculatedMinMax(V.renderedMin))},u.push(A)}if(this.isValueGreaterMax){var M=new E.CustomError(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);M.onUpdateErrorTextCallback=function(T){T.text=V.getMinMaxErrorText(V.maxErrorText,V.getCalculatedMinMax(V.renderedMax))},u.push(M)}}},p.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var u=!this.isValueLessMin&&!this.isValueGreaterMax;return this.inputType==="number"&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),u},p.prototype.convertFuncValuetoQuestionValue=function(u){return c.Helpers.convertValToQuestionVal(u,this.inputType)},p.prototype.getMinMaxErrorText=function(u,x){if(c.Helpers.isValueEmpty(x))return u;var V=x.toString();return this.inputType==="date"&&x.toDateString&&(V=x.toDateString()),u.replace("{0}",V)},Object.defineProperty(p.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isDateInputType",{get:function(){return this.inputType==="date"||this.inputType==="datetime-local"},enumerable:!1,configurable:!0}),p.prototype.getCalculatedMinMax=function(u){return this.isValueEmpty(u)?u:this.isDateInputType?new Date(u):u},p.prototype.setRenderedMinMax=function(u,x){var V=this;u===void 0&&(u=null),x===void 0&&(x=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(A){!A&&V.isDateInputType&&O.settings.minDate&&(A=O.settings.minDate),V.setPropertyValue("renderedMin",A)},u,x),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(A){!A&&V.isDateInputType&&(A=O.settings.maxDate?O.settings.maxDate:"2999-12-31"),V.setPropertyValue("renderedMax",A)},u,x)},Object.defineProperty(p.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(u){this.setPropertyValue("step",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?this.inputType!=="number"?void 0:"any":this.step},enumerable:!1,configurable:!0}),p.prototype.supportGoNextPageAutomatic=function(){return!this.isSurveyInputTextUpdate&&["date","datetime-local"].indexOf(this.inputType)<0},p.prototype.supportGoNextPageError=function(){return["date","datetime-local"].indexOf(this.inputType)<0},Object.defineProperty(p.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(u){this.locDataList.value=u},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":void 0},enumerable:!1,configurable:!0}),p.prototype.canRunValidators=function(u){return this.errors.length>0||!u||this.supportGoNextPageError()},p.prototype.setNewValue=function(u){u=this.correctValueType(u),h.prototype.setNewValue.call(this,u)},p.prototype.correctValueType=function(u){return u&&(this.inputType=="number"||this.inputType=="range"?c.Helpers.isNumber(u)?c.Helpers.getNumber(u):"":u)},p.prototype.hasPlaceHolder=function(){return!this.isReadOnly&&this.inputType!=="range"},p.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&O.settings.readOnly.textRenderMode==="div"},Object.defineProperty(p.prototype,"inputStyle",{get:function(){var u={};return u.width=this.inputWidth,u},enumerable:!1,configurable:!0}),p.prototype.updateValueOnEvent=function(u){var x=u.target.value;c.Helpers.isTwoValueEquals(this.value,x)||(this.value=x)},p}(y.QuestionTextBase),g=["number","range","date","datetime-local","month","time","week"];function m(h){var p=h?h.inputType:"";return p?g.indexOf(p)>-1:!1}function v(h,p){var u=h.split(p);return u.length!==2||!c.Helpers.isNumber(u[0])||!c.Helpers.isNumber(u[1])?-1:parseFloat(u[0])*60+parseFloat(u[1])}function f(h,p,u){var x=v(h,u),V=v(p,u);return x<0||V<0?!1:x>V}function l(h,p,u,x){var V=x?u:p;if(!m(h)||c.Helpers.isValueEmpty(p)||c.Helpers.isValueEmpty(u))return V;if(h.inputType.indexOf("date")===0||h.inputType==="month"){var A=h.inputType==="month",M=new Date(A?p+"-1":p),T=new Date(A?u+"-1":u);if(!M||!T)return V;if(M>T)return x?p:u}if(h.inputType==="week"||h.inputType==="time"){var D=h.inputType==="week"?"-W":":";return f(p,u,D)?x?p:u:V}if(h.inputType==="number"){if(!c.Helpers.isNumber(p)||!c.Helpers.isNumber(u))return V;if(c.Helpers.getNumber(p)>c.Helpers.getNumber(u))return x?p:u}return typeof p=="string"||typeof u=="string"?V:p>u?x?p:u:V}function d(h,p){h&&h.inputType&&(p.inputType=h.inputType!=="range"?h.inputType:"number",p.textUpdateMode="onBlur")}a.Serializer.addClass("text",[{name:"inputType",default:"text",choices:O.settings.questions.inputTypes},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(h){return h?h.isTextInput:!1}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(h){return h?h.isTextInput:!1}},{name:"autocomplete",alternativeName:"autoComplete",choices:O.settings.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(h){return m(h)},onPropertyEditorUpdate:function(h,p){d(h,p)},onSettingValue:function(h,p){return l(h,p,h.max,!1)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(h){return m(h)},onSettingValue:function(h,p){return l(h,h.min,p,!0)},onPropertyEditorUpdate:function(h,p){d(h,p)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(h){return m(h)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(h){return m(h)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(h){return m(h)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(h){return m(h)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(h){return h?h.inputType==="number"||h.inputType==="range":!1}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(h){return h?h.isTextInput:!1}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(h){return h?h.isTextInput:!1}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(h){return h?h.inputType==="text":!1}}],function(){return new P("")},"textbase"),o.QuestionFactory.Instance.registerQuestion("text",function(h){return new P(h)})},"./src/question_textbase.ts":function(n,r,i){i.r(r),i.d(r,"CharacterCounter",function(){return y}),i.d(r,"QuestionTextBase",function(){return b});var o=i("./src/question.ts"),a=i("./src/jsonobject.ts"),s=i("./src/helpers.ts"),c=i("./src/utils/cssClassBuilder.ts"),C=i("./src/base.ts"),E=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),O=function(P,g,m,v){var f=arguments.length,l=f<3?g:v===null?v=Object.getOwnPropertyDescriptor(g,m):v,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(P,g,m,v);else for(var h=P.length-1;h>=0;h--)(d=P[h])&&(l=(f<3?d(l):f>3?d(g,m,l):d(g,m))||l);return f>3&&l&&Object.defineProperty(g,m,l),l},y=function(P){E(g,P);function g(){return P!==null&&P.apply(this,arguments)||this}return g.prototype.updateRemainingCharacterCounter=function(m,v){this.remainingCharacterCounter=s.Helpers.getRemainingCharacterCounterText(m,v)},O([Object(a.property)()],g.prototype,"remainingCharacterCounter",void 0),g}(C.Base),b=function(P){E(g,P);function g(m){var v=P.call(this,m)||this;return v.characterCounter=new y,v.disableNativeUndoRedo=!1,v}return g.prototype.isTextValue=function(){return!0},Object.defineProperty(g.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(m){this.setPropertyValue("maxLength",m),this.updateRemainingCharacterCounter(this.value)},enumerable:!1,configurable:!0}),g.prototype.getMaxLength=function(){return s.Helpers.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},g.prototype.updateRemainingCharacterCounter=function(m){this.characterCounter.updateRemainingCharacterCounter(m,this.getMaxLength())},Object.defineProperty(g.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(m){this.placeholder=m},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),g.prototype.getType=function(){return"textbase"},g.prototype.isEmpty=function(){return P.prototype.isEmpty.call(this)||this.value===""},Object.defineProperty(g.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(m){this.setPropertyValue("textUpdateMode",m)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isSurveyInputTextUpdate",{get:function(){return this.textUpdateMode=="default"?this.survey?this.survey.isUpdateValueTextOnTyping:!1:this.textUpdateMode=="onTyping"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedPlaceholder",{get:function(){return this.getPropertyValue("renderedPlaceholder")},enumerable:!1,configurable:!0}),g.prototype.setRenderedPlaceholder=function(m){this.setPropertyValue("renderedPlaceholder",m)},g.prototype.onReadOnlyChanged=function(){P.prototype.onReadOnlyChanged.call(this),this.calcRenderedPlaceholder()},g.prototype.onSurveyLoad=function(){this.calcRenderedPlaceholder(),P.prototype.onSurveyLoad.call(this)},g.prototype.localeChanged=function(){P.prototype.localeChanged.call(this),this.calcRenderedPlaceholder()},g.prototype.setSurveyImpl=function(m,v){P.prototype.setSurveyImpl.call(this,m,v),this.calcRenderedPlaceholder()},g.prototype.calcRenderedPlaceholder=function(){var m=this.placeHolder;m&&!this.hasPlaceHolder()&&(m=void 0),this.setRenderedPlaceholder(m)},g.prototype.hasPlaceHolder=function(){return!this.isReadOnly},g.prototype.setNewValue=function(m){P.prototype.setNewValue.call(this,m),this.updateRemainingCharacterCounter(m)},g.prototype.setQuestionValue=function(m,v){v===void 0&&(v=!0),P.prototype.setQuestionValue.call(this,m,v),this.updateRemainingCharacterCounter(m)},g.prototype.checkForUndo=function(m){this.disableNativeUndoRedo&&this.isInputTextUpdate&&(m.ctrlKey||m.metaKey)&&[89,90].indexOf(m.keyCode)!==-1&&m.preventDefault()},g.prototype.getControlClass=function(){return new c.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(g.prototype,"ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ariaInvalid",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ariaLabel",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ariaLabelledBy",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ariaDescribedBy",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"a11y_input_ariaRole",{get:function(){return"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"a11y_input_ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"a11y_input_ariaInvalid",{get:function(){return this.errors.length>0?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"a11y_input_ariaLabel",{get:function(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"a11y_input_ariaLabelledBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"a11y_input_ariaDescribedBy",{get:function(){return this.errors.length>0?this.id+"_errors":null},enumerable:!1,configurable:!0}),O([Object(a.property)({localizable:!0,onSet:function(m,v){return v.calcRenderedPlaceholder()}})],g.prototype,"placeholder",void 0),g}(o.Question);a.Serializer.addClass("textbase",[],function(){return new b("")},"question")},"./src/questionfactory.ts":function(n,r,i){i.r(r),i.d(r,"QuestionFactory",function(){return s}),i.d(r,"ElementFactory",function(){return c});var o=i("./src/surveyStrings.ts"),a=i("./src/jsonobject.ts"),s=function(){function C(){}return Object.defineProperty(C,"DefaultChoices",{get:function(){return[o.surveyLocalization.getString("choices_Item")+"1",o.surveyLocalization.getString("choices_Item")+"2",o.surveyLocalization.getString("choices_Item")+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(C,"DefaultColums",{get:function(){var E=o.surveyLocalization.getString("matrix_column")+" ";return[E+"1",E+"2",E+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(C,"DefaultRows",{get:function(){var E=o.surveyLocalization.getString("matrix_row")+" ";return[E+"1",E+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(C,"DefaultMutlipleTextItems",{get:function(){var E=o.surveyLocalization.getString("multipletext_itemname");return[E+"1",E+"2"]},enumerable:!1,configurable:!0}),C.prototype.registerQuestion=function(E,O){c.Instance.registerElement(E,O)},C.prototype.registerCustomQuestion=function(E){c.Instance.registerCustomQuestion(E)},C.prototype.unregisterElement=function(E,O){O===void 0&&(O=!1),c.Instance.unregisterElement(E,O)},C.prototype.clear=function(){c.Instance.clear()},C.prototype.getAllTypes=function(){return c.Instance.getAllTypes()},C.prototype.createQuestion=function(E,O){return c.Instance.createElement(E,O)},C.Instance=new C,C}(),c=function(){function C(){var E=this;this.creatorHash={},this.registerCustomQuestion=function(O){var y=function(b){var P=a.Serializer.createClass(O);return P&&(P.name=b),P};E.registerElement(O,y)}}return C.prototype.registerElement=function(E,O){this.creatorHash[E]=O},C.prototype.clear=function(){this.creatorHash={}},C.prototype.unregisterElement=function(E,O){O===void 0&&(O=!1),delete this.creatorHash[E],O&&a.Serializer.removeClass(E)},C.prototype.getAllTypes=function(){var E=new Array;for(var O in this.creatorHash)E.push(O);return E.sort()},C.prototype.createElement=function(E,O){var y=this.creatorHash[E];return y?y(O):null},C.Instance=new C,C}()},"./src/questionnonvalue.ts":function(n,r,i){i.r(r),i.d(r,"QuestionNonValue",function(){return c});var o=i("./src/question.ts"),a=i("./src/jsonobject.ts"),s=function(){var C=function(E,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(y[P]=b[P])},C(E,O)};return function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");C(E,O);function y(){this.constructor=E}E.prototype=O===null?Object.create(O):(y.prototype=O.prototype,new y)}}(),c=function(C){s(E,C);function E(O){return C.call(this,O)||this}return E.prototype.getType=function(){return"nonvalue"},Object.defineProperty(E.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),E.prototype.getTitleLocation=function(){return""},Object.defineProperty(E.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),E.prototype.hasErrors=function(O,y){return!1},E.prototype.getAllErrors=function(){return[]},E.prototype.supportGoNextPageAutomatic=function(){return!1},E.prototype.addConditionObjectsByContext=function(O,y){},E.prototype.getConditionJson=function(O,y){return null},E}(o.Question);a.Serializer.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new c("")},"question")},"./src/rendererFactory.ts":function(n,r,i){i.r(r),i.d(r,"RendererFactory",function(){return o});var o=function(){function a(){this.renderersHash={}}return a.prototype.unregisterRenderer=function(s,c){delete this.renderersHash[s][c]},a.prototype.registerRenderer=function(s,c,C){this.renderersHash[s]||(this.renderersHash[s]={}),this.renderersHash[s][c]=C},a.prototype.getRenderer=function(s,c){return this.renderersHash[s]&&this.renderersHash[s][c]||"default"},a.prototype.getRendererByQuestion=function(s){return this.getRenderer(s.getType(),s.renderAs)},a.prototype.clear=function(){this.renderersHash={}},a.Instance=new a,a}()},"./src/settings.ts":function(n,r,i){i.r(r),i.d(r,"settings",function(){return c});var o=globalThis.document,a=o?{root:o,_rootElement:o.body,get rootElement(){var C;return(C=this._rootElement)!==null&&C!==void 0?C:o.body},set rootElement(C){this._rootElement=C},_popupMountContainer:o.body,get popupMountContainer(){var C;return(C=this._popupMountContainer)!==null&&C!==void 0?C:o.body},set popupMountContainer(C){this._popupMountContainer=C},svgMountContainer:o.head,stylesSheetsMountContainer:o.head}:void 0,s={file:{minWidth:"240px"},comment:{minWidth:"200px"}},c={designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(C){this.designMode.showEmptyDescriptions=C},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(C){this.designMode.showEmptyTitles=C},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(C){this.localization.useLocalTimeZone=C},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(C){this.localization.storeDuplicatedTranslations=C},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(C){this.localization.defaultLocaleName=C},web:{encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1,surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey"},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(C){this.web.encodeUrlParams=C},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(C){this.web.cacheLoadedChoices=C},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(C){this.web.cacheLoadedChoices=C},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(C){this.web.disableQuestionWhileLoadingChoices=C},get surveyServiceUrl(){return this.web.surveyServiceUrl},set surveyServiceUrl(C){this.web.surveyServiceUrl=C},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(C){this.triggers.executeCompleteOnValueChanged=C},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(C){this.triggers.changeNavigationButtonsOnComplete=C},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(C){this.triggers.executeSkipOnValueChanged=C},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(C){this.serialization.itemValueSerializeAsObject=C},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(C){this.serialization.itemValueSerializeDisplayText=C},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(C){this.serialization.localizableStringSerializeAsObject=C},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(C){this.lazyRender.enabled=C},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(C){this.lazyRender.firstBatchSize=C},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:s,rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(C){this.matrix.defaultRowName=C},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(C){this.matrix.defaultCellType=C},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(C){this.matrix.totalsSuffix=C},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(C){this.matrix.maxRowCount=C},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(C){this.matrix.maxRowCountInCondition=C},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(C){this.matrix.renderRemoveAsIcon=C},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(C){this.panel.maxPanelCountInCondition=C},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(C){this.panel.maxPanelCount=C},readOnly:{commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(C){this.readOnly.commentRenderMode=C},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(C){this.readOnly.textRenderMode=C},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(C){this.numbering.includeQuestionsWithHiddenTitle=C},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(C){this.numbering.includeQuestionsWithHiddenNumber=C},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1},expressionDisableConversionChar:"#",get commentPrefix(){return c.commentSuffix},set commentPrefix(C){c.commentSuffix=C},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,confirmActionFunc:function(C){return confirm(C)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},showItemsInOrder:"default",noneItemValue:"none",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:a,showMaxLengthIndicator:!0,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]}}},"./src/stylesmanager.ts":function(n,r,i){i.r(r),i.d(r,"modernThemeColors",function(){return c}),i.d(r,"defaultThemeColors",function(){return C}),i.d(r,"orangeThemeColors",function(){return E}),i.d(r,"darkblueThemeColors",function(){return O}),i.d(r,"darkroseThemeColors",function(){return y}),i.d(r,"stoneThemeColors",function(){return b}),i.d(r,"winterThemeColors",function(){return P}),i.d(r,"winterstoneThemeColors",function(){return g}),i.d(r,"StylesManager",function(){return v});var o=i("./src/defaultCss/defaultV2Css.ts"),a=i("./src/settings.ts"),s=i("./src/utils/utils.ts"),c={"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$checkmark-color":"#fff","$progress-buttons-color":"#8dd9ca","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$font-family":"Raleway"},C={"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},E={"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},O={"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},y={"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},b={"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},P={"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},g={"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"};function m(f,l){Object.keys(f||{}).forEach(function(d){var h=d.substring(1);l.style.setProperty("--"+h,f[d])})}var v=function(){function f(){f.autoApplyTheme()}return f.autoApplyTheme=function(){if(!(o.surveyCss.currentType==="bootstrap"||o.surveyCss.currentType==="bootstrapmaterial")){var l=f.getIncludedThemeCss();l.length===1&&f.applyTheme(l[0].name)}},f.getAvailableThemes=function(){var l=o.surveyCss.getAvailableThemes().filter(function(d){return["defaultV2","default","modern"].indexOf(d)!==-1}).map(function(d){return{name:d,theme:o.surveyCss[d]}});return l},f.getIncludedThemeCss=function(){var l=a.settings.environment.rootElement,d=f.getAvailableThemes(),h=Object(s.isShadowDOM)(l)?l.host:l;if(h){var p=getComputedStyle(h);if(p.length)return d.filter(function(u){return u.theme.variables&&p.getPropertyValue(u.theme.variables.themeMark)})}return[]},f.findSheet=function(l){if(typeof a.settings.environment>"u")return null;for(var d=a.settings.environment.root.styleSheets,h=0;h<d.length;h++)if(d[h].ownerNode&&d[h].ownerNode.id===l)return d[h];return null},f.createSheet=function(l){var d=a.settings.environment.stylesSheetsMountContainer,h=document.createElement("style");return h.id=l,h.appendChild(document.createTextNode("")),Object(s.getElement)(d).appendChild(h),f.Logger&&f.Logger.log("style sheet "+l+" created"),h.sheet},f.applyTheme=function(l,d){l===void 0&&(l="default");var h=a.settings.environment.rootElement,p=Object(s.isShadowDOM)(h)?h.host:h;if(o.surveyCss.currentType=l,f.Enabled){if(l!=="bootstrap"&&l!=="bootstrapmaterial"){m(f.ThemeColors[l],p),f.Logger&&f.Logger.log("apply theme "+l+" completed");return}var u=f.ThemeCss[l];if(!u){o.surveyCss.currentType="defaultV2";return}f.insertStylesRulesIntoDocument();var x=d||f.ThemeSelector[l]||f.ThemeSelector.default,V=(l+x).trim(),A=f.findSheet(V);if(!A){A=f.createSheet(V);var M=f.ThemeColors[l]||f.ThemeColors.default;Object.keys(u).forEach(function(T){var D=u[T];Object.keys(M||{}).forEach(function(R){return D=D.replace(new RegExp("\\"+R,"g"),M[R])});try{T.indexOf("body")===0?A.insertRule(T+" { "+D+" }",0):A.insertRule(x+T+" { "+D+" }",0)}catch{}})}}f.Logger&&f.Logger.log("apply theme "+l+" completed")},f.insertStylesRulesIntoDocument=function(){if(f.Enabled){var l=f.findSheet(f.SurveyJSStylesSheetId);l||(l=f.createSheet(f.SurveyJSStylesSheetId)),Object.keys(f.Styles).length&&Object.keys(f.Styles).forEach(function(d){try{l.insertRule(d+" { "+f.Styles[d]+" }",0)}catch{}}),Object.keys(f.Media).length&&Object.keys(f.Media).forEach(function(d){try{l.insertRule(f.Media[d].media+" { "+d+" { "+f.Media[d].style+" } }",0)}catch{}})}},f.SurveyJSStylesSheetId="surveyjs-styles",f.Styles={},f.Media={},f.ThemeColors={modern:c,default:C,orange:E,darkblue:O,darkrose:y,stone:b,winter:P,winterstone:g},f.ThemeCss={},f.ThemeSelector={default:".sv_main ",modern:".sv-root-modern "},f.Enabled=!0,f}()},"./src/survey-element.ts":function(n,r,i){i.r(r),i.d(r,"SurveyElementCore",function(){return P}),i.d(r,"DragTypeOverMeEnum",function(){return g}),i.d(r,"SurveyElement",function(){return m});var o=i("./src/jsonobject.ts"),a=i("./src/base.ts"),s=i("./src/actions/adaptive-container.ts"),c=i("./src/helpers.ts"),C=i("./src/settings.ts"),E=i("./src/actions/container.ts"),O=i("./src/utils/cssClassBuilder.ts"),y=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),b=function(v,f,l,d){var h=arguments.length,p=h<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,l):d,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(v,f,l,d);else for(var x=v.length-1;x>=0;x--)(u=v[x])&&(p=(h<3?u(p):h>3?u(f,l,p):u(f,l))||p);return h>3&&p&&Object.defineProperty(f,l,p),p},P=function(v){y(f,v);function f(){var l=v.call(this)||this;return l.createLocTitleProperty(),l}return f.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(f.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(l){this.setLocalizableStringText("title",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),f.prototype.getDefaultTitleValue=function(){},f.prototype.updateDescriptionVisibility=function(l){var d=!1;if(this.isDesignMode){var h=o.Serializer.findProperty(this.getType(),"description");d=!!(h!=null&&h.placeholder)}this.hasDescription=!!l||d},Object.defineProperty(f.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleTagName",{get:function(){var l=this.getDefaultTitleTagName(),d=this.getSurvey();return d?d.getElementTitleTagName(this,l):l},enumerable:!1,configurable:!0}),f.prototype.getDefaultTitleTagName=function(){return C.settings.titleTags[this.getType()]},Object.defineProperty(f.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),f.prototype.getTitleToolbar=function(){return null},f.prototype.getTitleOwner=function(){},Object.defineProperty(f.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isTitleRenderedAsString",{get:function(){return this.getIsTitleRenderedAsString()},enumerable:!1,configurable:!0}),f.prototype.toggleState=function(){},Object.defineProperty(f.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleAriaRole",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleAriaLabel",{get:function(){return this.ariaLabel},enumerable:!1,configurable:!0}),f.prototype.getIsTitleRenderedAsString=function(){return!this.isTitleOwner},b([Object(o.property)()],f.prototype,"hasDescription",void 0),b([Object(o.property)({localizable:!0,onSet:function(l,d){d.updateDescriptionVisibility(l)}})],f.prototype,"description",void 0),f}(a.Base),g;(function(v){v[v.InsideEmptyPanel=1]="InsideEmptyPanel",v[v.MultilineRight=2]="MultilineRight",v[v.MultilineLeft=3]="MultilineLeft",v[v.Top=4]="Top",v[v.Right=5]="Right",v[v.Bottom=6]="Bottom",v[v.Left=7]="Left"})(g||(g={}));var m=function(v){y(f,v);function f(l){var d=v.call(this)||this;return d.selectedElementInDesignValue=d,d.disableDesignActions=f.CreateDisabledDesignElements,d.parentQuestionValue=null,d.isContentElement=!1,d.isEditableTemplateElement=!1,d.isInteractiveDesignElement=!0,d.isSingleInRow=!0,d.name=l,d.createNewArray("errors"),d.createNewArray("titleActions"),d.registerPropertyChangedHandlers(["isReadOnly"],function(){d.onReadOnlyChanged()}),d.registerPropertyChangedHandlers(["errors"],function(){d.updateVisibleErrors()}),d.registerPropertyChangedHandlers(["isSingleInRow"],function(){d.updateElementCss(!1)}),d}return f.getProgressInfoByElements=function(l,d){for(var h=a.Base.createProgressInfo(),p=0;p<l.length;p++)if(l[p].isVisible){var u=l[p].getProgressInfo();h.questionCount+=u.questionCount,h.answeredQuestionCount+=u.answeredQuestionCount,h.requiredQuestionCount+=u.requiredQuestionCount,h.requiredAnsweredQuestionCount+=u.requiredAnsweredQuestionCount}return d&&h.questionCount>0&&(h.requiredQuestionCount==0&&(h.requiredQuestionCount=1),h.answeredQuestionCount>0&&(h.requiredAnsweredQuestionCount=1)),h},f.ScrollElementToTop=function(l){var d=C.settings.environment.root;if(!l||typeof d>"u")return!1;var h=d.getElementById(l);if(!h||!h.scrollIntoView)return!1;var p=h.getBoundingClientRect().top;return p<0&&h.scrollIntoView(),p<0},f.GetFirstNonTextElement=function(l,d){if(d===void 0&&(d=!1),!l||!l.length||l.length==0)return null;if(d){var h=l[0];h.nodeName==="#text"&&(h.data=""),h=l[l.length-1],h.nodeName==="#text"&&(h.data="")}for(var p=0;p<l.length;p++)if(l[p].nodeName!="#text"&&l[p].nodeName!="#comment")return l[p];return null},f.FocusElement=function(l){if(!l||typeof document>"u")return!1;var d=f.focusElementCore(l);return d||setTimeout(function(){f.focusElementCore(l)},10),d},f.focusElementCore=function(l){var d=C.settings.environment.root;if(!d)return!1;var h=d.getElementById(l);return h&&!h.disabled?(h.focus(),!0):!1},f.prototype.onPropertyValueChanged=function(l,d,h){v.prototype.onPropertyValueChanged.call(this,l,d,h),l==="state"&&(this.updateElementCss(!1),this.stateChangedCallback&&this.stateChangedCallback())},f.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(f.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),f.prototype.setParentQuestion=function(l){this.parentQuestionValue=l,this.onParentQuestionChanged()},f.prototype.onParentQuestionChanged=function(){},Object.defineProperty(f.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(l){this.setPropertyValue("state",l),this.notifyStateChanged()},enumerable:!1,configurable:!0}),f.prototype.notifyStateChanged=function(){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(f.prototype,"isCollapsed",{get:function(){if(!this.isDesignMode)return this.state==="collapsed"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isExpanded",{get:function(){return this.state==="expanded"},enumerable:!1,configurable:!0}),f.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},f.prototype.expand=function(){this.state="expanded"},f.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):this.isExpanded?(this.collapse(),!1):!0},Object.defineProperty(f.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),f.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},f.prototype.createActionContainer=function(l){var d=l?new s.AdaptiveActionContainer:new E.ActionContainer;return this.survey&&this.survey.getCss().actionBar&&(d.cssClasses=this.survey.getCss().actionBar),d},Object.defineProperty(f.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),f.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},f.prototype.getDefaultTitleActions=function(){return[]},f.prototype.updateTitleActions=function(){var l=this.getDefaultTitleActions();this.survey&&(l=this.survey.getUpdatedElementTitleActions(this,l)),this.setPropertyValue("titleActions",l)},Object.defineProperty(f.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitleEvents",{get:function(){return this.state!==void 0&&this.state!=="default"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleTabIndex",{get:function(){return!this.isPage&&this.state!=="default"?0:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleAriaExpanded",{get:function(){if(!(this.isPage||this.state==="default"))return this.state==="expanded"?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleAriaRole",{get:function(){if(!(this.isPage||this.state==="default"))return"button"},enumerable:!1,configurable:!0}),f.prototype.setSurveyImpl=function(l,d){this.surveyImplValue=l,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&this.clearCssClasses()},f.prototype.canRunConditions=function(){return v.prototype.canRunConditions.call(this)&&!!this.data},f.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},f.prototype.getDataFilteredProperties=function(){var l=this.data?this.data.getFilteredProperties():{};return l.question=this,l},Object.defineProperty(f.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),f.prototype.__setData=function(l){C.settings.supportCreatorV2&&(this.surveyDataValue=l)},Object.defineProperty(f.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),f.prototype.getSurvey=function(l){return this.surveyValue?this.surveyValue:(this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue)},f.prototype.setSurveyCore=function(l){this.surveyValue=l,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(f.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isReadOnly",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly",!1)},set:function(l){this.readOnly!=l&&(this.setPropertyValue("readOnly",l),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),f.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(f.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),f.prototype.ensureCssClassesValue=function(){this.cssClassesValue||(this.cssClassesValue=this.calcCssClasses(this.css),this.updateElementCssCore(this.cssClassesValue))},Object.defineProperty(f.prototype,"cssClasses",{get:function(){return this.cssClassesValue,this.survey?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssTitleNumber",{get:function(){var l=this.cssClasses;return l.number?l.number:l.panel?l.panel.number:void 0},enumerable:!1,configurable:!0}),f.prototype.calcCssClasses=function(l){},f.prototype.updateElementCssCore=function(l){},Object.defineProperty(f.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),f.prototype.updateElementCss=function(l){this.clearCssClasses()},f.prototype.clearCssClasses=function(){this.cssClassesValue=void 0},f.prototype.getIsLoadingFromJson=function(){return v.prototype.getIsLoadingFromJson.call(this)?!0:this.survey?this.survey.isLoadingFromJson:!1},Object.defineProperty(f.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(l){var d=this.name;this.setPropertyValue("name",this.getValidName(l)),!this.isLoadingFromJson&&d&&this.onNameChanged(d)},enumerable:!1,configurable:!0}),f.prototype.getValidName=function(l){return l},f.prototype.onNameChanged=function(l){},f.prototype.updateBindingValue=function(l,d){this.data&&!this.isTwoValueEquals(d,this.data.getValue(l))&&this.data.setValue(l,d,!1)},Object.defineProperty(f.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(l){this.setPropertyValue("errors",l)},enumerable:!1,configurable:!0}),f.prototype.updateVisibleErrors=function(){for(var l=0,d=0;d<this.errors.length;d++)this.errors[d].visible&&l++;this.hasVisibleErrors=l>0},Object.defineProperty(f.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),f.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},f.prototype.getContainsErrors=function(){return this.errors.length>0},Object.defineProperty(f.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(l){this.selectedElementInDesignValue=l},enumerable:!1,configurable:!0}),f.prototype.updateCustomWidgets=function(){},f.prototype.onSurveyLoad=function(){},f.prototype.onFirstRendering=function(){this.ensureCssClassesValue()},f.prototype.endLoadingFromJson=function(){v.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad(),this.updateDescriptionVisibility(this.description)},f.prototype.setVisibleIndex=function(l){return 0},Object.defineProperty(f.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),f.prototype.delete=function(){},f.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},f.prototype.getMarkdownHtml=function(l,d){return this.survey?this.survey.getSurveyMarkdownHtml(this,l,d):this.locOwner?this.locOwner.getMarkdownHtml(l,d):void 0},f.prototype.getRenderer=function(l){return this.survey&&typeof this.survey.getRendererForString=="function"?this.survey.getRendererForString(this,l):this.locOwner&&typeof this.locOwner.getRenderer=="function"?this.locOwner.getRenderer(l):null},f.prototype.getRendererContext=function(l){return this.survey&&typeof this.survey.getRendererContextForString=="function"?this.survey.getRendererContextForString(this,l):this.locOwner&&typeof this.locOwner.getRendererContext=="function"?this.locOwner.getRendererContext(l):l},f.prototype.getProcessedText=function(l){return this.isLoadingFromJson?l:this.textProcessor?this.textProcessor.processText(l,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(l):l},f.prototype.getUseDisplayValuesInDynamicTexts=function(){return!0},f.prototype.removeSelfFromList=function(l){if(!(!l||!Array.isArray(l))){var d=l.indexOf(this);d>-1&&l.splice(d,1)}},Object.defineProperty(f.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),f.prototype.getProcessedHtml=function(l){return!l||!this.textProcessor?l:this.textProcessor.processText(l,!0)},f.prototype.onSetData=function(){},Object.defineProperty(f.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(l){this.setPropertyValue("parent",l)},enumerable:!1,configurable:!0}),f.prototype.getPage=function(l){for(;l&&l.parent;)l=l.parent;return l&&l.getType()=="page"?l:null},f.prototype.moveToBase=function(l,d,h){if(h===void 0&&(h=null),!d)return!1;l.removeElement(this);var p=-1;return c.Helpers.isNumber(h)&&(p=parseInt(h)),p==-1&&h&&h.getType&&(p=d.indexOf(h)),d.addElement(this,p),!0},f.prototype.setPage=function(l,d){var h=this.getPage(l);if(typeof d=="string"){var p=this.getSurvey();p.pages.forEach(function(u){d===u.name&&(d=u)})}h!==d&&(l&&l.removeElement(this),d&&d.addElement(this,-1))},f.prototype.getSearchableLocKeys=function(l){l.push("title"),l.push("description")},Object.defineProperty(f.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&this.survey.getCss().root=="sd-root-modern"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isErrorsModeTooltip",{get:function(){return this.getIsErrorsModeTooltip()},enumerable:!1,configurable:!0}),f.prototype.getIsErrorsModeTooltip=function(){return this.isDefaultV2Theme&&this.hasParent&&this.getIsTooltipErrorSupportedByParent()},f.prototype.getIsTooltipErrorSupportedByParent=function(){var l;return(l=this.parent)===null||l===void 0?void 0:l.getIsTooltipErrorInsideSupported()},f.prototype.getIsTooltipErrorInsideSupported=function(){return!1},Object.defineProperty(f.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage&&(!this.parent.originalPage||this.survey.isShowingPreview)||this.parent===void 0},enumerable:!1,configurable:!0}),f.prototype.shouldAddRunnerStyles=function(){return!this.isDesignMode&&this.isDefaultV2Theme},Object.defineProperty(f.prototype,"isCompact",{get:function(){return this.survey&&this.survey.isCompact},enumerable:!1,configurable:!0}),f.prototype.getHasFrameV2=function(){return this.shouldAddRunnerStyles()&&!this.hasParent&&this.isSingleInRow},f.prototype.getIsNested=function(){return this.shouldAddRunnerStyles()&&(this.hasParent||!this.isSingleInRow)},f.prototype.getCssRoot=function(l){return new O.CssClassBuilder().append(l.withFrame,this.getHasFrameV2()&&!this.isCompact).append(l.compact,this.isCompact&&this.getHasFrameV2()).append(l.collapsed,!!this.isCollapsed).append(l.expanded,!!this.isExpanded).append(l.nested,this.getIsNested()).toString()},Object.defineProperty(f.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(l){this.setPropertyValue("width",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(l){this.setPropertyValue("minWidth",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(l){this.setPropertyValue("maxWidth",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(l){this.setPropertyValue("renderWidth",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(l){this.setPropertyValue("indent",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(l){this.setPropertyValue("rightIndent",l)},enumerable:!1,configurable:!0}),f.prototype.getRootStyle=function(){var l={};return this.paddingLeft&&(l["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(l["--sv-element-add-padding-right"]=this.paddingRight),l},Object.defineProperty(f.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(l){this.setPropertyValue("paddingLeft",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(l){this.setPropertyValue("paddingRight",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rootStyle",{get:function(){var l={};return this.allowRootStyle&&this.renderWidth&&(l.flexGrow=1,l.flexShrink=1,l.flexBasis=this.renderWidth,l.minWidth=this.minWidth,l.maxWidth=this.maxWidth),l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"clickTitleFunction",{get:function(){var l=this;if(this.needClickTitleFunction())return function(){return l.processTitleClick()}},enumerable:!1,configurable:!0}),f.prototype.needClickTitleFunction=function(){return this.state!=="default"},f.prototype.processTitleClick=function(){this.state!=="default"&&this.toggleState()},Object.defineProperty(f.prototype,"additionalTitleToolbar",{get:function(){return this.getAdditionalTitleToolbar()},enumerable:!1,configurable:!0}),f.prototype.getAdditionalTitleToolbar=function(){return null},f.prototype.getCssTitle=function(l){var d=this.state!=="default",h=4;return new O.CssClassBuilder().append(l.title).append(l.titleNumInline,(this.no||"").length>h||d).append(l.titleExpandable,d).append(l.titleExpanded,this.isExpanded).append(l.titleCollapsed,this.isCollapsed).append(l.titleDisabled,this.isReadOnly).append(l.titleOnError,this.containsErrors).toString()},f.prototype.localeChanged=function(){v.prototype.localeChanged.call(this),this.updateDescriptionVisibility(this.description),this.errors.length>0&&this.errors.forEach(function(l){l.updateText()})},f.CreateDisabledDesignElements=!1,b([Object(o.property)({defaultValue:null})],f.prototype,"dragTypeOverMe",void 0),b([Object(o.property)({defaultValue:!1})],f.prototype,"isDragMe",void 0),b([Object(o.property)()],f.prototype,"cssClassesValue",void 0),b([Object(o.property)({defaultValue:!1})],f.prototype,"hasVisibleErrors",void 0),b([Object(o.property)({defaultValue:!0})],f.prototype,"isSingleInRow",void 0),b([Object(o.property)({defaultValue:!0})],f.prototype,"allowRootStyle",void 0),f}(P)},"./src/survey-error.ts":function(n,r,i){i.r(r),i.d(r,"SurveyError",function(){return s});var o=i("./src/localizablestring.ts"),a=i("./src/surveyStrings.ts"),s=function(){function c(C,E){C===void 0&&(C=null),E===void 0&&(E=null),this.text=C,this.errorOwner=E,this.visible=!0,this.onUpdateErrorTextCallback=void 0}return c.prototype.equalsTo=function(C){return!C||!C.getErrorType||this.getErrorType()!==C.getErrorType()?!1:this.text===C.text&&this.visible===C.visible},Object.defineProperty(c.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new o.LocalizableString(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),c.prototype.getText=function(){var C=this.text;return C||(C=this.getDefaultText()),this.errorOwner&&(C=this.errorOwner.getErrorCustomText(C,this)),C},c.prototype.getErrorType=function(){return"base"},c.prototype.getDefaultText=function(){return""},c.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},c.prototype.getLocalizationString=function(C){return a.surveyLocalization.getString(C,this.getLocale())},c.prototype.updateText=function(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()},c}()},"./src/survey-events-api.ts":function(n,r,i){i.r(r)},"./src/survey.ts":function(n,r,i){i.r(r),i.d(r,"SurveyModel",function(){return M});var o=i("./src/helpers.ts"),a=i("./src/jsonobject.ts"),s=i("./src/base.ts"),c=i("./src/survey-element.ts"),C=i("./src/defaultCss/defaultV2Css.ts"),E=i("./src/textPreProcessor.ts"),O=i("./src/conditionProcessValue.ts"),y=i("./src/dxSurveyService.ts"),b=i("./src/surveyStrings.ts"),P=i("./src/error.ts"),g=i("./src/localizablestring.ts"),m=i("./src/stylesmanager.ts"),v=i("./src/surveyTimerModel.ts"),f=i("./src/conditions.ts"),l=i("./src/settings.ts"),d=i("./src/utils/utils.ts"),h=i("./src/actions/action.ts"),p=i("./src/actions/container.ts"),u=i("./src/utils/cssClassBuilder.ts"),x=i("./src/notifier.ts"),V=function(){var D=function(R,S){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,w){I.__proto__=w}||function(I,w){for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(I[L]=w[L])},D(R,S)};return function(R,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");D(R,S);function I(){this.constructor=R}R.prototype=S===null?Object.create(S):(I.prototype=S.prototype,new I)}}(),A=function(D,R,S,I){var w=arguments.length,L=w<3?R:I===null?I=Object.getOwnPropertyDescriptor(R,S):I,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(D,R,S,I);else for(var W=D.length-1;W>=0;W--)(F=D[W])&&(L=(w<3?F(L):w>3?F(R,S,L):F(R,S))||L);return w>3&&L&&Object.defineProperty(R,S,L),L},M=function(D){V(R,D);function R(S,I){S===void 0&&(S=null),I===void 0&&(I=null);var w=D.call(this)||this;w.valuesHash={},w.variablesHash={},w.onTriggerExecuted=w.addEvent(),w.onCompleting=w.addEvent(),w.onComplete=w.addEvent(),w.onShowingPreview=w.addEvent(),w.onNavigateToUrl=w.addEvent(),w.onStarted=w.addEvent(),w.onPartialSend=w.addEvent(),w.onCurrentPageChanging=w.addEvent(),w.onCurrentPageChanged=w.addEvent(),w.onValueChanging=w.addEvent(),w.onValueChanged=w.addEvent(),w.onVariableChanged=w.addEvent(),w.onQuestionVisibleChanged=w.addEvent(),w.onVisibleChanged=w.onQuestionVisibleChanged,w.onPageVisibleChanged=w.addEvent(),w.onPanelVisibleChanged=w.addEvent(),w.onQuestionCreated=w.addEvent(),w.onQuestionAdded=w.addEvent(),w.onQuestionRemoved=w.addEvent(),w.onPanelAdded=w.addEvent(),w.onPanelRemoved=w.addEvent(),w.onPageAdded=w.addEvent(),w.onValidateQuestion=w.addEvent(),w.onSettingQuestionErrors=w.addEvent(),w.onServerValidateQuestions=w.addEvent(),w.onValidatePanel=w.addEvent(),w.onErrorCustomText=w.addEvent(),w.onValidatedErrorsOnCurrentPage=w.addEvent(),w.onProcessHtml=w.addEvent(),w.onGetQuestionDisplayValue=w.addEvent(),w.onGetQuestionTitle=w.addEvent(),w.onGetTitleTagName=w.addEvent(),w.onGetQuestionNo=w.addEvent(),w.onProgressText=w.addEvent(),w.onTextMarkdown=w.addEvent(),w.onTextRenderAs=w.addEvent(),w.onSendResult=w.addEvent(),w.onGetResult=w.addEvent(),w.onUploadFiles=w.addEvent(),w.onDownloadFile=w.addEvent(),w.onClearFiles=w.addEvent(),w.onLoadChoicesFromServer=w.addEvent(),w.onLoadedSurveyFromService=w.addEvent(),w.onProcessTextValue=w.addEvent(),w.onUpdateQuestionCssClasses=w.addEvent(),w.onUpdatePanelCssClasses=w.addEvent(),w.onUpdatePageCssClasses=w.addEvent(),w.onUpdateChoiceItemCss=w.addEvent(),w.onAfterRenderSurvey=w.addEvent(),w.onAfterRenderHeader=w.addEvent(),w.onAfterRenderPage=w.addEvent(),w.onAfterRenderQuestion=w.addEvent(),w.onAfterRenderQuestionInput=w.addEvent(),w.onAfterRenderPanel=w.addEvent(),w.onFocusInQuestion=w.addEvent(),w.onFocusInPanel=w.addEvent(),w.onShowingChoiceItem=w.addEvent(),w.onChoicesLazyLoad=w.addEvent(),w.onGetChoiceDisplayValue=w.addEvent(),w.onMatrixRowAdded=w.addEvent(),w.onMatrixRowAdding=w.addEvent(),w.onMatrixBeforeRowAdded=w.onMatrixRowAdding,w.onMatrixRowRemoving=w.addEvent(),w.onMatrixRowRemoved=w.addEvent(),w.onMatrixRenderRemoveButton=w.addEvent(),w.onMatrixAllowRemoveRow=w.onMatrixRenderRemoveButton,w.onMatrixCellCreating=w.addEvent(),w.onMatrixCellCreated=w.addEvent(),w.onAfterRenderMatrixCell=w.addEvent(),w.onMatrixAfterCellRender=w.onAfterRenderMatrixCell,w.onMatrixCellValueChanged=w.addEvent(),w.onMatrixCellValueChanging=w.addEvent(),w.onMatrixCellValidate=w.addEvent(),w.onMatrixColumnAdded=w.addEvent(),w.onMultipleTextItemAdded=w.addEvent(),w.onDynamicPanelAdded=w.addEvent(),w.onDynamicPanelRemoved=w.addEvent(),w.onDynamicPanelRemoving=w.addEvent(),w.onTimer=w.addEvent(),w.onTimerPanelInfoText=w.addEvent(),w.onDynamicPanelItemValueChanged=w.addEvent(),w.onIsAnswerCorrect=w.addEvent(),w.onDragDropAllow=w.addEvent(),w.onScrollingElementToTop=w.addEvent(),w.onLocaleChangedEvent=w.addEvent(),w.onGetQuestionTitleActions=w.addEvent(),w.onGetPanelTitleActions=w.addEvent(),w.onGetPageTitleActions=w.addEvent(),w.onGetPanelFooterActions=w.addEvent(),w.onGetMatrixRowActions=w.addEvent(),w.onElementContentVisibilityChanged=w.addEvent(),w.onGetExpressionDisplayValue=w.addEvent(),w.onPopupVisibleChanged=w.addEvent(),w.jsonErrors=null,w.cssValue=null,w.hideRequiredErrors=!1,w.cssVariables={},w._isMobile=!1,w._isCompact=!1,w._isDesignMode=!1,w.ignoreValidation=!1,w.isNavigationButtonPressed=!1,w.mouseDownPage=null,w.isCalculatingProgressText=!1,w.isFirstPageRendering=!0,w.isCurrentPageRendering=!0,w.isTriggerIsRunning=!1,w.triggerValues=null,w.triggerKeys=null,w.conditionValues=null,w.isValueChangedOnRunningCondition=!1,w.conditionRunnerCounter=0,w.conditionUpdateVisibleIndexes=!1,w.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,w.isEndLoadingFromJson=null,w.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},w.afterRenderPageTasks=[],w.needRenderIcons=!0,w.skippedPages=[],w.skeletonComponentName="sv-skeleton",typeof document<"u"&&(R.stylesManager=new m.StylesManager);var L=function(F){return"<h3>"+F+"</h3>"};return w.createHtmlLocString("completedHtml","completingSurvey",L),w.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",L),w.createHtmlLocString("loadingHtml","loadingSurvey",L),w.createLocalizableString("logo",w,!1),w.createLocalizableString("backgroundImage",w,!1),w.createLocalizableString("startSurveyText",w,!1,!0),w.createLocalizableString("pagePrevText",w,!1,!0),w.createLocalizableString("pageNextText",w,!1,!0),w.createLocalizableString("completeText",w,!1,!0),w.createLocalizableString("previewText",w,!1,!0),w.createLocalizableString("editText",w,!1,!0),w.createLocalizableString("questionTitleTemplate",w,!0),w.textPreProcessor=new E.TextPreProcessor,w.textPreProcessor.onProcess=function(F){w.getProcessedTextValue(F)},w.timerModelValue=new v.SurveyTimerModel(w),w.timerModelValue.onTimer=function(F){w.doTimer(F)},w.createNewArray("pages",function(F){w.doOnPageAdded(F)},function(F){w.doOnPageRemoved(F)}),w.createNewArray("triggers",function(F){F.setOwner(w)}),w.createNewArray("calculatedValues",function(F){F.setOwner(w)}),w.createNewArray("completedHtmlOnCondition",function(F){F.locOwner=w}),w.createNewArray("navigateToUrlOnCondition",function(F){F.locOwner=w}),w.registerPropertyChangedHandlers(["locale"],function(){w.onSurveyLocaleChanged()}),w.registerPropertyChangedHandlers(["firstPageIsStarted"],function(){w.onFirstPageIsStartedChanged()}),w.registerPropertyChangedHandlers(["mode"],function(){w.onModeChanged()}),w.registerPropertyChangedHandlers(["progressBarType"],function(){w.updateProgressText()}),w.registerPropertyChangedHandlers(["questionStartIndex","requiredText","questionTitlePattern"],function(){w.resetVisibleIndexes()}),w.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage"],function(){w.updateState()}),w.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],function(){w.onStateAndCurrentPageChanged()}),w.registerPropertyChangedHandlers(["logo","logoPosition"],function(){w.updateHasLogo()}),w.registerPropertyChangedHandlers(["backgroundImage"],function(){w.updateRenderBackgroundImage()}),w.onGetQuestionNo.onCallbacksChanged=function(){w.resetVisibleIndexes()},w.onProgressText.onCallbacksChanged=function(){w.updateProgressText()},w.onTextMarkdown.onCallbacksChanged=function(){w.locStrsChanged()},w.onProcessHtml.onCallbacksChanged=function(){w.locStrsChanged()},w.onGetQuestionTitle.onCallbacksChanged=function(){w.locStrsChanged()},w.onUpdatePageCssClasses.onCallbacksChanged=function(){w.currentPage&&w.currentPage.updateElementCss()},w.onUpdatePanelCssClasses.onCallbacksChanged=function(){w.currentPage&&w.currentPage.updateElementCss()},w.onUpdateQuestionCssClasses.onCallbacksChanged=function(){w.currentPage&&w.currentPage.updateElementCss()},w.onShowingChoiceItem.onCallbacksChanged=function(){w.rebuildQuestionChoices()},w.navigationBarValue=w.createNavigationBar(),w.navigationBar.locOwner=w,w.onBeforeCreating(),S&&((typeof S=="string"||S instanceof String)&&(S=JSON.parse(S)),S&&S.clientId&&(w.clientId=S.clientId),w.fromJSON(S),w.surveyId&&w.loadSurveyFromService(w.surveyId,w.clientId)),w.onCreating(),I&&w.render(I),w.updateCss(),w.setCalculatedWidthModeUpdater(),w.notifier=new x.Notifier(w.css.saveData),w.notifier.addAction(w.createTryAgainAction(),"error"),w.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:w.timerModel}),w.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",data:w}),w.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:w}),w.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:w}),w.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:w}),w.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:w}),w.addLayoutElement({id:"toc-navigation",component:"sv-progress-toc",data:w}),w.layoutElements.push({id:"navigationbuttons",component:"sv-action-bar",data:w.navigationBar}),w}return Object.defineProperty(R,"cssType",{get:function(){return C.surveyCss.currentType},set:function(S){m.StylesManager.applyTheme(S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"platformName",{get:function(){return R.platform},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"commentSuffix",{get:function(){return l.settings.commentSuffix},set:function(S){l.settings.commentSuffix=S},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"commentPrefix",{get:function(){return this.commentSuffix},set:function(S){this.commentSuffix=S},enumerable:!1,configurable:!0}),R.prototype.processClosedPopup=function(S,I){throw new Error("Method not implemented.")},R.prototype.createTryAgainAction=function(){var S=this;return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:function(){S.isCompleted?S.saveDataOnComplete():S.doComplete()}}},R.prototype.createHtmlLocString=function(S,I,w){this.createLocalizableString(S,this,!1,I).onGetLocalizationTextCallback=w},R.prototype.getType=function(){return"survey"},R.prototype.onPropertyValueChanged=function(S,I,w){S==="questionsOnPageMode"&&this.onQuestionsOnPageModeChanged(I)},Object.defineProperty(R.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),R.prototype.render=function(S){this.renderCallback&&this.renderCallback()},R.prototype.updateSurvey=function(S,I){var w=function(){if(F=="model"||F=="children")return"continue";if(F.indexOf("on")==0&&L[F]&&L[F].add){var W=S[F],U=function(Q,$){W(Q,$)};L[F].add(U)}else L[F]=S[F]},L=this;for(var F in S)w();S&&S.data&&this.onValueChanged.add(function(W,U){S.data[U.name]=U.value})},R.prototype.getCss=function(){return this.css},R.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=new u.CssClassBuilder().append(this.css.body).append(this.css.completedPage).toString()},R.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss()},Object.defineProperty(R.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,C.surveyCss.getCss())),this.cssValue},set:function(S){this.setCss(S)},enumerable:!1,configurable:!0}),R.prototype.setCss=function(S,I){I===void 0&&(I=!0),I?this.mergeValues(S,this.css):this.cssValue=S,this.updateCss(),this.updateElementCss(!1)},Object.defineProperty(R.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"cssSurveyNavigationButton",{get:function(){return new u.CssClassBuilder().append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bodyCss",{get:function(){return new u.CssClassBuilder().append(this.css.body).append(this.css.bodyWithTimer,this.showTimerPanel!="none"&&this.state==="running").append(this.css.body+"--"+this.calculatedWidthMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bodyContainerCss",{get:function(){return this.css.bodyContainer},enumerable:!1,configurable:!0}),R.prototype.getNavigationCss=function(S,I){return new u.CssClassBuilder().append(S).append(I).toString()},Object.defineProperty(R.prototype,"lazyRendering",{get:function(){return this.lazyRenderingValue===!0},set:function(S){if(this.lazyRendering!==S){this.lazyRenderingValue=S;var I=this.currentPage;I&&I.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||l.settings.lazyRender.enabled},enumerable:!1,configurable:!0}),R.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var S=this.currentPage;S&&Object(d.scrollElementByChildId)(S.id)}},Object.defineProperty(R.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(S){this.setPropertyValue("triggers",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(S){this.setPropertyValue("calculatedValues",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(S){this.setPropertyValue("surveyId",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(S){this.setPropertyValue("surveyPostId",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(S){this.setPropertyValue("clientId",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(S){this.setPropertyValue("cookieName",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext")},set:function(S){this.setPropertyValue("sendResultOnPageNext",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving")},set:function(S){this.setPropertyValue("surveyShowDataSaving",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(S){this.setPropertyValue("focusFirstQuestionAutomatic",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(S){this.setPropertyValue("focusOnFirstError",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(S){(S===!0||S===void 0)&&(S="bottom"),S===!1&&(S="none"),this.setPropertyValue("showNavigationButtons",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(S){this.setPropertyValue("showPrevButton",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showTOC",{get:function(){return this.getPropertyValue("showTOC")},set:function(S){this.setPropertyValue("showTOC",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tocLocation",{get:function(){return this.getPropertyValue("tocLocation")},set:function(S){this.setPropertyValue("tocLocation",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(S){this.setPropertyValue("showTitle",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(S){this.setPropertyValue("showPageTitles",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(S){this.setPropertyValue("showCompletedPage",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(S){this.setPropertyValue("navigateToUrl",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(S){this.setPropertyValue("navigateToUrlOnCondition",S)},enumerable:!1,configurable:!0}),R.prototype.getNavigateToUrl=function(){var S=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),I=S?S.url:this.navigateToUrl;return I&&(I=this.processText(I,!1)),I},R.prototype.navigateTo=function(){var S=this.getNavigateToUrl(),I={url:S,allow:!0};this.onNavigateToUrl.fire(this,I),!(!I.url||!I.allow)&&Object(d.navigateToUrl)(I.url)},Object.defineProperty(R.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(S){this.setPropertyValue("requiredText",S)},enumerable:!1,configurable:!0}),R.prototype.beforeSettingQuestionErrors=function(S,I){this.maakeRequiredErrorsInvisibgle(I),this.onSettingQuestionErrors.fire(this,{question:S,errors:I})},R.prototype.beforeSettingPanelErrors=function(S,I){this.maakeRequiredErrorsInvisibgle(I)},R.prototype.maakeRequiredErrorsInvisibgle=function(S){if(this.hideRequiredErrors)for(var I=0;I<S.length;I++){var w=S[I].getErrorType();(w=="required"||w=="requireoneanswer")&&(S[I].visible=!1)}},Object.defineProperty(R.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(S){this.setPropertyValue("questionStartIndex",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(S){this.setPropertyValue("storeOthersAsComment",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(S){this.setPropertyValue("maxTextLength",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(S){this.setPropertyValue("maxOthersLength",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic")},set:function(S){this.setPropertyValue("goNextPageAutomatic",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic",!0)},set:function(S){this.setPropertyValue("allowCompleteSurveyAutomatic",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(S){this.setPropertyValue("checkErrorsMode",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(S){this.setPropertyValue("autoGrowComment",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"allowResizeComment",{get:function(){return this.getPropertyValue("allowResizeComment")},set:function(S){this.setPropertyValue("allowResizeComment",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(S){this.setPropertyValue("textUpdateMode",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(S){S===!0&&(S="onComplete"),S===!1&&(S="none"),this.setPropertyValue("clearInvisibleValues",S)},enumerable:!1,configurable:!0}),R.prototype.clearIncorrectValues=function(S){S===void 0&&(S=!1);for(var I=0;I<this.pages.length;I++)this.pages[I].clearIncorrectValues();if(S){var w=this.data,L=!1;for(var F in w)if(!this.getQuestionByValueName(F)&&!(this.iscorrectValueWithPostPrefix(F,l.settings.commentSuffix)||this.iscorrectValueWithPostPrefix(F,l.settings.matrix.totalsSuffix))){var W=this.getCalculatedValueByName(F);W&&W.includeIntoResult||(L=!0,delete w[F])}L&&(this.data=w)}},R.prototype.iscorrectValueWithPostPrefix=function(S,I){return S.indexOf(I)!==S.length-I.length?!1:!!this.getQuestionByValueName(S.substring(0,S.indexOf(I)))},Object.defineProperty(R.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues")},set:function(S){this.setPropertyValue("keepIncorrectValues",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locale",{get:function(){return this.getPropertyValue("locale",b.surveyLocalization.currentLocale)},set:function(S){S===b.surveyLocalization.defaultLocale&&!b.surveyLocalization.currentLocale&&(S=""),this.setPropertyValue("locale",S)},enumerable:!1,configurable:!0}),R.prototype.onSurveyLocaleChanged=function(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)},R.prototype.getUsedLocales=function(){var S=new Array;this.addUsedLocales(S);var I=S.indexOf("default");if(I>-1){var w=b.surveyLocalization.defaultLocale,L=S.indexOf(w);L>-1&&S.splice(L,1),I=S.indexOf("default"),S[I]=w}return S},R.prototype.localeChanged=function(){for(var S=0;S<this.pages.length;S++)this.pages[S].localeChanged()},R.prototype.getLocale=function(){return this.locale},R.prototype.locStrsChanged=function(){if(D.prototype.locStrsChanged.call(this),!!this.currentPage){this.isShowStartingPage||this.updateProgressText();var S=this.activePage;S&&S.locStrsChanged();for(var I=this.visiblePages,w=0;w<I.length;w++)I[w].navigationLocStrChanged();this.navigationBar.locStrsChanged()}},R.prototype.getMarkdownHtml=function(S,I){return this.getSurveyMarkdownHtml(this,S,I)},R.prototype.getRenderer=function(S){return this.getRendererForString(this,S)},R.prototype.getRendererContext=function(S){return this.getRendererContextForString(this,S)},R.prototype.getRendererForString=function(S,I){var w=this.getBuiltInRendererForString(S,I),L={element:S,name:I,renderAs:w};return this.onTextRenderAs.fire(this,L),L.renderAs},R.prototype.getRendererContextForString=function(S,I){return I},R.prototype.getExpressionDisplayValue=function(S,I,w){var L={question:S,value:I,displayValue:w};return this.onGetExpressionDisplayValue.fire(this,L),L.displayValue},R.prototype.getBuiltInRendererForString=function(S,I){if(this.isDesignMode)return g.LocalizableString.editableRenderer},R.prototype.getProcessedText=function(S){return this.processText(S,!0)},R.prototype.getLocString=function(S){return this.getLocalizationString(S)},R.prototype.getErrorCustomText=function(S,I){return this.getSurveyErrorCustomText(this,S,I)},R.prototype.getSurveyErrorCustomText=function(S,I,w){var L={text:I,name:w.getErrorType(),obj:S,error:w};return this.onErrorCustomText.fire(this,L),L.text},R.prototype.getQuestionDisplayValue=function(S,I){var w={question:S,displayValue:I};return this.onGetQuestionDisplayValue.fire(this,w),w.displayValue},Object.defineProperty(R.prototype,"emptySurveyText",{get:function(){return this.getLocalizationString("emptySurvey")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(S){this.setLocalizableStringText("logo",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"logoWidth",{get:function(){var S=this.getPropertyValue("logoWidth");return Object(d.getSize)(S)},set:function(S){this.setPropertyValue("logoWidth",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"logoHeight",{get:function(){var S=this.getPropertyValue("logoHeight");return Object(d.getSize)(S)},set:function(S){this.setPropertyValue("logoHeight",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(S){this.setPropertyValue("logoPosition",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"hasLogo",{get:function(){return this.getPropertyValue("hasLogo",!1)},enumerable:!1,configurable:!0}),R.prototype.updateHasLogo=function(){this.setPropertyValue("hasLogo",!!this.logo&&this.logoPosition!=="none")},Object.defineProperty(R.prototype,"isLogoBefore",{get:function(){return this.isDesignMode?!1:this.renderedHasLogo&&(this.logoPosition==="left"||this.logoPosition==="top")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&(this.logoPosition==="right"||this.logoPosition==="bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"logoClassNames",{get:function(){var S={left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"};return new u.CssClassBuilder().append(this.css.logo).append(S[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.locTitle.isEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(S){this.setPropertyValue("logoFit",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"themeVariables",{get:function(){return Object.assign({},this.cssVariables)},enumerable:!1,configurable:!0}),R.prototype.setIsMobile=function(S){S===void 0&&(S=!0),this.isMobile!==S&&(this._isMobile=S,this.updateCss(),this.getAllQuestions().map(function(I){return I.isMobile=S}))},Object.defineProperty(R.prototype,"isMobile",{get:function(){return this._isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isCompact",{get:function(){return this._isCompact},set:function(S){S!==this._isCompact&&(this._isCompact=S,this.updateElementCss())},enumerable:!1,configurable:!0}),R.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(R.prototype,"titleMaxWidth",{get:function(){if(!(Object(d.isMobile)()||this.isMobile)&&!this.isValueEmpty(this.isLogoImageChoosen())&&!l.settings.supportCreatorV2){var S=this.logoWidth;if(this.logoPosition==="left"||this.logoPosition==="right")return"calc(100% - 5px - 2em - "+S+")"}return""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"backgroundImage",{get:function(){return this.getLocalizableStringText("backgroundImage")},set:function(S){this.setLocalizableStringText("backgroundImage",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locBackgroundImage",{get:function(){return this.getLocalizableString("backgroundImage")},enumerable:!1,configurable:!0}),R.prototype.updateRenderBackgroundImage=function(){var S=this.getLocalizableString("backgroundImage").renderedHtml;this.renderBackgroundImage=S?["url(",S,")"].join(""):""},Object.defineProperty(R.prototype,"backgroundOpacity",{get:function(){return this.getPropertyValue("backgroundOpacity")},set:function(S){this.setPropertyValue("backgroundOpacity",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"backgroundImageStyle",{get:function(){return{opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.backgroundImageAttachment}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(S){this.setLocalizableStringText("completedHtml",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(S){this.setPropertyValue("completedHtmlOnCondition",S)},enumerable:!1,configurable:!0}),R.prototype.runExpression=function(S){if(!S)return null;var I=this.getFilteredValues(),w=this.getFilteredProperties();return new f.ExpressionRunner(S).run(I,w)},R.prototype.runCondition=function(S){if(!S)return!1;var I=this.getFilteredValues(),w=this.getFilteredProperties();return new f.ConditionRunner(S).run(I,w)},R.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(R.prototype,"renderedCompletedHtml",{get:function(){var S=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return S?S.html:this.completedHtml},enumerable:!1,configurable:!0}),R.prototype.getExpressionItemOnRunCondition=function(S){if(S.length==0)return null;for(var I=this.getFilteredValues(),w=this.getFilteredProperties(),L=0;L<S.length;L++)if(S[L].runCondition(I,w))return S[L];return null},Object.defineProperty(R.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(S){this.setLocalizableStringText("completedBeforeHtml",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(S){this.setLocalizableStringText("loadingHtml",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocalizationString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),R.prototype.addNavigationItem=function(S){return S.component||(S.component="sv-nav-btn"),S.innerCss||(S.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(S)},Object.defineProperty(R.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(S){this.setLocalizableStringText("startSurveyText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(S){this.setLocalizableStringText("pagePrevText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(S){this.setLocalizableStringText("pageNextText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(S){this.setLocalizableStringText("completeText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(S){this.setLocalizableStringText("previewText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(S){this.setLocalizableStringText("editText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),R.prototype.getElementTitleTagName=function(S,I){if(this.onGetTitleTagName.isEmpty)return I;var w={element:S,tagName:I};return this.onGetTitleTagName.fire(this,w),w.tagName},Object.defineProperty(R.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(S){S!=="numRequireTitle"&&S!=="requireNumTitle"&&S!="numTitle"&&(S="numTitleRequire"),this.setPropertyValue("questionTitlePattern",S)},enumerable:!1,configurable:!0}),R.prototype.getQuestionTitlePatternOptions=function(){var S=new Array,I=this.getLocalizationString("questionTitlePatternText"),w=this.questionStartIndex?this.questionStartIndex:"1.";return S.push({value:"numTitleRequire",text:w+" "+I+" "+this.requiredText}),S.push({value:"numRequireTitle",text:w+" "+this.requiredText+" "+I}),S.push({value:"requireNumTitle",text:this.requiredText+" "+w+" "+I}),S.push({value:"numTitle",text:w+" "+I}),S},Object.defineProperty(R.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(S){this.setLocalizableStringText("questionTitleTemplate",S),this.questionTitlePattern=this.getNewTitlePattern(S),this.questionStartIndex=this.getNewQuestionTitleElement(S,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(S,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),R.prototype.getNewTitlePattern=function(S){if(S){for(var I=[];S.indexOf("{")>-1;){S=S.substring(S.indexOf("{")+1);var w=S.indexOf("}");if(w<0)break;I.push(S.substring(0,w)),S=S.substring(w+1)}if(I.length>1){if(I[0]=="require")return"requireNumTitle";if(I[1]=="require"&&I.length==3)return"numRequireTitle";if(I.indexOf("require")<0)return"numTitle"}if(I.length==1&&I[0]=="title")return"numTitle"}return"numTitleRequire"},R.prototype.getNewQuestionTitleElement=function(S,I,w,L){if(I="{"+I+"}",!S||S.indexOf(I)<0)return w;for(var F=S.indexOf(I),W="",U="",Q=F-1;Q>=0&&S[Q]!="}";Q--);for(Q<F-1&&(W=S.substring(Q+1,F)),F+=I.length,Q=F;Q<S.length&&S[Q]!="{";Q++);for(Q>F&&(U=S.substring(F,Q)),Q=0;Q<W.length&&W.charCodeAt(Q)<33;)Q++;for(W=W.substring(Q),Q=U.length-1;Q>=0&&U.charCodeAt(Q)<33;)Q--;if(U=U.substring(0,Q+1),!W&&!U)return w;var $=w||L;return W+$+U},Object.defineProperty(R.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),R.prototype.getUpdatedQuestionTitle=function(S,I){if(this.onGetQuestionTitle.isEmpty)return I;var w={question:S,title:I};return this.onGetQuestionTitle.fire(this,w),w.title},R.prototype.getUpdatedQuestionNo=function(S,I){if(this.onGetQuestionNo.isEmpty)return I;var w={question:S,no:I};return this.onGetQuestionNo.fire(this,w),w.no},Object.defineProperty(R.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers")},set:function(S){S!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",S),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(S){S===!0&&(S="on"),S===!1&&(S="off"),S=S.toLowerCase(),S=S==="onpage"?"onPage":S,S!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",S),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(S){this.setPropertyValue("showProgressBar",S.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(S){S==="correctquestion"&&(S="correctQuestion"),S==="requiredquestion"&&(S="requiredQuestion"),this.setPropertyValue("progressBarType",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isShowProgressBarOnTop",{get:function(){return this.canShowProresBar()?this.showProgressBar==="top"||this.showProgressBar==="both":!1},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isShowProgressBarOnBottom",{get:function(){return this.canShowProresBar()?this.showProgressBar==="bottom"||this.showProgressBar==="both":!1},enumerable:!1,configurable:!0}),R.prototype.getProgressCssClasses=function(){return new u.CssClassBuilder().append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop).append(this.css.progressBottom,this.isShowProgressBarOnBottom).toString()},R.prototype.canShowProresBar=function(){return!this.isShowingPreview||this.showPreviewBeforeComplete!="showAllQuestions"},Object.defineProperty(R.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(S){this.setPropertyValue("questionTitleLocation",S.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),R.prototype.updateElementCss=function(S){this.startedPage&&this.startedPage.updateElementCss(S);for(var I=this.visiblePages,w=0;w<I.length;w++)I[w].updateElementCss(S)},Object.defineProperty(R.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(S){this.setPropertyValue("questionErrorLocation",S.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(S){this.setPropertyValue("questionDescriptionLocation",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(S){S=S.toLowerCase(),S!=this.mode&&(S!="edit"&&S!="display"||this.setPropertyValue("mode",S))},enumerable:!1,configurable:!0}),R.prototype.onModeChanged=function(){for(var S=0;S<this.pages.length;S++){var I=this.pages[S];I.setPropertyValue("isReadOnly",I.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()},Object.defineProperty(R.prototype,"data",{get:function(){for(var S={},I=this.getValuesKeys(),w=0;w<I.length;w++){var L=I[w],F=this.getDataValueCore(this.valuesHash,L);F!==void 0&&(S[L]=F)}return this.setCalculatedValuesIntoResult(S),S},set:function(S){this.valuesHash={},this.setDataCore(S)},enumerable:!1,configurable:!0}),R.prototype.mergeData=function(S){if(S){var I=this.data;this.mergeValues(S,I),this.setDataCore(I)}},R.prototype.setDataCore=function(S){if(S)for(var I in S)this.setDataValueCore(this.valuesHash,I,S[I]);this.updateAllQuestionsValue(),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue()},R.prototype.getStructuredData=function(S,I){if(S===void 0&&(S=!0),I===void 0&&(I=-1),I===0)return this.data;var w={};return this.pages.forEach(function(L){if(S){var F={};L.collectValues(F,I-1)&&(w[L.name]=F)}else L.collectValues(w,I)}),w},R.prototype.setStructuredData=function(S,I){if(I===void 0&&(I=!1),!!S){var w={};for(var L in S){var F=this.getQuestionByValueName(L);if(F)w[L]=S[L];else{var W=this.getPageByName(L);W||(W=this.getPanelByName(L)),W&&this.collectDataFromPanel(W,w,S[L])}}I?this.mergeData(w):this.data=w}},R.prototype.collectDataFromPanel=function(S,I,w){for(var L in w){var F=S.getElementByName(L);F&&(F.isPanel?this.collectDataFromPanel(F,I,w[L]):I[L]=w[L])}},Object.defineProperty(R.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(S){var I=this;if(this.editingObj!=S&&(this.editingObj&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=S,!this.isDisposed)){if(!S)for(var w=this.getAllQuestions(),L=0;L<w.length;L++)w[L].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(F,W){a.Serializer.hasOriginalProperty(I.editingObj,W.name)&&I.updateOnSetValue(W.name,I.editingObj[W.name],W.oldValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),R.prototype.setCalculatedValuesIntoResult=function(S){for(var I=0;I<this.calculatedValues.length;I++){var w=this.calculatedValues[I];w.includeIntoResult&&w.name&&this.getVariable(w.name)!==void 0&&(S[w.name]=this.getVariable(w.name))}},R.prototype.getAllValues=function(){return this.data},R.prototype.getPlainData=function(S){S||(S={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});var I=[],w=[];if(this.getAllQuestions().forEach(function(Q){var $=Q.getPlainData(S);$&&(I.push($),w.push(Q.valueName||Q.name))}),S.includeValues)for(var L=this.getValuesKeys(),F=0;F<L.length;F++){var W=L[F];if(w.indexOf(W)==-1){var U=this.getDataValueCore(this.valuesHash,W);U&&I.push({name:W,title:W,value:U,displayValue:U,isNode:!1,getString:function(Q){return typeof Q=="object"?JSON.stringify(Q):Q}})}}return I},R.prototype.getFilteredValues=function(){var S={};for(var I in this.variablesHash)S[I]=this.variablesHash[I];this.addCalculatedValuesIntoFilteredValues(S);for(var w=this.getValuesKeys(),L=0;L<w.length;L++){var I=w[L];S[I]=this.getDataValueCore(this.valuesHash,I)}return S},R.prototype.addCalculatedValuesIntoFilteredValues=function(S){for(var I=this.calculatedValues,w=0;w<I.length;w++)S[I[w].name]=I[w].value},R.prototype.getFilteredProperties=function(){return{survey:this}},R.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var S=a.Serializer.getPropertiesByObj(this.editingObj),I=[],w=0;w<S.length;w++)I.push(S[w].name);return I},R.prototype.getDataValueCore=function(S,I){return this.editingObj?a.Serializer.getObjPropertyValue(this.editingObj,I):this.getDataFromValueHash(S,I)},R.prototype.setDataValueCore=function(S,I,w){this.editingObj?a.Serializer.setObjPropertyValue(this.editingObj,I,w):this.setDataToValueHash(S,I,w)},R.prototype.deleteDataValueCore=function(S,I){this.editingObj?this.editingObj[I]=null:this.deleteDataFromValueHash(S,I)},R.prototype.getDataFromValueHash=function(S,I){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(S,I):S[I]},R.prototype.setDataToValueHash=function(S,I,w){this.valueHashSetDataCallback?this.valueHashSetDataCallback(S,I,w):S[I]=w},R.prototype.deleteDataFromValueHash=function(S,I){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(S,I):delete S[I]},Object.defineProperty(R.prototype,"comments",{get:function(){for(var S={},I=this.getValuesKeys(),w=0;w<I.length;w++){var L=I[w];L.indexOf(this.commentSuffix)>0&&(S[L]=this.getDataValueCore(this.valuesHash,L))}return S},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var S=new Array,I=0;I<this.pages.length;I++)this.isPageInVisibleList(this.pages[I])&&S.push(this.pages[I]);return S},enumerable:!1,configurable:!0}),R.prototype.isPageInVisibleList=function(S){return this.isDesignMode||S.isVisible&&!S.isStartPage},Object.defineProperty(R.prototype,"isEmpty",{get:function(){return this.pages.length==0},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"startedPage",{get:function(){var S=this.firstPageIsStarted&&this.pages.length>1?this.pages[0]:null;return S&&(S.onFirstRendering(),S.setWasShown(!0)),S},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(S){if(!this.isLoadingFromJson){var I=this.getPageByObject(S);if(!(S&&!I)&&!(!I&&this.isCurrentPageAvailable)){var w=this.visiblePages;if(!(I!=null&&w.indexOf(I)<0)&&I!=this.currentPage){var L=this.currentPage;this.currentPageChanging(I,L)&&(this.setPropertyValue("currentPage",I),I&&(I.onFirstRendering(),I.updateCustomWidgets(),I.setWasShown(!0)),this.locStrsChanged(),this.currentPageChanged(I,L))}}}},enumerable:!1,configurable:!0}),R.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(R.prototype,"isCurrentPageAvailable",{get:function(){var S=this.currentPage;return!!S&&this.isPageInVisibleList(S)&&this.isPageExistsInSurvey(S)},enumerable:!1,configurable:!0}),R.prototype.isPageExistsInSurvey=function(S){return this.pages.indexOf(S)>-1?!0:!!this.onContainsPageCallback&&this.onContainsPageCallback(S)},Object.defineProperty(R.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isShowStartingPage",{get:function(){return this.state==="starting"},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"matrixDragHandleArea",{get:function(){return this.getPropertyValue("matrixDragHandleArea","entireItem")},set:function(S){this.setPropertyValue("matrixDragHandleArea",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isShowingPage",{get:function(){return this.state=="running"||this.state=="preview"||this.isShowStartingPage},enumerable:!1,configurable:!0}),R.prototype.updateActivePage=function(){var S=this.isShowStartingPage?this.startedPage:this.currentPage;this.setPropertyValue("activePage",S)},R.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},R.prototype.getPageByObject=function(S){if(!S)return null;if(S.getType&&S.getType()=="page")return S;if(typeof S=="string"||S instanceof String)return this.getPageByName(String(S));if(!isNaN(S)){var I=Number(S),w=this.visiblePages;return S<0||S>=w.length?null:w[I]}return S},Object.defineProperty(R.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(S){var I=this.visiblePages;S<0||S>=I.length||(this.currentPage=I[S])},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(S){this.setPropertyValue("questionsOrder",S)},enumerable:!1,configurable:!0}),R.prototype.focusFirstQuestion=function(){if(!this.isFocusingQuestion){var S=this.activePage;S&&(S.scrollToTop(),S.focusFirstQuestion())}},R.prototype.scrollToTopOnPageChange=function(S){S===void 0&&(S=!0);var I=this.activePage;I&&(S&&I.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.isFocusingQuestion&&(I.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(R.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),R.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},R.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(R.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(S){this.setPropertyValue("isCompleted",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(S){this.isShowingPreview!=S&&(this.setPropertyValue("isShowingPreview",S),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(S){this.setPropertyValue("isStartedState",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(S){this.setPropertyValue("isCompletedBefore",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(S){this.setPropertyValue("isLoading",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),R.prototype.setCompletedState=function(S,I){this.setPropertyValue("completedState",S),I||(S=="saving"&&(I=this.getLocalizationString("savingData")),S=="error"&&(I=this.getLocalizationString("savingDataError")),S=="success"&&(I=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",I),this.state==="completed"&&this.showCompletedPage&&this.completedState&&this.notify(this.completedStateText,this.completedState)},R.prototype.notify=function(S,I){this.notifier.notify(S,I,I==="error")},R.prototype.clear=function(S,I){S===void 0&&(S=!0),I===void 0&&(I=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,S&&(this.data=null,this.variablesHash={}),this.timerModel.spent=0;for(var w=0;w<this.pages.length;w++)this.pages[w].timeSpent=0,this.pages[w].setWasShown(!1),this.pages[w].passed=!1;this.onFirstPageIsStartedChanged(),I&&(this.currentPage=this.firstVisiblePage),S&&this.updateValuesWithDefaults()},R.prototype.mergeValues=function(S,I){Object(d.mergeValues)(S,I)},R.prototype.updateValuesWithDefaults=function(){if(!(this.isDesignMode||this.isLoading))for(var S=0;S<this.pages.length;S++)for(var I=this.pages[S].questions,w=0;w<I.length;w++)I[w].updateValueWithDefaults()},R.prototype.updateCustomWidgets=function(S){S&&S.updateCustomWidgets()},R.prototype.currentPageChanging=function(S,I){var w=this.createPageChangeEventOptions(S,I);w.allow=!0,w.allowChanging=!0,this.onCurrentPageChanging.fire(this,w);var L=w.allowChanging&&w.allow;return L&&(this.isCurrentPageRendering=!0),L},R.prototype.currentPageChanged=function(S,I){var w=this.createPageChangeEventOptions(S,I);w.isNextPage&&(I.passed=!0),this.onCurrentPageChanged.fire(this,w)},R.prototype.createPageChangeEventOptions=function(S,I){var w=S&&I?S.visibleIndex-I.visibleIndex:0;return{oldCurrentPage:I,newCurrentPage:S,isNextPage:w===1,isPrevPage:w===-1,isGoingForward:w>0,isGoingBackward:w<0}},R.prototype.getProgress=function(){if(this.currentPage==null)return 0;if(this.progressBarType!=="pages"){var S=this.getProgressInfo();return this.progressBarType==="requiredQuestions"?S.requiredQuestionCount>=1?Math.ceil(S.requiredAnsweredQuestionCount*100/S.requiredQuestionCount):100:S.questionCount>=1?Math.ceil(S.answeredQuestionCount*100/S.questionCount):100}var I=this.visiblePages,w=I.indexOf(this.currentPage)+1;return Math.ceil(w*100/I.length)},Object.defineProperty(R.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var S=this.currentPage;return S?S.navigationButtonsVisibility==="show"?this.showNavigationButtons==="none"?"bottom":this.showNavigationButtons:S.navigationButtonsVisibility==="hide"?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),R.prototype.getIsNavigationButtonsShowingOn=function(S){var I=this.isNavigationButtonsShowing;return I=="both"||I==S},Object.defineProperty(R.prototype,"isEditMode",{get:function(){return this.mode=="edit"},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isDisplayMode",{get:function(){return this.mode=="display"||this.state=="preview"},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isUpdateValueTextOnTyping",{get:function(){return this.textUpdateMode=="onTyping"},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),R.prototype.setDesignMode=function(S){!!this._isDesignMode!=!!S&&(this._isDesignMode=!!S,this.onQuestionsOnPageModeChanged("standard"))},Object.defineProperty(R.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(S){var I=this.visiblePages;this.setPropertyValue("showInvisibleElements",S),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(I))},enumerable:!1,configurable:!0}),R.prototype.updateAllElementsVisibility=function(S){for(var I=0;I<this.pages.length;I++){var w=this.pages[I];w.updateElementVisibility(),S.indexOf(w)>-1!=w.isVisible&&this.onPageVisibleChanged.fire(this,{page:w,visible:w.isVisible})}},Object.defineProperty(R.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&this.showPreviewBeforeComplete=="showAnsweredQuestions"&&this.isAnyQuestionAnswered},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isAnyQuestionAnswered",{get:function(){for(var S=this.getAllQuestions(!0),I=0;I<S.length;I++)if(!S[I].isEmpty())return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"hasCookie",{get:function(){if(!this.cookieName||typeof document>"u")return!1;var S=document.cookie;return S&&S.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),R.prototype.setCookie=function(){!this.cookieName||typeof document>"u"||(document.cookie=this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},R.prototype.deleteCookie=function(){this.cookieName&&(document.cookie=this.cookieName+"=;")},R.prototype.nextPage=function(){return this.isLastPage?!1:this.doCurrentPageComplete(!1)},R.prototype.hasErrorsOnNavigate=function(S){var I=this;if(this.ignoreValidation||!this.isEditMode)return!1;var w=function(L){L||I.doCurrentPageCompleteCore(S)};return this.checkErrorsMode==="onComplete"?this.isLastPage?this.validate(!0,!0,w)!==!0:!1:this.validateCurrentPage(w)!==!0},R.prototype.checkForAsyncQuestionValidation=function(S,I){var w=this;this.clearAsyncValidationQuesitons();for(var L=function(){if(S[W].isRunningValidators){var U=S[W];U.onCompletedAsyncValidators=function(Q){w.onCompletedAsyncQuestionValidators(U,I,Q)},F.asyncValidationQuesitons.push(S[W])}},F=this,W=0;W<S.length;W++)L();return this.asyncValidationQuesitons.length>0},R.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var S=this.asyncValidationQuesitons,I=0;I<S.length;I++)S[I].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},R.prototype.onCompletedAsyncQuestionValidators=function(S,I,w){if(w){if(this.clearAsyncValidationQuesitons(),I(!0),this.focusOnFirstError&&S&&S.page&&S.page===this.currentPage){for(var L=this.currentPage.questions,F=0;F<L.length;F++)if(L[F]!==S&&L[F].errors.length>0)return;S.focus(!0)}return}for(var W=this.asyncValidationQuesitons,U=0;U<W.length;U++)if(W[U].isRunningValidators)return;I(!1)},Object.defineProperty(R.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isCurrentPageValid",{get:function(){return!this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),R.prototype.hasCurrentPageErrors=function(S){return this.hasPageErrors(void 0,S)},R.prototype.validateCurrentPage=function(S){return this.validatePage(void 0,S)},R.prototype.hasPageErrors=function(S,I){var w=this.validatePage(S,I);return w===void 0?w:!w},R.prototype.validatePage=function(S,I){return S||(S=this.activePage),S?this.checkIsPageHasErrors(S)?!1:I&&this.checkForAsyncQuestionValidation(S.questions,function(w){return I(w)})?void 0:!0:!0},R.prototype.hasErrors=function(S,I,w){S===void 0&&(S=!0),I===void 0&&(I=!1);var L=this.validate(S,I,w);return L===void 0?L:!L},R.prototype.validate=function(S,I,w){S===void 0&&(S=!0),I===void 0&&(I=!1),w&&(S=!0);for(var L=this.visiblePages,F=null,W=!0,U=0;U<L.length;U++)L[U].validate(S,!1)||(F||(F=L[U]),W=!1);if(I&&F){this.currentPage=F;for(var Q=F.questions,U=0;U<Q.length;U++)if(Q[U].errors.length>0){Q[U].focus(!0);break}}return!W||!w?W:this.checkForAsyncQuestionValidation(this.getAllQuestions(),function($){return w($)})?void 0:!0},R.prototype.ensureUniqueNames=function(S){if(S===void 0&&(S=null),S==null)for(var I=0;I<this.pages.length;I++)this.ensureUniqueName(this.pages[I]);else this.ensureUniqueName(S)},R.prototype.ensureUniqueName=function(S){if(S.isPage&&this.ensureUniquePageName(S),S.isPanel&&this.ensureUniquePanelName(S),S.isPage||S.isPanel)for(var I=S.elements,w=0;w<I.length;w++)this.ensureUniqueNames(I[w]);else this.ensureUniqueQuestionName(S)},R.prototype.ensureUniquePageName=function(S){var I=this;return this.ensureUniqueElementName(S,function(w){return I.getPageByName(w)})},R.prototype.ensureUniquePanelName=function(S){var I=this;return this.ensureUniqueElementName(S,function(w){return I.getPanelByName(w)})},R.prototype.ensureUniqueQuestionName=function(S){var I=this;return this.ensureUniqueElementName(S,function(w){return I.getQuestionByName(w)})},R.prototype.ensureUniqueElementName=function(S,I){var w=I(S.name);if(!(!w||w==S)){for(var L=this.getNewName(S.name);I(L);)var L=this.getNewName(S.name);S.name=L}},R.prototype.getNewName=function(S){for(var I=S.length;I>0&&S[I-1]>="0"&&S[I-1]<="9";)I--;var w=S.substring(0,I),L=0;return I<S.length&&(L=parseInt(S.substring(I))),L++,w+L},R.prototype.checkIsCurrentPageHasErrors=function(S){return S===void 0&&(S=void 0),this.checkIsPageHasErrors(this.activePage,S)},R.prototype.checkIsPageHasErrors=function(S,I){if(I===void 0&&(I=void 0),I===void 0&&(I=this.focusOnFirstError),!S)return!0;var w=!S.validate(!0,I);return this.fireValidatedErrorsOnPage(S),w},R.prototype.fireValidatedErrorsOnPage=function(S){if(!(this.onValidatedErrorsOnCurrentPage.isEmpty||!S)){for(var I=S.questions,w=new Array,L=new Array,F=0;F<I.length;F++){var W=I[F];if(W.errors.length>0){w.push(W);for(var U=0;U<W.errors.length;U++)L.push(W.errors[U])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:w,errors:L,page:S})}},R.prototype.prevPage=function(){var S=this;if(this.isFirstPage||this.state==="starting")return!1;this.resetNavigationButton();var I=this.skippedPages.find(function(F){return F.to==S.currentPage});if(I)this.currentPage=I.from,this.skippedPages.splice(this.skippedPages.indexOf(I),1);else{var w=this.visiblePages,L=w.indexOf(this.currentPage);this.currentPage=w[L-1]}return!0},R.prototype.completeLastPage=function(){var S=this.doCurrentPageComplete(!0);return S&&this.cancelPreview(),S},R.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},R.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},R.prototype.nextPageUIClick=function(){if(!(this.mouseDownPage&&this.mouseDownPage!==this.activePage))return this.mouseDownPage=null,this.nextPage()},R.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},R.prototype.showPreview=function(){return this.resetNavigationButton(),this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0)?!1:(this.showPreviewCore(),!0)},R.prototype.showPreviewCore=function(){var S={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,S),this.isShowingPreview=S.allowShowPreview&&S.allow},R.prototype.cancelPreview=function(S){S===void 0&&(S=null),this.isShowingPreview&&(this.isShowingPreview=!1,o.Helpers.isValueEmpty(S)&&this.visiblePageCount>0&&(S=this.visiblePageCount-1),S!==null&&(this.currentPage=S))},R.prototype.cancelPreviewByPage=function(S){this.cancelPreview(S.originalPage)},R.prototype.doCurrentPageComplete=function(S){return this.isValidatingOnServer||(this.resetNavigationButton(),this.hasErrorsOnNavigate(S))?!1:this.doCurrentPageCompleteCore(S)},R.prototype.doCurrentPageCompleteCore=function(S){return this.doServerValidation(S)?!1:S?(this.currentPage.passed=!0,this.doComplete(this.canBeCompletedByTrigger)):(this.doNextPage(),!0)},Object.defineProperty(R.prototype,"isSinglePage",{get:function(){return this.questionsOnPageMode=="singlePage"},set:function(S){this.questionsOnPageMode=S?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(S){this.setPropertyValue("questionsOnPageMode",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted")},set:function(S){this.setPropertyValue("firstPageIsStarted",S)},enumerable:!1,configurable:!0}),R.prototype.isPageStarted=function(S){return this.firstPageIsStarted&&this.pages.length>1&&this.pages[0]===S},Object.defineProperty(R.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(S){this.setPropertyValue("showPreviewBeforeComplete",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isShowPreviewBeforeComplete",{get:function(){var S=this.showPreviewBeforeComplete;return S=="showAllQuestions"||S=="showAnsweredQuestions"},enumerable:!1,configurable:!0}),R.prototype.onFirstPageIsStartedChanged=function(){this.isStartedState=this.firstPageIsStarted&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)},R.prototype.onShowingPreviewChanged=function(){this.isDesignMode||(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0)):(this.runningPages&&this.restoreOrigionalPages(this.runningPages),this.runningPages=void 0),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.currentPageNo=0)},R.prototype.onQuestionsOnPageModeChanged=function(S){this.isShowingPreview||(this.questionsOnPageMode=="standard"||this.isDesignMode?(this.origionalPages&&this.restoreOrigionalPages(this.origionalPages),this.origionalPages=void 0):((!S||S=="standard")&&(this.origionalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage)),this.runConditions(),this.updateVisibleIndexes())},R.prototype.restoreOrigionalPages=function(S){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var I=0;I<S.length;I++)this.pages.push(S[I])},R.prototype.getPageStartIndex=function(){return this.firstPageIsStarted&&this.pages.length>0?1:0},R.prototype.setupPagesForPageModes=function(S){this.questionHashesClear();var I=this.getPageStartIndex();D.prototype.startLoadingFromJson.call(this);var w=this.createPagesForQuestionOnPageMode(S,I),L=this.pages.length-I;this.pages.splice(I,L);for(var F=0;F<w.length;F++)this.pages.push(w[F]);D.prototype.endLoadingFromJson.call(this);for(var F=0;F<w.length;F++)w[F].setSurveyImpl(this,!0);this.doElementsOnLoad(),this.updateCurrentPage()},R.prototype.createPagesForQuestionOnPageMode=function(S,I){return S?[this.createSinglePage(I)]:this.createPagesForEveryQuestion(I)},R.prototype.createSinglePage=function(S){var I=this.createNewPage("all");I.setSurveyImpl(this);for(var w=S;w<this.pages.length;w++){var L=this.pages[w],F=a.Serializer.createClass("panel");F.originalPage=L,I.addPanel(F);var W=new a.JsonObject().toJsonObject(L);new a.JsonObject().toObject(W,F),this.showPageTitles||(F.title="")}return I},R.prototype.createPagesForEveryQuestion=function(S){for(var I=[],w=S;w<this.pages.length;w++){var L=this.pages[w];L.setWasShown(!0);for(var F=0;F<L.elements.length;F++){var W=L.elements[F],U=a.Serializer.createClass(W.getType());if(U){var Q=new a.JsonObject;Q.lightSerializing=!0;var $=Q.toJsonObject(L),z=a.Serializer.createClass(L.getType());z.fromJSON($),z.name=W.name,z.setSurveyImpl(this),I.push(z);var q=new a.JsonObject().toJsonObject(W);z.addElement(U),new a.JsonObject().toObject(q,U);for(var K=0;K<z.questions.length;K++)this.questionHashesAdded(z.questions[K])}}}return I},Object.defineProperty(R.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),R.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(R.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),R.prototype.updateIsFirstLastPageState=function(){var S=this.currentPage;this.setPropertyValue("isFirstPage",!!S&&S===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!S&&S===this.lastVisiblePage)},R.prototype.calcIsShowPrevButton=function(){if(this.isFirstPage||!this.showPrevButton||this.state!=="running")return!1;var S=this.visiblePages[this.currentPageNo-1];return this.getPageMaxTimeToFinish(S)<=0},R.prototype.calcIsShowNextButton=function(){return this.state==="running"&&!this.isLastPage&&!this.canBeCompletedByTrigger},R.prototype.calcIsCompleteButtonVisible=function(){var S=this.state;return this.isEditMode&&(this.state==="running"&&(this.isLastPage&&!this.isShowPreviewBeforeComplete||this.canBeCompletedByTrigger)||S==="preview")},R.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="running"&&this.isLastPage},R.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="preview"},Object.defineProperty(R.prototype,"firstVisiblePage",{get:function(){for(var S=this.pages,I=0;I<S.length;I++)if(this.isPageInVisibleList(S[I]))return S[I];return null},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"lastVisiblePage",{get:function(){for(var S=this.pages,I=S.length-1;I>=0;I--)if(this.isPageInVisibleList(S[I]))return S[I];return null},enumerable:!1,configurable:!0}),R.prototype.doComplete=function(S,I){if(S===void 0&&(S=!1),!this.isCompleted)return this.checkOnCompletingEvent(S,I)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(S,I),this.setCookie(),!0):(this.isCompleted=!1,!1)},R.prototype.saveDataOnComplete=function(S,I){var w=this;S===void 0&&(S=!1);var L=this.hasCookie,F=function(q){$=!0,w.setCompletedState("saving",q)},W=function(q){w.setCompletedState("error",q)},U=function(q){w.setCompletedState("success",q),w.navigateTo()},Q=function(q){w.setCompletedState("","")},$=!1,z={isCompleteOnTrigger:S,completeTrigger:I,showSaveInProgress:F,showSaveError:W,showSaveSuccess:U,clearSaveMessages:Q,showDataSaving:F,showDataSavingError:W,showDataSavingSuccess:U,showDataSavingClear:Q};this.onComplete.fire(this,z),!L&&this.surveyPostId&&this.sendResult(),$||this.navigateTo()},R.prototype.checkOnCompletingEvent=function(S,I){var w={allowComplete:!0,allow:!0,isCompleteOnTrigger:S,completeTrigger:I};return this.onCompleting.fire(this,w),w.allowComplete&&w.allow},R.prototype.start=function(){return!this.firstPageIsStarted||this.checkIsPageHasErrors(this.startedPage,!0)?!1:(this.isStartedState=!1,this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),!0)},Object.defineProperty(R.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),R.prototype.setIsValidatingOnServer=function(S){S!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",S),this.onIsValidatingOnServerChanged())},R.prototype.createServerValidationOptions=function(S,I){var w=this,L={data:{},errors:{},survey:this,complete:function(){w.completeServerValidation(L,I)}};if(S&&this.checkErrorsMode==="onComplete")L.data=this.data;else for(var F=this.activePage.questions,W=0;W<F.length;W++){var U=F[W];if(U.visible){var Q=this.getValue(U.getValueName());this.isValueEmpty(Q)||(L.data[U.getValueName()]=Q)}}return L},R.prototype.onIsValidatingOnServerChanged=function(){},R.prototype.doServerValidation=function(S,I){var w=this;if(I===void 0&&(I=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!S&&this.checkErrorsMode==="onComplete")return!1;this.setIsValidatingOnServer(!0);var L=typeof this.onServerValidateQuestions=="function";return this.serverValidationEventCount=L?1:this.onServerValidateQuestions.length,L?this.onServerValidateQuestions(this,this.createServerValidationOptions(S,I)):this.onServerValidateQuestions.fireByCreatingOptions(this,function(){return w.createServerValidationOptions(S,I)}),!0},R.prototype.completeServerValidation=function(S,I){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,S&&S.errors&&Object.keys(S.errors).length===0))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),!(!S&&!S.survey))){var w=S.survey,L=!1;if(S.errors){var F=this.focusOnFirstError;for(var W in S.errors){var U=w.getQuestionByName(W);U&&U.errors&&(L=!0,U.addError(new P.CustomError(S.errors[W],this)),F&&(F=!1,U.page&&(this.currentPage=U.page),U.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}L||(I?this.showPreviewCore():w.isLastPage?w.doComplete():w.doNextPage())}},R.prototype.doNextPage=function(){var S=this.currentPage;if(this.checkOnPageTriggers(!1),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),S===this.currentPage){var I=this.visiblePages,w=I.indexOf(this.currentPage);this.currentPage=I[w+1]}},R.prototype.setCompleted=function(S){this.doComplete(!0,S)},R.prototype.canBeCompleted=function(S,I){if(l.settings.triggers.changeNavigationButtonsOnComplete){var w=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),I?this.completedByTriggers[S.id]=!0:delete this.completedByTriggers[S.id],w!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}},Object.defineProperty(R.prototype,"canBeCompletedByTrigger",{get:function(){return this.completedByTriggers?Object.keys(this.completedByTriggers).length>0:!1},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"processedCompletedHtml",{get:function(){var S=this.renderedCompletedHtml;return S?this.processHtml(S,"completed"):""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"processedCompletedBeforeHtml",{get:function(){return this.processHtml(this.completedBeforeHtml,"completed-before")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"processedLoadingHtml",{get:function(){return this.processHtml(this.loadingHtml,"loading")},enumerable:!1,configurable:!0}),R.prototype.getProgressInfo=function(){var S=this.isDesignMode?this.pages:this.visiblePages;return c.SurveyElement.getProgressInfoByElements(S,!1)},Object.defineProperty(R.prototype,"progressText",{get:function(){var S=this.getPropertyValue("progressText","");return S||(this.updateProgressText(),S=this.getPropertyValue("progressText","")),S},enumerable:!1,configurable:!0}),R.prototype.updateProgressText=function(S){S===void 0&&(S=!1),!this.isCalculatingProgressText&&(S&&this.progressBarType=="pages"&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1))},R.prototype.getProgressText=function(){if(!this.isDesignMode&&this.currentPage==null)return"";var S={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},I=this.progressBarType.toLowerCase();if(I==="questions"||I==="requiredquestions"||I==="correctquestions"||!this.onProgressText.isEmpty){var w=this.getProgressInfo();S.questionCount=w.questionCount,S.answeredQuestionCount=w.answeredQuestionCount,S.requiredQuestionCount=w.requiredQuestionCount,S.requiredAnsweredQuestionCount=w.requiredAnsweredQuestionCount}return S.text=this.getProgressTextCore(S),this.onProgressText.fire(this,S),S.text},R.prototype.getProgressTextCore=function(S){var I=this.progressBarType.toLowerCase();if(I==="questions")return this.getLocalizationFormatString("questionsProgressText",S.answeredQuestionCount,S.questionCount);if(I==="requiredquestions")return this.getLocalizationFormatString("questionsProgressText",S.requiredAnsweredQuestionCount,S.requiredQuestionCount);if(I==="correctquestions"){var w=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",w,S.questionCount)}var L=this.isDesignMode?this.pages:this.visiblePages,F=L.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",F,L.length)},R.prototype.getRootCss=function(){return new u.CssClassBuilder().append(this.css.root).append(this.css.rootMobile,this.isMobile).append(this.css.rootReadOnly,this.mode==="display").toString()},R.prototype.afterRenderSurvey=function(S){var I=this;this.destroyResizeObserver(),Array.isArray(S)&&(S=c.SurveyElement.GetFirstNonTextElement(S));var w=S,L=this.css.variables;if(L){var F=Number.parseFloat(window.getComputedStyle(w).getPropertyValue(L.mobileWidth));if(F){var W=!1;this.resizeObserver=new ResizeObserver(function(){W||!Object(d.isContainerVisible)(w)?W=!1:W=I.processResponsiveness(w.offsetWidth,F)}),this.resizeObserver.observe(w)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:S})},R.prototype.processResponsiveness=function(S,I){var w=S<I;return this.isMobile===w?!1:(this.setIsMobile(w),!0)},R.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},R.prototype.updateQuestionCssClasses=function(S,I){this.onUpdateQuestionCssClasses.fire(this,{question:S,cssClasses:I})},R.prototype.updatePanelCssClasses=function(S,I){this.onUpdatePanelCssClasses.fire(this,{panel:S,cssClasses:I})},R.prototype.updatePageCssClasses=function(S,I){this.onUpdatePageCssClasses.fire(this,{page:S,cssClasses:I})},R.prototype.updateChoiceItemCss=function(S,I){I.question=S,this.onUpdateChoiceItemCss.fire(this,I)},R.prototype.afterRenderPage=function(S){var I=this;for(!this.isDesignMode&&!this.isFocusingQuestion&&setTimeout(function(){return I.scrollToTopOnPageChange(!I.isFirstPageRendering)},1);this.afterRenderPageTasks.length>0;)this.afterRenderPageTasks.shift()();this.isFirstPageRendering=!1,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:S})},R.prototype.afterRenderHeader=function(S){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:S})},R.prototype.afterRenderQuestion=function(S,I){this.onAfterRenderQuestion.fire(this,{question:S,htmlElement:I})},R.prototype.afterRenderQuestionInput=function(S,I){if(!this.onAfterRenderQuestionInput.isEmpty){var w=S.inputId,L=l.settings.environment.root;if(w&&I.id!==w&&typeof L<"u"){var F=L.getElementById(w);F&&(I=F)}this.onAfterRenderQuestionInput.fire(this,{question:S,htmlElement:I})}},R.prototype.afterRenderPanel=function(S,I){this.onAfterRenderPanel.fire(this,{panel:S,htmlElement:I})},R.prototype.whenQuestionFocusIn=function(S){this.onFocusInQuestion.fire(this,{question:S})},R.prototype.whenPanelFocusIn=function(S){this.onFocusInPanel.fire(this,{panel:S})},R.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(S){return S.surveyChoiceItemVisibilityChange()})},R.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},R.prototype.getChoiceItemVisibility=function(S,I,w){var L={question:S,item:I,visible:w};return this.onShowingChoiceItem.fire(this,L),L.visible},R.prototype.loadQuestionChoices=function(S){this.onChoicesLazyLoad.fire(this,S)},R.prototype.getChoiceDisplayValue=function(S){this.onGetChoiceDisplayValue.isEmpty?S.setItems(null):this.onGetChoiceDisplayValue.fire(this,S)},R.prototype.matrixBeforeRowAdded=function(S){this.onMatrixRowAdding.fire(this,S)},R.prototype.matrixRowAdded=function(S,I){this.onMatrixRowAdded.fire(this,{question:S,row:I})},R.prototype.matrixColumnAdded=function(S,I){this.onMatrixColumnAdded.fire(this,{question:S,column:I})},R.prototype.multipleTextItemAdded=function(S,I){this.onMultipleTextItemAdded.fire(this,{question:S,item:I})},R.prototype.getQuestionByValueNameFromArray=function(S,I,w){var L=this.getQuestionsByValueName(S);if(L){for(var F=0;F<L.length;F++){var W=L[F].getQuestionFromArray(I,w);if(W)return W}return null}},R.prototype.matrixRowRemoved=function(S,I,w){this.onMatrixRowRemoved.fire(this,{question:S,rowIndex:I,row:w})},R.prototype.matrixRowRemoving=function(S,I,w){var L={question:S,rowIndex:I,row:w,allow:!0};return this.onMatrixRowRemoving.fire(this,L),L.allow},R.prototype.matrixAllowRemoveRow=function(S,I,w){var L={question:S,rowIndex:I,row:w,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,L),L.allow},R.prototype.matrixCellCreating=function(S,I){I.question=S,this.onMatrixCellCreating.fire(this,I)},R.prototype.matrixCellCreated=function(S,I){I.question=S,this.onMatrixCellCreated.fire(this,I)},R.prototype.matrixAfterCellRender=function(S,I){I.question=S,this.onAfterRenderMatrixCell.fire(this,I)},R.prototype.matrixCellValueChanged=function(S,I){I.question=S,this.onMatrixCellValueChanged.fire(this,I)},R.prototype.matrixCellValueChanging=function(S,I){I.question=S,this.onMatrixCellValueChanging.fire(this,I)},Object.defineProperty(R.prototype,"isValidateOnValueChanging",{get:function(){return this.checkErrorsMode==="onValueChanging"},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isValidateOnValueChanged",{get:function(){return this.checkErrorsMode==="onValueChanged"},enumerable:!1,configurable:!0}),R.prototype.matrixCellValidate=function(S,I){return I.question=S,this.onMatrixCellValidate.fire(this,I),I.error?new P.CustomError(I.error,this):null},R.prototype.dynamicPanelAdded=function(S,I,w){if(this.isLoadingFromJson||this.updateVisibleIndexes(),!this.onDynamicPanelAdded.isEmpty){var L=S.panels;I===void 0&&(I=L.length-1,w=L[I]),this.onDynamicPanelAdded.fire(this,{question:S,panel:w,panelIndex:I})}},R.prototype.dynamicPanelRemoved=function(S,I,w){for(var L=w?w.questions:[],F=0;F<L.length;F++)L[F].clearOnDeletingContainer();this.updateVisibleIndexes(),this.onDynamicPanelRemoved.fire(this,{question:S,panelIndex:I,panel:w})},R.prototype.dynamicPanelRemoving=function(S,I,w){var L={question:S,panelIndex:I,panel:w,allow:!0};return this.onDynamicPanelRemoving.fire(this,L),L.allow},R.prototype.dynamicPanelItemValueChanged=function(S,I){I.question=S,I.panelIndex=I.itemIndex,I.panelData=I.itemValue,this.onDynamicPanelItemValueChanged.fire(this,I)},R.prototype.dragAndDropAllow=function(S){return this.onDragDropAllow.fire(this,S),S.allow},R.prototype.elementContentVisibilityChanged=function(S){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:S})},R.prototype.getUpdatedPanelFooterActions=function(S,I,w){var L={question:w,panel:S,actions:I};return this.onGetPanelFooterActions.fire(this,L),L.actions},R.prototype.getUpdatedElementTitleActions=function(S,I){return S.isPage?this.getUpdatedPageTitleActions(S,I):S.isPanel?this.getUpdatedPanelTitleActions(S,I):this.getUpdatedQuestionTitleActions(S,I)},R.prototype.getUpdatedQuestionTitleActions=function(S,I){var w={question:S,titleActions:I};return this.onGetQuestionTitleActions.fire(this,w),w.titleActions},R.prototype.getUpdatedPanelTitleActions=function(S,I){var w={panel:S,titleActions:I};return this.onGetPanelTitleActions.fire(this,w),w.titleActions},R.prototype.getUpdatedPageTitleActions=function(S,I){var w={page:S,titleActions:I};return this.onGetPageTitleActions.fire(this,w),w.titleActions},R.prototype.getUpdatedMatrixRowActions=function(S,I,w){var L={question:S,actions:w,row:I};return this.onGetMatrixRowActions.fire(this,L),L.actions},R.prototype.scrollElementToTop=function(S,I,w,L){var F={element:S,question:I,page:w,elementId:L,cancel:!1};this.onScrollingElementToTop.fire(this,F),F.cancel||c.SurveyElement.ScrollElementToTop(F.elementId)},R.prototype.uploadFiles=function(S,I,w,L){this.onUploadFiles.isEmpty?L("error",w):this.onUploadFiles.fire(this,{question:S,name:I,files:w||[],callback:L}),this.surveyPostId&&this.uploadFilesCore(I,w,L)},R.prototype.downloadFile=function(S,I,w,L){this.onDownloadFile.isEmpty&&L&&L("success",w.content||w),this.onDownloadFile.fire(this,{question:S,name:I,content:w.content||w,fileValue:w,callback:L})},R.prototype.clearFiles=function(S,I,w,L,F){this.onClearFiles.isEmpty&&F&&F("success",w),this.onClearFiles.fire(this,{question:S,name:I,value:w,fileName:L,callback:F})},R.prototype.updateChoicesFromServer=function(S,I,w){var L={question:S,choices:I,serverResult:w};return this.onLoadChoicesFromServer.fire(this,L),L.choices},R.prototype.loadedChoicesFromServer=function(S){this.locStrsChanged()},R.prototype.createSurveyService=function(){return new y.dxSurveyService},R.prototype.uploadFilesCore=function(S,I,w){var L=this,F=[];I.forEach(function(W){w&&w("uploading",W),L.createSurveyService().sendFile(L.surveyPostId,W,function(U,Q){U?(F.push({content:Q,file:W}),F.length===I.length&&w&&w("success",F)):w&&w("error",{response:Q,file:W})})})},R.prototype.getPage=function(S){return this.pages[S]},R.prototype.addPage=function(S,I){I===void 0&&(I=-1),S!=null&&(I<0||I>=this.pages.length?this.pages.push(S):this.pages.splice(I,0,S))},R.prototype.addNewPage=function(S,I){S===void 0&&(S=null),I===void 0&&(I=-1);var w=this.createNewPage(S);return this.addPage(w,I),w},R.prototype.removePage=function(S){var I=this.pages.indexOf(S);I<0||(this.pages.splice(I,1),this.currentPage==S&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},R.prototype.getQuestionByName=function(S,I){if(I===void 0&&(I=!1),!S)return null;I&&(S=S.toLowerCase());var w=I?this.questionHashes.namesInsensitive:this.questionHashes.names,L=w[S];return L?L[0]:null},R.prototype.findQuestionByName=function(S){return this.getQuestionByName(S)},R.prototype.getQuestionByValueName=function(S,I){I===void 0&&(I=!1);var w=this.getQuestionsByValueName(S,I);return w?w[0]:null},R.prototype.getQuestionsByValueName=function(S,I){I===void 0&&(I=!1);var w=I?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames,L=w[S];return L||null},R.prototype.getCalculatedValueByName=function(S){for(var I=0;I<this.calculatedValues.length;I++)if(S==this.calculatedValues[I].name)return this.calculatedValues[I];return null},R.prototype.getQuestionsByNames=function(S,I){I===void 0&&(I=!1);var w=[];if(!S)return w;for(var L=0;L<S.length;L++)if(S[L]){var F=this.getQuestionByName(S[L],I);F&&w.push(F)}return w},R.prototype.getPageByElement=function(S){for(var I=0;I<this.pages.length;I++){var w=this.pages[I];if(w.containsElement(S))return w}return null},R.prototype.getPageByQuestion=function(S){return this.getPageByElement(S)},R.prototype.getPageByName=function(S){for(var I=0;I<this.pages.length;I++)if(this.pages[I].name==S)return this.pages[I];return null},R.prototype.getPagesByNames=function(S){var I=[];if(!S)return I;for(var w=0;w<S.length;w++)if(S[w]){var L=this.getPageByName(S[w]);L&&I.push(L)}return I},R.prototype.getAllQuestions=function(S,I){S===void 0&&(S=!1),I===void 0&&(I=!1);for(var w=new Array,L=0;L<this.pages.length;L++)this.pages[L].addQuestionsToList(w,S,I);return w},R.prototype.getQuizQuestions=function(){for(var S=new Array,I=this.getPageStartIndex(),w=I;w<this.pages.length;w++)if(this.pages[w].isVisible)for(var L=this.pages[w].questions,F=0;F<L.length;F++){var W=L[F];W.quizQuestionCount>0&&S.push(W)}return S},R.prototype.getPanelByName=function(S,I){I===void 0&&(I=!1);var w=this.getAllPanels();I&&(S=S.toLowerCase());for(var L=0;L<w.length;L++){var F=w[L].name;if(I&&(F=F.toLowerCase()),F==S)return w[L]}return null},R.prototype.getAllPanels=function(S,I){S===void 0&&(S=!1),I===void 0&&(I=!1);for(var w=new Array,L=0;L<this.pages.length;L++)this.pages[L].addPanelsIntoList(w,S,I);return w},R.prototype.createNewPage=function(S){var I=a.Serializer.createClass("page");return I.name=S,I},R.prototype.questionOnValueChanging=function(S,I){if(this.editingObj){var w=a.Serializer.findProperty(this.editingObj.getType(),S);w&&(I=w.settingValue(this.editingObj,I))}if(this.onValueChanging.isEmpty)return I;var L={name:S,question:this.getQuestionByValueName(S),value:this.getUnbindValue(I),oldValue:this.getValue(S)};return this.onValueChanging.fire(this,L),L.value},R.prototype.updateQuestionValue=function(S,I){if(!this.isLoadingFromJson){var w=this.getQuestionsByValueName(S);if(w)for(var L=0;L<w.length;L++){var F=w[L].value;(F===I&&Array.isArray(F)&&this.editingObj||!this.isTwoValueEquals(F,I))&&w[L].updateValueFromSurvey(I)}}},R.prototype.checkQuestionErrorOnValueChanged=function(S){!this.isNavigationButtonPressed&&(this.checkErrorsMode==="onValueChanged"||S.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(S)},R.prototype.checkQuestionErrorOnValueChangedCore=function(S){var I=S.getAllErrors().length,w=!S.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging}),L=this.checkErrorsMode.indexOf("Value")>-1;return S.page&&L&&(I>0||S.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(S.page),w},R.prototype.checkErrorsOnValueChanging=function(S,I){if(this.isLoadingFromJson)return!1;var w=this.getQuestionsByValueName(S);if(!w)return!1;for(var L=!1,F=0;F<w.length;F++){var W=w[F];this.isTwoValueEquals(W.valueForSurvey,I)||(W.value=I),this.checkQuestionErrorOnValueChangedCore(W)&&(L=!0),L=L||W.errors.length>0}return L},R.prototype.notifyQuestionOnValueChanged=function(S,I){if(!this.isLoadingFromJson){var w=this.getQuestionsByValueName(S);if(w)for(var L=0;L<w.length;L++){var F=w[L];this.checkQuestionErrorOnValueChanged(F),F.onSurveyValueChanged(I),this.onValueChanged.fire(this,{name:S,question:F,value:I})}else this.onValueChanged.fire(this,{name:S,question:null,value:I});this.isDisposed||(this.checkElementsBindings(S,I),this.notifyElementsOnAnyValueOrVariableChanged(S))}},R.prototype.checkElementsBindings=function(S,I){this.isRunningElementsBindings=!0;for(var w=0;w<this.pages.length;w++)this.pages[w].checkBindings(S,I);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},R.prototype.notifyElementsOnAnyValueOrVariableChanged=function(S){if(this.isEndLoadingFromJson!=="processing"){if(this.isRunningConditions){this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;return}for(var I=0;I<this.pages.length;I++)this.pages[I].onAnyValueChanged(S);this.isEndLoadingFromJson||this.locStrsChanged()}},R.prototype.updateAllQuestionsValue=function(){for(var S=this.getAllQuestions(),I=0;I<S.length;I++){var w=S[I],L=w.getValueName();w.updateValueFromSurvey(this.getValue(L)),w.requireUpdateCommentValue&&w.updateCommentFromSurvey(this.getComment(L))}},R.prototype.notifyAllQuestionsOnValueChanged=function(){for(var S=this.getAllQuestions(),I=0;I<S.length;I++)S[I].onSurveyValueChanged(this.getValue(S[I].getValueName()))},R.prototype.checkOnPageTriggers=function(S){for(var I=this.getCurrentPageQuestions(!0),w={},L=0;L<I.length;L++){var F=I[L],W=F.getValueName();w[W]=this.getValue(W)}this.addCalculatedValuesIntoFilteredValues(w),this.checkTriggers(w,!0,S)},R.prototype.getCurrentPageQuestions=function(S){S===void 0&&(S=!1);var I=[],w=this.currentPage;if(!w)return I;for(var L=0;L<w.questions.length;L++){var F=w.questions[L];!S&&!F.visible||!F.name||I.push(F)}return I},R.prototype.checkTriggers=function(S,I,w){if(w===void 0&&(w=!1),!(this.isCompleted||this.triggers.length==0||this.isDisplayMode)){if(this.isTriggerIsRunning){this.triggerValues=this.getFilteredValues();for(var L in S)this.triggerKeys[L]=S[L];return}this.isTriggerIsRunning=!0,this.triggerKeys=S,this.triggerValues=this.getFilteredValues();for(var F=this.getFilteredProperties(),W=this.canBeCompletedByTrigger,U=0;U<this.triggers.length;U++)this.triggers[U].checkExpression(I,w,this.triggerKeys,this.triggerValues,F);W!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}},R.prototype.doElementsOnLoad=function(){for(var S=0;S<this.pages.length;S++)this.pages[S].onSurveyLoad()},Object.defineProperty(R.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),R.prototype.runConditions=function(){if(!(this.isCompleted||this.isEndLoadingFromJson==="processing"||this.isRunningConditions)){this.conditionValues=this.getFilteredValues();var S=this.getFilteredProperties(),I=this.pages.indexOf(this.currentPage);this.runConditionsCore(S),this.checkIfNewPagesBecomeVisible(I),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<l.settings.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},R.prototype.runConditionOnValueChanged=function(S,I){this.isRunningConditions?(this.conditionValues[S]=I,this.isValueChangedOnRunningCondition=!0):this.runConditions()},R.prototype.runConditionsCore=function(S){for(var I=this.pages,w=0;w<this.calculatedValues.length;w++)this.calculatedValues[w].resetCalculation();for(var w=0;w<this.calculatedValues.length;w++)this.calculatedValues[w].doCalculation(this.calculatedValues,this.conditionValues,S);D.prototype.runConditionCore.call(this,this.conditionValues,S);for(var w=0;w<I.length;w++)I[w].runCondition(this.conditionValues,S)},R.prototype.checkIfNewPagesBecomeVisible=function(S){var I=this.pages.indexOf(this.currentPage);if(!(I<=S+1)){for(var w=S+1;w<I;w++)if(this.pages[w].isVisible){this.currentPage=this.pages[w];break}}},R.prototype.sendResult=function(S,I,w){if(S===void 0&&(S=null),I===void 0&&(I=null),w===void 0&&(w=!1),!!this.isEditMode&&(w&&this.onPartialSend&&this.onPartialSend.fire(this,null),!S&&this.surveyPostId&&(S=this.surveyPostId),!!S&&(I&&(this.clientId=I),!(w&&!this.clientId)))){var L=this;this.surveyShowDataSaving&&this.setCompletedState("saving",""),this.createSurveyService().sendResult(S,this.data,function(F,W,U){L.surveyShowDataSaving&&(F?L.setCompletedState("success",""):L.setCompletedState("error",W)),L.onSendResult.fire(L,{success:F,response:W,request:U})},this.clientId,w)}},R.prototype.getResult=function(S,I){var w=this;this.createSurveyService().getResult(S,I,function(L,F,W,U){w.onGetResult.fire(w,{success:L,data:F,dataList:W,response:U})})},R.prototype.loadSurveyFromService=function(S,I){S===void 0&&(S=null),I===void 0&&(I=null),S&&(this.surveyId=S),I&&(this.clientId=I);var w=this;this.isLoading=!0,this.onLoadingSurveyFromService(),I?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(L,F,W,U){w.isLoading=!1,L&&(w.isCompletedBefore=W=="completed",w.loadSurveyFromServiceJson(F))}):this.createSurveyService().loadSurvey(this.surveyId,function(L,F,W){w.isLoading=!1,L&&w.loadSurveyFromServiceJson(F)})},R.prototype.loadSurveyFromServiceJson=function(S){S&&(this.fromJSON(S),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},R.prototype.onLoadingSurveyFromService=function(){},R.prototype.onLoadSurveyFromService=function(){},R.prototype.resetVisibleIndexes=function(){for(var S=this.getAllQuestions(!0),I=0;I<S.length;I++)S[I].setVisibleIndex(-1);this.updateVisibleIndexes()},R.prototype.updateVisibleIndexes=function(){if(!(this.isLoadingFromJson||this.isEndLoadingFromJson)){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty){this.conditionUpdateVisibleIndexes=!0;return}if(this.isRunningElementsBindings){this.updateVisibleIndexAfterBindings=!0;return}if(this.updatePageVisibleIndexes(this.showPageNumbers),this.showQuestionNumbers=="onPage")for(var S=this.visiblePages,I=0;I<S.length;I++)S[I].setVisibleIndex(0);else for(var w=this.showQuestionNumbers=="on"?0:-1,I=0;I<this.pages.length;I++)w+=this.pages[I].setVisibleIndex(w);this.updateProgressText(!0)}},R.prototype.updatePageVisibleIndexes=function(S){this.updateButtonsVisibility();for(var I=0,w=0;w<this.pages.length;w++){var L=this.pages[w],F=L.isVisible&&(w>0||!L.isStartPage);L.visibleIndex=F?I++:-1,L.num=F?L.visibleIndex+1:-1}},R.prototype.fromJSON=function(S){if(S){this.questionHashesClear(),this.jsonErrors=null;var I=new a.JsonObject;I.toObject(S,this),I.errors.length>0&&(this.jsonErrors=I.errors),this.onStateAndCurrentPageChanged(),this.updateState()}},R.prototype.setJsonObject=function(S){this.fromJSON(S)},R.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),this.onQuestionsOnPageModeChanged("standard"),D.prototype.endLoadingFromJson.call(this),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateHasLogo(),this.updateRenderBackgroundImage(),this.updateCurrentPage(),this.hasDescription=!!this.description,this.setCalculatedWidthModeUpdater()},R.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},R.prototype.updateNavigationBarCss=function(){var S=this.navigationBar;S.cssClasses=this.css.actionBar,S.containerCss=this.css.footer},R.prototype.createNavigationBar=function(){var S=new p.ActionContainer;return S.setItems(this.createNavigationActions()),S},R.prototype.createNavigationActions=function(){var S=this,I="sv-nav-btn",w=new h.Action({id:"sv-nav-start",visible:new s.ComputedUpdater(function(){return S.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return S.start()},component:I}),L=new h.Action({id:"sv-nav-prev",visible:new s.ComputedUpdater(function(){return S.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return S.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return S.prevPage()},component:I}),F=new h.Action({id:"sv-nav-next",visible:new s.ComputedUpdater(function(){return S.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return S.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return S.nextPageUIClick()},component:I}),W=new h.Action({id:"sv-nav-preview",visible:new s.ComputedUpdater(function(){return S.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return S.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return S.showPreview()},component:I}),U=new h.Action({id:"sv-nav-complete",visible:new s.ComputedUpdater(function(){return S.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return S.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return S.completeLastPage()},component:I});return this.updateNavigationItemCssCallback=function(){w.innerCss=S.cssNavigationStart,L.innerCss=S.cssNavigationPrev,F.innerCss=S.cssNavigationNext,W.innerCss=S.cssNavigationPreview,U.innerCss=S.cssNavigationComplete},[w,L,F,W,U]},R.prototype.onBeforeCreating=function(){},R.prototype.onCreating=function(){},R.prototype.getProcessedTextValue=function(S){if(this.getProcessedTextValueCore(S),!this.onProcessTextValue.isEmpty){var I=this.isValueEmpty(S.value);this.onProcessTextValue.fire(this,S),S.isExists=S.isExists||I&&!this.isValueEmpty(S.value)}},R.prototype.getBuiltInVariableValue=function(S){if(S==="pageno"){var I=this.currentPage;return I!=null?this.visiblePages.indexOf(I)+1:0}if(S==="pagecount")return this.visiblePageCount;if(S==="correctedanswers"||S==="correctanswers"||S==="correctedanswercount")return this.getCorrectedAnswerCount();if(S==="incorrectedanswers"||S==="incorrectanswers"||S==="incorrectedanswercount")return this.getInCorrectedAnswerCount();if(S==="questioncount")return this.getQuizQuestionCount()},R.prototype.getProcessedTextValueCore=function(S){var I=S.name.toLocaleLowerCase();if(["no","require","title"].indexOf(I)===-1){var w=this.getBuiltInVariableValue(I);if(w!==void 0){S.isExists=!0,S.value=w;return}if(I==="locale"){S.isExists=!0,S.value=this.locale?this.locale:b.surveyLocalization.defaultLocale;return}var L=this.getVariable(I);if(L!==void 0){S.isExists=!0,S.value=L;return}var F=this.getFirstName(I);if(F){var W=F.useDisplayValuesInDynamicTexts;S.isExists=!0;var U=F.getValueName().toLowerCase();I=U+I.substring(U.length),I=I.toLocaleLowerCase();var Q={};Q[U]=S.returnDisplayValue&&W?F.getDisplayValue(!1,void 0):F.value,S.value=new O.ProcessValue().getValue(I,Q);return}this.getProcessedValuesWithoutQuestion(S)}},R.prototype.getProcessedValuesWithoutQuestion=function(S){var I=this.getValue(S.name);if(I!==void 0){S.isExists=!0,S.value=I;return}var w=new O.ProcessValue,L=w.getFirstName(S.name);if(L!==S.name){var F={},W=this.getValue(L);o.Helpers.isValueEmpty(W)&&(W=this.getVariable(L)),!o.Helpers.isValueEmpty(W)&&(F[L]=W,S.value=w.getValue(S.name,F),S.isExists=w.hasValue(S.name,F))}},R.prototype.getFirstName=function(S){S=S.toLowerCase();var I;do I=this.getQuestionByValueName(S,!0),S=this.reduceFirstName(S);while(!I&&S);return I},R.prototype.reduceFirstName=function(S){var I=S.lastIndexOf("."),w=S.lastIndexOf("[");if(I<0&&w<0)return"";var L=Math.max(I,w);return S.substring(0,L)},R.prototype.clearUnusedValues=function(){for(var S=this.getAllQuestions(),I=0;I<S.length;I++)S[I].clearUnusedValues();this.clearInvisibleQuestionValues()},R.prototype.hasVisibleQuestionByValueName=function(S){var I=this.getQuestionsByValueName(S);if(!I)return!1;for(var w=0;w<I.length;w++){var L=I[w];if(L.isVisible&&L.isParentVisible&&!L.parentQuestion)return!0}return!1},R.prototype.questionCountByValueName=function(S){var I=this.getQuestionsByValueName(S);return I?I.length:0},R.prototype.clearInvisibleQuestionValues=function(){for(var S=this.clearInvisibleValues==="none"?"none":"onComplete",I=this.getAllQuestions(),w=0;w<I.length;w++)I[w].clearValueIfInvisible(S)},R.prototype.getVariable=function(S){if(!S)return null;S=S.toLowerCase();var I=this.variablesHash[S];return this.isValueEmpty(I)&&(S.indexOf(".")>-1||S.indexOf("[")>-1)&&new O.ProcessValue().hasValue(S,this.variablesHash)?new O.ProcessValue().getValue(S,this.variablesHash):I},R.prototype.setVariable=function(S,I){S&&(this.valuesHash&&delete this.valuesHash[S],S=S.toLowerCase(),this.variablesHash[S]=I,this.notifyElementsOnAnyValueOrVariableChanged(S),this.runConditionOnValueChanged(S,I),this.onVariableChanged.fire(this,{name:S,value:I}))},R.prototype.getVariableNames=function(){var S=[];for(var I in this.variablesHash)S.push(I);return S},R.prototype.getUnbindValue=function(S){return this.editingObj?S:o.Helpers.getUnbindValue(S)},R.prototype.getValue=function(S){if(!S||S.length==0)return null;var I=this.getDataValueCore(this.valuesHash,S);return this.getUnbindValue(I)},R.prototype.setValue=function(S,I,w,L){w===void 0&&(w=!1),L===void 0&&(L=!0);var F=I;if(L&&(F=this.questionOnValueChanging(S,I)),!(this.isValidateOnValueChanging&&this.checkErrorsOnValueChanging(S,F))&&!(!this.editingObj&&this.isValueEqual(S,F)&&this.isTwoValueEquals(F,I))){var W=this.getValue(S);this.isValueEmpty(F)?this.deleteDataValueCore(this.valuesHash,S):(F=this.getUnbindValue(F),this.setDataValueCore(this.valuesHash,S,F)),this.updateOnSetValue(S,F,W,w,L)}},R.prototype.updateOnSetValue=function(S,I,w,L,F){if(L===void 0&&(L=!1),F===void 0&&(F=!0),this.updateQuestionValue(S,I),!(L===!0||this.isDisposed||this.isRunningElementsBindings)){var W={};W[S]={newValue:I,oldValue:w},this.runConditionOnValueChanged(S,I),this.checkTriggers(W,!1),F&&this.notifyQuestionOnValueChanged(S,I),L!=="text"&&this.tryGoNextPageAutomatic(S)}},R.prototype.isValueEqual=function(S,I){(I===""||I===void 0)&&(I=null);var w=this.getValue(S);return(w===""||w===void 0)&&(w=null),I===null||w===null?I===w:this.isTwoValueEquals(I,w)},R.prototype.doOnPageAdded=function(S){S.setSurveyImpl(this),S.name||(S.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(S),this.updateVisibleIndexes(),this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage());var I={page:S};this.onPageAdded.fire(this,I)},R.prototype.doOnPageRemoved=function(S){S.setSurveyImpl(null),S===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements()},R.prototype.generateNewName=function(S,I){for(var w={},L=0;L<S.length;L++)w[S[L].name]=!0;for(var F=1;w[I+F];)F++;return I+F},R.prototype.tryGoNextPageAutomatic=function(S){if(!(this.isEndLoadingFromJson||!this.goNextPageAutomatic||!this.currentPage)){var I=this.getQuestionByValueName(S);if(!(!I||I&&(!I.visible||!I.supportGoNextPageAutomatic()))&&!(!I.validate(!1)&&!I.supportGoNextPageError())){var w=this.getCurrentPageQuestions();if(!(w.indexOf(I)<0)){for(var L=0;L<w.length;L++)if(w[L].hasInput&&w[L].isEmpty())return;this.checkIsCurrentPageHasErrors(!1)||(this.isLastPage?this.goNextPageAutomatic===!0&&this.allowCompleteSurveyAutomatic&&(this.isShowPreviewBeforeComplete?this.showPreview():this.completeLastPage()):this.nextPage())}}}},R.prototype.getComment=function(S){var I=this.getValue(S+this.commentSuffix);return I||""},R.prototype.setComment=function(S,I,w){if(w===void 0&&(w=!1),I||(I=""),!this.isTwoValueEquals(I,this.getComment(S))){var L=S+this.commentSuffix;this.isValueEmpty(I)?this.deleteDataValueCore(this.valuesHash,L):this.setDataValueCore(this.valuesHash,L,I);var F=this.getQuestionsByValueName(S);if(F)for(var W=0;W<F.length;W++)F[W].updateCommentFromSurvey(I),this.checkQuestionErrorOnValueChanged(F[W]);w||this.runConditionOnValueChanged(S,this.getValue(S)),w!=="text"&&this.tryGoNextPageAutomatic(S);var U=this.getQuestionByName(S);U&&this.onValueChanged.fire(this,{name:L,question:U,value:I})}},R.prototype.clearValue=function(S){this.setValue(S,null),this.setComment(S,null)},Object.defineProperty(R.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(S){this.setPropertyValue("clearValueOnDisableItems",S)},enumerable:!1,configurable:!0}),R.prototype.getQuestionClearIfInvisible=function(S){return this.isShowingPreview||this.runningPages?"none":S!=="default"?S:this.clearInvisibleValues},R.prototype.questionVisibilityChanged=function(S,I){this.updateVisibleIndexes(),this.onQuestionVisibleChanged.fire(this,{question:S,name:S.name,visible:I})},R.prototype.pageVisibilityChanged=function(S,I){this.isLoadingFromJson||((I&&!this.currentPage||S===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:S,visible:I}))},R.prototype.panelVisibilityChanged=function(S,I){this.updateVisibleIndexes(),this.onPanelVisibleChanged.fire(this,{panel:S,visible:I})},R.prototype.questionCreated=function(S){this.onQuestionCreated.fire(this,{question:S})},R.prototype.questionAdded=function(S,I,w,L){S.name||(S.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),S.page&&this.questionHashesAdded(S),this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(),this.setCalculatedWidthModeUpdater(),(!this.isMovingQuestion||this.isDesignMode&&!l.settings.supportCreatorV2)&&this.onQuestionAdded.fire(this,{question:S,name:S.name,index:I,parent:w,page:L,parentPanel:w,rootPanel:L})},R.prototype.questionRemoved=function(S){this.questionHashesRemoved(S,S.name,S.getValueName()),this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:S,name:S.name}),this.updateLazyRenderingRowsOnRemovingElements()},R.prototype.questionRenamed=function(S,I,w){this.questionHashesRemoved(S,I,w),this.questionHashesAdded(S)},R.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},R.prototype.questionHashesPanelAdded=function(S){if(!this.isLoadingFromJson)for(var I=S.questions,w=0;w<I.length;w++)this.questionHashesAdded(I[w])},R.prototype.questionHashesAdded=function(S){this.questionHashAddedCore(this.questionHashes.names,S,S.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,S,S.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,S,S.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,S,S.getValueName().toLowerCase())},R.prototype.questionHashesRemoved=function(S,I,w){I&&(this.questionHashRemovedCore(this.questionHashes.names,S,I),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,S,I.toLowerCase())),w&&(this.questionHashRemovedCore(this.questionHashes.valueNames,S,w),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,S,w.toLowerCase()))},R.prototype.questionHashAddedCore=function(S,I,w){var L=S[w];if(L){var L=S[w];L.indexOf(I)<0&&L.push(I)}else S[w]=[I]},R.prototype.questionHashRemovedCore=function(S,I,w){var L=S[w];if(L){var F=L.indexOf(I);F>-1&&L.splice(F,1),L.length==0&&delete S[w]}},R.prototype.panelAdded=function(S,I,w,L){S.name||(S.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(S),this.updateVisibleIndexes(),this.onPanelAdded.fire(this,{panel:S,name:S.name,index:I,parent:w,page:L,parentPanel:w,rootPanel:L})},R.prototype.panelRemoved=function(S){this.updateVisibleIndexes(),this.onPanelRemoved.fire(this,{panel:S,name:S.name}),this.updateLazyRenderingRowsOnRemovingElements()},R.prototype.validateQuestion=function(S){if(this.onValidateQuestion.isEmpty)return null;var I={name:S.name,question:S,value:S.value,error:null};return this.onValidateQuestion.fire(this,I),I.error?new P.CustomError(I.error,this):null},R.prototype.validatePanel=function(S){if(this.onValidatePanel.isEmpty)return null;var I={name:S.name,panel:S,error:null};return this.onValidatePanel.fire(this,I),I.error?new P.CustomError(I.error,this):null},R.prototype.processHtml=function(S,I){I||(I="");var w={html:S,reason:I};return this.onProcessHtml.fire(this,w),this.processText(w.html,!0)},R.prototype.processText=function(S,I){return this.processTextEx(S,I,!1).text},R.prototype.processTextEx=function(S,I,w){var L={text:this.processTextCore(S,I,w),hasAllValuesOnLastRun:!0};return L.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,L},R.prototype.processTextCore=function(S,I,w){return w===void 0&&(w=!1),this.isDesignMode?S:this.textPreProcessor.process(S,I,w)},R.prototype.getSurveyMarkdownHtml=function(S,I,w){var L={element:S,text:I,name:w,html:null};return this.onTextMarkdown.fire(this,L),L.html},R.prototype.getCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},R.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},R.prototype.getQuizQuestionCount=function(){for(var S=this.getQuizQuestions(),I=0,w=0;w<S.length;w++)I+=S[w].quizQuestionCount;return I},R.prototype.getInCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},R.prototype.getInCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},R.prototype.onCorrectQuestionAnswer=function(S,I){this.onIsAnswerCorrect.isEmpty||(I.question=S,this.onIsAnswerCorrect.fire(this,I))},R.prototype.getCorrectedAnswerCountCore=function(S){for(var I=this.getQuizQuestions(),w=0,L={question:null,result:!1,correctAnswers:0,incorrectAnswers:0},F=0;F<I.length;F++){var W=I[F],U=W.quizQuestionCount;if(L.question=W,L.correctAnswers=W.correctAnswerCount,L.incorrectAnswers=U-L.correctAnswers,L.result=L.question.isAnswerCorrect(),this.onIsAnswerCorrect.fire(this,L),S){if(L.result||L.correctAnswers<U){var Q=L.correctAnswers;Q==0&&L.result&&(Q=1),w+=Q}}else(!L.result||L.incorrectAnswers<U)&&(w+=L.incorrectAnswers)}return w},R.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},R.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(R.prototype,"showTimerPanel",{get:function(){return this.getPropertyValue("showTimerPanel")},set:function(S){this.setPropertyValue("showTimerPanel",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isTimerPanelShowingOnTop",{get:function(){return this.showTimerPanel=="top"},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isTimerPanelShowingOnBottom",{get:function(){return this.showTimerPanel=="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showTimerPanelMode",{get:function(){return this.getPropertyValue("showTimerPanelMode")},set:function(S){this.setPropertyValue("showTimerPanelMode",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(S){this.setPropertyValue("widthMode",S)},enumerable:!1,configurable:!0}),R.prototype.setCalculatedWidthModeUpdater=function(){var S=this;this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new s.ComputedUpdater(function(){return S.calculateWidthMode()}),this.calculatedWidthMode=this.calculatedWidthModeUpdater},R.prototype.calculateWidthMode=function(){if(this.widthMode=="auto"){var S=!1;return this.pages.forEach(function(I){I.needResponsiveWidth()&&(S=!0)}),S?"responsive":"static"}return this.widthMode},Object.defineProperty(R.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(S){this.setPropertyValue("width",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"renderedWidth",{get:function(){var S=this.getPropertyValue("width");return S&&!isNaN(S)&&(S=S+"px"),this.getPropertyValue("calculatedWidthMode")=="static"&&S||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"timerInfo",{get:function(){return this.getTimerInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"timerClock",{get:function(){var S,I;if(this.currentPage){var w=this.getTimerInfo(),L=w.spent,F=w.limit,W=w.minorSpent,U=w.minorLimit;F>0?S=this.getDisplayClockTime(F-L):S=this.getDisplayClockTime(L),W!==void 0&&(U>0?I=this.getDisplayClockTime(U-W):I=this.getDisplayClockTime(W))}return{majorText:S,minorText:I}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"timerInfoText",{get:function(){var S={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,S);var I=new g.LocalizableString(this,!0);return I.text=S.text,I.textOrHtml},enumerable:!1,configurable:!0}),R.prototype.getTimerInfo=function(){var S=this.currentPage;if(!S)return{spent:0,limit:0};var I=S.timeSpent,w=this.timeSpent,L=this.getPageMaxTimeToFinish(S),F=this.maxTimeToFinish;return this.showTimerPanelMode=="page"?{spent:I,limit:L}:this.showTimerPanelMode=="survey"?{spent:w,limit:F}:L>0&&F>0?{spent:I,limit:L,minorSpent:w,minorLimit:F}:L>0?{spent:I,limit:L,minorSpent:w}:F>0?{spent:w,limit:F,minorSpent:I}:{spent:I,minorSpent:w}},R.prototype.getTimerInfoText=function(){var S=this.currentPage;if(!S)return"";var I=this.getDisplayTime(S.timeSpent),w=this.getDisplayTime(this.timeSpent),L=this.getPageMaxTimeToFinish(S),F=this.getDisplayTime(L),W=this.getDisplayTime(this.maxTimeToFinish);if(this.showTimerPanelMode=="page")return this.getTimerInfoPageText(S,I,F);if(this.showTimerPanelMode=="survey")return this.getTimerInfoSurveyText(w,W);if(this.showTimerPanelMode=="all"){if(L<=0&&this.maxTimeToFinish<=0)return this.getLocalizationFormatString("timerSpentAll",I,w);if(L>0&&this.maxTimeToFinish>0)return this.getLocalizationFormatString("timerLimitAll",I,F,w,W);var U=this.getTimerInfoPageText(S,I,F),Q=this.getTimerInfoSurveyText(w,W);return U+" "+Q}return""},R.prototype.getTimerInfoPageText=function(S,I,w){return this.getPageMaxTimeToFinish(S)>0?this.getLocalizationFormatString("timerLimitPage",I,w):this.getLocalizationFormatString("timerSpentPage",I,w)},R.prototype.getTimerInfoSurveyText=function(S,I){var w=this.maxTimeToFinish>0?"timerLimitSurvey":"timerSpentSurvey";return this.getLocalizationFormatString(w,S,I)},R.prototype.getDisplayClockTime=function(S){var I=Math.floor(S/60),w=S%60,L=w.toString();return w<10&&(L="0"+L),I+":"+L},R.prototype.getDisplayTime=function(S){var I=Math.floor(S/60),w=S%60,L="";return I>0&&(L+=I+" "+this.getLocalizationString("timerMin")),L&&w==0?L:(L&&(L+=" "),L+w+" "+this.getLocalizationString("timerSec"))},Object.defineProperty(R.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),R.prototype.startTimer=function(){this.timerModel.start()},R.prototype.startTimerFromUI=function(){this.showTimerPanel!="none"&&this.state==="running"&&this.startTimer()},R.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(R.prototype,"timeSpent",{get:function(){return this.timerModel.spent},set:function(S){this.timerModel.spent=S},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(S){this.setPropertyValue("maxTimeToFinish",S)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxTimeToFinishPage",{get:function(){return this.getPropertyValue("maxTimeToFinishPage",0)},set:function(S){this.setPropertyValue("maxTimeToFinishPage",S)},enumerable:!1,configurable:!0}),R.prototype.getPageMaxTimeToFinish=function(S){return!S||S.maxTimeToFinish<0?0:S.maxTimeToFinish>0?S.maxTimeToFinish:this.maxTimeToFinishPage},R.prototype.doTimer=function(S){if(this.onTimer.fire(this,{}),this.maxTimeToFinish>0&&this.maxTimeToFinish==this.timeSpent&&this.completeLastPage(),S){var I=this.getPageMaxTimeToFinish(S);I>0&&I==S.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},Object.defineProperty(R.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),R.prototype.getSurveyData=function(){return this},R.prototype.getSurvey=function(){return this},R.prototype.getTextProcessor=function(){return this},R.prototype.getObjects=function(S,I){var w=[];return Array.prototype.push.apply(w,this.getPagesByNames(S)),Array.prototype.push.apply(w,this.getQuestionsByNames(I)),w},R.prototype.setTriggerValue=function(S,I,w){if(S)if(w)this.setVariable(S,I);else{var L=this.getQuestionByName(S);if(L)L.value=I;else{var F=new O.ProcessValue,W=F.getFirstName(S);if(W==S)this.setValue(S,I);else{if(!this.getQuestionByName(W))return;var U=this.getUnbindValue(this.getFilteredValues());F.setValue(U,S,I),this.setValue(W,U[W])}}}},R.prototype.copyTriggerValue=function(S,I){if(!(!S||!I)){var w=new O.ProcessValue,L=w.getValue(I,this.getFilteredValues());this.setTriggerValue(S,L,!1)}},R.prototype.triggerExecuted=function(S){this.onTriggerExecuted.fire(this,{trigger:S})},R.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},R.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},R.prototype.focusQuestion=function(S){var I=this,w=this.getQuestionByName(S,!0);if(!w||!w.isVisible||!w.page)return!1;this.isFocusingQuestion=!0,this.skippedPages.push({from:this.currentPage,to:w.page});var L=this.currentPage!==w.page,F=function(){w.focus(),I.isFocusingQuestion=!1,I.isCurrentPageRendering=!1};return this.afterRenderPageTasks.push(F),this.currentPage=w.page,L||(F(),this.afterRenderPageTasks.splice(this.afterRenderPageTasks.indexOf(F),1)),!0},R.prototype.questionEditFinishCallback=function(S,I){if(l.settings.enterKeyAction=="loseFocus"&&I.target.blur(),l.settings.enterKeyAction=="moveToNextEditor"){var w=this.currentPage.questions,L=w.indexOf(S);L>-1&&L<w.length-1?w[L+1].focus():I.target.blur()}},R.prototype.getElementWrapperComponentName=function(S,I){return I==="logo-image"?"sv-logo-image":R.TemplateRendererComponentName},R.prototype.getQuestionContentWrapperComponentName=function(S){return R.TemplateRendererComponentName},R.prototype.getRowWrapperComponentName=function(S){return R.TemplateRendererComponentName},R.prototype.getElementWrapperComponentData=function(S,I){return S},R.prototype.getRowWrapperComponentData=function(S){return S},R.prototype.getItemValueWrapperComponentName=function(S,I){return R.TemplateRendererComponentName},R.prototype.getItemValueWrapperComponentData=function(S,I){return S},R.prototype.getMatrixCellTemplateData=function(S){return S.question},R.prototype.searchText=function(S){S&&(S=S.toLowerCase());for(var I=[],w=0;w<this.pages.length;w++)this.pages[w].searchText(S,I);return I},R.prototype.getSkeletonComponentName=function(S){return this.skeletonComponentName},R.prototype.addLayoutElement=function(S){var I=this.removeLayoutElement(S.id);return this.layoutElements.push(S),I},R.prototype.removeLayoutElement=function(S){var I=this.layoutElements.filter(function(L){return L.id===S})[0];if(I){var w=this.layoutElements.indexOf(I);this.layoutElements.splice(w,1)}return I},R.prototype.getContainerContent=function(S){for(var I=[],w=0,L=this.layoutElements;w<L.length;w++){var F=L[w];T(F.id,"timerpanel")?(S==="header"&&this.isTimerPanelShowingOnTop&&!this.isShowStartingPage&&I.push(F),S==="footer"&&this.isTimerPanelShowingOnBottom&&!this.isShowStartingPage&&I.push(F)):this.state==="running"&&T(F.id,"progress-"+this.progressBarType)?(S==="header"&&this.isShowProgressBarOnTop&&!this.isShowStartingPage&&I.push(F),S==="contentBottom"&&this.isShowProgressBarOnBottom&&!this.isShowStartingPage&&I.push(F)):T(F.id,"navigationbuttons")?(S==="contentTop"&&["top","both"].indexOf(this.isNavigationButtonsShowing)!==-1&&I.push(F),S==="contentBottom"&&["bottom","both"].indexOf(this.isNavigationButtonsShowing)!==-1&&I.push(F)):this.state==="running"&&T(F.id,"toc-navigation")&&this.showTOC?(S==="left"&&["left","both"].indexOf(this.tocLocation)!==-1&&I.push(F),S==="right"&&["right","both"].indexOf(this.tocLocation)!==-1&&I.push(F)):(Array.isArray(F.container)&&F.container.indexOf(S)!==-1||F.container===S)&&I.push(F)}return I},R.prototype.processPopupVisiblityChanged=function(S,I,w){this.onPopupVisibleChanged.fire(this,{question:S,popup:I,visible:w})},R.prototype.applyTheme=function(S){var I=this;S&&Object.keys(S).forEach(function(w){I[w]=S[w]})},R.prototype.dispose=function(){if(this.currentPage=null,this.destroyResizeObserver(),D.prototype.dispose.call(this),this.editingObj=null,!!this.pages){for(var S=0;S<this.pages.length;S++)this.pages[S].setSurveyImpl(void 0),this.pages[S].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},R.TemplateRendererComponentName="sv-template-renderer",R.stylesManager=null,R.platform="unknown",A([Object(a.property)()],R.prototype,"completedCss",void 0),A([Object(a.property)()],R.prototype,"containerCss",void 0),A([Object(a.property)()],R.prototype,"showBrandInfo",void 0),A([Object(a.property)({defaultValue:{}})],R.prototype,"cssVariables",void 0),A([Object(a.property)()],R.prototype,"_isMobile",void 0),A([Object(a.property)()],R.prototype,"_isCompact",void 0),A([Object(a.property)()],R.prototype,"renderBackgroundImage",void 0),A([Object(a.property)()],R.prototype,"backgroundImageFit",void 0),A([Object(a.property)()],R.prototype,"backgroundImageAttachment",void 0),A([Object(a.property)()],R.prototype,"rootCss",void 0),A([Object(a.property)()],R.prototype,"calculatedWidthMode",void 0),A([Object(a.propertyArray)()],R.prototype,"layoutElements",void 0),R}(c.SurveyElementCore);function T(D,R){return!D||!R?!1:D.toUpperCase()===R.toUpperCase()}a.Serializer.addClass("survey",[{name:"locale",choices:function(){return b.surveyLocalization.getLocales(!0)},onGetValue:function(D){return D.locale==b.surveyLocalization.defaultLocale?null:D.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean",default:!0},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem"},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page"},{name:"questions",alternativeName:"elements",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(D){return null},onSetValue:function(D,R,S){D.pages.splice(0,D.pages.length);var I=D.addNewPage("");S.toObject({questions:R},I)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue"},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem"},{name:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","top","bottom","both"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions","buttons"]},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"]},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},{name:"goNextPageAutomatic:boolean",onSetValue:function(D,R){R!=="autogonext"&&(R=o.Helpers.isTwoValueEquals(R,!0)),D.setPropertyValue("goNextPageAutomatic",R)}},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onValueChanging","onComplete"]},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"startSurveyText",serializationProperty:"locStartSurveyText"},{name:"pagePrevText",serializationProperty:"locPagePrevText"},{name:"pageNextText",serializationProperty:"locPageNextText"},{name:"completeText",serializationProperty:"locCompleteText"},{name:"previewText",serializationProperty:"locPreviewText"},{name:"editText",serializationProperty:"locEditText"},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(D){return!D||D.showQuestionNumbers!=="off"}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(D){return D?D.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["singlePage","standard","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"maxTimeToFinishPage:number",default:0,minValue:0},{name:"showTimerPanel",default:"none",choices:["none","top","bottom"]},{name:"showTimerPanelMode",default:"all",choices:["all","page","survey"]},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"width",visibleIf:function(D){return D.widthMode==="static"}},{name:"backgroundImage",serializationProperty:"locBackgroundImage",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}])},"./src/surveyProgress.ts":function(n,r,i){i.r(r),i.d(r,"SurveyProgressModel",function(){return a});var o=i("./src/utils/cssClassBuilder.ts"),a=function(){function s(){}return s.getProgressTextInBarCss=function(c){return new o.CssClassBuilder().append(c.progressText).append(c.progressTextInBar).toString()},s.getProgressTextUnderBarCss=function(c){return new o.CssClassBuilder().append(c.progressText).append(c.progressTextUnderBar).toString()},s}()},"./src/surveyProgressButtons.ts":function(n,r,i){i.r(r),i.d(r,"SurveyProgressButtonsModel",function(){return a});var o=i("./src/utils/cssClassBuilder.ts"),a=function(){function s(c){this.survey=c}return s.prototype.isListElementClickable=function(c){return!this.survey.onServerValidateQuestions||this.survey.onServerValidateQuestions.isEmpty||this.survey.checkErrorsMode==="onComplete"?!0:c<=this.survey.currentPageNo+1},s.prototype.getListElementCss=function(c){if(!(c>=this.survey.visiblePages.length))return new o.CssClassBuilder().append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[c].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===c).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(c)).toString()},s.prototype.getScrollButtonCss=function(c,C){return new o.CssClassBuilder().append(this.survey.css.progressButtonsImageButtonLeft,C).append(this.survey.css.progressButtonsImageButtonRight,!C).append(this.survey.css.progressButtonsImageButtonHidden,!c).toString()},s.prototype.clickListElement=function(c){if(!this.survey.isDesignMode){if(c<this.survey.currentPageNo)this.survey.currentPageNo=c;else if(c>this.survey.currentPageNo)for(var C=this.survey.currentPageNo;C<c&&this.survey.nextPage();C++);}},s}()},"./src/surveyStrings.ts":function(n,r,i){i.r(r),i.d(r,"surveyLocalization",function(){return a}),i.d(r,"surveyStrings",function(){return s});var o=i("./src/localization/english.ts"),a={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},supportedLocales:[],get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(c){c==="cz"&&(c="cs"),this.currentLocaleValue=c},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(c){c==="cz"&&(c="cs"),this.defaultLocaleValue=c},getLocaleStrings:function(c){return this.locales[c]},getString:function(c,C){var E=this;C===void 0&&(C=null);var O=new Array,y=function(m){var v=E.locales[m];v&&O.push(v)},b=function(m){if(m){y(m);var v=m.indexOf("-");v<1||(m=m.substring(0,v),y(m))}};b(C),b(this.currentLocale),b(this.defaultLocale),this.defaultLocale!=="en"&&y("en");for(var P=0;P<O.length;P++){var g=O[P][c];if(g!==void 0)return g}return this.onGetExternalString(c,C)},getLocales:function(c){c===void 0&&(c=!1);var C=[];C.push("");var E=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){E={};for(var O=0;O<this.supportedLocales.length;O++)E[this.supportedLocales[O]]=!0}for(var y in E)c&&y==this.defaultLocale||C.push(y);var b=function(P){if(!P)return"";var g=a.localeNames[P];return g||(g=P),g.toLowerCase()};return C.sort(function(P,g){var m=b(P),v=b(g);return m===v?0:m<v?-1:1}),C},onGetExternalString:function(c,C){}},s=o.englishStrings;a.locales.en=o.englishStrings,a.localeNames.en="english"},"./src/surveyTimerModel.ts":function(n,r,i){i.r(r),i.d(r,"SurveyTimerModel",function(){return O});var o=i("./src/base.ts"),a=i("./src/surveytimer.ts"),s=i("./src/jsonobject.ts"),c=i("./src/utils/cssClassBuilder.ts"),C=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),E=function(y,b,P,g){var m=arguments.length,v=m<3?b:g===null?g=Object.getOwnPropertyDescriptor(b,P):g,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(y,b,P,g);else for(var l=y.length-1;l>=0;l--)(f=y[l])&&(v=(m<3?f(v):m>3?f(b,P,v):f(b,P))||v);return m>3&&v&&Object.defineProperty(b,P,v),v},O=function(y){C(b,y);function b(P){var g=y.call(this)||this;return g.timerFunc=null,g.surveyValue=P,g.onCreating(),g}return Object.defineProperty(b.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),b.prototype.onCreating=function(){},b.prototype.start=function(){var P=this;this.survey&&(this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(function(){P.update()}),this.timerFunc=function(){P.doTimer()},this.setIsRunning(!0),this.update(),a.SurveyTimer.instance.start(this.timerFunc)))},b.prototype.stop=function(){this.isRunning&&(this.setIsRunning(!1),a.SurveyTimer.instance.stop(this.timerFunc))},Object.defineProperty(b.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),b.prototype.setIsRunning=function(P){this.setPropertyValue("isRunning",P)},b.prototype.update=function(){this.updateText(),this.updateProgress()},b.prototype.doTimer=function(){var P=this.survey.currentPage;P&&(P.timeSpent=P.timeSpent+1),this.spent=this.spent+1,this.update(),this.onTimer&&this.onTimer(P)},b.prototype.updateProgress=function(){var P=this,g=this.survey.timerInfo,m=g.spent,v=g.limit;v?m==0?(this.progress=0,setTimeout(function(){P.progress=Math.floor((m+1)/v*100)/100},0)):m!==v&&(this.progress=Math.floor((m+1)/v*100)/100):this.progress=void 0},b.prototype.updateText=function(){var P=this.survey.timerClock;this.clockMajorText=P.majorText,this.clockMinorText=P.minorText,this.text=this.survey.timerInfoText},Object.defineProperty(b.prototype,"showProgress",{get:function(){return this.progress!==void 0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"showTimerAsClock",{get:function(){return!!this.survey.getCss().clockTimerRoot},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"rootCss",{get:function(){return new c.CssClassBuilder().append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()},enumerable:!1,configurable:!0}),b.prototype.getProgressCss=function(){return new c.CssClassBuilder().append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()},Object.defineProperty(b.prototype,"textContainerCss",{get:function(){return this.survey.getCss().clockTimerTextContainer},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"minorTextCss",{get:function(){return this.survey.getCss().clockTimerMinorText},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"majorTextCss",{get:function(){return this.survey.getCss().clockTimerMajorText},enumerable:!1,configurable:!0}),E([Object(s.property)()],b.prototype,"text",void 0),E([Object(s.property)()],b.prototype,"progress",void 0),E([Object(s.property)()],b.prototype,"clockMajorText",void 0),E([Object(s.property)()],b.prototype,"clockMinorText",void 0),E([Object(s.property)({defaultValue:0})],b.prototype,"spent",void 0),b}(o.Base)},"./src/surveyToc.ts":function(n,r,i){i.r(r),i.d(r,"tryNavigateToPage",function(){return E}),i.d(r,"createTOCListModel",function(){return O}),i.d(r,"getTocRootCss",function(){return y}),i.d(r,"TOCModel",function(){return b});var o=i("./src/actions/action.ts"),a=i("./src/base.ts"),s=i("./src/list.ts"),c=i("./src/popup.ts"),C=i("./src/utils/devices.ts");function E(P,g){if(!P.isDesignMode){var m=P.visiblePages.indexOf(g);if(m<P.currentPageNo)P.currentPageNo=m;else if(m>P.currentPageNo){for(var v=P.currentPageNo;v<m;v++)if(!P.nextPageUIClick())return!1}return!0}}function O(P,g){var m=P.pages.map(function(f){return new o.Action({id:f.name,title:f.navigationTitle||f.title||f.name,action:function(){return typeof document!==void 0&&document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),g&&g(),E(P,f)},visible:new a.ComputedUpdater(function(){return f.isVisible&&!f.isStartPage})})}),v=new s.ListModel(m,function(f){f.action()&&(v.selectedItem=f)},!0,m.filter(function(f){return f.id===P.currentPage.name})[0]);return v.allowSelection=!1,v.locOwner=P,P.onCurrentPageChanged.add(function(f,l){v.selectedItem=m.filter(function(d){return d.id===P.currentPage.name})[0]}),v}function y(P,g){return g===void 0&&(g=!1),g?"sv_progress-toc sv_progress-toc--mobile":"sv_progress-toc"+(" sv_progress-toc--"+(P.tocLocation||"").toLowerCase())}var b=function(){function P(g){var m=this;this.survey=g,this.isMobile=C.IsTouch,this.icon="icon-navmenu_24x24",this.togglePopup=function(){m.popupModel.toggleVisibility()},this.listModel=O(g,function(){m.popupModel.isVisible=!1}),this.popupModel=new c.PopupModel("sv-list",{model:this.listModel})}return Object.defineProperty(P.prototype,"containerCss",{get:function(){return y(this.survey,this.isMobile)},enumerable:!1,configurable:!0}),P}()},"./src/surveytimer.ts":function(n,r,i){i.r(r),i.d(r,"surveyTimerFunctions",function(){return a}),i.d(r,"SurveyTimer",function(){return s});var o=i("./src/base.ts"),a={setTimeout:function(c){return typeof window>"u"?0:window.setTimeout(c,1e3)},clearTimeout:function(c){typeof window>"u"||window.clearTimeout(c)}},s=function(){function c(){this.listenerCounter=0,this.timerId=-1,this.onTimer=new o.Event}return Object.defineProperty(c,"instance",{get:function(){return c.instanceValue||(c.instanceValue=new c),c.instanceValue},enumerable:!1,configurable:!0}),c.prototype.start=function(C){var E=this;C===void 0&&(C=null),C&&this.onTimer.add(C),this.timerId<0&&(this.timerId=a.setTimeout(function(){E.doTimer()})),this.listenerCounter++},c.prototype.stop=function(C){C===void 0&&(C=null),C&&this.onTimer.remove(C),this.listenerCounter--,this.listenerCounter==0&&this.timerId>-1&&(a.clearTimeout(this.timerId),this.timerId=-1)},c.prototype.doTimer=function(){var C=this;if((this.onTimer.isEmpty||this.listenerCounter==0)&&(this.timerId=-1),!(this.timerId<0)){var E=this.timerId;this.onTimer.fire(this,{}),E===this.timerId&&(this.timerId=a.setTimeout(function(){C.doTimer()}))}},c.instanceValue=null,c}()},"./src/svgbundle.ts":function(n,r,i){i.r(r),i.d(r,"SvgIconRegistry",function(){return s}),i.d(r,"SvgRegistry",function(){return c}),i.d(r,"SvgBundleViewModel",function(){return C});var o=i("./src/settings.ts"),a=i("./src/utils/utils.ts"),s=function(){function y(){this.icons={},this.iconPrefix="icon-"}return y.prototype.registerIconFromSymbol=function(b,P){this.icons[b]=P},y.prototype.registerIconFromSvgViaElement=function(b,P,g){g===void 0&&(g=this.iconPrefix);var m=document.createElement("div");m.innerHTML=P;var v=document.createElement("symbol"),f=m.querySelector("svg");v.innerHTML=f.innerHTML;for(var l=0;l<f.attributes.length;l++)v.setAttributeNS("http://www.w3.org/2000/svg",f.attributes[l].name,f.attributes[l].value);v.id=g+b,this.registerIconFromSymbol(b,v.outerHTML)},y.prototype.registerIconFromSvg=function(b,P,g){g===void 0&&(g=this.iconPrefix);var m="<svg ",v="</svg>";P=P.trim();var f=P.toLowerCase();return f.substring(0,m.length)===m&&f.substring(f.length-v.length,f.length)===v?(this.registerIconFromSymbol(b,'<symbol id="'+g+b+'" '+P.substring(m.length,f.length-v.length)+"</symbol>"),!0):!1},y.prototype.registerIconsFromFolder=function(b){var P=this;b.keys().forEach(function(g){P.registerIconFromSvg(g.substring(2,g.length-4).toLowerCase(),b(g))})},y.prototype.iconsRenderedHtml=function(){var b=this;return Object.keys(this.icons).map(function(P){return b.icons[P]}).join("")},y.prototype.renderIcons=function(){var b="sv-icon-holder-global-container";if(!o.settings.environment.root.getElementById(b)){var P=document.createElement("div");P.id=b,P.innerHTML="<svg>"+this.iconsRenderedHtml()+"</svg>",P.style.display="none",Object(a.getElement)(o.settings.environment.svgMountContainer).appendChild(P)}},y}(),c=new s,C,E=i("./src/images sync \\.svg$"),O=i("./src/images/smiley sync \\.svg$");c.registerIconsFromFolder(E),c.registerIconsFromFolder(O)},"./src/template-renderer.ts":function(n,r,i){i.r(r)},"./src/textPreProcessor.ts":function(n,r,i){i.r(r),i.d(r,"TextPreProcessorItem",function(){return s}),i.d(r,"TextPreProcessorValue",function(){return c}),i.d(r,"TextPreProcessor",function(){return C}),i.d(r,"QuestionTextProcessor",function(){return E});var o=i("./src/helpers.ts"),a=i("./src/conditionProcessValue.ts"),s=function(){function O(){}return O}(),c=function(){function O(y,b){this.name=y,this.returnDisplayValue=b,this.isExists=!1,this.canProcess=!0}return O}(),C=function(){function O(){this._unObservableValues=[void 0]}return Object.defineProperty(O.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(y){this._unObservableValues[0]=y},enumerable:!1,configurable:!0}),O.prototype.process=function(y,b,P){if(b===void 0&&(b=!1),P===void 0&&(P=!1),this.hasAllValuesOnLastRunValue=!0,!y||!this.onProcess)return y;for(var g=this.getItems(y),m=g.length-1;m>=0;m--){var v=g[m],f=this.getName(y.substring(v.start+1,v.end));if(f){var l=new c(f,b);if(this.onProcess(l),!l.isExists){l.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}o.Helpers.isValueEmpty(l.value)&&(this.hasAllValuesOnLastRunValue=!1);var d=o.Helpers.isValueEmpty(l.value)?"":l.value;P&&(d=encodeURIComponent(d)),y=y.substring(0,v.start)+d+y.substring(v.end+1)}}return y},O.prototype.processValue=function(y,b){var P=new c(y,b);return this.onProcess&&this.onProcess(P),P},Object.defineProperty(O.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),O.prototype.getItems=function(y){for(var b=[],P=y.length,g=-1,m="",v=0;v<P;v++)if(m=y[v],m=="{"&&(g=v),m=="}"){if(g>-1){var f=new s;f.start=g,f.end=v,b.push(f)}g=-1}return b},O.prototype.getName=function(y){if(y)return y.trim()},O}(),E=function(){function O(y){var b=this;this.variableName=y,this.textPreProcessor=new C,this.textPreProcessor.onProcess=function(P){b.getProcessedTextValue(P)}}return O.prototype.processValue=function(y,b){return this.textPreProcessor.processValue(y,b)},Object.defineProperty(O.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),O.prototype.getValues=function(){return this.panel?this.panel.getValue():null},O.prototype.getQuestionByName=function(y){return this.panel?this.panel.getQuestionByValueName(y):null},O.prototype.getParentTextProcessor=function(){return null},O.prototype.onCustomProcessText=function(y){return!1},O.prototype.getQuestionDisplayText=function(y){return y.displayValue},O.prototype.getProcessedTextValue=function(y){if(y&&!this.onCustomProcessText(y)){var b=new a.ProcessValue().getFirstName(y.name);if(y.isExists=b==this.variableName,y.canProcess=y.isExists,!!y.canProcess){y.name=y.name.replace(this.variableName+".","");var b=new a.ProcessValue().getFirstName(y.name),P=this.getQuestionByName(b),g={};if(P)g[b]=y.returnDisplayValue?this.getQuestionDisplayText(P):P.value;else{var m=this.panel?this.getValues():null;m&&(g[b]=m[b])}y.value=new a.ProcessValue().getValue(y.name,g)}}},O.prototype.processText=function(y,b){return this.survey&&this.survey.isDesignMode?y:(y=this.textPreProcessor.process(y,b),y=this.processTextCore(this.getParentTextProcessor(),y,b),this.processTextCore(this.survey,y,b))},O.prototype.processTextEx=function(y,b){y=this.processText(y,b);var P=this.textPreProcessor.hasAllValuesOnLastRun,g={hasAllValuesOnLastRun:!0,text:y};return this.survey&&(g=this.survey.processTextEx(y,b,!1)),g.hasAllValuesOnLastRun=g.hasAllValuesOnLastRun&&P,g},O.prototype.processTextCore=function(y,b,P){return y?y.processText(b,P):b},O}()},"./src/themes.ts":function(n,r,i){i.r(r)},"./src/trigger.ts":function(n,r,i){i.r(r),i.d(r,"Trigger",function(){return b}),i.d(r,"SurveyTrigger",function(){return P}),i.d(r,"SurveyTriggerVisible",function(){return g}),i.d(r,"SurveyTriggerComplete",function(){return m}),i.d(r,"SurveyTriggerSetValue",function(){return v}),i.d(r,"SurveyTriggerSkip",function(){return f}),i.d(r,"SurveyTriggerRunExpression",function(){return l}),i.d(r,"SurveyTriggerCopyValue",function(){return d});var o=i("./src/helpers.ts"),a=i("./src/base.ts"),s=i("./src/jsonobject.ts"),c=i("./src/conditions.ts"),C=i("./src/expressions/expressions.ts"),E=i("./src/conditionProcessValue.ts"),O=i("./src/settings.ts"),y=function(){var h=function(p,u){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,V){x.__proto__=V}||function(x,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(x[A]=V[A])},h(p,u)};return function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");h(p,u);function x(){this.constructor=p}p.prototype=u===null?Object.create(u):(x.prototype=u.prototype,new x)}}(),b=function(h){y(p,h);function p(){var u=h.call(this)||this;return u.idValue=p.idCounter++,u.usedNames=[],u.registerPropertyChangedHandlers(["operator","value","name"],function(){u.oldPropertiesChanged()}),u.registerPropertyChangedHandlers(["expression"],function(){u.onExpressionChanged()}),u}return Object.defineProperty(p,"operators",{get:function(){return p.operatorsValue!=null||(p.operatorsValue={empty:function(u,x){return!u},notempty:function(u,x){return!!u},equal:function(u,x){return u==x},notequal:function(u,x){return u!=x},contains:function(u,x){return u&&u.indexOf&&u.indexOf(x)>-1},notcontains:function(u,x){return!u||!u.indexOf||u.indexOf(x)==-1},greater:function(u,x){return u>x},less:function(u,x){return u<x},greaterorequal:function(u,x){return u>=x},lessorequal:function(u,x){return u<=x}}),p.operatorsValue},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),p.prototype.getType=function(){return"triggerbase"},p.prototype.toString=function(){var u=this.getType().replace("trigger",""),x=this.expression?this.expression:this.buildExpression();return x&&(u+=", "+x),u},Object.defineProperty(p.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(u){u&&(u=u.toLowerCase(),p.operators[u]&&this.setPropertyValue("operator",u))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(u){this.setPropertyValue("value",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(u){this.setPropertyValue("name",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(u){this.setPropertyValue("expression",u)},enumerable:!1,configurable:!0}),p.prototype.canBeExecuted=function(u){return!0},p.prototype.canBeExecutedOnComplete=function(){return!1},p.prototype.checkExpression=function(u,x,V,A,M){M===void 0&&(M=null),this.isExecutingOnNextPage=u,this.canBeExecuted(u)&&(x&&!this.canBeExecutedOnComplete()||this.isCheckRequired(V)&&this.conditionRunner&&this.perform(A,M))},p.prototype.check=function(u){var x=p.operators[this.operator](u,this.value);x?this.onSuccess({},null):this.onFailure()},p.prototype.perform=function(u,x){var V=this;this.conditionRunner.onRunComplete=function(A){V.triggerResult(A,u,x)},this.conditionRunner.run(u,x)},p.prototype.triggerResult=function(u,x,V){u?(this.onSuccess(x,V),this.onSuccessExecuted()):this.onFailure()},p.prototype.onSuccess=function(u,x){},p.prototype.onFailure=function(){},p.prototype.onSuccessExecuted=function(){},p.prototype.endLoadingFromJson=function(){h.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},p.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},p.prototype.onExpressionChanged=function(){this.usedNames=[],this.hasFunction=!1,this.conditionRunner=null},p.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+C.OperandMaker.toOperandString(this.value)},p.prototype.isCheckRequired=function(u){if(!u)return!1;if(this.buildUsedNames(),this.hasFunction===!0)return!0;for(var x=new E.ProcessValue,V=0;V<this.usedNames.length;V++){var A=this.usedNames[V];if(u.hasOwnProperty(A))return!0;var M=x.getFirstName(A);if(u.hasOwnProperty(M)){if(A===M)return!0;var T=u[M];if(T!=null){if(!T.hasOwnProperty("oldValue")||!T.hasOwnProperty("newValue"))return!0;var D={};D[M]=T.oldValue;var R=x.getValue(A,D);D[M]=T.newValue;var S=x.getValue(A,D);if(!this.isTwoValueEquals(R,S))return!0}}}return!1},p.prototype.buildUsedNames=function(){if(!this.conditionRunner){var u=this.expression;u||(u=this.buildExpression()),u&&(this.conditionRunner=new c.ConditionRunner(u),this.hasFunction=this.conditionRunner.hasFunction(),this.usedNames=this.conditionRunner.getVariables())}},Object.defineProperty(p.prototype,"isRequireValue",{get:function(){return this.operator!=="empty"&&this.operator!="notempty"},enumerable:!1,configurable:!0}),p.idCounter=1,p.operatorsValue=null,p}(a.Base),P=function(h){y(p,h);function p(){var u=h.call(this)||this;return u.ownerValue=null,u}return Object.defineProperty(p.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),p.prototype.setOwner=function(u){this.ownerValue=u},p.prototype.getSurvey=function(u){return this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},p.prototype.isRealExecution=function(){return!0},p.prototype.onSuccessExecuted=function(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)},p}(b),g=function(h){y(p,h);function p(){var u=h.call(this)||this;return u.pages=[],u.questions=[],u}return p.prototype.getType=function(){return"visibletrigger"},p.prototype.onSuccess=function(u,x){this.onTrigger(this.onItemSuccess)},p.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},p.prototype.onTrigger=function(u){if(this.owner)for(var x=this.owner.getObjects(this.pages,this.questions),V=0;V<x.length;V++)u(x[V])},p.prototype.onItemSuccess=function(u){u.visible=!0},p.prototype.onItemFailure=function(u){u.visible=!1},p}(P),m=function(h){y(p,h);function p(){return h.call(this)||this}return p.prototype.getType=function(){return"completetrigger"},p.prototype.isRealExecution=function(){return!O.settings.triggers.executeCompleteOnValueChanged===this.isExecutingOnNextPage},p.prototype.onSuccess=function(u,x){this.owner&&(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))},p.prototype.onFailure=function(){this.owner.canBeCompleted(this,!1)},p}(P),v=function(h){y(p,h);function p(){return h.call(this)||this}return p.prototype.getType=function(){return"setvaluetrigger"},p.prototype.canBeExecuted=function(u){return!u&&!!this.setToName},p.prototype.onPropertyValueChanged=function(u,x,V){if(h.prototype.onPropertyValueChanged.call(this,u,x,V),u==="setToName"){var A=this.getSurvey();A&&!A.isLoadingFromJson&&A.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(p.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(u){this.setPropertyValue("setToName",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(u){this.setPropertyValue("setValue",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable")},set:function(u){this.setPropertyValue("isVariable",u)},enumerable:!1,configurable:!0}),p.prototype.onSuccess=function(u,x){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},p}(P),f=function(h){y(p,h);function p(){return h.call(this)||this}return p.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(p.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(u){this.setPropertyValue("gotoName",u)},enumerable:!1,configurable:!0}),p.prototype.canBeExecuted=function(u){return u===!O.settings.triggers.executeSkipOnValueChanged},p.prototype.onSuccess=function(u,x){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)},p}(P),l=function(h){y(p,h);function p(){return h.call(this)||this}return p.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(p.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(u){this.setPropertyValue("setToName",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(u){this.setPropertyValue("runExpression",u)},enumerable:!1,configurable:!0}),p.prototype.onSuccess=function(u,x){var V=this;if(!(!this.owner||!this.runExpression)){var A=new c.ExpressionRunner(this.runExpression);A.canRun&&(A.onRunComplete=function(M){V.onCompleteRunExpression(M)},A.run(u,x))}},p.prototype.onCompleteRunExpression=function(u){this.setToName&&u!==void 0&&this.owner.setTriggerValue(this.setToName,o.Helpers.convertValToQuestionVal(u),!1)},p}(P),d=function(h){y(p,h);function p(){return h.call(this)||this}return p.prototype.canBeExecuted=function(u){return!u&&!!this.setToName&&!!this.fromName},Object.defineProperty(p.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(u){this.setPropertyValue("setToName",u)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(u){this.setPropertyValue("fromName",u)},enumerable:!1,configurable:!0}),p.prototype.getType=function(){return"copyvaluetrigger"},p.prototype.onSuccess=function(u,x){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName)},p}(P);s.Serializer.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),s.Serializer.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),s.Serializer.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new g},"surveytrigger"),s.Serializer.addClass("completetrigger",[],function(){return new m},"surveytrigger"),s.Serializer.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(h){return!!h&&!!h.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new v},"surveytrigger"),s.Serializer.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"}],function(){return new d},"surveytrigger"),s.Serializer.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new f},"surveytrigger"),s.Serializer.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new l},"surveytrigger")},"./src/utils/cssClassBuilder.ts":function(n,r,i){i.r(r),i.d(r,"CssClassBuilder",function(){return o});var o=function(){function a(){this.classes=[]}return a.prototype.isEmpty=function(){return this.toString()===""},a.prototype.append=function(s,c){return c===void 0&&(c=!0),s&&c&&(typeof s=="string"&&(s=s.trim()),this.classes.push(s)),this},a.prototype.toString=function(){return this.classes.join(" ")},a}()},"./src/utils/devices.ts":function(n,r,i){i.r(r),i.d(r,"IsMobile",function(){return c}),i.d(r,"IsTouch",function(){return E}),i.d(r,"_setIsTouch",function(){return O});var o=!1,a=null;typeof navigator<"u"&&typeof window<"u"&&navigator&&window&&(a=navigator.userAgent||navigator.vendor||window.opera),function(y){y&&(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0||navigator.platform==="iPad"||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(y)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(y.substring(0,4)))&&(o=!0)}(a);var s=!1,c=o||s,C=!1;typeof window<"u"&&(C="ontouchstart"in window||navigator.maxTouchPoints>0);var E=c&&C;function O(y){E=y}},"./src/utils/dragOrClickHelper.ts":function(n,r,i){i.r(r),i.d(r,"DragOrClickHelper",function(){return a});var o=i("./src/entries/core.ts"),a=function(){function s(c){var C=this;this.dragHandler=c,this.onPointerUp=function(E){C.clearListeners()},this.tryToStartDrag=function(E){if(C.currentX=E.pageX,C.currentY=E.pageY,!C.isMicroMovement)return C.clearListeners(),C.dragHandler(C.pointerDownEvent,C.currentTarget,C.itemModel),!0}}return s.prototype.onPointerDown=function(c,C){if(o.IsTouch){this.dragHandler(c,c.currentTarget,C);return}this.pointerDownEvent=c,this.currentTarget=c.currentTarget,this.startX=c.pageX,this.startY=c.pageY,document.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=C},Object.defineProperty(s.prototype,"isMicroMovement",{get:function(){var c=10,C=Math.abs(this.currentX-this.startX),E=Math.abs(this.currentY-this.startY);return C<c&&E<c},enumerable:!1,configurable:!0}),s.prototype.clearListeners=function(){this.pointerDownEvent&&(document.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},s}()},"./src/utils/popup.ts":function(n,r,i){i.r(r),i.d(r,"PopupUtils",function(){return o});var o=function(){function a(){}return a.calculatePosition=function(s,c,C,E,O,y,b){b===void 0&&(b="flex");var P=s.left,g=s.top;return b==="flex"&&(O=="center"?P=(s.left+s.right-C)/2:O=="left"?P=s.left-C:P=s.right),E=="middle"?g=(s.top+s.bottom-c)/2:E=="top"?g=s.top-c:g=s.bottom,y&&O!="center"&&E!="middle"&&(E=="top"?g=g+s.height:g=g-s.height),{left:Math.round(P),top:Math.round(g)}},a.updateVerticalDimensions=function(s,c,C){var E;if(s<0)E={height:c+s,top:0};else if(c+s>C){var O=Math.min(c,C-s-a.bottomIndent);E={height:O,top:s}}return E},a.updateHorizontalDimensions=function(s,c,C,E,O,y){O===void 0&&(O="flex"),y===void 0&&(y={left:0,right:0}),c+=y.left+y.right;var b=void 0,P=s;return E==="center"&&(O==="fixed"?(s+c>C&&(b=C-s),P-=y.left):s<0?(P=y.left,b=Math.min(c,C)):c+s>C&&(P=C-c,P=Math.max(P,y.left),b=Math.min(c,C))),E==="left"&&s<0&&(P=y.left,b=Math.min(c,C)),E==="right"&&c+s>C&&(b=C-s),{width:b-y.left-y.right,left:P}},a.updateVerticalPosition=function(s,c,C,E,O){var y=c-(s.top+(E?s.height:0)),b=c+s.bottom-(E?s.height:0)-O;return y>0&&b<=0&&C=="top"?C="bottom":b>0&&y<=0&&C=="bottom"?C="top":b>0&&y>0&&(C=y<b?"top":"bottom"),C},a.calculatePopupDirection=function(s,c){var C;return c=="center"&&s!="middle"?C=s:c!="center"&&(C=c),C},a.calculatePointerTarget=function(s,c,C,E,O,y,b){y===void 0&&(y=0),b===void 0&&(b=0);var P={};return O!="center"?(P.top=s.top+s.height/2,P.left=s[O]):E!="middle"&&(P.top=s[E],P.left=s.left+s.width/2),P.left=Math.round(P.left-C),P.top=Math.round(P.top-c),O=="left"&&(P.left-=y+b),O==="center"&&(P.left-=y),P},a.bottomIndent=16,a}()},"./src/utils/responsivity-manager.ts":function(n,r,i){i.r(r),i.d(r,"ResponsivityManager",function(){return s}),i.d(r,"VerticalResponsivityManager",function(){return c});var o=i("./src/utils/utils.ts"),a=function(){var C=function(E,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(y[P]=b[P])},C(E,O)};return function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");C(E,O);function y(){this.constructor=E}E.prototype=O===null?Object.create(O):(y.prototype=O.prototype,new y)}}(),s=function(){function C(E,O,y,b){var P=this;b===void 0&&(b=null),this.container=E,this.model=O,this.itemsSelector=y,this.dotsItemSize=b,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.recalcMinDimensionConst=!0,this.getComputedStyle=window.getComputedStyle.bind(window),this.model.updateCallback=function(g){g&&(P.isInitialized=!1),setTimeout(function(){P.process()},1)},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(g){return P.process()}),this.resizeObserver.observe(this.container.parentElement))}return C.prototype.getDimensions=function(E){return{scroll:E.scrollWidth,offset:E.offsetWidth}},C.prototype.getAvailableSpace=function(){var E=this.getComputedStyle(this.container),O=this.container.offsetWidth;return E.boxSizing==="border-box"&&(O-=parseFloat(E.paddingLeft)+parseFloat(E.paddingRight)),O},C.prototype.calcItemSize=function(E){return E.offsetWidth},C.prototype.calcMinDimension=function(E){var O=this.minDimensionConst;return E.iconSize&&this.recalcMinDimensionConst&&(O=2*E.iconSize+this.paddingSizeConst),E.canShrink?O+(E.needSeparator?this.separatorSize:0):E.maxDimension},C.prototype.calcItemsSizes=function(){var E=this,O=this.model.actions,y=this.container.querySelectorAll(this.itemsSelector);(y||[]).forEach(function(b,P){var g=O[P];E.calcActionDimensions(g,b)})},C.prototype.calcActionDimensions=function(E,O){E.maxDimension=this.calcItemSize(O),E.minDimension=this.calcMinDimension(E)},Object.defineProperty(C.prototype,"isContainerVisible",{get:function(){return Object(o.isContainerVisible)(this.container)},enumerable:!1,configurable:!0}),C.prototype.process=function(){var E;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||(this.model.setActionsMode("large"),this.calcItemsSizes(),this.isInitialized=!0);var O=this.dotsItemSize;if(!this.dotsItemSize){var y=(E=this.container)===null||E===void 0?void 0:E.querySelector(".sv-dots");O=y&&this.calcItemSize(y)||this.dotsSizeConst}this.model.fit(this.getAvailableSpace(),O)}},C.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},C}(),c=function(C){a(E,C);function E(O,y,b,P,g){g===void 0&&(g=40);var m=C.call(this,O,y,b,P)||this;return m.minDimensionConst=g,m.recalcMinDimensionConst=!1,m}return E.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},E.prototype.getAvailableSpace=function(){var O=this.getComputedStyle(this.container),y=this.container.offsetHeight;return O.boxSizing==="border-box"&&(y-=parseFloat(O.paddingTop)+parseFloat(O.paddingBottom)),y},E.prototype.calcItemSize=function(O){return O.offsetHeight},E.prototype.calcActionDimensions=function(O,y){O.maxDimension=this.calcItemSize(y),O.minDimension=this.calcItemSize(y)},E}(s)},"./src/utils/tooltip.ts":function(n,r,i){i.r(r),i.d(r,"TooltipManager",function(){return o});var o=function(){function a(s){var c=this;this.tooltipElement=s,this.onMouseMoveCallback=function(C){c.tooltipElement.style.left=C.clientX+12+"px",c.tooltipElement.style.top=C.clientY+12+"px"},this.targetElement=s.parentElement,this.targetElement.addEventListener("mousemove",this.onMouseMoveCallback)}return a.prototype.dispose=function(){this.targetElement.removeEventListener("mousemove",this.onMouseMoveCallback)},a}()},"./src/utils/utils.ts":function(n,r,i){i.r(r),i.d(r,"unwrap",function(){return d}),i.d(r,"getSize",function(){return h}),i.d(r,"doKey2ClickBlur",function(){return u}),i.d(r,"doKey2ClickUp",function(){return x}),i.d(r,"doKey2ClickDown",function(){return V}),i.d(r,"sanitizeEditableContent",function(){return L}),i.d(r,"Logger",function(){return W}),i.d(r,"mergeValues",function(){return F}),i.d(r,"getElementWidth",function(){return R}),i.d(r,"isContainerVisible",function(){return S}),i.d(r,"classesToSelector",function(){return D}),i.d(r,"compareVersions",function(){return a}),i.d(r,"confirmAction",function(){return s}),i.d(r,"detectIEOrEdge",function(){return C}),i.d(r,"detectIEBrowser",function(){return c}),i.d(r,"loadFileFromBase64",function(){return E}),i.d(r,"isMobile",function(){return O}),i.d(r,"isShadowDOM",function(){return y}),i.d(r,"getElement",function(){return b}),i.d(r,"isElementVisible",function(){return P}),i.d(r,"findScrollableParent",function(){return g}),i.d(r,"scrollElementByChildId",function(){return m}),i.d(r,"navigateToUrl",function(){return v}),i.d(r,"createSvg",function(){return l}),i.d(r,"getIconNameFromProxy",function(){return f}),i.d(r,"increaseHeightByContent",function(){return A}),i.d(r,"getOriginalEvent",function(){return M}),i.d(r,"preventDefaults",function(){return T}),i.d(r,"findParentByClassNames",function(){return w}),i.d(r,"getFirstVisibleChild",function(){return I});var o=i("./src/settings.ts");function a(U,Q){for(var $=/(\.0+)+$/,z=U.replace($,"").split("."),q=Q.replace($,"").split("."),K=Math.min(z.length,q.length),re=0;re<K;re++){var Y=parseInt(z[re],10)-parseInt(q[re],10);if(Y)return Y}return z.length-q.length}function s(U){return o.settings&&o.settings.confirmActionFunc?o.settings.confirmActionFunc(U):confirm(U)}function c(){if(typeof window>"u")return!1;var U=window.navigator.userAgent,Q=U.indexOf("MSIE "),$=U.indexOf("Trident/");return Q>-1||$>-1}function C(){if(typeof window>"u")return!1;if(typeof C.isIEOrEdge>"u"){var U=window.navigator.userAgent,Q=U.indexOf("MSIE "),$=U.indexOf("Trident/"),z=U.indexOf("Edge/");C.isIEOrEdge=z>0||$>0||Q>0}return C.isIEOrEdge}function E(U,Q){try{for(var $=atob(U.split(",")[1]),z=U.split(",")[0].split(":")[1].split(";")[0],q=new ArrayBuffer($.length),K=new Uint8Array(q),re=0;re<$.length;re++)K[re]=$.charCodeAt(re);var Y=new Blob([q],{type:z});typeof window<"u"&&window.navigator&&window.navigator.msSaveBlob&&window.navigator.msSaveOrOpenBlob(Y,Q)}catch{}}function O(){return typeof window<"u"&&typeof window.orientation<"u"}var y=function(U){return!!U&&!!("host"in U&&U.host)},b=function(U){var Q=o.settings.environment.root;return typeof U=="string"?Q.getElementById(U):U};function P(U,Q){if(Q===void 0&&(Q=0),typeof o.settings.environment>"u")return!1;var $=o.settings.environment.root,z=y($)?$.host.clientHeight:$.documentElement.clientHeight,q=U.getBoundingClientRect(),K=Math.max(z,window.innerHeight),re=-Q,Y=K+Q,Ee=q.top,ve=q.bottom,Oe=Math.max(re,Ee),pe=Math.min(Y,ve);return Oe<=pe}function g(U){var Q=o.settings.environment.root;return U?U.scrollHeight>U.clientHeight&&(getComputedStyle(U).overflowY==="scroll"||getComputedStyle(U).overflowY==="auto")||U.scrollWidth>U.clientWidth&&(getComputedStyle(U).overflowX==="scroll"||getComputedStyle(U).overflowX==="auto")?U:g(U.parentElement):y(Q)?Q.host:Q.documentElement}function m(U){var Q=o.settings.environment;if(Q){var $=Q.root,z=$.getElementById(U);if(z){var q=g(z);q&&q.dispatchEvent(new CustomEvent("scroll"))}}}function v(U){!U||typeof window>"u"||!window.location||(window.location.href=U)}function f(U){if(!U)return U;var Q=o.settings.customIcons[U];return Q||U}function l(U,Q,$,z,q,K){if(q){U!=="auto"&&(q.style.width=(U||Q||16)+"px",q.style.height=(U||$||16)+"px");var re=q.childNodes[0],Y=f(z);re.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+Y);var Ee=q.getElementsByTagName("title")[0];if(K)Ee||(Ee=document.createElementNS("http://www.w3.org/2000/svg","title"),q.appendChild(Ee));else{Ee&&q.removeChild(Ee);return}Ee.textContent=K}}function d(U){return typeof U!="function"?U:U()}function h(U){if(typeof U=="number")return""+U+"px";if(U&&typeof U=="string"&&U.length>0){var Q=U[U.length-1];if(Q>="0"&&Q<="9"||Q==".")try{var $=parseFloat(U);return""+$+"px"}catch{}}return U}var p="sv-focused--by-key";function u(U){var Q=U.target;!Q||!Q.classList||Q.classList.remove(p)}function x(U,Q){if(!(U.target&&U.target.contentEditable==="true")){var $=U.target;if($){var z=U.which||U.keyCode;if(z===9){$.classList&&!$.classList.contains(p)&&$.classList.add(p);return}if(Q){if(!Q.__keyDownReceived)return;Q.__keyDownReceived=!1}z===13||z===32?$.click&&$.click():(!Q||Q.processEsc)&&z===27&&$.blur&&$.blur()}}}function V(U,Q){if(Q===void 0&&(Q={processEsc:!0}),Q&&(Q.__keyDownReceived=!0),!(U.target&&U.target.contentEditable==="true")){var $=U.which||U.keyCode,z=[13,32];Q.processEsc&&z.push(27),z.indexOf($)!==-1&&U.preventDefault()}}function A(U,Q){if(U){Q||(Q=function(z){return window.getComputedStyle(z)});var $=Q(U);U.style.height="auto",U.style.height=U.scrollHeight+parseFloat($.borderTopWidth)+parseFloat($.borderBottomWidth)+"px"}}function M(U){return U.originalEvent||U}function T(U){U.preventDefault(),U.stopPropagation()}function D(U){var Q=/\s*?([\w-]+)\s*?/g;return U.replace(Q,".$1")}function R(U){return getComputedStyle?Number.parseFloat(getComputedStyle(U).width):U.offsetWidth}function S(U){return!!(U.offsetWidth||U.offsetHeight||U.getClientRects().length)}function I(U){for(var Q,$=0;$<U.children.length;$++)!Q&&getComputedStyle(U.children[$]).display!=="none"&&(Q=U.children[$]);return Q}function w(U,Q){if(U)return Q.every(function($){return!$||U.classList.contains($)})?U:w(U.parentElement,Q)}function L(U){if(window.getSelection&&document.createRange&&U.childNodes.length>0){var Q=document.getSelection(),$=Q.getRangeAt(0);$.setStart($.endContainer,$.endOffset),$.setEndAfter(U.lastChild),Q.removeAllRanges(),Q.addRange($);var z=Q.toString().replace(/\n/g,"").length;U.innerText=U.innerText.replace(/\n/g,""),$=document.createRange(),$.setStart(U.childNodes[0],U.innerText.length-z),$.collapse(!0),Q.removeAllRanges(),Q.addRange($)}}function F(U,Q){if(!(!Q||!U)&&typeof Q=="object")for(var $ in U){var z=U[$];!Array.isArray(z)&&z&&typeof z=="object"?((!Q[$]||typeof Q[$]!="object")&&(Q[$]={}),F(z,Q[$])):Q[$]=z}}var W=function(){function U(){this._result=""}return U.prototype.log=function(Q){this._result+="->"+Q},Object.defineProperty(U.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),U}()},"./src/validator.ts":function(n,r,i){i.r(r),i.d(r,"ValidatorResult",function(){return O}),i.d(r,"SurveyValidator",function(){return y}),i.d(r,"ValidatorRunner",function(){return b}),i.d(r,"NumericValidator",function(){return P}),i.d(r,"TextValidator",function(){return g}),i.d(r,"AnswerCountValidator",function(){return m}),i.d(r,"RegexValidator",function(){return v}),i.d(r,"EmailValidator",function(){return f}),i.d(r,"ExpressionValidator",function(){return l});var o=i("./src/base.ts"),a=i("./src/error.ts"),s=i("./src/jsonobject.ts"),c=i("./src/conditions.ts"),C=i("./src/helpers.ts"),E=function(){var d=function(h,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,x){u.__proto__=x}||function(u,x){for(var V in x)Object.prototype.hasOwnProperty.call(x,V)&&(u[V]=x[V])},d(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(h,p);function u(){this.constructor=h}h.prototype=p===null?Object.create(p):(u.prototype=p.prototype,new u)}}(),O=function(){function d(h,p){p===void 0&&(p=null),this.value=h,this.error=p}return d}(),y=function(d){E(h,d);function h(){var p=d.call(this)||this;return p.createLocalizableString("text",p,!0),p}return h.prototype.getSurvey=function(p){return this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(h.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(p){this.setLocalizableStringText("text",p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),h.prototype.getErrorText=function(p){return this.text?this.text:this.getDefaultErrorText(p)},h.prototype.getDefaultErrorText=function(p){return""},h.prototype.validate=function(p,u,x,V){return null},Object.defineProperty(h.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),h.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},h.prototype.getMarkdownHtml=function(p,u){return this.errorOwner?this.errorOwner.getMarkdownHtml(p,u):void 0},h.prototype.getRenderer=function(p){return this.errorOwner?this.errorOwner.getRenderer(p):null},h.prototype.getRendererContext=function(p){return this.errorOwner?this.errorOwner.getRendererContext(p):p},h.prototype.getProcessedText=function(p){return this.errorOwner?this.errorOwner.getProcessedText(p):p},h.prototype.createCustomError=function(p){var u=this,x=new a.CustomError(this.getErrorText(p),this.errorOwner);return x.onUpdateErrorTextCallback=function(V){return V.text=u.getErrorText(p)},x},h.prototype.toString=function(){var p=this.getType().replace("validator","");return this.text&&(p+=", "+this.text),p},h}(o.Base),b=function(){function d(){}return d.prototype.run=function(h){var p=this,u=[],x=null,V=null;this.prepareAsyncValidators();for(var A=[],M=h.getValidators(),T=0;T<M.length;T++){var D=M[T];!x&&D.isValidateAllValues&&(x=h.getDataFilteredValues(),V=h.getDataFilteredProperties()),D.isAsync&&(this.asyncValidators.push(D),D.onAsyncCompleted=function(S){if(S&&S.error&&A.push(S.error),!!p.onAsyncCompleted){for(var I=0;I<p.asyncValidators.length;I++)if(p.asyncValidators[I].isRunning)return;p.onAsyncCompleted(A)}})}M=h.getValidators();for(var T=0;T<M.length;T++){var D=M[T],R=D.validate(h.validatedValue,h.getValidatorTitle(),x,V);R&&R.error&&u.push(R.error)}return this.asyncValidators.length==0&&this.onAsyncCompleted&&this.onAsyncCompleted([]),u},d.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var h=0;h<this.asyncValidators.length;h++)this.asyncValidators[h].onAsyncCompleted=null;this.asyncValidators=[]},d}(),P=function(d){E(h,d);function h(p,u){p===void 0&&(p=null),u===void 0&&(u=null);var x=d.call(this)||this;return x.minValue=p,x.maxValue=u,x}return h.prototype.getType=function(){return"numericvalidator"},h.prototype.validate=function(p,u,x,V){if(u===void 0&&(u=null),this.isValueEmpty(p))return null;if(!C.Helpers.isNumber(p))return new O(null,new a.RequreNumericError(null,this.errorOwner));var A=new O(C.Helpers.getNumber(p));return this.minValue!==null&&this.minValue>A.value?(A.error=this.createCustomError(u),A):this.maxValue!==null&&this.maxValue<A.value?(A.error=this.createCustomError(u),A):typeof p=="number"?null:A},h.prototype.getDefaultErrorText=function(p){var u=p||this.getLocalizationString("value");return this.minValue!==null&&this.maxValue!==null?this.getLocalizationFormatString("numericMinMax",u,this.minValue,this.maxValue):this.minValue!==null?this.getLocalizationFormatString("numericMin",u,this.minValue):this.getLocalizationFormatString("numericMax",u,this.maxValue)},Object.defineProperty(h.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(p){this.setPropertyValue("minValue",p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(p){this.setPropertyValue("maxValue",p)},enumerable:!1,configurable:!0}),h}(y),g=function(d){E(h,d);function h(){return d.call(this)||this}return h.prototype.getType=function(){return"textvalidator"},h.prototype.validate=function(p,u,x,V){if(u===void 0&&(u=null),this.isValueEmpty(p))return null;if(!this.allowDigits){var A=/^[A-Za-z\s\.]*$/;if(!A.test(p))return new O(null,this.createCustomError(u))}return this.minLength>0&&p.length<this.minLength?new O(null,this.createCustomError(u)):this.maxLength>0&&p.length>this.maxLength?new O(null,this.createCustomError(u)):null},h.prototype.getDefaultErrorText=function(p){return this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)},Object.defineProperty(h.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(p){this.setPropertyValue("minLength",p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(p){this.setPropertyValue("maxLength",p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(p){this.setPropertyValue("allowDigits",p)},enumerable:!1,configurable:!0}),h}(y),m=function(d){E(h,d);function h(p,u){p===void 0&&(p=null),u===void 0&&(u=null);var x=d.call(this)||this;return x.minCount=p,x.maxCount=u,x}return h.prototype.getType=function(){return"answercountvalidator"},h.prototype.validate=function(p,u,x,V){if(p==null||p.constructor!=Array)return null;var A=p.length;return A==0?null:this.minCount&&A<this.minCount?new O(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&A>this.maxCount?new O(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null},h.prototype.getDefaultErrorText=function(p){return p},Object.defineProperty(h.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(p){this.setPropertyValue("minCount",p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(p){this.setPropertyValue("maxCount",p)},enumerable:!1,configurable:!0}),h}(y),v=function(d){E(h,d);function h(p){p===void 0&&(p=null);var u=d.call(this)||this;return u.regex=p,u}return h.prototype.getType=function(){return"regexvalidator"},h.prototype.validate=function(p,u,x,V){if(u===void 0&&(u=null),!this.regex||this.isValueEmpty(p))return null;var A=new RegExp(this.regex);if(Array.isArray(p))for(var M=0;M<p.length;M++){var T=this.hasError(A,p[M],u);if(T)return T}return this.hasError(A,p,u)},h.prototype.hasError=function(p,u,x){return p.test(u)?null:new O(u,this.createCustomError(x))},Object.defineProperty(h.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(p){this.setPropertyValue("regex",p)},enumerable:!1,configurable:!0}),h}(y),f=function(d){E(h,d);function h(){var p=d.call(this)||this;return p.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,p}return h.prototype.getType=function(){return"emailvalidator"},h.prototype.validate=function(p,u,x,V){return u===void 0&&(u=null),!p||this.re.test(p)?null:new O(p,this.createCustomError(u))},h.prototype.getDefaultErrorText=function(p){return this.getLocalizationString("invalidEmail")},h}(y),l=function(d){E(h,d);function h(p){p===void 0&&(p=null);var u=d.call(this)||this;return u.conditionRunner=null,u.isRunningValue=!1,u.expression=p,u}return h.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(h.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isAsync",{get:function(){return this.ensureConditionRunner()?this.conditionRunner.isAsync:!1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),h.prototype.validate=function(p,u,x,V){var A=this;if(u===void 0&&(u=null),x===void 0&&(x=null),V===void 0&&(V=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(T){A.isRunningValue=!1,A.onAsyncCompleted&&A.onAsyncCompleted(A.generateError(T,p,u))},this.isRunningValue=!0;var M=this.conditionRunner.run(x,V);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(M,p,u))},h.prototype.generateError=function(p,u,x){return p?null:new O(u,this.createCustomError(x))},h.prototype.getDefaultErrorText=function(p){return this.getLocalizationFormatString("invalidExpression",this.expression)},h.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):this.expression?(this.conditionRunner=new c.ConditionRunner(this.expression),!0):!1},Object.defineProperty(h.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(p){this.setPropertyValue("expression",p)},enumerable:!1,configurable:!0}),h}(y);s.Serializer.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),s.Serializer.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new P},"surveyvalidator"),s.Serializer.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new g},"surveyvalidator"),s.Serializer.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new m},"surveyvalidator"),s.Serializer.addClass("regexvalidator",["regex"],function(){return new v},"surveyvalidator"),s.Serializer.addClass("emailvalidator",[],function(){return new f},"surveyvalidator"),s.Serializer.addClass("expressionvalidator",["expression:condition"],function(){return new l},"surveyvalidator")}})})}(Mh)),Mh.exports}var Mj=iT(),oT={exports:{}};/*!
 * surveyjs - Survey JavaScript library v1.9.97
 * Copyright (c) 2015-2023 Devsoft Baltic O  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */(function(t,e){(function(r,i){t.exports=i(X,RS,iT())})(d0,function(n,r,i){return function(o){var a={};function s(c){if(a[c])return a[c].exports;var C=a[c]={i:c,l:!1,exports:{}};return o[c].call(C.exports,C,C.exports,s),C.l=!0,C.exports}return s.m=o,s.c=a,s.d=function(c,C,E){s.o(c,C)||Object.defineProperty(c,C,{enumerable:!0,get:E})},s.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},s.t=function(c,C){if(C&1&&(c=s(c)),C&8||C&4&&typeof c=="object"&&c&&c.__esModule)return c;var E=Object.create(null);if(s.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:c}),C&2&&typeof c!="string")for(var O in c)s.d(E,O,function(y){return c[y]}.bind(null,O));return E},s.n=function(c){var C=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(C,"a",C),C},s.o=function(c,C){return Object.prototype.hasOwnProperty.call(c,C)},s.p="",s(s.s="./src/entries/react-ui.ts")}({"./src/entries/core-export.ts":function(o,a,s){s.r(a);var c=s("survey-core");s.d(a,"SurveyModel",function(){return c.SurveyModel}),s.d(a,"SurveyWindowModel",function(){return c.SurveyWindowModel}),s.d(a,"settings",function(){return c.settings}),s.d(a,"surveyLocalization",function(){return c.surveyLocalization}),s.d(a,"surveyStrings",function(){return c.surveyStrings})},"./src/entries/react-ui-model.ts":function(o,a,s){s.r(a);var c=s("./src/react/reactSurvey.tsx");s.d(a,"Survey",function(){return c.Survey}),s.d(a,"attachKey2click",function(){return c.attachKey2click});var C=s("./src/react/reactsurveymodel.tsx");s.d(a,"ReactSurveyElementsWrapper",function(){return C.ReactSurveyElementsWrapper});var E=s("./src/react/reactSurveyNavigationBase.tsx");s.d(a,"SurveyNavigationBase",function(){return E.SurveyNavigationBase});var O=s("./src/react/reacttimerpanel.tsx");s.d(a,"SurveyTimerPanel",function(){return O.SurveyTimerPanel});var y=s("./src/react/page.tsx");s.d(a,"SurveyPage",function(){return y.SurveyPage});var b=s("./src/react/row.tsx");s.d(a,"SurveyRow",function(){return b.SurveyRow});var P=s("./src/react/panel.tsx");s.d(a,"SurveyPanel",function(){return P.SurveyPanel});var g=s("./src/react/flow-panel.tsx");s.d(a,"SurveyFlowPanel",function(){return g.SurveyFlowPanel});var m=s("./src/react/reactquestion.tsx");s.d(a,"SurveyQuestion",function(){return m.SurveyQuestion}),s.d(a,"SurveyElementErrors",function(){return m.SurveyElementErrors}),s.d(a,"SurveyQuestionAndErrorsCell",function(){return m.SurveyQuestionAndErrorsCell});var v=s("./src/react/reactquestion_element.tsx");s.d(a,"ReactSurveyElement",function(){return v.ReactSurveyElement}),s.d(a,"SurveyElementBase",function(){return v.SurveyElementBase}),s.d(a,"SurveyQuestionElementBase",function(){return v.SurveyQuestionElementBase});var f=s("./src/react/reactquestion_comment.tsx");s.d(a,"SurveyQuestionCommentItem",function(){return f.SurveyQuestionCommentItem}),s.d(a,"SurveyQuestionComment",function(){return f.SurveyQuestionComment});var l=s("./src/react/reactquestion_checkbox.tsx");s.d(a,"SurveyQuestionCheckbox",function(){return l.SurveyQuestionCheckbox}),s.d(a,"SurveyQuestionCheckboxItem",function(){return l.SurveyQuestionCheckboxItem});var d=s("./src/react/reactquestion_ranking.tsx");s.d(a,"SurveyQuestionRanking",function(){return d.SurveyQuestionRanking}),s.d(a,"SurveyQuestionRankingItem",function(){return d.SurveyQuestionRankingItem});var h=s("./src/react/components/rating/rating-item.tsx");s.d(a,"RatingItem",function(){return h.RatingItem});var p=s("./src/react/components/rating/rating-item-star.tsx");s.d(a,"RatingItemStar",function(){return p.RatingItemStar});var u=s("./src/react/components/rating/rating-item-smiley.tsx");s.d(a,"RatingItemSmiley",function(){return u.RatingItemSmiley});var x=s("./src/react/tagbox-filter.tsx");s.d(a,"TagboxFilterString",function(){return x.TagboxFilterString});var V=s("./src/react/dropdown-item.tsx");s.d(a,"SurveyQuestionOptionItem",function(){return V.SurveyQuestionOptionItem});var A=s("./src/react/dropdown-base.tsx");s.d(a,"SurveyQuestionDropdownBase",function(){return A.SurveyQuestionDropdownBase});var M=s("./src/react/reactquestion_dropdown.tsx");s.d(a,"SurveyQuestionDropdown",function(){return M.SurveyQuestionDropdown});var T=s("./src/react/tagbox-item.tsx");s.d(a,"SurveyQuestionTagboxItem",function(){return T.SurveyQuestionTagboxItem});var D=s("./src/react/reactquestion_tagbox.tsx");s.d(a,"SurveyQuestionTagbox",function(){return D.SurveyQuestionTagbox});var R=s("./src/react/dropdown-select.tsx");s.d(a,"SurveyQuestionDropdownSelect",function(){return R.SurveyQuestionDropdownSelect});var S=s("./src/react/reactquestion_matrix.tsx");s.d(a,"SurveyQuestionMatrix",function(){return S.SurveyQuestionMatrix}),s.d(a,"SurveyQuestionMatrixRow",function(){return S.SurveyQuestionMatrixRow});var I=s("./src/react/reactquestion_html.tsx");s.d(a,"SurveyQuestionHtml",function(){return I.SurveyQuestionHtml});var w=s("./src/react/reactquestion_file.tsx");s.d(a,"SurveyQuestionFile",function(){return w.SurveyQuestionFile});var L=s("./src/react/reactquestion_multipletext.tsx");s.d(a,"SurveyQuestionMultipleText",function(){return L.SurveyQuestionMultipleText});var F=s("./src/react/reactquestion_radiogroup.tsx");s.d(a,"SurveyQuestionRadiogroup",function(){return F.SurveyQuestionRadiogroup}),s.d(a,"SurveyQuestionRadioItem",function(){return F.SurveyQuestionRadioItem});var W=s("./src/react/reactquestion_text.tsx");s.d(a,"SurveyQuestionText",function(){return W.SurveyQuestionText});var U=s("./src/react/boolean.tsx");s.d(a,"SurveyQuestionBoolean",function(){return U.SurveyQuestionBoolean});var Q=s("./src/react/boolean-checkbox.tsx");s.d(a,"SurveyQuestionBooleanCheckbox",function(){return Q.SurveyQuestionBooleanCheckbox});var $=s("./src/react/boolean-radio.tsx");s.d(a,"SurveyQuestionBooleanRadio",function(){return $.SurveyQuestionBooleanRadio});var z=s("./src/react/reactquestion_empty.tsx");s.d(a,"SurveyQuestionEmpty",function(){return z.SurveyQuestionEmpty});var q=s("./src/react/reactquestion_matrixdropdownbase.tsx");s.d(a,"SurveyQuestionMatrixDropdownCell",function(){return q.SurveyQuestionMatrixDropdownCell}),s.d(a,"SurveyQuestionMatrixDropdownBase",function(){return q.SurveyQuestionMatrixDropdownBase});var K=s("./src/react/reactquestion_matrixdropdown.tsx");s.d(a,"SurveyQuestionMatrixDropdown",function(){return K.SurveyQuestionMatrixDropdown});var re=s("./src/react/reactquestion_matrixdynamic.tsx");s.d(a,"SurveyQuestionMatrixDynamic",function(){return re.SurveyQuestionMatrixDynamic}),s.d(a,"SurveyQuestionMatrixDynamicAddButton",function(){return re.SurveyQuestionMatrixDynamicAddButton});var Y=s("./src/react/reactquestion_paneldynamic.tsx");s.d(a,"SurveyQuestionPanelDynamic",function(){return Y.SurveyQuestionPanelDynamic});var Ee=s("./src/react/reactSurveyProgress.tsx");s.d(a,"SurveyProgress",function(){return Ee.SurveyProgress});var ve=s("./src/react/reactSurveyProgressButtons.tsx");s.d(a,"SurveyProgressButtons",function(){return ve.SurveyProgressButtons});var Oe=s("./src/react/reactSurveyProgressToc.tsx");s.d(a,"SurveyProgressToc",function(){return Oe.SurveyProgressToc});var pe=s("./src/react/reactquestion_rating.tsx");s.d(a,"SurveyQuestionRating",function(){return pe.SurveyQuestionRating});var Ze=s("./src/react/rating-dropdown.tsx");s.d(a,"SurveyQuestionRatingDropdown",function(){return Ze.SurveyQuestionRatingDropdown});var st=s("./src/react/reactquestion_expression.tsx");s.d(a,"SurveyQuestionExpression",function(){return st.SurveyQuestionExpression});var Te=s("./src/react/react-popup-survey.tsx");s.d(a,"PopupSurvey",function(){return Te.PopupSurvey}),s.d(a,"SurveyWindow",function(){return Te.SurveyWindow});var at=s("./src/react/reactquestion_factory.tsx");s.d(a,"ReactQuestionFactory",function(){return at.ReactQuestionFactory});var Ie=s("./src/react/element-factory.tsx");s.d(a,"ReactElementFactory",function(){return Ie.ReactElementFactory});var Ye=s("./src/react/imagepicker.tsx");s.d(a,"SurveyQuestionImagePicker",function(){return Ye.SurveyQuestionImagePicker});var an=s("./src/react/image.tsx");s.d(a,"SurveyQuestionImage",function(){return an.SurveyQuestionImage});var We=s("./src/react/signaturepad.tsx");s.d(a,"SurveyQuestionSignaturePad",function(){return We.SurveyQuestionSignaturePad});var Rn=s("./src/react/reactquestion_buttongroup.tsx");s.d(a,"SurveyQuestionButtonGroup",function(){return Rn.SurveyQuestionButtonGroup});var ln=s("./src/react/reactquestion_custom.tsx");s.d(a,"SurveyQuestionCustom",function(){return ln.SurveyQuestionCustom}),s.d(a,"SurveyQuestionComposite",function(){return ln.SurveyQuestionComposite});var yt=s("./src/react/components/popup/popup.tsx");s.d(a,"Popup",function(){return yt.Popup});var Ce=s("./src/react/components/list/list.tsx");s.d(a,"List",function(){return Ce.List});var $e=s("./src/react/components/title/title-actions.tsx");s.d(a,"TitleActions",function(){return $e.TitleActions});var gn=s("./src/react/components/title/title-element.tsx");s.d(a,"TitleElement",function(){return gn.TitleElement});var Qt=s("./src/react/components/action-bar/action-bar.tsx");s.d(a,"SurveyActionBar",function(){return Qt.SurveyActionBar});var At=s("./src/react/components/survey-header/logo-image.tsx");s.d(a,"LogoImage",function(){return At.LogoImage});var ro=s("./src/react/components/survey-header/survey-header.tsx");s.d(a,"SurveyHeader",function(){return ro.SurveyHeader});var oi=s("./src/react/components/svg-icon/svg-icon.tsx");s.d(a,"SvgIcon",function(){return oi.SvgIcon});var io=s("./src/react/components/matrix-actions/remove-button/remove-button.tsx");s.d(a,"SurveyQuestionMatrixDynamicRemoveButton",function(){return io.SurveyQuestionMatrixDynamicRemoveButton});var si=s("./src/react/components/matrix-actions/detail-button/detail-button.tsx");s.d(a,"SurveyQuestionMatrixDetailButton",function(){return si.SurveyQuestionMatrixDetailButton});var ai=s("./src/react/components/matrix-actions/drag-drop-icon/drag-drop-icon.tsx");s.d(a,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return ai.SurveyQuestionMatrixDynamicDragDropIcon});var k=s("./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx");s.d(a,"SurveyQuestionPanelDynamicAddButton",function(){return k.SurveyQuestionPanelDynamicAddButton});var J=s("./src/react/components/paneldynamic-actions/paneldynamic-remove-btn.tsx");s.d(a,"SurveyQuestionPanelDynamicRemoveButton",function(){return J.SurveyQuestionPanelDynamicRemoveButton});var ee=s("./src/react/components/paneldynamic-actions/paneldynamic-prev-btn.tsx");s.d(a,"SurveyQuestionPanelDynamicPrevButton",function(){return ee.SurveyQuestionPanelDynamicPrevButton});var ue=s("./src/react/components/paneldynamic-actions/paneldynamic-next-btn.tsx");s.d(a,"SurveyQuestionPanelDynamicNextButton",function(){return ue.SurveyQuestionPanelDynamicNextButton});var Se=s("./src/react/components/paneldynamic-actions/paneldynamic-progress-text.tsx");s.d(a,"SurveyQuestionPanelDynamicProgressText",function(){return Se.SurveyQuestionPanelDynamicProgressText});var Pe=s("./src/react/components/survey-actions/survey-nav-button.tsx");s.d(a,"SurveyNavigationButton",function(){return Pe.SurveyNavigationButton});var be=s("./src/react/components/matrix/row.tsx");s.d(a,"MatrixRow",function(){return be.MatrixRow});var me=s("./src/react/components/skeleton.tsx");s.d(a,"Skeleton",function(){return me.Skeleton});var he=s("./src/react/components/notifier.tsx");s.d(a,"NotifierComponent",function(){return he.NotifierComponent});var Ue=s("./src/react/components/components-container.tsx");s.d(a,"ComponentsContainer",function(){return Ue.ComponentsContainer});var Be=s("./src/react/components/character-counter.tsx");s.d(a,"CharacterCounterComponent",function(){return Be.CharacterCounterComponent});var Lt=s("./src/react/string-viewer.tsx");s.d(a,"SurveyLocStringViewer",function(){return Lt.SurveyLocStringViewer});var nt=s("./src/react/string-editor.tsx");s.d(a,"SurveyLocStringEditor",function(){return nt.SurveyLocStringEditor})},"./src/entries/react-ui.ts":function(o,a,s){s.r(a);var c=s("./src/entries/react-ui-model.ts");s.d(a,"Survey",function(){return c.Survey}),s.d(a,"attachKey2click",function(){return c.attachKey2click}),s.d(a,"ReactSurveyElementsWrapper",function(){return c.ReactSurveyElementsWrapper}),s.d(a,"SurveyNavigationBase",function(){return c.SurveyNavigationBase}),s.d(a,"SurveyTimerPanel",function(){return c.SurveyTimerPanel}),s.d(a,"SurveyPage",function(){return c.SurveyPage}),s.d(a,"SurveyRow",function(){return c.SurveyRow}),s.d(a,"SurveyPanel",function(){return c.SurveyPanel}),s.d(a,"SurveyFlowPanel",function(){return c.SurveyFlowPanel}),s.d(a,"SurveyQuestion",function(){return c.SurveyQuestion}),s.d(a,"SurveyElementErrors",function(){return c.SurveyElementErrors}),s.d(a,"SurveyQuestionAndErrorsCell",function(){return c.SurveyQuestionAndErrorsCell}),s.d(a,"ReactSurveyElement",function(){return c.ReactSurveyElement}),s.d(a,"SurveyElementBase",function(){return c.SurveyElementBase}),s.d(a,"SurveyQuestionElementBase",function(){return c.SurveyQuestionElementBase}),s.d(a,"SurveyQuestionCommentItem",function(){return c.SurveyQuestionCommentItem}),s.d(a,"SurveyQuestionComment",function(){return c.SurveyQuestionComment}),s.d(a,"SurveyQuestionCheckbox",function(){return c.SurveyQuestionCheckbox}),s.d(a,"SurveyQuestionCheckboxItem",function(){return c.SurveyQuestionCheckboxItem}),s.d(a,"SurveyQuestionRanking",function(){return c.SurveyQuestionRanking}),s.d(a,"SurveyQuestionRankingItem",function(){return c.SurveyQuestionRankingItem}),s.d(a,"RatingItem",function(){return c.RatingItem}),s.d(a,"RatingItemStar",function(){return c.RatingItemStar}),s.d(a,"RatingItemSmiley",function(){return c.RatingItemSmiley}),s.d(a,"TagboxFilterString",function(){return c.TagboxFilterString}),s.d(a,"SurveyQuestionOptionItem",function(){return c.SurveyQuestionOptionItem}),s.d(a,"SurveyQuestionDropdownBase",function(){return c.SurveyQuestionDropdownBase}),s.d(a,"SurveyQuestionDropdown",function(){return c.SurveyQuestionDropdown}),s.d(a,"SurveyQuestionTagboxItem",function(){return c.SurveyQuestionTagboxItem}),s.d(a,"SurveyQuestionTagbox",function(){return c.SurveyQuestionTagbox}),s.d(a,"SurveyQuestionDropdownSelect",function(){return c.SurveyQuestionDropdownSelect}),s.d(a,"SurveyQuestionMatrix",function(){return c.SurveyQuestionMatrix}),s.d(a,"SurveyQuestionMatrixRow",function(){return c.SurveyQuestionMatrixRow}),s.d(a,"SurveyQuestionHtml",function(){return c.SurveyQuestionHtml}),s.d(a,"SurveyQuestionFile",function(){return c.SurveyQuestionFile}),s.d(a,"SurveyQuestionMultipleText",function(){return c.SurveyQuestionMultipleText}),s.d(a,"SurveyQuestionRadiogroup",function(){return c.SurveyQuestionRadiogroup}),s.d(a,"SurveyQuestionRadioItem",function(){return c.SurveyQuestionRadioItem}),s.d(a,"SurveyQuestionText",function(){return c.SurveyQuestionText}),s.d(a,"SurveyQuestionBoolean",function(){return c.SurveyQuestionBoolean}),s.d(a,"SurveyQuestionBooleanCheckbox",function(){return c.SurveyQuestionBooleanCheckbox}),s.d(a,"SurveyQuestionBooleanRadio",function(){return c.SurveyQuestionBooleanRadio}),s.d(a,"SurveyQuestionEmpty",function(){return c.SurveyQuestionEmpty}),s.d(a,"SurveyQuestionMatrixDropdownCell",function(){return c.SurveyQuestionMatrixDropdownCell}),s.d(a,"SurveyQuestionMatrixDropdownBase",function(){return c.SurveyQuestionMatrixDropdownBase}),s.d(a,"SurveyQuestionMatrixDropdown",function(){return c.SurveyQuestionMatrixDropdown}),s.d(a,"SurveyQuestionMatrixDynamic",function(){return c.SurveyQuestionMatrixDynamic}),s.d(a,"SurveyQuestionMatrixDynamicAddButton",function(){return c.SurveyQuestionMatrixDynamicAddButton}),s.d(a,"SurveyQuestionPanelDynamic",function(){return c.SurveyQuestionPanelDynamic}),s.d(a,"SurveyProgress",function(){return c.SurveyProgress}),s.d(a,"SurveyProgressButtons",function(){return c.SurveyProgressButtons}),s.d(a,"SurveyProgressToc",function(){return c.SurveyProgressToc}),s.d(a,"SurveyQuestionRating",function(){return c.SurveyQuestionRating}),s.d(a,"SurveyQuestionRatingDropdown",function(){return c.SurveyQuestionRatingDropdown}),s.d(a,"SurveyQuestionExpression",function(){return c.SurveyQuestionExpression}),s.d(a,"PopupSurvey",function(){return c.PopupSurvey}),s.d(a,"SurveyWindow",function(){return c.SurveyWindow}),s.d(a,"ReactQuestionFactory",function(){return c.ReactQuestionFactory}),s.d(a,"ReactElementFactory",function(){return c.ReactElementFactory}),s.d(a,"SurveyQuestionImagePicker",function(){return c.SurveyQuestionImagePicker}),s.d(a,"SurveyQuestionImage",function(){return c.SurveyQuestionImage}),s.d(a,"SurveyQuestionSignaturePad",function(){return c.SurveyQuestionSignaturePad}),s.d(a,"SurveyQuestionButtonGroup",function(){return c.SurveyQuestionButtonGroup}),s.d(a,"SurveyQuestionCustom",function(){return c.SurveyQuestionCustom}),s.d(a,"SurveyQuestionComposite",function(){return c.SurveyQuestionComposite}),s.d(a,"Popup",function(){return c.Popup}),s.d(a,"List",function(){return c.List}),s.d(a,"TitleActions",function(){return c.TitleActions}),s.d(a,"TitleElement",function(){return c.TitleElement}),s.d(a,"SurveyActionBar",function(){return c.SurveyActionBar}),s.d(a,"LogoImage",function(){return c.LogoImage}),s.d(a,"SurveyHeader",function(){return c.SurveyHeader}),s.d(a,"SvgIcon",function(){return c.SvgIcon}),s.d(a,"SurveyQuestionMatrixDynamicRemoveButton",function(){return c.SurveyQuestionMatrixDynamicRemoveButton}),s.d(a,"SurveyQuestionMatrixDetailButton",function(){return c.SurveyQuestionMatrixDetailButton}),s.d(a,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return c.SurveyQuestionMatrixDynamicDragDropIcon}),s.d(a,"SurveyQuestionPanelDynamicAddButton",function(){return c.SurveyQuestionPanelDynamicAddButton}),s.d(a,"SurveyQuestionPanelDynamicRemoveButton",function(){return c.SurveyQuestionPanelDynamicRemoveButton}),s.d(a,"SurveyQuestionPanelDynamicPrevButton",function(){return c.SurveyQuestionPanelDynamicPrevButton}),s.d(a,"SurveyQuestionPanelDynamicNextButton",function(){return c.SurveyQuestionPanelDynamicNextButton}),s.d(a,"SurveyQuestionPanelDynamicProgressText",function(){return c.SurveyQuestionPanelDynamicProgressText}),s.d(a,"SurveyNavigationButton",function(){return c.SurveyNavigationButton}),s.d(a,"MatrixRow",function(){return c.MatrixRow}),s.d(a,"Skeleton",function(){return c.Skeleton}),s.d(a,"NotifierComponent",function(){return c.NotifierComponent}),s.d(a,"ComponentsContainer",function(){return c.ComponentsContainer}),s.d(a,"CharacterCounterComponent",function(){return c.CharacterCounterComponent}),s.d(a,"SurveyLocStringViewer",function(){return c.SurveyLocStringViewer}),s.d(a,"SurveyLocStringEditor",function(){return c.SurveyLocStringEditor});var C=s("./src/entries/core-export.ts");s.d(a,"SurveyModel",function(){return C.SurveyModel}),s.d(a,"SurveyWindowModel",function(){return C.SurveyWindowModel}),s.d(a,"settings",function(){return C.settings}),s.d(a,"surveyLocalization",function(){return C.surveyLocalization}),s.d(a,"surveyStrings",function(){return C.surveyStrings});var E=s("survey-core");s.d(a,"Model",function(){return E.SurveyModel});var O=s("./src/utils/responsivity-manager.ts");s.d(a,"ResponsivityManager",function(){return O.ResponsivityManager}),s.d(a,"VerticalResponsivityManager",function(){return O.VerticalResponsivityManager});var y=s("./src/utils/utils.ts");s.d(a,"unwrap",function(){return y.unwrap}),Object(E.checkLibraryVersion)("1.9.97","survey-react-ui")},"./src/react/boolean-checkbox.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionBooleanCheckbox",function(){return g});var c=s("react"),C=s("survey-core"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/boolean.tsx"),y=s("./src/react/components/title/title-actions.tsx"),b=s("./src/react/reactquestion_element.tsx"),P=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),g=function(m){P(v,m);function v(f){return m.call(this,f)||this}return v.prototype.renderElement=function(){var f=this.question.cssClasses,l=this.question.getCheckboxItemCss(),d=this.question.canRenderLabelDescription?b.SurveyElementBase.renderQuestionDescription(this.question):null;return c.createElement("div",{className:f.rootCheckbox},c.createElement("div",{className:l},c.createElement("label",{className:f.checkboxLabel},c.createElement("input",{ref:this.checkRef,type:"checkbox",name:this.question.name,value:this.question.booleanValue===null?"":this.question.booleanValue,id:this.question.inputId,className:f.controlCheckbox,disabled:this.isDisplayMode,checked:this.question.booleanValue||!1,onChange:this.handleOnChange,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),c.createElement("span",{className:f.checkboxMaterialDecorator},this.question.svgIcon?c.createElement("svg",{className:f.checkboxItemDecorator},c.createElement("use",{xlinkHref:this.question.svgIcon})):null,c.createElement("span",{className:"check"})),this.question.isLabelRendered&&c.createElement("span",{className:f.checkboxControlLabel,id:this.question.labelRenderedAriaID},c.createElement(y.TitleActions,{element:this.question,cssClasses:this.question.cssClasses}))),d))},v}(O.SurveyQuestionBoolean);E.ReactQuestionFactory.Instance.registerQuestion("sv-boolean-checkbox",function(m){return c.createElement(g,m)}),C.RendererFactory.Instance.registerRenderer("boolean","checkbox","sv-boolean-checkbox")},"./src/react/boolean-radio.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionBooleanRadio",function(){return b});var c=s("react"),C=s("survey-core"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/boolean.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.handleOnChange=function(f){v.question.booleanValue=f.nativeEvent.target.value=="true"},v}return g.prototype.renderRadioItem=function(m,v){var f=this.question.cssClasses;return c.createElement("div",{role:"presentation",className:this.question.getRadioItemClass(f,m)},c.createElement("label",{className:f.radioLabel},c.createElement("input",{type:"radio",name:this.question.name,value:m,"aria-describedby":this.question.ariaDescribedBy,checked:m===this.question.booleanValueRendered,disabled:this.question.isInputReadOnly,className:f.itemRadioControl,onChange:this.handleOnChange}),this.question.cssClasses.materialRadioDecorator?c.createElement("span",{className:f.materialRadioDecorator},this.question.itemSvgIcon?c.createElement("svg",{className:f.itemRadioDecorator},c.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,c.createElement("span",{className:f.radioControlLabel},this.renderLocString(v))))},g.prototype.renderElement=function(){var m=this.question.cssClasses;return c.createElement("div",{className:m.rootRadio},c.createElement("fieldset",{role:"presentation",className:m.radioFieldset},this.renderRadioItem(!1,this.question.locLabelFalse),this.renderRadioItem(!0,this.question.locLabelTrue)))},g}(O.SurveyQuestionBoolean);E.ReactQuestionFactory.Instance.registerQuestion("sv-boolean-radio",function(P){return c.createElement(b,P)}),C.RendererFactory.Instance.registerRenderer("boolean","radio","sv-boolean-radio")},"./src/react/boolean.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionBoolean",function(){return y});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){var m=b.call(this,g)||this;return m.handleOnChange=m.handleOnChange.bind(m),m.handleOnClick=m.handleOnClick.bind(m),m.handleOnLabelClick=m.handleOnLabelClick.bind(m),m.handleOnSwitchClick=m.handleOnSwitchClick.bind(m),m.handleOnKeyDown=m.handleOnKeyDown.bind(m),m.checkRef=c.createRef(),m}return P.prototype.getStateElement=function(){return this.question},Object.defineProperty(P.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),P.prototype.doCheck=function(g){this.question.booleanValue=g},P.prototype.handleOnChange=function(g){this.doCheck(g.target.checked)},P.prototype.handleOnClick=function(g){this.question.onLabelClick(g,!0)},P.prototype.handleOnSwitchClick=function(g){this.question.onSwitchClickModel(g.nativeEvent)},P.prototype.handleOnLabelClick=function(g,m){this.question.onLabelClick(g,m)},P.prototype.handleOnKeyDown=function(g){this.question.onKeyDownCore(g)},P.prototype.updateDomElement=function(){if(this.question){var g=this.checkRef.current;g&&(g.indeterminate=this.question.isIndeterminate),this.setControl(g),b.prototype.updateDomElement.call(this)}},P.prototype.renderElement=function(){var g=this,m=this.question.cssClasses,v=this.question.getItemCss();return c.createElement("div",{className:m.root,onKeyDown:this.handleOnKeyDown},c.createElement("label",{className:v,onClick:this.handleOnClick},c.createElement("input",{ref:this.checkRef,type:"checkbox",name:this.question.name,value:this.question.booleanValue===null?"":this.question.booleanValue,id:this.question.inputId,className:m.control,disabled:this.isDisplayMode,checked:this.question.booleanValue||!1,onChange:this.handleOnChange,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),c.createElement("div",{className:m.sliderGhost,onClick:function(f){return g.handleOnLabelClick(f,!1)}},c.createElement("span",{className:this.question.getLabelCss(!1)},this.renderLocString(this.question.locLabelFalse))),c.createElement("div",{className:m.switch,onClick:this.handleOnSwitchClick},c.createElement("span",{className:m.slider},this.question.isDeterminated&&m.sliderText?c.createElement("span",{className:m.sliderText},this.renderLocString(this.question.getCheckedLabel())):null)),c.createElement("div",{className:m.sliderGhost,onClick:function(f){return g.handleOnLabelClick(f,!0)}},c.createElement("span",{className:this.question.getLabelCss(!0)},this.renderLocString(this.question.locLabelTrue)))))},P}(C.SurveyQuestionElementBase);E.ReactQuestionFactory.Instance.registerQuestion("boolean",function(b){return c.createElement(y,b)})},"./src/react/components/action-bar/action-bar-item-dropdown.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyActionBarItemDropdown",function(){return g});var c=s("react"),C=s.n(c),E=s("survey-core"),O=s("./src/react/element-factory.tsx"),y=s("./src/react/components/popup/popup.tsx"),b=s("./src/react/components/action-bar/action-bar-item.tsx"),P=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),g=function(m){P(v,m);function v(f){var l=m.call(this,f)||this;return l.viewModel=new E.ActionDropdownViewModel(l.item),l}return v.prototype.renderInnerButton=function(){var f=m.prototype.renderInnerButton.call(this);return C.a.createElement(C.a.Fragment,null,f,C.a.createElement(y.Popup,{model:this.item.popupModel,getTarget:E.getActionDropdownButtonTarget}))},v.prototype.componentWillUnmount=function(){m.prototype.componentWillUnmount.call(this),this.viewModel.dispose()},v}(b.SurveyActionBarItem);O.ReactElementFactory.Instance.registerElement("sv-action-bar-item-dropdown",function(m){return C.a.createElement(g,m)})},"./src/react/components/action-bar/action-bar-item.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyAction",function(){return m}),s.d(a,"SurveyActionBarItem",function(){return v});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=s("./src/react/reactSurvey.tsx"),b=s("./src/react/components/svg-icon/svg-icon.tsx"),P=s("./src/react/components/action-bar/action-bar-separator.tsx"),g=function(){var f=function(l,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(h[u]=p[u])},f(l,d)};return function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(l,d);function h(){this.constructor=l}l.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),m=function(f){g(l,f);function l(){return f!==null&&f.apply(this,arguments)||this}return Object.defineProperty(l.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),l.prototype.getStateElement=function(){return this.item},l.prototype.renderElement=function(){var d=this.item.getActionRootCss(),h=this.item.needSeparator?C.a.createElement(P.SurveyActionBarSeparator,null):null,p=E.ReactElementFactory.Instance.createElement(this.item.component||"sv-action-bar-item",{item:this.item});return C.a.createElement("div",{className:d,id:this.item.id},C.a.createElement("div",{className:"sv-action__content"},h,p))},l}(O.SurveyElementBase),v=function(f){g(l,f);function l(){return f!==null&&f.apply(this,arguments)||this}return Object.defineProperty(l.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),l.prototype.getStateElement=function(){return this.item},l.prototype.renderElement=function(){return C.a.createElement(C.a.Fragment,null,this.renderInnerButton())},l.prototype.renderText=function(){if(!this.item.hasTitle)return null;var d=this.item.getActionBarItemTitleCss();return C.a.createElement("span",{className:d},this.item.title)},l.prototype.renderButtonContent=function(){var d=this.renderText(),h=this.item.iconName?C.a.createElement(b.SvgIcon,{className:this.item.cssClasses.itemIcon,size:this.item.iconSize,iconName:this.item.iconName,title:this.item.tooltip||this.item.title}):null;return C.a.createElement(C.a.Fragment,null,h,d)},l.prototype.renderInnerButton=function(){var d=this,h=this.item.getActionBarItemCss(),p=this.item.tooltip||this.item.title,u=this.renderButtonContent(),x=this.item.disableTabStop?-1:void 0,V=Object(y.attachKey2click)(C.a.createElement("button",{className:h,type:"button",disabled:this.item.disabled,onClick:function(A){return d.item.action(d.item,d.item.getIsTrusted(A))},title:p,tabIndex:x,"aria-checked":this.item.ariaChecked,"aria-expanded":this.item.ariaExpanded,role:this.item.ariaRole},u),null,{processEsc:!1});return V},l}(O.SurveyElementBase);E.ReactElementFactory.Instance.registerElement("sv-action-bar-item",function(f){return C.a.createElement(v,f)})},"./src/react/components/action-bar/action-bar-separator.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyActionBarSeparator",function(){return y});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){return b.call(this,g)||this}return P.prototype.render=function(){var g="sv-action-bar-separator "+this.props.cssClasses;return C.a.createElement("div",{className:g})},P}(C.a.Component);E.ReactElementFactory.Instance.registerElement("sv-action-bar-separator",function(b){return C.a.createElement(y,b)})},"./src/react/components/action-bar/action-bar.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyActionBar",function(){return m});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=s("./src/react/components/action-bar/action-bar-item.tsx"),b=s("./src/react/components/action-bar/action-bar-item-dropdown.tsx");s.d(a,"SurveyActionBarItemDropdown",function(){return b.SurveyActionBarItemDropdown});var P=s("./src/react/components/action-bar/action-bar-separator.tsx");s.d(a,"SurveyActionBarSeparator",function(){return P.SurveyActionBarSeparator});var g=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),m=function(v){g(f,v);function f(l){var d=v.call(this,l)||this;return d.rootRef=C.a.createRef(),d}return Object.defineProperty(f.prototype,"handleClick",{get:function(){return this.props.handleClick!==void 0?this.props.handleClick:!0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),f.prototype.componentDidMount=function(){if(v.prototype.componentDidMount.call(this),!!this.model.hasActions){var l=this.rootRef.current;l&&this.model.initResponsivityManager(l)}},f.prototype.componentWillUnmount=function(){v.prototype.componentWillUnmount.call(this),this.model.hasActions&&this.model.resetResponsivityManager()},f.prototype.getStateElement=function(){return this.model},f.prototype.renderElement=function(){if(!this.model.hasActions)return null;var l=this.renderItems();return C.a.createElement("div",{ref:this.rootRef,className:this.model.getRootCss(),onClick:this.handleClick?function(d){d.stopPropagation()}:void 0},l)},f.prototype.renderItems=function(){return this.model.renderedActions.map(function(l,d){return C.a.createElement(y.SurveyAction,{item:l,key:"item"+d})})},f}(O.SurveyElementBase);E.ReactElementFactory.Instance.registerElement("sv-action-bar",function(v){return C.a.createElement(m,v)})},"./src/react/components/brand-info.tsx":function(o,a,s){s.r(a),s.d(a,"BrandInfo",function(){return O});var c=s("react"),C=s.n(c),E=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),O=function(y){E(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b.prototype.render=function(){return C.a.createElement("div",{className:"sv-brand-info"},C.a.createElement("a",{className:"sv-brand-info__logo",href:"https://surveyjs.io/?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=landing_page"},C.a.createElement("img",{src:"https://surveyjs.io/Content/Images/poweredby.svg"})),C.a.createElement("div",{className:"sv-brand-info__text"},"Try and see how easy it is to ",C.a.createElement("a",{href:"https://surveyjs.io/create-survey?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=create_survey"},"create a survey")),C.a.createElement("div",{className:"sv-brand-info__terms"},C.a.createElement("a",{href:"https://surveyjs.io/TermsOfUse"},"Terms of Use & Privacy Statement")))},b}(C.a.Component)},"./src/react/components/character-counter.tsx":function(o,a,s){s.r(a),s.d(a,"CharacterCounterComponent",function(){return b});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(){return P!==null&&P.apply(this,arguments)||this}return g.prototype.getStateElement=function(){return this.props.counter},g.prototype.renderElement=function(){return C.a.createElement("div",{className:this.props.remainingCharacterCounter},this.props.counter.remainingCharacterCounter)},g}(O.SurveyElementBase);E.ReactElementFactory.Instance.registerElement("sv-character-counter",function(P){return C.a.createElement(b,P)})},"./src/react/components/components-container.tsx":function(o,a,s){s.r(a),s.d(a,"ComponentsContainer",function(){return y});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(){return b!==null&&b.apply(this,arguments)||this}return P.prototype.render=function(){var g=this,m=this.props.survey.getContainerContent(this.props.container),v=this.props.needRenderWrapper!==!1;return m.length==0?null:v?C.a.createElement("div",{className:"sv-components-column"},m.map(function(f){return E.ReactElementFactory.Instance.createElement(f.component,{survey:g.props.survey,model:f.data,key:f.id})})):C.a.createElement(C.a.Fragment,null,m.map(function(f){return E.ReactElementFactory.Instance.createElement(f.component,{survey:g.props.survey,model:f.data,key:f.id})}))},P}(C.a.Component);E.ReactElementFactory.Instance.registerElement("sv-components-container",function(b){return C.a.createElement(y,b)})},"./src/react/components/list/list-item.tsx":function(o,a,s){s.r(a),s.d(a,"ListItem",function(){return g});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=s("./src/react/reactSurvey.tsx"),b=s("./src/react/components/svg-icon/svg-icon.tsx"),P=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),g=function(m){P(v,m);function v(){var f=m!==null&&m.apply(this,arguments)||this;return f.handleKeydown=function(l){f.model.onKeyDown(l)},f}return Object.defineProperty(v.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),v.prototype.getStateElement=function(){return this.item},v.prototype.render=function(){var f=this;if(!this.item)return null;var l={paddingInlineStart:this.model.getItemIndent(this.item)},d=this.model.getItemClass(this.item),h=[];if(this.item.component){var x=E.ReactElementFactory.Instance.createElement(this.item.component,{item:this.item,key:this.item.id});x&&h.push(x)}else{var p=this.renderLocString(this.item.locTitle,void 0,"locString");if(this.item.iconName){var u=C.a.createElement(b.SvgIcon,{key:1,className:this.model.cssClasses.itemIcon,iconName:this.item.iconName,size:24,"aria-label":this.item.title});h.push(u),h.push(C.a.createElement("span",{key:2},p))}else h.push(p)}var V=C.a.createElement("div",{style:l,className:this.model.cssClasses.itemBody},h),A=this.item.needSeparator?C.a.createElement("div",{className:this.model.cssClasses.itemSeparator}):null,M=this.model.isItemVisible(this.item),T={display:M?null:"none"};return Object(y.attachKey2click)(C.a.createElement("li",{className:d,role:"option",style:T,id:this.item.elementId,"aria-selected":this.model.isItemSelected(this.item),onClick:function(D){f.model.onItemClick(f.item),D.stopPropagation()},onPointerDown:function(D){return f.model.onPointerDown(D,f.item)}},A,V))},v.prototype.componentDidMount=function(){m.prototype.componentDidMount.call(this),this.model.onLastItemRended(this.item)},v}(O.SurveyElementBase);E.ReactElementFactory.Instance.registerElement("sv-list-item",function(m){return C.a.createElement(g,m)})},"./src/react/components/list/list.tsx":function(o,a,s){s.r(a),s.d(a,"List",function(){return m});var c=s("react"),C=s.n(c),E=s("survey-core"),O=s("./src/react/element-factory.tsx"),y=s("./src/react/reactquestion_element.tsx"),b=s("./src/react/components/svg-icon/svg-icon.tsx"),P=s("./src/react/components/list/list-item.tsx"),g=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),m=function(v){g(f,v);function f(l){var d=v.call(this,l)||this;return d.handleKeydown=function(h){d.model.onKeyDown(h)},d.handleMouseMove=function(h){d.model.onMouseMove(h)},d.state={filterString:d.model.filterString||""},d.listContainerRef=C.a.createRef(),d}return Object.defineProperty(f.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),f.prototype.getStateElement=function(){return this.model},f.prototype.componentDidMount=function(){v.prototype.componentDidMount.call(this),this.listContainerRef&&this.listContainerRef.current&&this.model.initListContainerHtmlElement(this.listContainerRef.current)},f.prototype.renderElement=function(){return C.a.createElement("div",{className:this.model.cssClasses.root,ref:this.listContainerRef},this.searchElementContent(),this.emptyContent(),this.renderList())},f.prototype.renderList=function(){if(!this.model.renderElements)return null;var l=this.renderItems(),d={display:this.model.isEmpty?"none":null};return C.a.createElement("ul",{className:this.model.getListClass(),style:d,role:"listbox",id:this.model.elementId,onMouseDown:function(h){h.preventDefault()},onKeyDown:this.handleKeydown,onMouseMove:this.handleMouseMove},l)},f.prototype.renderItems=function(){var l=this;if(!this.model)return null;var d=this.model.renderedActions;return d?d.map(function(h,p){return C.a.createElement(P.ListItem,{model:l.model,item:h,key:"item"+p})}):null},f.prototype.searchElementContent=function(){var l=this;if(this.model.showFilter){var d=function(u){var x=E.settings.environment.root;u.target===x.activeElement&&(l.model.filterString=u.target.value)},h=function(u){l.model.goToItems(u)},p=this.model.showSearchClearButton&&this.model.filterString?C.a.createElement("button",{className:this.model.cssClasses.searchClearButtonIcon,onClick:function(u){l.model.onClickSearchClearButton(u)}},C.a.createElement(b.SvgIcon,{iconName:"icon-searchclear",size:"auto"})):null;return C.a.createElement("div",{className:this.model.cssClasses.filter},C.a.createElement("div",{className:this.model.cssClasses.filterIcon},C.a.createElement(b.SvgIcon,{iconName:"icon-search",size:"auto"})),C.a.createElement("input",{type:"text",className:this.model.cssClasses.filterInput,"aria-label":this.model.filterStringPlaceholder,placeholder:this.model.filterStringPlaceholder,value:this.state.filterString,onKeyUp:h,onChange:d}),p)}else return null},f.prototype.emptyContent=function(){var l={display:this.model.isEmpty?null:"none"};return C.a.createElement("div",{className:this.model.cssClasses.emptyContainer,style:l},C.a.createElement("div",{className:this.model.cssClasses.emptyText,"aria-label":this.model.emptyMessage},this.model.emptyMessage))},f}(y.SurveyElementBase);O.ReactElementFactory.Instance.registerElement("sv-list",function(v){return C.a.createElement(m,v)})},"./src/react/components/matrix-actions/detail-button/detail-button.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionMatrixDetailButton",function(){return P});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=s("./src/react/components/svg-icon/svg-icon.tsx"),b=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),P=function(g){b(m,g);function m(v){var f=g.call(this,v)||this;return f.handleOnShowHideClick=f.handleOnShowHideClick.bind(f),f}return m.prototype.getStateElement=function(){return this.props.item},Object.defineProperty(m.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"question",{get:function(){return this.props.item.data.question},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"row",{get:function(){return this.props.item.data.row},enumerable:!1,configurable:!0}),m.prototype.handleOnShowHideClick=function(v){this.row.showHideDetailPanelClick()},m.prototype.renderElement=function(){var v=this.row.isDetailPanelShowing,f=v,l=v?this.row.detailPanelId:void 0;return C.a.createElement("button",{type:"button",onClick:this.handleOnShowHideClick,className:this.question.getDetailPanelButtonCss(this.row),"aria-expanded":f,"aria-controls":l},C.a.createElement(y.SvgIcon,{className:this.question.getDetailPanelIconCss(this.row),iconName:this.question.getDetailPanelIconId(this.row),size:"auto"}))},m}(O.ReactSurveyElement);E.ReactElementFactory.Instance.registerElement("sv-matrix-detail-button",function(g){return C.a.createElement(P,g)})},"./src/react/components/matrix-actions/drag-drop-icon/drag-drop-icon.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return b});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(){return P!==null&&P.apply(this,arguments)||this}return Object.defineProperty(g.prototype,"question",{get:function(){return this.props.item.data.question},enumerable:!1,configurable:!0}),g.prototype.renderElement=function(){return this.question.iconDragElement?C.a.createElement("svg",{className:this.question.cssClasses.dragElementDecorator},C.a.createElement("use",{xlinkHref:this.question.iconDragElement})):C.a.createElement("span",{className:this.question.cssClasses.iconDrag})},g}(O.ReactSurveyElement);E.ReactElementFactory.Instance.registerElement("sv-matrix-drag-drop-icon",function(P){return C.a.createElement(b,P)})},"./src/react/components/matrix-actions/remove-button/remove-button.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionMatrixDynamicRemoveButton",function(){return b});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.handleOnRowRemoveClick=v.handleOnRowRemoveClick.bind(v),v}return Object.defineProperty(g.prototype,"question",{get:function(){return this.props.item.data.question},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"row",{get:function(){return this.props.item.data.row},enumerable:!1,configurable:!0}),g.prototype.handleOnRowRemoveClick=function(m){this.question.removeRowUI(this.row)},g.prototype.renderElement=function(){var m=this.renderLocString(this.question.locRemoveRowText);return C.a.createElement("button",{className:this.question.getRemoveRowButtonCss(),type:"button",onClick:this.handleOnRowRemoveClick,disabled:this.question.isInputReadOnly},m,C.a.createElement("span",{className:this.question.cssClasses.iconRemove}))},g}(O.ReactSurveyElement);E.ReactElementFactory.Instance.registerElement("sv-matrix-remove-button",function(P){return C.a.createElement(b,P)})},"./src/react/components/matrix/row.tsx":function(o,a,s){s.r(a),s.d(a,"MatrixRow",function(){return b});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.onPointerDownHandler=function(f){v.parentMatrix.onPointerDown(f.nativeEvent,v.model.row)},v}return Object.defineProperty(g.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"parentMatrix",{get:function(){return this.props.parentMatrix},enumerable:!1,configurable:!0}),g.prototype.getStateElement=function(){return this.model},g.prototype.render=function(){var m=this,v=this.model;return C.a.createElement("tr",{className:v.className,"data-sv-drop-target-matrix-row":v.row&&v.row.id,onPointerDown:function(f){return m.onPointerDownHandler(f)}},this.props.children)},g}(O.SurveyElementBase);E.ReactElementFactory.Instance.registerElement("sv-matrix-row",function(P){return C.a.createElement(b,P)})},"./src/react/components/notifier.tsx":function(o,a,s){s.r(a),s.d(a,"NotifierComponent",function(){return P});var c=s("react"),C=s.n(c),E=s("./src/react/reactquestion_element.tsx"),O=s("./src/react/element-factory.tsx"),y=s("./src/react/components/action-bar/action-bar.tsx"),b=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),P=function(g){b(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return Object.defineProperty(m.prototype,"notifier",{get:function(){return this.props.notifier},enumerable:!1,configurable:!0}),m.prototype.getStateElement=function(){return this.notifier},m.prototype.renderElement=function(){if(!this.notifier.isDisplayed)return null;var v={visibility:this.notifier.active?"visible":"hidden"};return C.a.createElement("div",{className:this.notifier.css,style:v,role:"alert","aria-live":"polite"},C.a.createElement("span",null,this.notifier.message),C.a.createElement(y.SurveyActionBar,{model:this.notifier.actionBar}))},m}(E.SurveyElementBase);O.ReactElementFactory.Instance.registerElement("sv-notifier",function(g){return C.a.createElement(P,g)})},"./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionPanelDynamicAction",function(){return b}),s.d(a,"SurveyQuestionPanelDynamicAddButton",function(){return P});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),b=function(g){y(m,g);function m(v){return g.call(this,v)||this}return Object.defineProperty(m.prototype,"data",{get:function(){return this.props.item&&this.props.item.data||this.props.data},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"question",{get:function(){return this.props.item&&this.props.item.data.question||this.props.data.question},enumerable:!1,configurable:!0}),m}(O.ReactSurveyElement),P=function(g){y(m,g);function m(){var v=g!==null&&g.apply(this,arguments)||this;return v.handleClick=function(f){v.question.addPanelUI()},v}return m.prototype.renderElement=function(){return this.question.canAddPanel?C.a.createElement("button",{type:"button",className:this.question.getAddButtonCss(),onClick:this.handleClick},C.a.createElement("span",{className:this.question.cssClasses.buttonAddText},this.question.panelAddText)):null},m}(b);E.ReactElementFactory.Instance.registerElement("sv-paneldynamic-add-btn",function(g){return C.a.createElement(P,g)})},"./src/react/components/paneldynamic-actions/paneldynamic-next-btn.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionPanelDynamicNextButton",function(){return P});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/components/svg-icon/svg-icon.tsx"),y=s("./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx"),b=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),P=function(g){b(m,g);function m(){var v=g!==null&&g.apply(this,arguments)||this;return v.handleClick=function(f){v.question.goToNextPanel()},v}return m.prototype.renderElement=function(){return C.a.createElement("div",{title:this.question.panelNextText,onClick:this.handleClick,className:this.question.getNextButtonCss()},C.a.createElement(O.SvgIcon,{iconName:this.question.cssClasses.progressBtnIcon,size:"auto"}))},m}(y.SurveyQuestionPanelDynamicAction);E.ReactElementFactory.Instance.registerElement("sv-paneldynamic-next-btn",function(g){return C.a.createElement(P,g)})},"./src/react/components/paneldynamic-actions/paneldynamic-prev-btn.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionPanelDynamicPrevButton",function(){return P});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/components/svg-icon/svg-icon.tsx"),y=s("./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx"),b=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),P=function(g){b(m,g);function m(){var v=g!==null&&g.apply(this,arguments)||this;return v.handleClick=function(f){v.question.goToPrevPanel()},v}return m.prototype.renderElement=function(){return C.a.createElement("div",{title:this.question.panelPrevText,onClick:this.handleClick,className:this.question.getPrevButtonCss()},C.a.createElement(O.SvgIcon,{iconName:this.question.cssClasses.progressBtnIcon,size:"auto"}))},m}(y.SurveyQuestionPanelDynamicAction);E.ReactElementFactory.Instance.registerElement("sv-paneldynamic-prev-btn",function(g){return C.a.createElement(P,g)})},"./src/react/components/paneldynamic-actions/paneldynamic-progress-text.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionPanelDynamicProgressText",function(){return b});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(){return P!==null&&P.apply(this,arguments)||this}return g.prototype.renderElement=function(){return C.a.createElement("div",{className:this.question.cssClasses.progressText},this.question.progressText)},g}(O.SurveyQuestionPanelDynamicAction);E.ReactElementFactory.Instance.registerElement("sv-paneldynamic-progress-text",function(P){return C.a.createElement(b,P)})},"./src/react/components/paneldynamic-actions/paneldynamic-remove-btn.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionPanelDynamicRemoveButton",function(){return b});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(){var m=P!==null&&P.apply(this,arguments)||this;return m.handleClick=function(v){m.question.removePanelUI(m.data.panel)},m}return g.prototype.renderElement=function(){return C.a.createElement("button",{className:this.question.getPanelRemoveButtonCss(),onClick:this.handleClick,type:"button"},C.a.createElement("span",{className:this.question.cssClasses.buttonRemoveText},this.question.panelRemoveText),C.a.createElement("span",{className:this.question.cssClasses.iconRemove}))},g}(O.SurveyQuestionPanelDynamicAction);E.ReactElementFactory.Instance.registerElement("sv-paneldynamic-remove-btn",function(P){return C.a.createElement(b,P)})},"./src/react/components/popup/popup.tsx":function(o,a,s){s.r(a),s.d(a,"Popup",function(){return v}),s.d(a,"PopupContainer",function(){return f}),s.d(a,"PopupDropdownContainer",function(){return l}),s.d(a,"showModal",function(){return d}),s.d(a,"showDialog",function(){return h});var c=s("react-dom"),C=s.n(c),E=s("react"),O=s.n(E),y=s("survey-core"),b=s("./src/react/element-factory.tsx"),P=s("./src/react/reactquestion_element.tsx"),g=s("./src/react/components/action-bar/action-bar.tsx"),m=function(){var p=function(u,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,A){V.__proto__=A}||function(V,A){for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(V[M]=A[M])},p(u,x)};return function(u,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(u,x);function V(){this.constructor=u}u.prototype=x===null?Object.create(x):(V.prototype=x.prototype,new V)}}(),v=function(p){m(u,p);function u(x){var V=p.call(this,x)||this;return V.containerRef=O.a.createRef(),V.createModel(),V}return Object.defineProperty(u.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),u.prototype.getStateElement=function(){return this.model},u.prototype.createModel=function(){this.popup=Object(y.createPopupViewModel)(this.props.model,void 0)},u.prototype.setTargetElement=function(){var x=this.containerRef.current;this.popup.setComponentElement(x,this.props.getTarget?this.props.getTarget(x):void 0)},u.prototype.componentDidMount=function(){p.prototype.componentDidMount.call(this),this.setTargetElement()},u.prototype.componentDidUpdate=function(x,V){p.prototype.componentDidUpdate.call(this,x,V),this.setTargetElement()},u.prototype.shouldComponentUpdate=function(x,V){var A;if(!p.prototype.shouldComponentUpdate.call(this,x,V))return!1;var M=x.model!==this.popup.model;return M&&((A=this.popup)===null||A===void 0||A.dispose(),this.createModel()),M},u.prototype.render=function(){this.popup.model=this.model;var x;return this.model.isModal?x=O.a.createElement(f,{model:this.popup}):x=O.a.createElement(l,{model:this.popup}),O.a.createElement("div",{ref:this.containerRef},x)},u}(P.SurveyElementBase);b.ReactElementFactory.Instance.registerElement("sv-popup",function(p){return O.a.createElement(v,p)});var f=function(p){m(u,p);function u(x){var V=p.call(this,x)||this;return V.prevIsVisible=!1,V.handleKeydown=function(A){V.model.onKeyDown(A)},V.clickInside=function(A){A.stopPropagation()},V}return Object.defineProperty(u.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),u.prototype.getStateElement=function(){return this.model},u.prototype.componentDidUpdate=function(x,V){p.prototype.componentDidUpdate.call(this,x,V),!this.prevIsVisible&&this.model.isVisible&&this.model.updateOnShowing(),this.prevIsVisible=this.model.isVisible},u.prototype.renderContainer=function(x){var V=this,A=x.showHeader?this.renderHeaderPopup(x):null,M=x.title?this.renderHeaderContent():null,T=this.renderContent(),D=x.showFooter?this.renderFooter(this.model):null;return O.a.createElement("div",{className:"sv-popup__container",style:{left:x.left,top:x.top,height:x.height,width:x.width,minWidth:x.minWidth},onClick:function(R){V.clickInside(R)}},O.a.createElement("div",{className:"sv-popup__shadow"},A,O.a.createElement("div",{className:"sv-popup__body-content"},M,O.a.createElement("div",{className:"sv-popup__scrolling-content"},T),D)))},u.prototype.renderHeaderContent=function(){return O.a.createElement("div",{className:"sv-popup__body-header"},this.model.title)},u.prototype.renderContent=function(){var x=b.ReactElementFactory.Instance.createElement(this.model.contentComponentName,this.model.contentComponentData);return O.a.createElement("div",{className:"sv-popup__content"},x)},u.prototype.renderHeaderPopup=function(x){return null},u.prototype.renderFooter=function(x){return O.a.createElement("div",{className:"sv-popup__body-footer"},O.a.createElement(g.SurveyActionBar,{model:x.footerToolbar}))},u.prototype.render=function(){var x=this,V=this.renderContainer(this.model),A=new y.CssClassBuilder().append("sv-popup").append(this.model.styleClass).toString(),M={display:this.model.isVisible?"":"none"};return O.a.createElement("div",{tabIndex:-1,className:A,style:M,onClick:function(T){x.model.clickOutside(T)},onKeyDown:this.handleKeydown},V)},u}(P.SurveyElementBase),l=function(p){m(u,p);function u(){return p!==null&&p.apply(this,arguments)||this}return u.prototype.renderHeaderPopup=function(x){var V=x;return V?O.a.createElement("span",{style:{left:V.pointerTarget.left,top:V.pointerTarget.top},className:"sv-popup__pointer"}):null},u}(f);function d(p,u,x,V,A,M,T){T===void 0&&(T="popup");var D=Object(y.createDialogOptions)(p,u,x,V,void 0,void 0,A,M,T);return h(D)}function h(p,u){p.onHide=function(){C.a.unmountComponentAtNode(x.container),x.dispose()};var x=Object(y.createPopupModalViewModel)(p,u);return C.a.render(O.a.createElement(f,{model:x}),x.container),x.model.isVisible=!0,x}y.settings.showModal=d},"./src/react/components/rating/rating-item-smiley.tsx":function(o,a,s){s.r(a),s.d(a,"RatingItemSmiley",function(){return P});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/components/svg-icon/svg-icon.tsx"),y=s("./src/react/components/rating/rating-item.tsx"),b=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),P=function(g){b(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return m.prototype.render=function(){var v=this;return C.a.createElement("label",{onMouseDown:this.handleOnMouseDown,style:this.question.getItemStyle(this.item.itemValue,this.item.highlight),className:this.question.getItemClass(this.item.itemValue),onMouseOver:function(f){return v.question.onItemMouseIn(v.item)},onMouseOut:function(f){return v.question.onItemMouseOut(v.item)}},C.a.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.name,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.isDisplayMode,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:function(){},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),C.a.createElement(O.SvgIcon,{size:"auto",iconName:this.question.getItemSmileyIconName(this.item.itemValue),title:this.item.text}))},m}(y.RatingItemBase);E.ReactElementFactory.Instance.registerElement("sv-rating-item-smiley",function(g){return C.a.createElement(P,g)})},"./src/react/components/rating/rating-item-star.tsx":function(o,a,s){s.r(a),s.d(a,"RatingItemStar",function(){return P});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/components/svg-icon/svg-icon.tsx"),y=s("./src/react/components/rating/rating-item.tsx"),b=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),P=function(g){b(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return m.prototype.render=function(){var v=this;return C.a.createElement("label",{onMouseDown:this.handleOnMouseDown,className:this.question.getItemClass(this.item.itemValue),onMouseOver:function(f){return v.question.onItemMouseIn(v.item)},onMouseOut:function(f){return v.question.onItemMouseOut(v.item)}},C.a.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.name,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.isDisplayMode,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:function(){},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),C.a.createElement(O.SvgIcon,{className:"sv-star",size:"auto",iconName:this.question.itemStarIcon,title:this.item.text}),C.a.createElement(O.SvgIcon,{className:"sv-star-2",size:"auto",iconName:this.question.itemStarIconAlt,title:this.item.text}))},m}(y.RatingItemBase);E.ReactElementFactory.Instance.registerElement("sv-rating-item-star",function(g){return C.a.createElement(P,g)})},"./src/react/components/rating/rating-item.tsx":function(o,a,s){s.r(a),s.d(a,"RatingItemBase",function(){return b}),s.d(a,"RatingItem",function(){return P});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),b=function(g){y(m,g);function m(v){var f=g.call(this,v)||this;return f.handleOnMouseDown=f.handleOnMouseDown.bind(f),f}return Object.defineProperty(m.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),m.prototype.getStateElement=function(){return this.item},m.prototype.handleOnMouseDown=function(v){this.question.onMouseDown()},m}(O.SurveyElementBase),P=function(g){y(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return m.prototype.render=function(){var v=this.renderLocString(this.item.locText);return C.a.createElement("label",{onMouseDown:this.handleOnMouseDown,className:this.question.getItemClassByText(this.item.itemValue,this.item.text)},C.a.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.name,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.isDisplayMode,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:function(){},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),C.a.createElement("span",{className:this.question.cssClasses.itemText},v))},m.prototype.componentDidMount=function(){g.prototype.componentDidMount.call(this)},m}(b);E.ReactElementFactory.Instance.registerElement("sv-rating-item",function(g){return C.a.createElement(P,g)})},"./src/react/components/skeleton.tsx":function(o,a,s){s.r(a),s.d(a,"Skeleton",function(){return y});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(){return b!==null&&b.apply(this,arguments)||this}return P.prototype.render=function(){var g;return C.a.createElement("div",{className:"sv-skeleton-element",id:(g=this.props.element)===null||g===void 0?void 0:g.id})},P}(C.a.Component);E.ReactElementFactory.Instance.registerElement("sv-skeleton",function(b){return C.a.createElement(y,b)})},"./src/react/components/survey-actions/survey-nav-button.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyNavigationButton",function(){return b});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(){return P!==null&&P.apply(this,arguments)||this}return Object.defineProperty(g.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),g.prototype.canRender=function(){return this.item.isVisible},g.prototype.renderElement=function(){return C.a.createElement("input",{className:this.item.innerCss,type:"button",disabled:this.item.disabled,onMouseDown:this.item.data&&this.item.data.mouseDown,onClick:this.item.action,title:this.item.getTooltip(),value:this.item.title})},g}(O.ReactSurveyElement);E.ReactElementFactory.Instance.registerElement("sv-nav-btn",function(P){return C.a.createElement(b,P)})},"./src/react/components/survey-header/logo-image.tsx":function(o,a,s){s.r(a),s.d(a,"LogoImage",function(){return y});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){return b.call(this,g)||this}return Object.defineProperty(P.prototype,"survey",{get:function(){return this.props.data},enumerable:!1,configurable:!0}),P.prototype.render=function(){var g=[];return g.push(C.a.createElement("div",{key:"logo-image",className:this.survey.logoClassNames},C.a.createElement("img",{className:this.survey.css.logoImage,src:this.survey.locLogo.renderedHtml,alt:this.survey.locTitle.renderedHtml,width:this.survey.logoWidth?this.survey.logoWidth:void 0,height:this.survey.logoHeight?this.survey.logoHeight:void 0,style:{objectFit:this.survey.logoFit}}))),C.a.createElement(C.a.Fragment,null,g)},P}(C.a.Component);E.ReactElementFactory.Instance.registerElement("sv-logo-image",function(b){return C.a.createElement(y,b)})},"./src/react/components/survey-header/survey-header.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyHeader",function(){return P});var c=s("react"),C=s.n(c),E=s("./src/react/reactquestion_element.tsx"),O=s("./src/react/element-factory.tsx"),y=s("./src/react/components/title/title-element.tsx"),b=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),P=function(g){b(m,g);function m(v){var f=g.call(this,v)||this;return f.state={changed:0},f}return Object.defineProperty(m.prototype,"survey",{get:function(){return this.props.survey},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),m.prototype.componentDidMount=function(){var v=this;this.survey.locLogo.onChanged=function(){v.setState({changed:v.state.changed+1})}},m.prototype.componentWillUnmount=function(){this.survey.locLogo.onChanged=function(){}},m.prototype.renderTitle=function(){if(!this.survey.renderedHasTitle)return null;var v=E.SurveyElementBase.renderLocString(this.survey.locDescription);return C.a.createElement("div",{className:this.css.headerText,style:{maxWidth:this.survey.titleMaxWidth}},C.a.createElement(y.TitleElement,{element:this.survey}),this.survey.renderedHasDescription?C.a.createElement("h5",{className:this.css.description},v):null)},m.prototype.renderLogoImage=function(v){if(!v)return null;var f=this.survey.getElementWrapperComponentName(this.survey,"logo-image"),l=this.survey.getElementWrapperComponentData(this.survey,"logo-image");return O.ReactElementFactory.Instance.createElement(f,{data:l})},m.prototype.render=function(){return this.survey.renderedHasHeader?C.a.createElement("div",{className:this.css.header},this.renderLogoImage(this.survey.isLogoBefore),this.renderTitle(),this.renderLogoImage(this.survey.isLogoAfter),C.a.createElement("div",{className:this.css.headerClose})):null},m}(C.a.Component);O.ReactElementFactory.Instance.registerElement("survey-header",function(g){return C.a.createElement(P,g)})},"./src/react/components/svg-icon/svg-icon.tsx":function(o,a,s){s.r(a),s.d(a,"SvgIcon",function(){return b});var c=s("react"),C=s.n(c),E=s("./src/react/element-factory.tsx"),O=s("survey-core"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.svgIconRef=C.a.createRef(),v}return g.prototype.updateSvg=function(){this.props.iconName&&Object(O.createSvg)(this.props.size,this.props.width,this.props.height,this.props.iconName,this.svgIconRef.current,this.props.title)},g.prototype.componentDidUpdate=function(){this.updateSvg()},g.prototype.render=function(){var m="sv-svg-icon";return this.props.className&&(m+=" "+this.props.className),this.props.iconName?C.a.createElement("svg",{className:m,style:this.props.style,onClick:this.props.onClick,ref:this.svgIconRef,role:"img","aria-label":this.props.title},C.a.createElement("use",null)):null},g.prototype.componentDidMount=function(){this.updateSvg()},g}(C.a.Component);E.ReactElementFactory.Instance.registerElement("sv-svg-icon",function(P){return C.a.createElement(b,P)})},"./src/react/components/title/title-actions.tsx":function(o,a,s){s.r(a),s.d(a,"TitleActions",function(){return g});var c=s("react"),C=s.n(c),E=s("survey-core"),O=s("./src/react/element-factory.tsx"),y=s("./src/react/components/action-bar/action-bar.tsx"),b=s("./src/react/components/title/title-content.tsx"),P=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),g=function(m){P(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return Object.defineProperty(v.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),v.prototype.render=function(){var f=C.a.createElement(b.TitleContent,{element:this.element,cssClasses:this.cssClasses});return this.element.hasTitleActions?C.a.createElement("div",{className:"sv-title-actions"},C.a.createElement("span",{className:"sv-title-actions__title"},f),C.a.createElement(y.SurveyActionBar,{model:this.element.getTitleToolbar()})):f},v}(C.a.Component);E.RendererFactory.Instance.registerRenderer("element","title-actions","sv-title-actions"),O.ReactElementFactory.Instance.registerElement("sv-title-actions",function(m){return C.a.createElement(g,m)})},"./src/react/components/title/title-content.tsx":function(o,a,s){s.r(a),s.d(a,"TitleContent",function(){return y});var c=s("react"),C=s.n(c),E=s("./src/react/reactquestion_element.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){return b.call(this,g)||this}return Object.defineProperty(P.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),P.prototype.render=function(){if(this.element.isTitleRenderedAsString)return E.SurveyElementBase.renderLocString(this.element.locTitle);var g=this.renderTitleSpans(this.element.getTitleOwner(),this.cssClasses);return C.a.createElement(C.a.Fragment,null,g)},P.prototype.renderTitleSpans=function(g,m){var v=function(h){return C.a.createElement("span",{"data-key":h,key:h},"")},f=[];g.isRequireTextOnStart&&(f.push(this.renderRequireText(g,m)),f.push(v("req-sp")));var l=g.no;if(l){var d=m.panel?m.panel.number:void 0;f.push(C.a.createElement("span",{"data-key":"q_num",key:"q_num",className:m.number||d,style:{position:"static"},"aria-hidden":!0},l)),f.push(v("num-sp"))}return g.isRequireTextBeforeTitle&&(f.push(this.renderRequireText(g,m)),f.push(v("req-sp"))),f.push(E.SurveyElementBase.renderLocString(g.locTitle,null,"q_title")),g.isRequireTextAfterTitle&&(f.push(v("req-sp")),f.push(this.renderRequireText(g,m))),f},P.prototype.renderRequireText=function(g,m){return C.a.createElement("span",{"data-key":"req-text",key:"req-text",className:m.requiredText||m.panel.requiredText,"aria-hidden":!0},g.requiredText)},P}(C.a.Component)},"./src/react/components/title/title-element.tsx":function(o,a,s){s.r(a),s.d(a,"TitleElement",function(){return b});var c=s("react"),C=s.n(c),E=s("survey-core"),O=s("./src/react/components/title/title-actions.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){return P.call(this,m)||this}return Object.defineProperty(g.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),g.prototype.render=function(){var m=this.element;if(!m||!m.hasTitle)return null;var v=m.titleAriaLabel||void 0,f=C.a.createElement(O.TitleActions,{element:m,cssClasses:m.cssClasses}),l=void 0,d=void 0;m.hasTitleEvents&&(d=function(p){Object(E.doKey2ClickUp)(p.nativeEvent)});var h=m.titleTagName;return C.a.createElement(h,{className:m.cssTitle,id:m.ariaTitleId,"aria-label":v,tabIndex:m.titleTabIndex,"aria-expanded":m.titleAriaExpanded,role:m.titleAriaRole,onClick:l,onKeyUp:d},f)},g}(C.a.Component)},"./src/react/custom-widget.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyCustomWidget",function(){return O});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),O=function(y){E(b,y);function b(P){var g=y.call(this,P)||this;return g.widgetRef=c.createRef(),g}return b.prototype._afterRender=function(){if(this.questionBase.customWidget){var P=this.widgetRef.current;P&&(this.questionBase.customWidget.afterRender(this.questionBase,P),this.questionBase.customWidgetData.isNeedRender=!1)}},b.prototype.componentDidMount=function(){y.prototype.componentDidMount.call(this),this.questionBase&&this._afterRender()},b.prototype.componentDidUpdate=function(P,g){y.prototype.componentDidUpdate.call(this,P,g);var m=!!this.questionBase.customWidget&&this.questionBase.customWidget.isDefaultRender;this.questionBase&&!m&&this._afterRender()},b.prototype.componentWillUnmount=function(){if(y.prototype.componentWillUnmount.call(this),this.questionBase.customWidget){var P=this.widgetRef.current;P&&this.questionBase.customWidget.willUnmount(this.questionBase,P)}},b.prototype.canRender=function(){return y.prototype.canRender.call(this)&&this.questionBase.visible},b.prototype.renderElement=function(){var P=this.questionBase.customWidget;if(P.isDefaultRender)return c.createElement("div",{ref:this.widgetRef},this.creator.createQuestionElement(this.questionBase));var g=null;if(P.widgetJson.render)g=P.widgetJson.render(this.questionBase);else if(P.htmlTemplate){var m={__html:P.htmlTemplate};return c.createElement("div",{ref:this.widgetRef,dangerouslySetInnerHTML:m})}return c.createElement("div",{ref:this.widgetRef},g)},b}(C.SurveyQuestionElementBase)},"./src/react/dropdown-base.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionDropdownBase",function(){return m});var c=s("react"),C=s("survey-core"),E=s("./src/react/components/popup/popup.tsx"),O=s("./src/react/components/svg-icon/svg-icon.tsx"),y=s("./src/react/element-factory.tsx"),b=s("./src/react/reactquestion_comment.tsx"),P=s("./src/react/reactquestion_element.tsx"),g=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),m=function(v){g(f,v);function f(){var l=v!==null&&v.apply(this,arguments)||this;return l.click=function(d){var h;(h=l.question.dropdownListModel)===null||h===void 0||h.onClick(d)},l.clear=function(d){var h;(h=l.question.dropdownListModel)===null||h===void 0||h.onClear(d)},l.keyhandler=function(d){var h;(h=l.question.dropdownListModel)===null||h===void 0||h.keyHandler(d)},l.blur=function(d){var h;(h=l.question.dropdownListModel)===null||h===void 0||h.onBlur(d),l.updateInputDomElement()},l.focus=function(d){var h;(h=l.question.dropdownListModel)===null||h===void 0||h.onFocus(d)},l}return f.prototype.getStateElement=function(){return this.question.dropdownListModel},f.prototype.setValueCore=function(l){this.questionBase.renderedValue=l},f.prototype.getValueCore=function(){return this.questionBase.renderedValue},f.prototype.renderSelect=function(l){var d,h,p=null;if(this.question.isReadOnly){var u=this.question.selectedItemLocText?this.renderLocString(this.question.selectedItemLocText):"";p=c.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),disabled:!0},u,c.createElement("div",null,this.question.readOnlyText))}else this.question.dropdownListModel||(this.question.dropdownListModel=new C.DropdownListModel(this.question)),p=c.createElement(c.Fragment,null,this.renderInput(this.question.dropdownListModel),c.createElement(E.Popup,{model:(h=(d=this.question)===null||d===void 0?void 0:d.dropdownListModel)===null||h===void 0?void 0:h.popupModel}));return c.createElement("div",{className:l.selectWrapper,onClick:this.click},p,this.createChevronButton())},f.prototype.renderValueElement=function(l){return this.question.showInputFieldComponent?y.ReactElementFactory.Instance.createElement(this.question.inputFieldComponentName,{item:l.getSelectedAction(),question:this.question}):this.question.showSelectedItemLocText?this.renderLocString(this.question.selectedItemLocText):null},f.prototype.renderInput=function(l){var d=this,h=this.renderValueElement(l),p=C.settings.environment.root,u=function(x){x.target===p.activeElement&&(l.inputStringRendered=x.target.value)};return c.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),tabIndex:l.inputReadOnly?void 0:0,disabled:this.question.isInputReadOnly,required:this.question.isRequired,onKeyDown:this.keyhandler,onBlur:this.blur,role:this.question.ariaRole,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy,"aria-expanded":this.question.ariaExpanded===null?void 0:this.question.ariaExpanded==="true","aria-controls":l.listElementId,"aria-activedescendant":l.ariaActivedescendant},l.showHintPrefix?c.createElement("div",{className:this.question.cssClasses.hintPrefix},c.createElement("span",null,l.hintStringPrefix)):null,c.createElement("div",{className:this.question.cssClasses.controlValue},l.showHintString?c.createElement("div",{className:this.question.cssClasses.hintSuffix},c.createElement("span",{style:{visibility:"hidden"},"data-bind":"text: model.filterString"},l.inputStringRendered),c.createElement("span",null,l.hintStringSuffix)):null,h,c.createElement("input",{type:"text",autoComplete:"off",id:this.question.getInputId(),ref:function(x){return d.inputElement=x},className:this.question.cssClasses.filterStringInput,role:l.filterStringEnabled?this.question.ariaRole:void 0,"aria-label":this.question.placeholder,"aria-expanded":this.question.ariaExpanded===null?void 0:this.question.ariaExpanded==="true","aria-controls":l.listElementId,"aria-activedescendant":l.ariaActivedescendant,placeholder:l.placeholderRendered,readOnly:l.searchEnabled?void 0:!0,tabIndex:l.inputReadOnly?void 0:-1,disabled:this.question.isInputReadOnly,inputMode:l.inputMode,onChange:function(x){u(x)},onBlur:this.blur,onFocus:this.focus})),this.createClearButton())},f.prototype.createClearButton=function(){if(!this.question.allowClear||!this.question.cssClasses.cleanButtonIconId)return null;var l={display:this.question.isEmpty()?"none":""};return c.createElement("div",{className:this.question.cssClasses.cleanButton,style:l,onClick:this.clear},c.createElement(O.SvgIcon,{className:this.question.cssClasses.cleanButtonSvg,iconName:this.question.cssClasses.cleanButtonIconId,title:this.question.clearCaption,size:"auto"}))},f.prototype.createChevronButton=function(){return this.question.cssClasses.chevronButtonIconId?c.createElement("div",{className:this.question.cssClasses.chevronButton},c.createElement(O.SvgIcon,{className:this.question.cssClasses.chevronButtonSvg,iconName:this.question.cssClasses.chevronButtonIconId,size:24})):null},f.prototype.renderOther=function(l){return c.createElement("div",{className:this.question.getCommentAreaCss(!0)},c.createElement(b.SurveyQuestionOtherValueItem,{question:this.question,otherCss:l.other,cssClasses:l,isDisplayMode:this.isDisplayMode,isOther:!0}))},f.prototype.componentDidUpdate=function(l,d){v.prototype.componentDidUpdate.call(this,l,d),this.updateInputDomElement()},f.prototype.componentDidMount=function(){v.prototype.componentDidMount.call(this),this.updateInputDomElement()},f.prototype.updateInputDomElement=function(){if(this.inputElement){var l=this.inputElement,d=this.question.dropdownListModel.inputStringRendered;C.Helpers.isTwoValueEquals(d,l.value)||(l.value=this.question.dropdownListModel.inputStringRendered)}},f}(P.SurveyQuestionUncontrolledElement)},"./src/react/dropdown-item.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionOptionItem",function(){return O});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),O=function(y){E(b,y);function b(P){var g=y.call(this,P)||this;return g.state={changed:0},g.setupModel(),g}return b.prototype.componentDidUpdate=function(P,g){y.prototype.componentDidUpdate.call(this,P,g),this.setupModel()},b.prototype.componentWillUnmount=function(){y.prototype.componentWillUnmount.call(this),this.item&&(this.item.locText.onChanged=function(){})},b.prototype.setupModel=function(){if(this.item.locText){var P=this;this.item.locText.onChanged=function(){P.setState({changed:P.state.changed+1})}}},b.prototype.getStateElement=function(){return this.item},Object.defineProperty(b.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),b.prototype.canRender=function(){return!!this.item},b.prototype.renderElement=function(){return c.createElement("option",{value:this.item.value,disabled:!this.item.isEnabled},this.item.text)},b}(C.ReactSurveyElement)},"./src/react/dropdown-select.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionDropdownSelect",function(){return P});var c=s("react"),C=s("survey-core"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/reactquestion_dropdown.tsx"),y=s("./src/react/dropdown-item.tsx"),b=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),P=function(g){b(m,g);function m(v){return g.call(this,v)||this}return m.prototype.renderSelect=function(v){var f=this,l=function(p){f.question.onClick(p)},d=function(p){f.question.onKeyUp(p)},h=this.isDisplayMode?c.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),disabled:!0},this.question.readOnlyText):c.createElement("select",{id:this.question.inputId,className:this.question.getControlClass(),ref:function(p){return f.setControl(p)},autoComplete:this.question.autocomplete,onChange:this.updateValueOnEvent,onInput:this.updateValueOnEvent,onClick:l,onKeyUp:d,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy,required:this.question.isRequired},this.question.allowClear?c.createElement("option",{value:""},this.question.placeholder):null,this.question.visibleChoices.map(function(p,u){return c.createElement(y.SurveyQuestionOptionItem,{key:"item"+u,item:p})}));return c.createElement("div",{className:v.selectWrapper},h,this.createChevronButton())},m}(O.SurveyQuestionDropdown);E.ReactQuestionFactory.Instance.registerQuestion("sv-dropdown-select",function(g){return c.createElement(P,g)}),C.RendererFactory.Instance.registerRenderer("dropdown","select","sv-dropdown-select")},"./src/react/element-factory.tsx":function(o,a,s){s.r(a),s.d(a,"ReactElementFactory",function(){return c});var c=function(){function C(){this.creatorHash={}}return C.prototype.registerElement=function(E,O){this.creatorHash[E]=O},C.prototype.getAllTypes=function(){var E=new Array;for(var O in this.creatorHash)E.push(O);return E.sort()},C.prototype.isElementRegistered=function(E){return!!this.creatorHash[E]},C.prototype.createElement=function(E,O){var y=this.creatorHash[E];return y==null?null:y(O)},C.Instance=new C,C}()},"./src/react/element-header.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyElementHeader",function(){return P});var c=s("react"),C=s.n(c),E=s("./src/react/components/action-bar/action-bar.tsx"),O=s("./src/react/components/title/title-element.tsx"),y=s("./src/react/reactquestion_element.tsx"),b=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),P=function(g){b(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return Object.defineProperty(m.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),m.prototype.render=function(){var v=this.element,f=v.hasTitle?C.a.createElement(O.TitleElement,{element:v}):null,l=v.hasDescriptionUnderTitle?y.SurveyElementBase.renderQuestionDescription(this.element):null,d=v.additionalTitleToolbar?C.a.createElement(E.SurveyActionBar,{model:v.additionalTitleToolbar}):null;return C.a.createElement("div",{className:v.cssHeader,onClick:v.clickTitleFunction},f,l,d)},m}(C.a.Component)},"./src/react/flow-panel.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyFlowPanel",function(){return b});var c=s("react"),C=s("./src/react/element-factory.tsx"),E=s("./src/react/panel.tsx"),O=s("./src/react/reactquestion.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){return P.call(this,m)||this}return Object.defineProperty(g.prototype,"flowPanel",{get:function(){return this.panel},enumerable:!1,configurable:!0}),g.prototype.componentDidMount=function(){P.prototype.componentDidMount.call(this),this.flowPanel&&(this.flowPanel.onCustomHtmlProducing=function(){return""},this.flowPanel.onGetHtmlForQuestion=this.renderQuestion)},g.prototype.componentWillUnmount=function(){P.prototype.componentWillUnmount.call(this),this.flowPanel&&(this.flowPanel.onCustomHtmlProducing=null,this.flowPanel.onGetHtmlForQuestion=null)},g.prototype.getQuestion=function(m){return this.flowPanel.getQuestionByName(m)},g.prototype.renderQuestion=function(m){return"<question>"+m.name+"</question>"},g.prototype.renderRows=function(){var m=this.renderHtml();return m?[m]:[]},g.prototype.getNodeIndex=function(){return this.renderedIndex++},g.prototype.renderHtml=function(){if(!this.flowPanel)return null;var m="<span>"+this.flowPanel.produceHtml()+"</span>";if(!DOMParser){var v={__html:m};return c.createElement("div",{dangerouslySetInnerHTML:v})}var f=new DOMParser().parseFromString(m,"text/xml");return this.renderedIndex=0,this.renderParentNode(f)},g.prototype.renderNodes=function(m){for(var v=[],f=0;f<m.length;f++){var l=this.renderNode(m[f]);l&&v.push(l)}return v},g.prototype.getStyle=function(m){var v={};return m.toLowerCase()==="b"&&(v.fontWeight="bold"),m.toLowerCase()==="i"&&(v.fontStyle="italic"),m.toLowerCase()==="u"&&(v.textDecoration="underline"),v},g.prototype.renderParentNode=function(m){var v=m.nodeName.toLowerCase(),f=this.renderNodes(this.getChildDomNodes(m));return v==="div"?c.createElement("div",{key:this.getNodeIndex()},f):c.createElement("span",{key:this.getNodeIndex(),style:this.getStyle(v)},f)},g.prototype.renderNode=function(m){if(!this.hasTextChildNodesOnly(m))return this.renderParentNode(m);var v=m.nodeName.toLowerCase();if(v==="question"){var f=this.flowPanel.getQuestionByName(m.textContent);if(!f)return null;var l=c.createElement(O.SurveyQuestion,{key:f.name,element:f,creator:this.creator,css:this.css});return c.createElement("span",{key:this.getNodeIndex()},l)}return v==="div"?c.createElement("div",{key:this.getNodeIndex()},m.textContent):c.createElement("span",{key:this.getNodeIndex(),style:this.getStyle(v)},m.textContent)},g.prototype.getChildDomNodes=function(m){for(var v=[],f=0;f<m.childNodes.length;f++)v.push(m.childNodes[f]);return v},g.prototype.hasTextChildNodesOnly=function(m){for(var v=m.childNodes,f=0;f<v.length;f++)if(v[f].nodeName.toLowerCase()!=="#text")return!1;return!0},g.prototype.renderContent=function(m,v){return c.createElement("f-panel",{style:m},v)},g}(E.SurveyPanel);C.ReactElementFactory.Instance.registerElement("flowpanel",function(P){return c.createElement(b,P)})},"./src/react/image.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionImage",function(){return b});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/components/svg-icon/svg-icon.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){return P.call(this,m)||this}return g.prototype.componentDidMount=function(){var m=this;P.prototype.componentDidMount.call(this),this.question.locImageLink.onChanged=function(){m.forceUpdate()}},g.prototype.componentWillUnmount=function(){P.prototype.componentWillUnmount.call(this),this.question.locImageLink.onChanged=function(){}},Object.defineProperty(g.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),g.prototype.renderElement=function(){var m=this,v=this.question.getImageCss(),f={objectFit:this.question.imageFit};(!this.question.imageLink||this.question.contentNotLoaded)&&(f.display="none");var l=null;this.question.renderedMode==="image"&&(l=c.createElement("img",{className:v,src:this.question.locImageLink.renderedHtml,alt:this.question.altText||this.question.title,width:this.question.renderedWidth,height:this.question.renderedHeight,style:f,onLoad:function(h){m.question.onLoadHandler()},onError:function(h){m.question.onErrorHandler()}})),this.question.renderedMode==="video"&&(l=c.createElement("video",{controls:!0,className:v,src:this.question.locImageLink.renderedHtml,width:this.question.renderedWidth,height:this.question.renderedHeight,style:f,onLoadedMetadata:function(h){m.question.onLoadHandler()},onError:function(h){m.question.onErrorHandler()}})),this.question.renderedMode==="youtube"&&(l=c.createElement("iframe",{className:v,src:this.question.locImageLink.renderedHtml,width:this.question.renderedWidth,height:this.question.renderedHeight,style:f}));var d=null;return(!this.question.imageLink||this.question.contentNotLoaded)&&(d=c.createElement("div",{className:this.question.cssClasses.noImage},c.createElement(O.SvgIcon,{iconName:this.question.cssClasses.noImageSvgIconId,size:48}))),c.createElement("div",{className:this.question.cssClasses.root},l,d)},g}(C.SurveyQuestionElementBase);E.ReactQuestionFactory.Instance.registerQuestion("image",function(P){return c.createElement(b,P)})},"./src/react/imagepicker.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionImagePicker",function(){return P}),s.d(a,"SurveyQuestionImagePickerItem",function(){return g});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/reactsurveymodel.tsx"),y=s("./src/react/components/svg-icon/svg-icon.tsx"),b=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),P=function(m){b(v,m);function v(f){return m.call(this,f)||this}return Object.defineProperty(v.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),v.prototype.renderElement=function(){var f=this.question.cssClasses;return c.createElement("fieldset",{className:this.question.getSelectBaseRootCss()},c.createElement("legend",{role:"radio","aria-label":this.question.locTitle.renderedHtml}),this.question.hasColumns?this.getColumns(f):this.getItems(f))},v.prototype.getColumns=function(f){var l=this;return this.question.columns.map(function(d,h){var p=d.map(function(u,x){return l.renderItem("item"+x,u,f)});return c.createElement("div",{key:"column"+h,className:l.question.getColumnClass(),role:"presentation"},p)})},v.prototype.getItems=function(f){for(var l=[],d=0;d<this.question.visibleChoices.length;d++){var h=this.question.visibleChoices[d],p="item"+d;l.push(this.renderItem(p,h,f))}return l},Object.defineProperty(v.prototype,"textStyle",{get:function(){return{marginLeft:"3px",display:"inline",position:"static"}},enumerable:!1,configurable:!0}),v.prototype.renderItem=function(f,l,d){var h=c.createElement(g,{key:f,question:this.question,item:l,cssClasses:d}),p=this.question.survey,u=null;return p&&(u=O.ReactSurveyElementsWrapper.wrapItemValue(p,h,this.question,l)),u??h},v}(C.SurveyQuestionElementBase),g=function(m){b(v,m);function v(f){var l=m.call(this,f)||this;return l.handleOnChange=l.handleOnChange.bind(l),l}return v.prototype.getStateElement=function(){return this.item},v.prototype.componentDidMount=function(){m.prototype.componentDidMount.call(this),this.reactOnStrChanged()},v.prototype.componentWillUnmount=function(){m.prototype.componentWillUnmount.call(this),this.item.locImageLink.onChanged=function(){}},v.prototype.componentDidUpdate=function(f,l){m.prototype.componentDidUpdate.call(this,f,l),this.reactOnStrChanged()},v.prototype.reactOnStrChanged=function(){var f=this;this.item.locImageLink.onChanged=function(){f.setState({locImageLinkchanged:f.state&&f.state.locImageLink?f.state.locImageLink+1:1})}},Object.defineProperty(v.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),v.prototype.handleOnChange=function(f){if(this.question.multiSelect)if(f.target.checked)this.question.value=this.question.value.concat(f.target.value);else{var l=this.question.value;l.splice(this.question.value.indexOf(f.target.value),1),this.question.value=l}else this.question.value=f.target.value;this.setState({value:this.question.value})},v.prototype.renderElement=function(){var f=this,l=this.item,d=this.question,h=this.cssClasses,p=d.isItemSelected(l),u=d.getItemClass(l),x=null;d.showLabel&&(x=c.createElement("span",{className:d.cssClasses.itemText},l.text?C.SurveyElementBase.renderLocString(l.locText):l.value));var V={objectFit:this.question.imageFit},A=null;if(l.locImageLink.renderedHtml&&this.question.contentMode==="image"&&(A=c.createElement("img",{className:h.image,src:l.locImageLink.renderedHtml,width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,alt:l.locText.renderedHtml,style:V,onLoad:function(D){f.question.onContentLoaded(l,D.nativeEvent)},onError:function(D){l.onErrorHandler(l,D.nativeEvent)}})),l.locImageLink.renderedHtml&&this.question.contentMode==="video"&&(A=c.createElement("video",{controls:!0,className:h.image,src:l.locImageLink.renderedHtml,width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,style:V,onLoadedMetadata:function(D){f.question.onContentLoaded(l,D.nativeEvent)},onError:function(D){l.onErrorHandler(l,D.nativeEvent)}})),!l.locImageLink.renderedHtml||l.contentNotLoaded){var M={width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,objectFit:this.question.imageFit};A=c.createElement("div",{className:h.itemNoImage,style:M},h.itemNoImageSvgIcon?c.createElement(y.SvgIcon,{className:h.itemNoImageSvgIcon,iconName:this.question.cssClasses.itemNoImageSvgIconId,size:48}):null)}var T=c.createElement("div",{className:u},c.createElement("label",{className:h.label},c.createElement("input",{className:h.itemControl,id:this.question.getItemId(l),type:this.question.inputType,name:this.question.questionName,checked:p,value:l.value,disabled:!this.question.getItemEnabled(l),onChange:this.handleOnChange,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),c.createElement("div",{className:this.question.cssClasses.itemDecorator},c.createElement("div",{className:this.question.cssClasses.imageContainer},this.question.cssClasses.checkedItemDecorator?c.createElement("span",{className:this.question.cssClasses.checkedItemDecorator},this.question.cssClasses.checkedItemSvgIconId?c.createElement(y.SvgIcon,{size:"auto",className:this.question.cssClasses.checkedItemSvgIcon,iconName:this.question.cssClasses.checkedItemSvgIconId}):null):null,A),x)));return T},v}(C.ReactSurveyElement);E.ReactQuestionFactory.Instance.registerQuestion("imagepicker",function(m){return c.createElement(P,m)})},"./src/react/page.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyPage",function(){return b});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/panel-base.tsx"),O=s("./src/react/components/title/title-element.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){return P.call(this,m)||this}return g.prototype.getPanelBase=function(){return this.props.page},Object.defineProperty(g.prototype,"page",{get:function(){return this.panelBase},enumerable:!1,configurable:!0}),g.prototype.renderElement=function(){var m=this.renderTitle(),v=this.renderDescription(),f=this.renderRows(this.panelBase.cssClasses);return c.createElement("div",{ref:this.rootRef,className:this.page.cssRoot},m,v,f)},g.prototype.renderTitle=function(){return c.createElement(O.TitleElement,{element:this.page})},g.prototype.renderDescription=function(){if(!this.page._showDescription)return null;var m=C.SurveyElementBase.renderLocString(this.page.locDescription);return c.createElement("div",{className:this.panelBase.cssClasses.page.description},m)},g}(E.SurveyPanelBase)},"./src/react/panel-base.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyPanelBase",function(){return y});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/row.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){var m=b.call(this,g)||this;return m.renderedRowsCache={},m.rootRef=c.createRef(),m}return P.prototype.getStateElement=function(){return this.panelBase},P.prototype.canUsePropInState=function(g){return g!=="elements"&&b.prototype.canUsePropInState.call(this,g)},Object.defineProperty(P.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"css",{get:function(){return this.getCss()},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"panelBase",{get:function(){return this.getPanelBase()},enumerable:!1,configurable:!0}),P.prototype.getPanelBase=function(){return this.props.element||this.props.question},P.prototype.getSurvey=function(){return this.props.survey||(this.panelBase?this.panelBase.survey:null)},P.prototype.getCss=function(){return this.props.css},P.prototype.componentDidMount=function(){b.prototype.componentDidMount.call(this),this.doAfterRender()},P.prototype.componentWillUnmount=function(){b.prototype.componentWillUnmount.call(this);var g=this.rootRef.current;g&&g.removeAttribute("data-rendered")},P.prototype.componentDidUpdate=function(g,m){b.prototype.componentDidUpdate.call(this,g,m),!(g.page&&this.survey&&this.survey.currentPage&&g.page.name===this.survey.currentPage.name)&&this.doAfterRender()},P.prototype.doAfterRender=function(){var g=this.rootRef.current;g&&this.survey&&(this.panelBase.isPanel?this.survey.afterRenderPanel(this.panelBase,g):this.survey.afterRenderPage(g))},P.prototype.canRender=function(){return b.prototype.canRender.call(this)&&!!this.survey&&!!this.panelBase&&this.panelBase.isVisible&&!!this.panelBase.survey},P.prototype.renderRows=function(g){this.changedStatePropName!=="rows"&&(this.renderedRowsCache={});for(var m=[],v=this.panelBase.rows,f=0;f<v.length;f++){var l=this.renderedRowsCache[v[f].id];l||(l=this.createRow(v[f],g),this.renderedRowsCache[v[f].id]=l),m.push(l)}return m},P.prototype.createRow=function(g,m){return c.createElement(E.SurveyRow,{key:g.id,row:g,survey:this.survey,creator:this.creator,css:m})},P}(C.SurveyElementBase)},"./src/react/panel.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyPanel",function(){return f});var c=s("react"),C=s("./src/react/reactquestion.tsx"),E=s("./src/react/reactquestion_element.tsx"),O=s("./src/react/element-factory.tsx"),y=s("./src/react/panel-base.tsx"),b=s("./src/react/reactsurveymodel.tsx"),P=s("./src/react/components/action-bar/action-bar.tsx"),g=s("./src/react/components/title/title-element.tsx"),m=s("./src/react/element-header.tsx"),v=function(){var l=function(d,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(p[x]=u[x])},l(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}(),f=function(l){v(d,l);function d(h){var p=l.call(this,h)||this;return p.hasBeenExpanded=!1,p}return Object.defineProperty(d.prototype,"panel",{get:function(){return this.panelBase},enumerable:!1,configurable:!0}),d.prototype.renderElement=function(){var h=this,p=this.renderHeader(),u=c.createElement(C.SurveyElementErrors,{element:this.panelBase,cssClasses:this.panelBase.cssClasses,creator:this.creator}),x={paddingLeft:this.panel.innerPaddingLeft,display:this.panel.isCollapsed?"none":void 0},V=null;if(!this.panel.isCollapsed||this.hasBeenExpanded){this.hasBeenExpanded=!0;var A=this.renderRows(this.panelBase.cssClasses),M=this.panelBase.cssClasses.panel.content;V=this.renderContent(x,A,M)}var T=function(){h.panelBase&&h.panelBase.focusIn()};return c.createElement("div",{ref:this.rootRef,className:this.panelBase.getContainerCss(),onFocus:T,id:this.panelBase.id},this.panel.showErrorsAbovePanel?u:null,p,this.panel.showErrorsAbovePanel?null:u,V)},d.prototype.renderHeader=function(){return!this.panel.hasTitle&&!this.panel.hasDescription?null:c.createElement(m.SurveyElementHeader,{element:this.panel})},d.prototype.wrapElement=function(h){var p=this.panel.survey,u=null;return p&&(u=b.ReactSurveyElementsWrapper.wrapElement(p,h,this.panel)),u??h},d.prototype.renderContent=function(h,p,u){var x=this.renderBottom();return c.createElement("div",{style:h,className:u,id:this.panel.contentId},p,x)},d.prototype.renderTitle=function(){return this.panelBase.title?c.createElement(g.TitleElement,{element:this.panelBase}):null},d.prototype.renderDescription=function(){if(!this.panelBase.description)return null;var h=E.SurveyElementBase.renderLocString(this.panelBase.locDescription);return c.createElement("div",{className:this.panel.cssClasses.panel.description},h)},d.prototype.renderBottom=function(){var h=this.panel.getFooterToolbar();return h.hasActions?c.createElement(P.SurveyActionBar,{model:h}):null},d}(y.SurveyPanelBase);O.ReactElementFactory.Instance.registerElement("panel",function(l){return c.createElement(f,l)})},"./src/react/rating-dropdown.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionRatingDropdown",function(){return b});var c=s("react"),C=s("survey-core"),E=s("./src/react/dropdown-base.tsx"),O=s("./src/react/reactquestion_factory.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){return P.call(this,m)||this}return g.prototype.renderElement=function(){var m=this.question.cssClasses,v=this.renderSelect(m);return c.createElement("div",{className:this.question.cssClasses.rootDropdown},v)},g}(E.SurveyQuestionDropdownBase);O.ReactQuestionFactory.Instance.registerQuestion("sv-rating-dropdown",function(P){return c.createElement(b,P)}),C.RendererFactory.Instance.registerRenderer("rating","dropdown","sv-rating-dropdown")},"./src/react/react-popup-survey.tsx":function(o,a,s){s.r(a),s.d(a,"PopupSurvey",function(){return b}),s.d(a,"SurveyWindow",function(){return P});var c=s("react"),C=s("./src/react/reactSurvey.tsx"),E=s("./src/react/reactquestion_element.tsx"),O=s("survey-core"),y=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),b=function(g){y(m,g);function m(v){var f=g.call(this,v)||this;return f.handleOnExpanded=f.handleOnExpanded.bind(f),f}return m.prototype.getStateElements=function(){return[this.popup,this.popup.survey]},m.prototype.handleOnExpanded=function(v){this.popup.changeExpandCollapse()},m.prototype.canRender=function(){return g.prototype.canRender.call(this)&&this.popup.isShowing},m.prototype.renderElement=function(){var v=this.renderWindowHeader(),f=this.popup.isExpanded?this.renderBody():null,l={position:"fixed",bottom:3,right:10};return this.popup.renderedWidth&&(l.width=this.popup.renderedWidth,l.maxWidth=this.popup.renderedWidth),c.createElement("div",{className:this.popup.cssRoot,style:l},v,f)},m.prototype.renderWindowHeader=function(){var v={width:"100%",cursor:"pointer"},f={paddingRight:"10px"},l=this.popup.cssButton;l="glyphicon pull-right "+l;var d=E.SurveyElementBase.renderLocString(this.survey.locTitle);return c.createElement("div",{className:this.popup.cssHeaderRoot},c.createElement("span",{onClick:this.handleOnExpanded,style:v},c.createElement("span",{className:this.popup.cssHeaderTitle,style:f},d),c.createElement("span",{className:l,"aria-hidden":"true"})),this.popup.isExpanded?c.createElement("span",{onClick:this.handleOnExpanded,style:{float:"right",cursor:"pointer"}},c.createElement("span",{className:this.popup.cssHeaderTitle,style:f},"X")):null)},m.prototype.renderBody=function(){var v=this;return c.createElement("div",{className:this.popup.cssBody,onScroll:function(){return v.popup.onScroll()}},this.doRender())},m.prototype.createSurvey=function(v){v||(v={}),g.prototype.createSurvey.call(this,v),this.popup=new O.PopupSurveyModel(null,this.survey),v.closeOnCompleteTimeout&&(this.popup.closeOnCompleteTimeout=v.closeOnCompleteTimeout),this.popup.isShowing=!0,!this.popup.isExpanded&&(v.expanded||v.isExpanded)&&this.popup.expand()},m}(C.Survey),P=function(g){y(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return m}(b)},"./src/react/reactSurvey.tsx":function(o,a,s){s.r(a),s.d(a,"Survey",function(){return h}),s.d(a,"attachKey2click",function(){return p});var c=s("react"),C=s("survey-core"),E=s("./src/react/page.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=s("./src/react/string-viewer.tsx"),b=s("./src/react/components/survey-header/survey-header.tsx"),P=s("./src/react/reactquestion_factory.tsx"),g=s("./src/react/element-factory.tsx"),m=s("./src/react/components/brand-info.tsx"),v=s("./src/react/components/notifier.tsx"),f=s("./src/react/components/components-container.tsx"),l=function(){var u=function(x,V){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,M){A.__proto__=M}||function(A,M){for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(A[T]=M[T])},u(x,V)};return function(x,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");u(x,V);function A(){this.constructor=x}x.prototype=V===null?Object.create(V):(A.prototype=V.prototype,new A)}}(),d=function(){return d=Object.assign||function(u){for(var x,V=1,A=arguments.length;V<A;V++){x=arguments[V];for(var M in x)Object.prototype.hasOwnProperty.call(x,M)&&(u[M]=x[M])}return u},d.apply(this,arguments)},h=function(u){l(x,u);function x(V){var A=u.call(this,V)||this;return A.previousJSON={},A.isSurveyUpdated=!1,A.createSurvey(V),A.updateSurvey(V,{}),A.rootRef=c.createRef(),A.rootNodeId=V.id||null,A.rootNodeClassName=V.className||"",A}return Object.defineProperty(x,"cssType",{get:function(){return C.surveyCss.currentType},set:function(V){C.StylesManager.applyTheme(V)},enumerable:!1,configurable:!0}),x.prototype.getStateElement=function(){return this.survey},x.prototype.onSurveyUpdated=function(){if(this.survey){var V=this.rootRef.current;V&&this.survey.afterRenderSurvey(V),this.survey.startTimerFromUI()}},x.prototype.shouldComponentUpdate=function(V,A){return u.prototype.shouldComponentUpdate.call(this,V,A)?(this.isModelJSONChanged(V)&&(this.destroySurvey(),this.createSurvey(V),this.updateSurvey(V,{}),this.isSurveyUpdated=!0),!0):!1},x.prototype.componentDidUpdate=function(V,A){u.prototype.componentDidUpdate.call(this,V,A),this.updateSurvey(this.props,V),this.isSurveyUpdated&&(this.onSurveyUpdated(),this.isSurveyUpdated=!1)},x.prototype.componentDidMount=function(){u.prototype.componentDidMount.call(this),this.onSurveyUpdated()},x.prototype.destroySurvey=function(){this.survey&&(this.survey.stopTimer(),this.survey.destroyResizeObserver())},x.prototype.componentWillUnmount=function(){u.prototype.componentWillUnmount.call(this),this.destroySurvey()},x.prototype.doRender=function(){this.survey.needRenderIcons&&C.SvgRegistry.renderIcons();var V;this.survey.state=="completed"?V=this.renderCompleted():this.survey.state=="completedbefore"?V=this.renderCompletedBefore():this.survey.state=="loading"?V=this.renderLoading():V=this.renderSurvey();var A=this.survey.renderBackgroundImage?c.createElement("div",{className:this.css.rootBackgroundImage,style:this.survey.backgroundImageStyle}):null,M=c.createElement(b.SurveyHeader,{survey:this.survey}),T=function(I){I.preventDefault()},D=c.createElement("div",{className:"sv_custom_header"});this.survey.hasLogo&&(D=null);var R=this.survey.getRootCss(),S=this.rootNodeClassName?this.rootNodeClassName+" "+R:R;return c.createElement("div",{id:this.rootNodeId,ref:this.rootRef,className:S,style:this.survey.themeVariables},A,c.createElement("form",{onSubmit:T},D,c.createElement("div",{className:this.css.container},M,c.createElement(f.ComponentsContainer,{survey:this.survey,container:"header",needRenderWrapper:!1}),V,c.createElement(f.ComponentsContainer,{survey:this.survey,container:"footer",needRenderWrapper:!1}))),this.survey.showBrandInfo?c.createElement(m.BrandInfo,null):null,c.createElement(v.NotifierComponent,{notifier:this.survey.notifier}))},x.prototype.renderElement=function(){return this.doRender()},Object.defineProperty(x.prototype,"css",{get:function(){return this.survey.css},set:function(V){this.survey.css=V},enumerable:!1,configurable:!0}),x.prototype.renderCompleted=function(){if(!this.survey.showCompletedPage)return null;var V={__html:this.survey.processedCompletedHtml};return c.createElement(c.Fragment,null,c.createElement("div",{dangerouslySetInnerHTML:V,className:this.survey.completedCss}))},x.prototype.renderCompletedBefore=function(){var V={__html:this.survey.processedCompletedBeforeHtml};return c.createElement("div",{dangerouslySetInnerHTML:V,className:this.css.body})},x.prototype.renderLoading=function(){var V={__html:this.survey.processedLoadingHtml};return c.createElement("div",{dangerouslySetInnerHTML:V,className:this.css.body})},x.prototype.renderSurvey=function(){var V=this.survey.activePage?this.renderPage(this.survey.activePage):null;this.survey.isShowStartingPage;var A=this.survey.activePage?this.survey.activePage.id:"",M=this.survey.bodyCss;V||(M=this.css.bodyEmpty,V=this.renderEmptySurvey());var T={};return this.survey.renderedWidth&&(T.maxWidth=this.survey.renderedWidth),c.createElement("div",{className:this.survey.bodyContainerCss},c.createElement(f.ComponentsContainer,{survey:this.survey,container:"left"}),c.createElement("div",{id:A,className:M,style:T},c.createElement(f.ComponentsContainer,{survey:this.survey,container:"contentTop"}),V,c.createElement(f.ComponentsContainer,{survey:this.survey,container:"contentBottom"})),c.createElement(f.ComponentsContainer,{survey:this.survey,container:"right"}))},x.prototype.renderPage=function(V){return c.createElement(E.SurveyPage,{survey:this.survey,page:V,css:this.css,creator:this})},x.prototype.renderEmptySurvey=function(){return c.createElement("span",null,this.survey.emptySurveyText)},x.prototype.createSurvey=function(V){V||(V={}),this.previousJSON={},V?V.model?this.survey=V.model:V.json&&(this.previousJSON=V.json,this.survey=new C.SurveyModel(V.json)):this.survey=new C.SurveyModel,V.css&&(this.survey.css=this.css),this.setSurveyEvents()},x.prototype.isModelJSONChanged=function(V){return V.model?this.survey!==V.model:V.json?!C.Helpers.isTwoValueEquals(V.json,this.previousJSON):!1},x.prototype.updateSurvey=function(V,A){if(V){A=A||{};for(var M in V)if(!(M=="model"||M=="children"||M=="json")){if(M=="css"){this.survey.mergeValues(V.css,this.survey.getCss()),this.survey.updateNavigationCss(),this.survey.updateElementCss();continue}V[M]!==A[M]&&(M.indexOf("on")==0&&this.survey[M]&&this.survey[M].add?(A[M]&&this.survey[M].remove(A[M]),this.survey[M].add(V[M])):this.survey[M]=V[M])}}},x.prototype.setSurveyEvents=function(){var V=this;this.survey.renderCallback=function(){var A=V.state&&V.state.modelChanged?V.state.modelChanged:0;V.setState({modelChanged:A+1})},this.survey.onPartialSend.add(function(A){V.state&&V.setState(V.state)})},x.prototype.createQuestionElement=function(V){return P.ReactQuestionFactory.Instance.createQuestion(V.isDefaultRendering()?V.getTemplate():V.getComponentName(),{question:V,isDisplayMode:V.isInputReadOnly,creator:this})},x.prototype.renderError=function(V,A,M){return c.createElement("div",{key:V},c.createElement("span",{className:M.error.icon||void 0,"aria-hidden":"true"}),c.createElement("span",{className:M.error.item||void 0},c.createElement(y.SurveyLocStringViewer,{locStr:A.locText})))},x.prototype.questionTitleLocation=function(){return this.survey.questionTitleLocation},x.prototype.questionErrorLocation=function(){return this.survey.questionErrorLocation},x}(O.SurveyElementBase);g.ReactElementFactory.Instance.registerElement("survey",function(u){return c.createElement(h,u)});function p(u,x,V){return V===void 0&&(V={processEsc:!0,disableTabStop:!1}),x&&x.disableTabStop||V&&V.disableTabStop?c.cloneElement(u,{tabIndex:-1}):(V=d({},V),c.cloneElement(u,{tabIndex:0,onKeyUp:function(A){return A.preventDefault(),A.stopPropagation(),Object(C.doKey2ClickUp)(A,V),!1},onKeyDown:function(A){return Object(C.doKey2ClickDown)(A,V)},onBlur:function(A){return Object(C.doKey2ClickBlur)(A)}}))}},"./src/react/reactSurveyNavigationBase.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyNavigationBase",function(){return E});var c=s("react"),C=function(){var O=function(y,b){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,g){P.__proto__=g}||function(P,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(P[m]=g[m])},O(y,b)};return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");O(y,b);function P(){this.constructor=y}y.prototype=b===null?Object.create(b):(P.prototype=b.prototype,new P)}}(),E=function(O){C(y,O);function y(b){var P=O.call(this,b)||this;return P.updateStateFunction=null,P.state={update:0},P}return Object.defineProperty(y.prototype,"survey",{get:function(){return this.props.survey},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"css",{get:function(){return this.props.css||this.survey.css},enumerable:!1,configurable:!0}),y.prototype.componentDidMount=function(){if(this.survey){var b=this;this.updateStateFunction=function(){b.setState({update:b.state.update+1})},this.survey.onPageVisibleChanged.add(this.updateStateFunction)}},y.prototype.componentWillUnmount=function(){this.survey&&this.updateStateFunction&&(this.survey.onPageVisibleChanged.remove(this.updateStateFunction),this.updateStateFunction=null)},y}(c.Component)},"./src/react/reactSurveyProgress.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyProgress",function(){return b});var c=s("react"),C=s("survey-core"),E=s("./src/react/reactSurveyNavigationBase.tsx"),O=s("./src/react/element-factory.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){return P.call(this,m)||this}return Object.defineProperty(g.prototype,"isTop",{get:function(){return this.props.isTop},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"progress",{get:function(){return this.survey.progressValue},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"progressText",{get:function(){return this.survey.progressText},enumerable:!1,configurable:!0}),g.prototype.render=function(){var m={width:this.progress+"%"};return c.createElement("div",{className:this.survey.getProgressCssClasses()},c.createElement("div",{style:m,className:this.css.progressBar,role:"progressbar","aria-valuemin":0,"aria-valuemax":100},c.createElement("span",{className:C.SurveyProgressModel.getProgressTextInBarCss(this.css)},this.progressText)),c.createElement("span",{className:C.SurveyProgressModel.getProgressTextUnderBarCss(this.css)},this.progressText))},g}(E.SurveyNavigationBase);O.ReactElementFactory.Instance.registerElement("sv-progress-pages",function(P){return c.createElement(b,P)}),O.ReactElementFactory.Instance.registerElement("sv-progress-questions",function(P){return c.createElement(b,P)}),O.ReactElementFactory.Instance.registerElement("sv-progress-correctquestions",function(P){return c.createElement(b,P)}),O.ReactElementFactory.Instance.registerElement("sv-progress-requiredquestions",function(P){return c.createElement(b,P)})},"./src/react/reactSurveyProgressButtons.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyProgressButtons",function(){return b});var c=s("react"),C=s("survey-core"),E=s("./src/react/reactSurveyNavigationBase.tsx"),O=s("./src/react/element-factory.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.updateScroller=void 0,v.progressButtonsModel=new C.SurveyProgressButtonsModel(v.survey),v.listContainerRef=c.createRef(),v}return g.prototype.render=function(){var m=this;return c.createElement("div",{className:this.css.progressButtonsContainerCenter},c.createElement("div",{className:this.css.progressButtonsContainer},c.createElement("div",{className:this.getScrollButtonCss(!0),role:"button",onClick:function(){return m.clickScrollButton(m.listContainerRef.current,!0)}}),c.createElement("div",{className:this.css.progressButtonsListContainer,ref:this.listContainerRef},c.createElement("ul",{className:this.css.progressButtonsList},this.getListElements())),c.createElement("div",{className:this.getScrollButtonCss(!1),role:"button",onClick:function(){return m.clickScrollButton(m.listContainerRef.current,!1)}})))},g.prototype.getListElements=function(){var m=this,v=[];return this.survey.visiblePages.forEach(function(f,l){v.push(m.renderListElement(f,l))}),v},g.prototype.renderListElement=function(m,v){var f=this;return c.createElement("li",{key:"listelement"+v,className:this.getListElementCss(v),onClick:this.isListElementClickable(v)?function(){return f.clickListElement(v)}:void 0},c.createElement("div",{className:this.css.progressButtonsPageTitle,title:m.navigationTitle||m.name},m.navigationTitle||m.name),c.createElement("div",{className:this.css.progressButtonsPageDescription,title:m.navigationDescription},m.navigationDescription))},g.prototype.isListElementClickable=function(m){return this.progressButtonsModel.isListElementClickable(m)},g.prototype.getListElementCss=function(m){return this.progressButtonsModel.getListElementCss(m)},g.prototype.clickListElement=function(m){this.progressButtonsModel.clickListElement(m)},g.prototype.getScrollButtonCss=function(m){return this.progressButtonsModel.getScrollButtonCss(this.state.hasScroller,m)},g.prototype.clickScrollButton=function(m,v){m&&(m.scrollLeft+=(v?-1:1)*70)},g.prototype.componentDidMount=function(){var m=this;this.updateScroller=setInterval(function(){m.listContainerRef.current&&m.setState({hasScroller:m.listContainerRef.current.scrollWidth>m.listContainerRef.current.offsetWidth})},100)},g.prototype.componentWillUnmount=function(){typeof this.updateScroller<"u"&&(clearInterval(this.updateScroller),this.updateScroller=void 0)},g}(E.SurveyNavigationBase);O.ReactElementFactory.Instance.registerElement("sv-progress-buttons",function(P){return c.createElement(b,P)})},"./src/react/reactSurveyProgressToc.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyProgressToc",function(){return m});var c=s("react"),C=s("survey-core"),E=s("./src/react/reactSurveyNavigationBase.tsx"),O=s("./src/react/element-factory.tsx"),y=s("./src/react/components/list/list.tsx"),b=s("./src/react/components/popup/popup.tsx"),P=s("./src/react/components/svg-icon/svg-icon.tsx"),g=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),m=function(v){g(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.render=function(){var l=new C.TOCModel(this.props.model),d;return l.isMobile?d=c.createElement("div",{onClick:l.togglePopup},c.createElement(P.SvgIcon,{iconName:l.icon,size:24}),c.createElement(b.Popup,{model:l.popupModel})):d=c.createElement(y.List,{model:l.listModel}),c.createElement("div",{className:l.containerCss},d)},f}(E.SurveyNavigationBase);O.ReactElementFactory.Instance.registerElement("sv-progress-toc",function(v){return c.createElement(m,v)})},"./src/react/reactquestion.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestion",function(){return v}),s.d(a,"SurveyElementErrors",function(){return f}),s.d(a,"SurveyQuestionAndErrorsWrapped",function(){return l}),s.d(a,"SurveyQuestionAndErrorsCell",function(){return d});var c=s("react"),C=s("survey-core"),E=s("./src/react/reactsurveymodel.tsx"),O=s("./src/react/element-factory.tsx"),y=s("./src/react/reactquestion_element.tsx"),b=s("./src/react/reactquestion_comment.tsx"),P=s("./src/react/custom-widget.tsx"),g=s("./src/react/element-header.tsx"),m=function(){var h=function(p,u){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,V){x.__proto__=V}||function(x,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(x[A]=V[A])},h(p,u)};return function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");h(p,u);function x(){this.constructor=p}p.prototype=u===null?Object.create(u):(x.prototype=u.prototype,new x)}}(),v=function(h){m(p,h);function p(u){var x=h.call(this,u)||this;return x.isNeedFocus=!1,x.rootRef=c.createRef(),x}return p.renderQuestionBody=function(u,x){if(!x.isVisible)return null;var V=x.customWidget;return V?c.createElement(P.SurveyCustomWidget,{creator:u,question:x}):u.createQuestionElement(x)},p.prototype.getStateElement=function(){return this.question},Object.defineProperty(p.prototype,"question",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),p.prototype.componentDidMount=function(){h.prototype.componentDidMount.call(this),this.question&&(this.question.react=this),this.doAfterRender()},p.prototype.componentWillUnmount=function(){h.prototype.componentWillUnmount.call(this),this.question&&(this.question.react=null);var u=this.rootRef.current;u&&u.removeAttribute("data-rendered")},p.prototype.componentDidUpdate=function(u,x){h.prototype.componentDidUpdate.call(this,u,x),this.doAfterRender()},p.prototype.doAfterRender=function(){if(this.isNeedFocus&&(this.question.isCollapsed||this.question.clickTitleFunction(),this.isNeedFocus=!1),this.question){var u=this.rootRef.current;u&&u.getAttribute("data-rendered")!=="r"&&(u.setAttribute("data-rendered","r"),u.setAttribute("data-name",this.question.name),this.question.afterRender&&this.question.afterRender(u))}},p.prototype.canRender=function(){return h.prototype.canRender.call(this)&&!!this.question&&!!this.creator&&this.question.isVisible},p.prototype.renderQuestionContent=function(){var u=this.question,x={display:this.question.isCollapsed?"none":""},V=u.cssClasses,A=this.renderQuestion(),M=this.question.showErrorOnTop?this.renderErrors(V,"top"):null,T=this.question.showErrorOnBottom?this.renderErrors(V,"bottom"):null,D=u&&u.hasComment?this.renderComment(V):null,R=this.question.isErrorsModeTooltip?this.renderErrors(V,"tooltip"):null,S=u.hasDescriptionUnderInput?this.renderDescription():null;return c.createElement("div",{className:u.cssContent||void 0,style:x,role:"presentation"},M,A,D,T,R,S)},p.prototype.renderElement=function(){var u=this.question,x=u.cssClasses,V=this.renderHeader(u),A=u.hasTitleOnLeftTop?V:null,M=u.hasTitleOnBottom?V:null,T=this.question.showErrorsAboveQuestion?this.renderErrors(x,""):null,D=this.question.showErrorsBelowQuestion?this.renderErrors(x,""):null,R=u.getRootStyle(),S=this.wrapQuestionContent(this.renderQuestionContent());return c.createElement(c.Fragment,null,c.createElement("div",{ref:this.rootRef,id:u.id,className:u.getRootCss(),style:R,role:u.ariaRole,"aria-required":this.question.ariaRequired,"aria-invalid":this.question.ariaInvalid,"aria-labelledby":u.ariaLabelledBy,"aria-expanded":u.ariaExpanded===null?void 0:u.ariaExpanded==="true"},T,A,S,M,D))},p.prototype.wrapElement=function(u){var x=this.question.survey,V=null;return x&&(V=E.ReactSurveyElementsWrapper.wrapElement(x,u,this.question)),V??u},p.prototype.wrapQuestionContent=function(u){var x=this.question.survey,V=null;return x&&(V=E.ReactSurveyElementsWrapper.wrapQuestionContent(x,u,this.question)),V??u},p.prototype.renderQuestion=function(){return p.renderQuestionBody(this.creator,this.question)},p.prototype.renderDescription=function(){return y.SurveyElementBase.renderQuestionDescription(this.question)},p.prototype.renderComment=function(u){var x=y.SurveyElementBase.renderLocString(this.question.locCommentText);return c.createElement("div",{className:this.question.getCommentAreaCss()},c.createElement("div",null,x),c.createElement(b.SurveyQuestionCommentItem,{question:this.question,cssClasses:u,otherCss:u.other,isDisplayMode:this.question.isInputReadOnly}))},p.prototype.renderHeader=function(u){return c.createElement(g.SurveyElementHeader,{element:u})},p.prototype.renderErrors=function(u,x){return c.createElement(f,{element:this.question,cssClasses:u,creator:this.creator,location:x,id:this.question.id+"_errors"})},p}(y.SurveyElementBase);O.ReactElementFactory.Instance.registerElement("question",function(h){return c.createElement(v,h)});var f=function(h){m(p,h);function p(u){var x=h.call(this,u)||this;return x.state=x.getState(),x.tooltipRef=c.createRef(),x}return Object.defineProperty(p.prototype,"id",{get:function(){return this.props.id},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"location",{get:function(){return this.props.location},enumerable:!1,configurable:!0}),p.prototype.getState=function(u){return u===void 0&&(u=null),u?{error:u.error+1}:{error:0}},p.prototype.canRender=function(){return!!this.element&&this.element.hasVisibleErrors},p.prototype.componentDidUpdate=function(u,x){h.prototype.componentDidUpdate.call(this,u,x),this.props.location=="tooltip"&&(this.tooltipRef.current&&!this.tooltipManager&&(this.tooltipManager=new C.TooltipManager(this.tooltipRef.current)),this.tooltipManager&&!this.tooltipRef.current&&this.disposeTooltipManager())},p.prototype.componentWillUnmount=function(){this.tooltipManager&&this.disposeTooltipManager()},p.prototype.disposeTooltipManager=function(){var u;(u=this.tooltipManager)===null||u===void 0||u.dispose(),this.tooltipManager=void 0},p.prototype.renderElement=function(){for(var u=[],x=0;x<this.element.errors.length;x++){var V="error"+x;u.push(this.creator.renderError(V,this.element.errors[x],this.cssClasses))}return c.createElement("div",{role:"alert","aria-live":"polite",className:this.element.cssError,id:this.id,ref:this.tooltipRef},u)},p}(y.ReactSurveyElement),l=function(h){m(p,h);function p(u){return h.call(this,u)||this}return p.prototype.getStateElement=function(){return this.question},Object.defineProperty(p.prototype,"question",{get:function(){return this.getQuestion()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),p.prototype.getQuestion=function(){return this.props.question},Object.defineProperty(p.prototype,"itemCss",{get:function(){return this.props.itemCss},enumerable:!1,configurable:!0}),p.prototype.componentDidMount=function(){h.prototype.componentDidMount.call(this),this.doAfterRender()},p.prototype.componentDidUpdate=function(u,x){h.prototype.componentDidUpdate.call(this,u,x),this.doAfterRender()},p.prototype.doAfterRender=function(){},p.prototype.canRender=function(){return!!this.question},p.prototype.renderErrors=function(u){return this.getShowErrors()?c.createElement(f,{element:this.question,cssClasses:this.cssClasses,creator:this.creator,location:u}):null},p.prototype.renderContent=function(){var u=this.creator.questionErrorLocation(),x=this.renderErrors(u),V=this.question.showErrorOnTop?x:null,A=this.question.showErrorOnBottom?x:null,M=this.renderQuestion();return c.createElement(c.Fragment,null,V,M,A)},p.prototype.getShowErrors=function(){return this.question.isVisible},p.prototype.renderQuestion=function(){return v.renderQuestionBody(this.creator,this.question)},p}(y.ReactSurveyElement),d=function(h){m(p,h);function p(u){var x=h.call(this,u)||this;return x.cellRef=c.createRef(),x}return p.prototype.componentWillUnmount=function(){if(h.prototype.componentWillUnmount.call(this),this.question){var u=this.cellRef.current;u&&u.removeAttribute("data-rendered")}},p.prototype.renderElement=function(){var u=this.getCellStyle(),x=this.question.isErrorsModeTooltip?this.renderErrors("tooltip"):null;return c.createElement("td",{ref:this.cellRef,className:this.itemCss,colSpan:this.props.cell.colSpans,"data-responsive-title":this.getHeaderText(),title:this.props.cell.getTitle(),style:u},this.wrapCell(this.props.cell,c.createElement("div",{className:this.cssClasses.cellQuestionWrapper},this.renderContent(),x)))},p.prototype.getCellStyle=function(){return null},p.prototype.getHeaderText=function(){return""},p.prototype.wrapCell=function(u,x){if(!u)return x;var V=this.question.survey,A=null;return V&&(A=E.ReactSurveyElementsWrapper.wrapMatrixCell(V,x,u,this.props.reason)),A??x},p}(l)},"./src/react/reactquestion_buttongroup.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionButtonGroup",function(){return P}),s.d(a,"SurveyButtonGroupItem",function(){return g});var c=s("./src/react/reactquestion_element.tsx"),C=s("react"),E=s.n(C),O=s("./src/react/components/svg-icon/svg-icon.tsx"),y=s("survey-core"),b=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),P=function(m){b(v,m);function v(f){return m.call(this,f)||this}return Object.defineProperty(v.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),v.prototype.getStateElement=function(){return this.question},v.prototype.renderElement=function(){var f=this.renderItems();return E.a.createElement("div",{className:this.question.cssClasses.root},f)},v.prototype.renderItems=function(){var f=this;return this.question.visibleChoices.map(function(l,d){return E.a.createElement(g,{key:f.question.inputId+"_"+d,item:l,question:f.question,index:d})})},v}(c.SurveyQuestionElementBase),g=function(m){b(v,m);function v(f){return m.call(this,f)||this}return Object.defineProperty(v.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),v.prototype.getStateElement=function(){return this.item},v.prototype.renderElement=function(){this.model=new y.ButtonGroupItemModel(this.question,this.item,this.index);var f=this.renderIcon(),l=this.renderInput(),d=this.renderCaption();return E.a.createElement("label",{role:"radio",className:this.model.css.label,title:this.model.caption.renderedHtml},l,E.a.createElement("div",{className:this.model.css.decorator},f,d))},v.prototype.renderIcon=function(){return this.model.iconName?E.a.createElement(O.SvgIcon,{className:this.model.css.icon,iconName:this.model.iconName,size:this.model.iconSize||24}):null},v.prototype.renderInput=function(){var f=this;return E.a.createElement("input",{className:this.model.css.control,id:this.model.id,type:"radio",name:this.model.name,checked:this.model.selected,value:this.model.value,disabled:this.model.readOnly,onChange:function(){f.model.onChange()},"aria-required":this.model.isRequired,"aria-label":this.model.caption.renderedHtml,"aria-invalid":this.model.hasErrors,"aria-describedby":this.model.describedBy,role:"radio"})},v.prototype.renderCaption=function(){if(!this.model.showCaption)return null;var f=this.renderLocString(this.model.caption);return E.a.createElement("span",{className:this.model.css.caption,title:this.model.caption.renderedHtml},f)},v}(c.SurveyElementBase)},"./src/react/reactquestion_checkbox.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionCheckbox",function(){return g}),s.d(a,"SurveyQuestionCheckboxItem",function(){return m});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_comment.tsx"),O=s("./src/react/reactquestion_factory.tsx"),y=s("./src/react/reactsurveymodel.tsx"),b=s("./src/react/element-factory.tsx"),P=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),g=function(v){P(f,v);function f(l){return v.call(this,l)||this}return Object.defineProperty(f.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),f.prototype.renderElement=function(){var l=this,d=this.question.cssClasses;return c.createElement("fieldset",{role:"presentation",className:this.question.getSelectBaseRootCss(),ref:function(h){return l.setControl(h)}},c.createElement("legend",{role:"presentation",className:"sv-hidden"}),this.getHeader(),this.question.hasColumns?this.getColumnedBody(d):this.getBody(d),this.getFooter(),this.question.isOtherSelected?this.renderOther():null)},f.prototype.getHeader=function(){var l=this;if(this.question.hasHeadItems)return this.question.headItems.map(function(d,h){return l.renderItem("item_h"+h,d,!1,l.question.cssClasses)})},f.prototype.getFooter=function(){var l=this;if(this.question.hasFootItems)return this.question.footItems.map(function(d,h){return l.renderItem("item_f"+h,d,!1,l.question.cssClasses)})},f.prototype.getColumnedBody=function(l){return c.createElement("div",{className:l.rootMultiColumn},this.getColumns(l))},f.prototype.getColumns=function(l){var d=this;return this.question.columns.map(function(h,p){var u=h.map(function(x,V){return d.renderItem("item"+V,x,p===0&&V===0,l,""+p+V)});return c.createElement("div",{key:"column"+p,className:d.question.getColumnClass(),role:"presentation"},u)})},f.prototype.getBody=function(l){return this.question.blockedRow?c.createElement("div",{className:l.rootRow},this.getItems(l,this.question.dataChoices)):c.createElement(c.Fragment,null,this.getItems(l,this.question.bodyItems))},f.prototype.getItems=function(l,d){for(var h=[],p=0;p<d.length;p++){var u=d[p],x="item"+p,V=this.renderItem(x,u,p==0,l,""+p);V&&h.push(V)}return h},Object.defineProperty(f.prototype,"textStyle",{get:function(){return null},enumerable:!1,configurable:!0}),f.prototype.renderOther=function(){var l=this.question.cssClasses;return c.createElement("div",{className:this.question.getCommentAreaCss(!0)},c.createElement(E.SurveyQuestionOtherValueItem,{question:this.question,otherCss:l.other,cssClasses:l,isDisplayMode:this.isDisplayMode}))},f.prototype.renderItem=function(l,d,h,p,u){var x=b.ReactElementFactory.Instance.createElement(this.question.itemComponent,{key:l,question:this.question,cssClasses:p,isDisplayMode:this.isDisplayMode,item:d,textStyle:this.textStyle,index:u,isFirst:h}),V=this.question.survey,A=null;return V&&x&&(A=y.ReactSurveyElementsWrapper.wrapItemValue(V,x,this.question,d)),A??x},f}(C.SurveyQuestionElementBase),m=function(v){P(f,v);function f(l){var d=v.call(this,l)||this;return d.handleOnChange=function(h){d.question.clickItemHandler(d.item,h.target.checked)},d.selectAllChanged=function(h){d.question.toggleSelectAll()},d}return f.prototype.getStateElement=function(){return this.item},Object.defineProperty(f.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"textStyle",{get:function(){return this.props.textStyle},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isFirst",{get:function(){return this.props.isFirst},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hideCaption",{get:function(){return this.props.hideCaption===!0},enumerable:!1,configurable:!0}),f.prototype.shouldComponentUpdate=function(l,d){return!v.prototype.shouldComponentUpdate.call(this,l,d)||!this.question?!1:!this.question.customWidget||!!this.question.customWidgetData.isNeedRender||!!this.question.customWidget.widgetJson.isDefaultRender||!!this.question.customWidget.widgetJson.render},f.prototype.canRender=function(){return!!this.item&&!!this.question},f.prototype.renderElement=function(){var l=this.question.isItemSelected(this.item);return this.renderCheckbox(l,null)},Object.defineProperty(f.prototype,"inputStyle",{get:function(){return null},enumerable:!1,configurable:!0}),f.prototype.renderCheckbox=function(l,d){var h=this.question.getItemId(this.item);this.hideCaption||this.renderLocString(this.item.locText);var p=this.question.getItemClass(this.item),u=this.question.getLabelClass(this.item),x=this.item==this.question.selectAllItem?this.selectAllChanged:this.handleOnChange,V=this.hideCaption?null:c.createElement("span",{className:this.cssClasses.controlLabel},this.renderLocString(this.item.locText,this.textStyle));return c.createElement("div",{className:p,role:"presentation"},c.createElement("label",{className:u,"aria-label":this.question.getAriaItemLabel(this.item)},c.createElement("input",{className:this.cssClasses.itemControl,role:"option",type:"checkbox",name:this.question.name,value:this.item.value!="selectall"?this.item.value:void 0,id:h,style:this.inputStyle,disabled:!this.question.getItemEnabled(this.item),checked:l,onChange:x,"aria-describedby":this.question.ariaDescribedBy}),this.cssClasses.materialDecorator?c.createElement("span",{className:this.cssClasses.materialDecorator},this.question.itemSvgIcon?c.createElement("svg",{className:this.cssClasses.itemDecorator},c.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,V),d)},f}(C.ReactSurveyElement);b.ReactElementFactory.Instance.registerElement("survey-checkbox-item",function(v){return c.createElement(m,v)}),O.ReactQuestionFactory.Instance.registerQuestion("checkbox",function(v){return c.createElement(g,v)})},"./src/react/reactquestion_comment.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionComment",function(){return b}),s.d(a,"SurveyQuestionCommentItem",function(){return P}),s.d(a,"SurveyQuestionOtherValueItem",function(){return g});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/components/character-counter.tsx"),y=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),b=function(m){y(v,m);function v(f){return m.call(this,f)||this}return v.prototype.renderElement=function(){var f=this,l=this.question.isInputTextUpdate?void 0:this.updateValueOnEvent,d=function(u){f.question.isInputTextUpdate?f.updateValueOnEvent(u):f.question.updateElement();var x=u.target.value;f.question.updateRemainingCharacterCounter(x)},h=this.question.renderedPlaceholder;if(this.question.isReadOnlyRenderDiv())return c.createElement("div",null,this.question.value);var p=this.question.getMaxLength()?c.createElement(O.CharacterCounterComponent,{counter:this.question.characterCounter,remainingCharacterCounter:this.question.cssClasses.remainingCharacterCounter}):null;return c.createElement(c.Fragment,null,c.createElement("textarea",{id:this.question.inputId,className:this.question.className,disabled:this.question.isInputReadOnly,readOnly:this.question.isInputReadOnly,ref:function(u){return f.setControl(u)},maxLength:this.question.getMaxLength(),placeholder:h,onBlur:l,onInput:d,onKeyDown:function(u){f.question.onKeyDown(u)},cols:this.question.cols,rows:this.question.rows,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-describedby":this.question.a11y_input_ariaDescribedBy,style:{resize:this.question.resizeStyle}}),p)},v}(C.SurveyQuestionUncontrolledElement),P=function(m){y(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.canRender=function(){return!!this.props.question},v.prototype.onCommentChange=function(f){this.props.question.onCommentChange(f)},v.prototype.onCommentInput=function(f){this.props.question.onCommentInput(f)},v.prototype.getComment=function(){return this.props.question.comment},v.prototype.getId=function(){return this.props.question.commentId},v.prototype.getPlaceholder=function(){return this.props.question.commentPlaceholder},v.prototype.renderElement=function(){var f=this,l=this.props.question,d=this.props.otherCss||this.cssClasses.comment,h=function(V){f.setState({comment:V.target.value}),f.onCommentChange(V)},p=this.getComment(),u=this.state?this.state.comment:void 0;u!==void 0&&u.trim()!==p&&(u=p);var x=u!==void 0?u:p||"";return l.isReadOnlyRenderDiv()?c.createElement("div",null,x):c.createElement("textarea",{id:this.getId(),className:d,value:x,disabled:this.isDisplayMode,maxLength:l.getOthersMaxLength(),placeholder:this.getPlaceholder(),onChange:h,onBlur:function(V){f.onCommentChange(V),h(V)},onInput:function(V){return f.onCommentInput(V)},"aria-required":l.isRequired,"aria-label":l.locTitle.renderedHtml,style:{resize:l.resizeStyle}})},v}(C.ReactSurveyElement),g=function(m){y(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.onCommentChange=function(f){this.props.question.onOtherValueChange(f)},v.prototype.onCommentInput=function(f){this.props.question.onOtherValueInput(f)},v.prototype.getComment=function(){return this.props.question.otherValue},v.prototype.getId=function(){return this.props.question.otherId},v.prototype.getPlaceholder=function(){return this.props.question.otherPlaceholder},v}(P);E.ReactQuestionFactory.Instance.registerQuestion("comment",function(m){return c.createElement(b,m)})},"./src/react/reactquestion_custom.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionCustom",function(){return P}),s.d(a,"SurveyQuestionComposite",function(){return g});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion.tsx"),O=s("./src/react/reactquestion_factory.tsx"),y=s("./src/react/panel.tsx"),b=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),P=function(m){b(v,m);function v(f){return m.call(this,f)||this}return v.prototype.getStateElements=function(){var f=m.prototype.getStateElements.call(this);return this.question.contentQuestion&&f.push(this.question.contentQuestion),f},v.prototype.renderElement=function(){return E.SurveyQuestion.renderQuestionBody(this.creator,this.question.contentQuestion)},v}(C.SurveyQuestionUncontrolledElement),g=function(m){b(v,m);function v(f){return m.call(this,f)||this}return v.prototype.canRender=function(){return!!this.question.contentPanel},v.prototype.renderElement=function(){return c.createElement(y.SurveyPanel,{element:this.question.contentPanel,creator:this.creator,survey:this.question.survey})},v}(C.SurveyQuestionUncontrolledElement);O.ReactQuestionFactory.Instance.registerQuestion("custom",function(m){return c.createElement(P,m)}),O.ReactQuestionFactory.Instance.registerQuestion("composite",function(m){return c.createElement(g,m)})},"./src/react/reactquestion_dropdown.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionDropdown",function(){return y});var c=s("react"),C=s("./src/react/reactquestion_factory.tsx"),E=s("./src/react/dropdown-base.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){return b.call(this,g)||this}return P.prototype.renderElement=function(){var g=this.question.cssClasses,m=this.question.isOtherSelected?this.renderOther(g):null,v=this.renderSelect(g);return c.createElement("div",{className:this.question.renderCssRoot},v,m)},P}(E.SurveyQuestionDropdownBase);C.ReactQuestionFactory.Instance.registerQuestion("dropdown",function(b){return c.createElement(y,b)})},"./src/react/reactquestion_element.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyElementBase",function(){return b}),s.d(a,"ReactSurveyElement",function(){return P}),s.d(a,"SurveyQuestionElementBase",function(){return g}),s.d(a,"SurveyQuestionUncontrolledElement",function(){return m});var c=s("react"),C=s("survey-core"),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactsurveymodel.tsx"),y=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),b=function(v){y(f,v);function f(l){var d=v.call(this,l)||this;return d._allowComponentUpdate=!0,d}return f.renderLocString=function(l,d,h){return d===void 0&&(d=null),E.ReactElementFactory.Instance.createElement(l.renderAs,{locStr:l.renderAsData,style:d,key:h})},f.renderQuestionDescription=function(l){var d=f.renderLocString(l.locDescription);return c.createElement("div",{style:l.hasDescription?void 0:{display:"none"},className:l.cssDescription},d)},f.prototype.componentDidMount=function(){this.makeBaseElementsReact()},f.prototype.componentWillUnmount=function(){this.unMakeBaseElementsReact()},f.prototype.componentDidUpdate=function(l,d){this.makeBaseElementsReact()},f.prototype.allowComponentUpdate=function(){this._allowComponentUpdate=!0,this.forceUpdate()},f.prototype.denyComponentUpdate=function(){this._allowComponentUpdate=!1},f.prototype.shouldComponentUpdate=function(l,d){return this._allowComponentUpdate&&this.unMakeBaseElementsReact(),this._allowComponentUpdate},f.prototype.render=function(){if(!this.canRender())return null;this.startEndRendering(1);var l=this.renderElement();return this.startEndRendering(-1),l&&(l=this.wrapElement(l)),this.changedStatePropNameValue=void 0,l},f.prototype.wrapElement=function(l){return l},Object.defineProperty(f.prototype,"isRendering",{get:function(){for(var l=this.getRenderedElements(),d=0,h=l;d<h.length;d++){var p=h[d];if(p.reactRendering>0)return!0}return!1},enumerable:!1,configurable:!0}),f.prototype.getRenderedElements=function(){return this.getStateElements()},f.prototype.startEndRendering=function(l){for(var d=this.getRenderedElements(),h=0,p=d;h<p.length;h++){var u=p[h];u.reactRendering||(u.reactRendering=0),u.reactRendering+=l}},f.prototype.canRender=function(){return!0},f.prototype.renderElement=function(){return null},Object.defineProperty(f.prototype,"changedStatePropName",{get:function(){return this.changedStatePropNameValue},enumerable:!1,configurable:!0}),f.prototype.makeBaseElementsReact=function(){for(var l=this.getStateElements(),d=0;d<l.length;d++)this.makeBaseElementReact(l[d])},f.prototype.unMakeBaseElementsReact=function(){for(var l=this.getStateElements(),d=0;d<l.length;d++)this.unMakeBaseElementReact(l[d])},f.prototype.getStateElements=function(){var l=this.getStateElement();return l?[l]:[]},f.prototype.getStateElement=function(){return null},Object.defineProperty(f.prototype,"isDisplayMode",{get:function(){var l=this.props;return l.isDisplayMode||!1},enumerable:!1,configurable:!0}),f.prototype.renderLocString=function(l,d,h){return d===void 0&&(d=null),f.renderLocString(l,d,h)},f.prototype.canMakeReact=function(l){return!!l&&!!l.iteratePropertiesHash},f.prototype.makeBaseElementReact=function(l){var d=this;this.canMakeReact(l)&&(l.iteratePropertiesHash(function(h,p){if(d.canUsePropInState(p)){var u=h[p];if(Array.isArray(u)){var u=u;u.onArrayChanged=function(V){d.isRendering||(d.changedStatePropNameValue=p,d.setState(function(A){var M={};return M[p]=u,M}))}}}}),l.setPropertyValueCoreHandler=function(h,p,u){if(h[p]!==u){if(h[p]=u,!d.canUsePropInState(p)||d.isRendering)return;d.changedStatePropNameValue=p,d.setState(function(x){var V={};return V[p]=u,V})}})},f.prototype.canUsePropInState=function(l){return!0},f.prototype.unMakeBaseElementReact=function(l){this.canMakeReact(l)&&(l.setPropertyValueCoreHandler=void 0,l.iteratePropertiesHash(function(d,h){var p=d[h];if(Array.isArray(p)){var p=p;p.onArrayChanged=function(){}}}))},f}(c.Component),P=function(v){y(f,v);function f(l){return v.call(this,l)||this}return Object.defineProperty(f.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),f}(b),g=function(v){y(f,v);function f(l){return v.call(this,l)||this}return f.prototype.componentDidUpdate=function(l,d){v.prototype.componentDidUpdate.call(this,l,d),this.updateDomElement()},f.prototype.componentDidMount=function(){v.prototype.componentDidMount.call(this),this.updateDomElement()},f.prototype.componentWillUnmount=function(){if(v.prototype.componentWillUnmount.call(this),this.questionBase){var l=this.control;this.questionBase.beforeDestroyQuestionElement(l),l&&l.removeAttribute("data-rendered")}},f.prototype.updateDomElement=function(){var l=this.control;l&&l.getAttribute("data-rendered")!=="r"&&(l.setAttribute("data-rendered","r"),this.questionBase.afterRenderQuestionElement(l))},Object.defineProperty(f.prototype,"questionBase",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),f.prototype.getRenderedElements=function(){return[this.questionBase]},Object.defineProperty(f.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),f.prototype.canRender=function(){return!!this.questionBase&&!!this.creator},f.prototype.shouldComponentUpdate=function(l,d){return v.prototype.shouldComponentUpdate.call(this,l,d)?!this.questionBase.customWidget||!!this.questionBase.customWidgetData.isNeedRender||!!this.questionBase.customWidget.widgetJson.isDefaultRender||!!this.questionBase.customWidget.widgetJson.render:!1},Object.defineProperty(f.prototype,"isDisplayMode",{get:function(){var l=this.props;return l.isDisplayMode||!!this.questionBase&&this.questionBase.isInputReadOnly||!1},enumerable:!1,configurable:!0}),f.prototype.wrapCell=function(l,d,h){if(!h)return d;var p=this.questionBase.survey,u=null;return p&&(u=O.ReactSurveyElementsWrapper.wrapMatrixCell(p,d,l,h)),u??d},f.prototype.setControl=function(l){l&&(this.control=l)},f}(b),m=function(v){y(f,v);function f(l){var d=v.call(this,l)||this;return d.updateValueOnEvent=function(h){C.Helpers.isTwoValueEquals(d.questionBase.value,h.target.value)||d.setValueCore(h.target.value)},d.updateValueOnEvent=d.updateValueOnEvent.bind(d),d}return Object.defineProperty(f.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),f.prototype.setValueCore=function(l){this.questionBase.value=l},f.prototype.getValueCore=function(){return this.questionBase.value},f.prototype.updateDomElement=function(){if(this.control){var l=this.control,d=this.getValueCore();C.Helpers.isTwoValueEquals(d,l.value)||(l.value=this.getValue(d))}v.prototype.updateDomElement.call(this)},f.prototype.getValue=function(l){return C.Helpers.isValueEmpty(l)?"":l},f}(g)},"./src/react/reactquestion_empty.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionEmpty",function(){return y});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){var m=b.call(this,g)||this;return m.state={value:m.question.value},m}return Object.defineProperty(P.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),P.prototype.renderElement=function(){return c.createElement("div",null)},P}(C.SurveyQuestionElementBase);E.ReactQuestionFactory.Instance.registerQuestion("empty",function(b){return c.createElement(y,b)})},"./src/react/reactquestion_expression.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionExpression",function(){return y});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){return b.call(this,g)||this}return Object.defineProperty(P.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),P.prototype.renderElement=function(){var g=this,m=this.question.cssClasses;return c.createElement("div",{id:this.question.inputId,className:m.root,ref:function(v){return g.setControl(v)}},this.question.formatedValue)},P}(C.SurveyQuestionElementBase);E.ReactQuestionFactory.Instance.registerQuestion("expression",function(b){return c.createElement(y,b)})},"./src/react/reactquestion_factory.tsx":function(o,a,s){s.r(a),s.d(a,"ReactQuestionFactory",function(){return c});var c=function(){function C(){this.creatorHash={}}return C.prototype.registerQuestion=function(E,O){this.creatorHash[E]=O},C.prototype.getAllTypes=function(){var E=new Array;for(var O in this.creatorHash)E.push(O);return E.sort()},C.prototype.createQuestion=function(E,O){var y=this.creatorHash[E];return y==null?null:y(O)},C.Instance=new C,C}()},"./src/react/reactquestion_file.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionFile",function(){return g});var c=s("react"),C=s("./src/react/components/action-bar/action-bar.tsx"),E=s("./src/react/components/svg-icon/svg-icon.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=s("./src/react/reactquestion_factory.tsx"),b=s("./src/react/reactSurvey.tsx"),P=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),g=function(m){P(v,m);function v(f){return m.call(this,f)||this}return Object.defineProperty(v.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),v.prototype.renderElement=function(){var f=this,l=this.renderPreview(),d=null,h=this.renderFileDecorator(),p=this.renderClearButton(this.question.showRemoveButton),u=this.renderClearButton(this.question.showRemoveButtonBottom),x=this.question.mobileFileNavigatorVisible?c.createElement(C.SurveyActionBar,{model:this.question.mobileFileNavigator}):null;return d=this.isDisplayMode?c.createElement("input",{type:"file",disabled:this.isDisplayMode,className:this.isDisplayMode?this.question.getReadOnlyFileCss():this.question.cssClasses.fileInput,id:this.question.inputId,ref:function(V){return f.setControl(V)},style:this.isDisplayMode?{color:"transparent"}:{},onChange:this.isDisplayMode?function(){}:this.question.doChange,multiple:this.question.allowMultiple,placeholder:this.question.title,accept:this.question.acceptedTypes}):c.createElement("input",{type:"file",disabled:this.isDisplayMode,tabIndex:-1,className:this.isDisplayMode?this.question.getReadOnlyFileCss():this.question.cssClasses.fileInput,id:this.question.inputId,ref:function(V){return f.setControl(V)},style:this.isDisplayMode?{color:"transparent"}:{},onChange:this.isDisplayMode?function(){}:this.question.doChange,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy,multiple:this.question.allowMultiple,title:this.question.inputTitle,accept:this.question.acceptedTypes,capture:this.question.renderCapture}),c.createElement("div",{className:this.question.fileRootCss},d,c.createElement("div",{className:this.question.cssClasses.dragArea,onDrop:this.question.onDrop,onDragOver:this.question.onDragOver,onDragLeave:this.question.onDragLeave,onDragEnter:this.question.onDragEnter},h,p,l,u,x))},v.prototype.renderFileDecorator=function(){this.question.cssClasses;var f=null,l=null;return l=Object(b.attachKey2click)(c.createElement("label",{role:"button",tabIndex:0,className:this.question.getChooseFileCss(),htmlFor:this.question.inputId,"aria-label":this.question.chooseButtonCaption},c.createElement("span",null,this.question.chooseButtonCaption),this.question.cssClasses.chooseFileIconId?c.createElement(E.SvgIcon,{title:this.question.chooseButtonCaption,iconName:this.question.cssClasses.chooseFileIconId,size:"auto"}):null)),this.question.isEmpty()&&(f=c.createElement("span",{className:this.question.cssClasses.noFileChosen},this.question.noFileChosenCaption)),c.createElement("div",{className:this.question.getFileDecoratorCss()},c.createElement("span",{className:this.question.cssClasses.dragAreaPlaceholder},this.question.dragAreaPlaceholder),c.createElement("div",{className:this.question.cssClasses.wrapper},l,f))},v.prototype.renderClearButton=function(f){return f?c.createElement("button",{type:"button",onClick:this.question.doClean,className:f},c.createElement("span",null,this.question.clearButtonCaption),this.question.cssClasses.removeButtonIconId?c.createElement(E.SvgIcon,{iconName:this.question.cssClasses.removeButtonIconId,size:"auto",title:this.question.clearButtonCaption}):null):null},v.prototype.renderFileSign=function(f,l){var d=this;return!f||!l.name?null:c.createElement("div",{className:f},c.createElement("a",{href:l.content,onClick:function(h){d.question.doDownloadFile(h,l)},title:l.name,download:l.name,style:{width:this.question.imageWidth}},l.name))},v.prototype.renderPreview=function(){var f=this;if(!this.question.previewValue||!this.question.previewValue.length)return null;var l=this.question.previewValue.map(function(d,h){return d?c.createElement("span",{key:f.question.inputId+"_"+h,className:f.question.cssClasses.preview,style:{display:f.question.isPreviewVisible(h)?void 0:"none"}},f.renderFileSign(f.question.cssClasses.fileSign,d),c.createElement("div",{className:f.question.cssClasses.imageWrapper},f.question.canPreviewImage(d)?c.createElement("img",{src:d.content,style:{height:f.question.imageHeight,width:f.question.imageWidth},alt:"File preview"}):f.question.cssClasses.defaultImage?c.createElement(E.SvgIcon,{iconName:f.question.cssClasses.defaultImageIconId,size:"auto",className:f.question.cssClasses.defaultImage}):null,d.name&&!f.question.isReadOnly?c.createElement("div",{className:f.question.cssClasses.removeFileButton,onClick:function(){return f.question.doRemoveFile(d)}},c.createElement("span",{className:f.question.cssClasses.removeFile},f.question.removeFileCaption),f.question.cssClasses.removeFileSvgIconId?c.createElement(E.SvgIcon,{title:f.question.removeFileCaption,iconName:f.question.cssClasses.removeFileSvgIconId,size:"auto",className:f.question.cssClasses.removeFileSvg}):null):null),f.renderFileSign(f.question.cssClasses.fileSignBottom,d)):null});return c.createElement("div",{className:this.question.cssClasses.fileList||void 0},l)},v}(O.SurveyQuestionElementBase);y.ReactQuestionFactory.Instance.registerQuestion("file",function(m){return c.createElement(g,m)})},"./src/react/reactquestion_html.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionHtml",function(){return y});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){return b.call(this,g)||this}return Object.defineProperty(P.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),P.prototype.componentDidMount=function(){this.reactOnStrChanged()},P.prototype.componentWillUnmount=function(){this.question.locHtml.onChanged=function(){}},P.prototype.componentDidUpdate=function(g,m){this.reactOnStrChanged()},P.prototype.reactOnStrChanged=function(){var g=this;this.question.locHtml.onChanged=function(){g.setState({changed:g.state&&g.state.changed?g.state.changed+1:1})}},P.prototype.canRender=function(){return b.prototype.canRender.call(this)&&!!this.question.html},P.prototype.renderElement=function(){var g={__html:this.question.locHtml.renderedHtml};return c.createElement("div",{className:this.question.renderCssRoot,dangerouslySetInnerHTML:g})},P}(C.SurveyQuestionElementBase);E.ReactQuestionFactory.Instance.registerQuestion("html",function(b){return c.createElement(y,b)})},"./src/react/reactquestion_matrix.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionMatrix",function(){return b}),s.d(a,"SurveyQuestionMatrixRow",function(){return P});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/reactsurveymodel.tsx"),y=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),b=function(g){y(m,g);function m(v){var f=g.call(this,v)||this;return f.state={rowsChanged:0},f}return Object.defineProperty(m.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),m.prototype.componentDidMount=function(){if(g.prototype.componentDidMount.call(this),this.question){var v=this;this.question.visibleRowsChangedCallback=function(){v.setState({rowsChanged:v.state.rowsChanged+1})}}},m.prototype.componentWillUnmount=function(){g.prototype.componentWillUnmount.call(this),this.question&&(this.question.visibleRowsChangedCallback=null)},m.prototype.renderElement=function(){for(var v=this,f=this.question.cssClasses,l=this.question.hasRows?c.createElement("td",null):null,d=[],h=0;h<this.question.visibleColumns.length;h++){var p=this.question.visibleColumns[h],u="column"+h,x=this.renderLocString(p.locText),V={};this.question.columnMinWidth&&(V.minWidth=this.question.columnMinWidth,V.width=this.question.columnMinWidth),d.push(c.createElement("th",{className:this.question.cssClasses.headerCell,style:V,key:u},this.wrapCell({column:p},x,"column-header")))}for(var A=[],M=this.question.visibleRows,h=0;h<M.length;h++){var T=M[h],u="row-"+T.name+"-"+h;A.push(c.createElement(P,{key:u,question:this.question,cssClasses:f,isDisplayMode:this.isDisplayMode,row:T,isFirst:h==0}))}var D=this.question.showHeader?c.createElement("thead",null,c.createElement("tr",null,l,d)):null;return c.createElement("div",{className:f.tableWrapper,ref:function(R){return v.setControl(R)}},c.createElement("fieldset",null,c.createElement("legend",{"aria-label":this.question.locTitle.renderedHtml}),c.createElement("table",{className:this.question.getTableCss()},D,c.createElement("tbody",null,A))))},m}(C.SurveyQuestionElementBase),P=function(g){y(m,g);function m(v){var f=g.call(this,v)||this;return f.handleOnChange=f.handleOnChange.bind(f),f.handleOnMouseDown=f.handleOnMouseDown.bind(f),f}return Object.defineProperty(m.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"row",{get:function(){return this.props.row},enumerable:!1,configurable:!0}),m.prototype.handleOnChange=function(v){this.row.value=v.target.value,this.setState({value:this.row.value})},m.prototype.handleOnMouseDown=function(v){this.question.onMouseDown()},m.prototype.wrapCell=function(v,f,l){if(!l)return f;var d=this.question.survey,h=null;return d&&(h=O.ReactSurveyElementsWrapper.wrapMatrixCell(d,f,v,l)),h??f},m.prototype.canRender=function(){return!!this.row},m.prototype.renderElement=function(){var v=null;if(this.question.hasRows){var f=this.renderLocString(this.row.locText),l={};this.question.rowTitleWidth&&(l.minWidth=this.question.rowTitleWidth,l.width=this.question.rowTitleWidth),v=c.createElement("td",{style:l,className:this.question.cssClasses.rowTextCell},this.wrapCell({row:this.row},f,"row-header"))}var d=this.generateTds();return c.createElement("tr",{className:this.row.rowClasses||void 0},v,d)},m.prototype.generateTds=function(){for(var v=this,f=[],l=this.row,d=0;d<this.question.visibleColumns.length;d++){var h=null,p=this.question.visibleColumns[d],u="value"+d,x=l.value==p.value,V=this.question.getItemClass(l,p),A=this.question.inputId+"_"+l.name+"_"+d;if(this.question.hasCellText){var M=this.question.isInputReadOnly?null:function(T){return function(){return v.cellClick(l,T)}};h=c.createElement("td",{key:u,className:V,onClick:M?M(p):function(){}},this.renderLocString(this.question.getCellDisplayLocText(l.name,p)))}else h=c.createElement("td",{key:u,"data-responsive-title":p.locText.renderedHtml,className:this.question.cssClasses.cell},c.createElement("label",{onMouseDown:this.handleOnMouseDown,className:V},c.createElement("input",{id:A,type:"radio",className:this.cssClasses.itemValue,name:l.fullName,value:p.value,disabled:this.isDisplayMode,checked:x,onChange:this.handleOnChange,"aria-required":this.question.ariaRequired,"aria-label":p.locText.renderedHtml,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),c.createElement("span",{className:this.question.cssClasses.materialDecorator},this.question.itemSvgIcon?c.createElement("svg",{className:this.cssClasses.itemDecorator},c.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null),c.createElement("span",{style:this.question.isMobile?void 0:{display:"none"},className:this.question.cssClasses.cellResponsiveTitle},this.renderLocString(p.locText))));f.push(h)}return f},m.prototype.cellClick=function(v,f){v.value=f.value,this.setState({value:this.row.value})},m}(C.ReactSurveyElement);E.ReactQuestionFactory.Instance.registerQuestion("matrix",function(g){return c.createElement(b,g)})},"./src/react/reactquestion_matrixdropdown.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionMatrixDropdown",function(){return y});var c=s("react"),C=s("./src/react/reactquestion_matrixdropdownbase.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){return b.call(this,g)||this}return P}(C.SurveyQuestionMatrixDropdownBase);E.ReactQuestionFactory.Instance.registerQuestion("matrixdropdown",function(b){return c.createElement(y,b)})},"./src/react/reactquestion_matrixdropdownbase.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionMatrixDropdownBase",function(){return d}),s.d(a,"SurveyQuestionMatrixDropdownCell",function(){return u});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion.tsx"),O=s("./src/react/reactquestion_checkbox.tsx"),y=s("./src/react/reactquestion_radiogroup.tsx"),b=s("./src/react/panel.tsx"),P=s("./src/react/components/action-bar/action-bar.tsx"),g=s("./src/react/components/matrix/row.tsx"),m=s("./src/react/components/matrix-actions/drag-drop-icon/drag-drop-icon.tsx"),v=s("./src/react/reactquestion_comment.tsx"),f=s("./src/react/element-factory.tsx"),l=function(){var x=function(V,A){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,T){M.__proto__=T}||function(M,T){for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&(M[D]=T[D])},x(V,A)};return function(V,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");x(V,A);function M(){this.constructor=V}V.prototype=A===null?Object.create(A):(M.prototype=A.prototype,new M)}}(),d=function(x){l(V,x);function V(A){var M=x.call(this,A)||this;return M.question.renderedTable,M.state=M.getState(),M}return Object.defineProperty(V.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),V.prototype.getState=function(A){return A===void 0&&(A=null),{rowCounter:A?A.rowCounter+1:0}},V.prototype.updateStateOnCallback=function(){this.isRendering||this.setState(this.getState(this.state))},V.prototype.componentDidMount=function(){var A=this;x.prototype.componentDidMount.call(this),this.question.visibleRowsChangedCallback=function(){A.updateStateOnCallback()},this.question.onRenderedTableResetCallback=function(){A.question.renderedTable.renderedRowsChangedCallback=function(){A.updateStateOnCallback()},A.updateStateOnCallback()},this.question.renderedTable.renderedRowsChangedCallback=function(){A.updateStateOnCallback()}},V.prototype.componentWillUnmount=function(){x.prototype.componentWillUnmount.call(this),this.question.visibleRowsChangedCallback=function(){},this.question.onRenderedTableResetCallback=function(){},this.question.renderedTable.renderedRowsChangedCallback=function(){}},V.prototype.renderElement=function(){return this.renderTableDiv()},V.prototype.renderTableDiv=function(){var A=this,M=this.renderHeader(),T=this.renderFooter(),D=this.renderRows(),R=this.question.showHorizontalScroll?{overflowX:"scroll"}:{};return c.createElement("div",{style:R,className:this.question.cssClasses.tableWrapper,ref:function(S){return A.setControl(S)}},c.createElement("table",{className:this.question.getTableCss()},M,D,T))},V.prototype.renderHeader=function(){var A=this.question.renderedTable;if(!A.showHeader)return null;for(var M=[],T=A.headerRow.cells,D=0;D<T.length;D++){var R=T[D],S="column"+D,I={};R.width&&(I.width=R.width),R.minWidth&&(I.minWidth=R.minWidth);var w=this.renderCellContent(R,"column-header",{}),L=R.hasTitle?c.createElement("th",{className:R.className,key:S,style:I}," ",w," "):c.createElement("td",{className:R.className,key:S,style:I});M.push(L)}return c.createElement("thead",null,c.createElement("tr",null,M))},V.prototype.renderFooter=function(){var A=this.question.renderedTable;if(!A.showFooter)return null;var M=this.renderRow("footer",A.footerRow,this.question.cssClasses,"row-footer");return c.createElement("tfoot",null,M)},V.prototype.renderRows=function(){for(var A=this.question.cssClasses,M=[],T=this.question.renderedTable.rows,D=0;D<T.length;D++)M.push(this.renderRow(T[D].id,T[D],A));return c.createElement("tbody",null,M)},V.prototype.renderRow=function(A,M,T,D){for(var R=[],S=M.cells,I=0;I<S.length;I++)R.push(this.renderCell(S[I],I,T,D));var w="row"+A;return c.createElement(c.Fragment,{key:w},c.createElement(g.MatrixRow,{model:M,parentMatrix:this.question},R))},V.prototype.renderCell=function(A,M,T,D){var R="cell"+M;if(A.hasQuestion)return c.createElement(u,{key:R,cssClasses:T,cell:A,creator:this.creator,reason:D});var S=D;S||(S=A.hasTitle?"row-header":"");var I=this.renderCellContent(A,S,T),w=null;return(A.width||A.minWidth)&&(w={},A.width&&(w.width=A.width),A.minWidth&&(w.minWidth=A.minWidth)),c.createElement("td",{className:A.className,key:R,style:w,colSpan:A.colSpans,"data-responsive-title":A.headers,title:A.getTitle()},I)},V.prototype.renderCellContent=function(A,M,T){var D=null,R=null;if((A.width||A.minWidth)&&(R={},A.width&&(R.width=A.width),A.minWidth&&(R.minWidth=A.minWidth)),A.hasTitle){M="row-header";var S=this.renderLocString(A.locTitle),I=A.column?c.createElement(p,{column:A.column,question:this.question}):null;D=c.createElement(c.Fragment,null,S,I)}if(A.isDragHandlerCell&&(D=c.createElement(c.Fragment,null,c.createElement(m.SurveyQuestionMatrixDynamicDragDropIcon,{item:{data:{row:A.row,question:this.question}}}))),A.isActionsCell&&(D=f.ReactElementFactory.Instance.createElement("sv-matrixdynamic-actions-cell",{question:this.question,cssClasses:T,cell:A,model:A.item.getData()})),A.hasPanel&&(D=c.createElement(b.SurveyPanel,{key:A.panel.id,element:A.panel,survey:this.question.survey,cssClasses:T,isDisplayMode:this.isDisplayMode,creator:this.creator})),!D)return null;var w=c.createElement(c.Fragment,null,D);return this.wrapCell(A,w,M)},V}(C.SurveyQuestionElementBase),h=function(x){l(V,x);function V(A){return x.call(this,A)||this}return Object.defineProperty(V.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),V.prototype.renderElement=function(){return c.createElement(P.SurveyActionBar,{model:this.model,handleClick:!1})},V}(C.ReactSurveyElement);f.ReactElementFactory.Instance.registerElement("sv-matrixdynamic-actions-cell",function(x){return c.createElement(h,x)});var p=function(x){l(V,x);function V(A){return x.call(this,A)||this}return Object.defineProperty(V.prototype,"column",{get:function(){return this.props.column},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),V.prototype.getStateElement=function(){return this.column},V.prototype.renderElement=function(){return this.column.isRenderedRequired?c.createElement(c.Fragment,null,c.createElement("span",{className:this.question.cssClasses.cellRequiredText},this.column.requiredText)):null},V}(C.ReactSurveyElement),u=function(x){l(V,x);function V(A){return x.call(this,A)||this}return Object.defineProperty(V.prototype,"cell",{get:function(){return this.props.cell},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"itemCss",{get:function(){return this.cell?this.cell.className:""},enumerable:!1,configurable:!0}),V.prototype.getQuestion=function(){var A=x.prototype.getQuestion.call(this);return A||(this.cell?this.cell.question:null)},V.prototype.doAfterRender=function(){var A=this.cellRef.current;if(A&&this.cell&&this.question&&this.question.survey&&A.getAttribute("data-rendered")!=="r"){A.setAttribute("data-rendered","r");var M={cell:this.cell,cellQuestion:this.question,htmlElement:A,row:this.cell.row,column:this.cell.cell.column};this.question.survey.matrixAfterCellRender(this.question,M)}},V.prototype.getShowErrors=function(){return this.question.isVisible&&(!this.cell.isChoice||this.cell.isFirstChoice)},V.prototype.getCellStyle=function(){var A=x.prototype.getCellStyle.call(this);return(this.cell.width||this.cell.minWidth)&&(A||(A={}),this.cell.width&&(A.width=this.cell.width),this.cell.minWidth&&(A.minWidth=this.cell.minWidth)),A},V.prototype.getHeaderText=function(){return this.cell.headers},V.prototype.renderQuestion=function(){return this.cell.isChoice?this.cell.isOtherChoice?this.renderOtherComment():this.cell.isCheckbox?this.renderCellCheckboxButton():this.renderCellRadiogroupButton():E.SurveyQuestion.renderQuestionBody(this.creator,this.question)},V.prototype.renderOtherComment=function(){var A=this.cell.question,M=A.cssClasses||{};return c.createElement(v.SurveyQuestionOtherValueItem,{question:A,cssClasses:M,otherCss:M.other,isDisplayMode:A.isInputReadOnly})},V.prototype.renderCellCheckboxButton=function(){var A=this.cell.question.id+"item"+this.cell.choiceIndex;return c.createElement(O.SurveyQuestionCheckboxItem,{key:A,question:this.cell.question,cssClasses:this.cell.question.cssClasses,isDisplayMode:this.cell.question.isInputReadOnly,item:this.cell.item,isFirst:this.cell.isFirstChoice,index:this.cell.choiceIndex.toString(),hideCaption:!0})},V.prototype.renderCellRadiogroupButton=function(){var A=this.cell.question.id+"item"+this.cell.choiceIndex;return c.createElement(y.SurveyQuestionRadioItem,{key:A,question:this.cell.question,cssClasses:this.cell.question.cssClasses,isDisplayMode:this.cell.question.isInputReadOnly,item:this.cell.item,index:this.cell.choiceIndex.toString(),isChecked:this.cell.question.value===this.cell.item.value,isDisabled:this.cell.question.isReadOnly||!this.cell.item.isEnabled,hideCaption:!0})},V}(E.SurveyQuestionAndErrorsCell)},"./src/react/reactquestion_matrixdynamic.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionMatrixDynamic",function(){return P}),s.d(a,"SurveyQuestionMatrixDynamicAddButton",function(){return g});var c=s("react"),C=s("./src/react/reactquestion_factory.tsx"),E=s("./src/react/reactquestion_matrixdropdownbase.tsx"),O=s("./src/react/element-factory.tsx"),y=s("./src/react/reactquestion_element.tsx"),b=function(){var m=function(v,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},m(v,f)};return function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(v,f);function l(){this.constructor=v}v.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),P=function(m){b(v,m);function v(f){var l=m.call(this,f)||this;return l.handleOnRowAddClick=l.handleOnRowAddClick.bind(l),l}return Object.defineProperty(v.prototype,"matrix",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),v.prototype.handleOnRowAddClick=function(f){this.matrix.addRowUI()},v.prototype.renderElement=function(){var f=this.question.cssClasses,l=this.question.renderedTable.showTable,d=l?this.renderTableDiv():this.renderNoRowsContent(f);return c.createElement("div",null,this.renderAddRowButtonOnTop(f),d,this.renderAddRowButtonOnBottom(f))},v.prototype.renderAddRowButtonOnTop=function(f){return this.matrix.renderedTable.showAddRowOnTop?this.renderAddRowButton(f):null},v.prototype.renderAddRowButtonOnBottom=function(f){return this.matrix.renderedTable.showAddRowOnBottom?this.renderAddRowButton(f):null},v.prototype.renderNoRowsContent=function(f){var l=this.renderLocString(this.matrix.locEmptyRowsText),d=c.createElement("div",{className:f.emptyRowsText},l),h=this.renderAddRowButton(f,!0);return c.createElement("div",{className:f.emptyRowsSection},d,h)},v.prototype.renderAddRowButton=function(f,l){return l===void 0&&(l=!1),O.ReactElementFactory.Instance.createElement("sv-matrixdynamic-add-btn",{question:this.question,cssClasses:f,isEmptySection:l})},v}(E.SurveyQuestionMatrixDropdownBase);C.ReactQuestionFactory.Instance.registerQuestion("matrixdynamic",function(m){return c.createElement(P,m)});var g=function(m){b(v,m);function v(f){var l=m.call(this,f)||this;return l.handleOnRowAddClick=l.handleOnRowAddClick.bind(l),l}return Object.defineProperty(v.prototype,"matrix",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),v.prototype.handleOnRowAddClick=function(f){this.matrix.addRowUI()},v.prototype.renderElement=function(){var f=this.renderLocString(this.matrix.locAddRowText),l=c.createElement("button",{className:this.matrix.getAddRowButtonCss(this.props.isEmptySection),type:"button",disabled:this.matrix.isInputReadOnly,onClick:this.matrix.isDesignMode?void 0:this.handleOnRowAddClick},f,c.createElement("span",{className:this.props.cssClasses.iconAdd}));return this.props.isEmptySection?l:c.createElement("div",{className:this.props.cssClasses.footer},l)},v}(y.ReactSurveyElement);O.ReactElementFactory.Instance.registerElement("sv-matrixdynamic-add-btn",function(m){return c.createElement(g,m)})},"./src/react/reactquestion_multipletext.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionMultipleText",function(){return P}),s.d(a,"SurveyMultipleTextItem",function(){return g}),s.d(a,"SurveyMultipleTextItemEditor",function(){return m});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion.tsx"),O=s("./src/react/reactquestion_factory.tsx"),y=s("./src/react/components/title/title-content.tsx"),b=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),P=function(v){b(f,v);function f(l){return v.call(this,l)||this}return Object.defineProperty(f.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),f.prototype.renderElement=function(){for(var l=this.question.cssClasses,d=this.question.getRows(),h=[],p=0;p<d.length;p++)h.push(this.renderRow(p,d[p],l));return c.createElement("table",{className:l.root},c.createElement("tbody",null,h))},f.prototype.renderRow=function(l,d,h){for(var p="item"+l,u=[],x=0;x<d.length;x++){var V=d[x];u.push(c.createElement("td",{key:"item"+x,className:this.question.cssClasses.cell},c.createElement(g,{question:this.question,item:V,creator:this.creator,cssClasses:h})))}return c.createElement("tr",{key:p,className:h.row},u)},f}(C.SurveyQuestionElementBase),g=function(v){b(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return Object.defineProperty(f.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),f.prototype.getStateElements=function(){return[this.item,this.item.editor]},Object.defineProperty(f.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),f.prototype.renderElement=function(){var l=this.item,d=this.cssClasses;return c.createElement("label",{className:this.question.getItemLabelCss(l)},c.createElement("span",{className:d.itemTitle},c.createElement(y.TitleContent,{element:l.editor,cssClasses:l.editor.cssClasses})),c.createElement(m,{cssClasses:d,itemCss:this.question.getItemCss(),question:l.editor,creator:this.creator}),this.renderItemTooltipError(l,d))},f.prototype.renderItemTooltipError=function(l,d){return this.item.editor.isErrorsModeTooltip?c.createElement(E.SurveyElementErrors,{element:l.editor,cssClasses:d,creator:this.creator,location:"tooltip",id:l.editor.id+"_errors"}):null},f}(C.ReactSurveyElement),m=function(v){b(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.renderElement=function(){return c.createElement("div",{className:this.itemCss},this.renderContent())},f}(E.SurveyQuestionAndErrorsWrapped);O.ReactQuestionFactory.Instance.registerQuestion("multipletext",function(v){return c.createElement(P,v)})},"./src/react/reactquestion_paneldynamic.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionPanelDynamic",function(){return f}),s.d(a,"SurveyQuestionPanelDynamicItem",function(){return l});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/panel.tsx"),O=s("./src/react/reactquestion_factory.tsx"),y=s("./src/react/components/action-bar/action-bar.tsx"),b=s("./src/react/components/paneldynamic-actions/paneldynamic-next-btn.tsx"),P=s("./src/react/components/paneldynamic-actions/paneldynamic-prev-btn.tsx"),g=s("./src/react/components/paneldynamic-actions/paneldynamic-progress-text.tsx"),m=s("./src/react/element-factory.tsx"),v=function(){var d=function(h,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,x){u.__proto__=x}||function(u,x){for(var V in x)Object.prototype.hasOwnProperty.call(x,V)&&(u[V]=x[V])},d(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(h,p);function u(){this.constructor=h}h.prototype=p===null?Object.create(p):(u.prototype=p.prototype,new u)}}(),f=function(d){v(h,d);function h(p){return d.call(this,p)||this}return Object.defineProperty(h.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),h.prototype.componentDidMount=function(){d.prototype.componentDidMount.call(this),this.setState({panelCounter:0});var p=this;this.question.panelCountChangedCallback=function(){p.updateQuestionRendering()},this.question.currentIndexChangedCallback=function(){p.updateQuestionRendering()},this.question.renderModeChangedCallback=function(){p.updateQuestionRendering()}},h.prototype.componentWillUnmount=function(){d.prototype.componentWillUnmount.call(this),this.question.panelCountChangedCallback=function(){},this.question.currentIndexChangedCallback=function(){},this.question.renderModeChangedCallback=function(){}},h.prototype.updateQuestionRendering=function(){this.setState({panelCounter:this.state?this.state.panelCounter+1:1})},h.prototype.renderElement=function(){var p=[];if(this.question.isRenderModeList)for(var u=0;u<this.question.panels.length;u++){var x=this.question.panels[u];p.push(c.createElement(l,{key:x.id,element:x,question:this.question,index:u,cssClasses:this.question.cssClasses,isDisplayMode:this.isDisplayMode,creator:this.creator}))}else if(this.question.currentPanel!=null){var x=this.question.currentPanel;p.push(c.createElement(l,{key:this.question.currentIndex,element:x,question:this.question,index:this.question.currentIndex,cssClasses:this.question.cssClasses,isDisplayMode:this.isDisplayMode,creator:this.creator}))}var V=this.question.isRenderModeList&&this.question.showLegacyNavigation?this.renderAddRowButton():null,A=this.question.isProgressTopShowing?this.renderNavigator():null,M=this.question.isProgressBottomShowing?this.renderNavigator():null,T=this.renderNavigatorV2(),D=this.renderPlaceholder();return c.createElement("div",{className:this.question.cssClasses.root},D,A,p,M,V,T)},h.prototype.renderNavigator=function(){if(!this.question.showLegacyNavigation)return this.question.isRangeShowing&&this.question.isProgressTopShowing?this.renderRange():null;var p=this.question.isRangeShowing?this.renderRange():null,u=this.rendrerPrevButton(),x=this.rendrerNextButton(),V=this.renderAddRowButton(),A=this.question.isProgressTopShowing?this.question.cssClasses.progressTop:this.question.cssClasses.progressBottom;return c.createElement("div",{className:A},c.createElement("div",{style:{clear:"both"}},c.createElement("div",{className:this.question.cssClasses.progressContainer},u,p,x),V,this.renderProgressText()))},h.prototype.renderProgressText=function(){return c.createElement(g.SurveyQuestionPanelDynamicProgressText,{data:{question:this.question}})},h.prototype.rendrerPrevButton=function(){return c.createElement(P.SurveyQuestionPanelDynamicPrevButton,{data:{question:this.question}})},h.prototype.rendrerNextButton=function(){return c.createElement(b.SurveyQuestionPanelDynamicNextButton,{data:{question:this.question}})},h.prototype.renderRange=function(){return c.createElement("div",{className:this.question.cssClasses.progress},c.createElement("div",{className:this.question.cssClasses.progressBar,style:{width:this.question.progress},role:"progressbar"}))},h.prototype.renderAddRowButton=function(){return m.ReactElementFactory.Instance.createElement("sv-paneldynamic-add-btn",{data:{question:this.question}})},h.prototype.renderNavigatorV2=function(){if(!this.question.showNavigation)return null;var p=this.question.isRangeShowing&&this.question.isProgressBottomShowing?this.renderRange():null;return c.createElement("div",{className:this.question.cssClasses.footer},c.createElement("hr",{className:this.question.cssClasses.separator}),p,this.question.footerToolbar.visibleActions.length?c.createElement("div",{className:this.question.cssClasses.footerButtonsContainer},c.createElement(y.SurveyActionBar,{model:this.question.footerToolbar})):null)},h.prototype.renderPlaceholder=function(){return this.question.getShowNoEntriesPlaceholder()?c.createElement("div",{className:this.question.cssClasses.noEntriesPlaceholder},c.createElement("span",null,this.renderLocString(this.question.locNoEntriesText)),this.renderAddRowButton()):null},h}(C.SurveyQuestionElementBase),l=function(d){v(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(h.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),h.prototype.getSurvey=function(){return this.question?this.question.survey:null},h.prototype.getCss=function(){var p=this.getSurvey();return p?p.getCss():{}},h.prototype.render=function(){var p=d.prototype.render.call(this),u=this.renderButton(),x=this.question.showSeparator(this.index)?c.createElement("hr",{className:this.question.cssClasses.separator}):null;return c.createElement(c.Fragment,null,c.createElement("div",{className:this.question.getPanelWrapperCss()},p,u),x)},h.prototype.renderButton=function(){return this.question.panelRemoveButtonLocation!=="right"||!this.question.canRemovePanel||this.question.isRenderModeList&&this.panel.isCollapsed?null:m.ReactElementFactory.Instance.createElement("sv-paneldynamic-remove-btn",{data:{question:this.question,panel:this.panel}})},h}(E.SurveyPanel);O.ReactQuestionFactory.Instance.registerQuestion("paneldynamic",function(d){return c.createElement(f,d)})},"./src/react/reactquestion_radiogroup.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionRadiogroup",function(){return g}),s.d(a,"SurveyQuestionRadioItem",function(){return m});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_comment.tsx"),O=s("./src/react/reactquestion_factory.tsx"),y=s("./src/react/reactsurveymodel.tsx"),b=s("./src/react/element-factory.tsx"),P=function(){var v=function(f,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])},v(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(f,l);function d(){this.constructor=f}f.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),g=function(v){P(f,v);function f(l){return v.call(this,l)||this}return Object.defineProperty(f.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),f.prototype.renderElement=function(){var l=this,d=this.question.cssClasses,h=null;return this.question.showClearButtonInContent&&(h=c.createElement("div",null,c.createElement("input",{type:"button",className:this.question.cssClasses.clearButton,onClick:function(){return l.question.clearValue()},value:this.question.clearButtonCaption}))),c.createElement("fieldset",{className:this.question.getSelectBaseRootCss(),role:"presentation",ref:function(p){return l.setControl(p)}},this.question.hasColumns?this.getColumnedBody(d):this.getBody(d),this.getFooter(),this.question.isOtherSelected?this.renderOther(d):null,h)},f.prototype.getFooter=function(){var l=this;if(this.question.hasFootItems)return this.question.footItems.map(function(d,h){return l.renderItem("item_f"+h,d,!1,l.question.cssClasses)})},f.prototype.getColumnedBody=function(l){return c.createElement("div",{className:l.rootMultiColumn},this.getColumns(l))},f.prototype.getColumns=function(l){var d=this,h=this.getStateValue();return this.question.columns.map(function(p,u){var x=p.map(function(V,A){return d.renderItem("item"+u+A,V,h,l,""+u+A)});return c.createElement("div",{key:"column"+u,className:d.question.getColumnClass(),role:"presentation"},x)})},f.prototype.getBody=function(l){return this.question.blockedRow?c.createElement("div",{className:l.rootRow},this.getItems(l,this.question.dataChoices)):c.createElement(c.Fragment,null,this.getItems(l,this.question.bodyItems))},f.prototype.getItems=function(l,d){for(var h=[],p=this.getStateValue(),u=0;u<d.length;u++){var x=d[u],V=this.renderItem("item"+u,x,p,l,""+u);h.push(V)}return h},Object.defineProperty(f.prototype,"textStyle",{get:function(){return null},enumerable:!1,configurable:!0}),f.prototype.renderOther=function(l){return c.createElement("div",{className:this.question.getCommentAreaCss(!0)},c.createElement(E.SurveyQuestionOtherValueItem,{question:this.question,otherCss:l.other,cssClasses:l,isDisplayMode:this.isDisplayMode}))},f.prototype.renderItem=function(l,d,h,p,u){var x=b.ReactElementFactory.Instance.createElement(this.question.itemComponent,{key:l,question:this.question,cssClasses:p,isDisplayMode:this.isDisplayMode,item:d,textStyle:this.textStyle,index:u,isChecked:h===d.value}),V=this.question.survey,A=null;return V&&(A=y.ReactSurveyElementsWrapper.wrapItemValue(V,x,this.question,d)),A??x},f.prototype.getStateValue=function(){return this.question.isEmpty()?"":this.question.renderedValue},f}(C.SurveyQuestionElementBase),m=function(v){P(f,v);function f(l){var d=v.call(this,l)||this;return d.handleOnChange=d.handleOnChange.bind(d),d.handleOnMouseDown=d.handleOnMouseDown.bind(d),d}return f.prototype.getStateElement=function(){return this.item},Object.defineProperty(f.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"textStyle",{get:function(){return this.props.textStyle},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isChecked",{get:function(){return this.props.isChecked},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hideCaption",{get:function(){return this.props.hideCaption===!0},enumerable:!1,configurable:!0}),f.prototype.shouldComponentUpdate=function(l,d){return!v.prototype.shouldComponentUpdate.call(this,l,d)||!this.question?!1:!this.question.customWidget||!!this.question.customWidgetData.isNeedRender||!!this.question.customWidget.widgetJson.isDefaultRender||!!this.question.customWidget.widgetJson.render},f.prototype.handleOnChange=function(l){this.question.clickItemHandler(this.item)},f.prototype.handleOnMouseDown=function(l){this.question.onMouseDown()},f.prototype.canRender=function(){return!!this.question&&!!this.item},f.prototype.renderElement=function(){var l=this.question.getItemClass(this.item),d=this.question.getLabelClass(this.item),h=this.question.getControlLabelClass(this.item),p=this.hideCaption?null:c.createElement("span",{className:h},this.renderLocString(this.item.locText,this.textStyle));return c.createElement("div",{className:l,role:"presentation"},c.createElement("label",{onMouseDown:this.handleOnMouseDown,className:d,"aria-label":this.question.getAriaItemLabel(this.item)},c.createElement("input",{"aria-describedby":this.question.ariaDescribedBy,className:this.cssClasses.itemControl,id:this.question.getItemId(this.item),type:"radio",name:this.question.questionName,checked:this.isChecked,value:this.item.value,disabled:!this.question.getItemEnabled(this.item),onChange:this.handleOnChange}),this.cssClasses.materialDecorator?c.createElement("span",{className:this.cssClasses.materialDecorator},this.question.itemSvgIcon?c.createElement("svg",{className:this.cssClasses.itemDecorator},c.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,p))},f}(C.ReactSurveyElement);b.ReactElementFactory.Instance.registerElement("survey-radiogroup-item",function(v){return c.createElement(m,v)}),O.ReactQuestionFactory.Instance.registerQuestion("radiogroup",function(v){return c.createElement(g,v)})},"./src/react/reactquestion_ranking.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionRanking",function(){return b}),s.d(a,"SurveyQuestionRankingItem",function(){return P});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/reactsurveymodel.tsx"),y=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),b=function(g){y(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return Object.defineProperty(m.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),m.prototype.renderElement=function(){var v=this;if(this.question.selectToRankEnabled){var f=!0;return c.createElement("div",{className:this.question.rootClass,ref:function(l){return v.setControl(l)}},c.createElement("div",{className:this.question.getContainerClasses("from"),"data-ranking":"from-container"},this.getItems(this.question.unRankingChoices,f),this.question.unRankingChoices.length===0?c.createElement("div",{className:this.question.cssClasses.containerPlaceholder}," ",this.question.selectToRankEmptyRankedAreaText," "):null),c.createElement("div",{className:this.question.cssClasses.containersDivider}),c.createElement("div",{className:this.question.getContainerClasses("to"),"data-ranking":"to-container"},this.getItems(),this.question.rankingChoices.length===0?c.createElement("div",{className:this.question.cssClasses.containerPlaceholder},this.question.selectToRankEmptyUnrankedAreaText):null))}else return c.createElement("div",{className:this.question.rootClass,ref:function(l){return v.setControl(l)}},this.getItems())},m.prototype.getItems=function(v,f){var l=this;v===void 0&&(v=this.question.rankingChoices);for(var d=[],h=function(x){var V=v[x];d.push(p.renderItem(V,x,function(A){l.question.handleKeydown.call(l.question,A,V)},function(A){A.persist(),l.question.handlePointerDown.call(l.question,A,V,A.currentTarget)},p.question.cssClasses,p.question.getItemClass(V),p.question,f))},p=this,u=0;u<v.length;u++)h(u);return d},m.prototype.renderItem=function(v,f,l,d,h,p,u,x){var V=v.value+"-"+f+"-item",A=this.renderLocString(v.locText),M=f,T=this.question.getNumberByIndex(f),D=this.question.getItemTabIndex(v),R=c.createElement(P,{key:V,text:A,index:M,indexText:T,itemTabIndex:D,handleKeydown:l,handlePointerDown:d,cssClasses:h,itemClass:p,question:u,unrankedItem:x,item:v}),S=this.question.survey,I=null;return S&&(I=O.ReactSurveyElementsWrapper.wrapItemValue(S,R,this.question,v)),I??R},m}(C.SurveyQuestionElementBase),P=function(g){y(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return Object.defineProperty(m.prototype,"text",{get:function(){return this.props.text},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"indexText",{get:function(){return this.props.indexText},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"handleKeydown",{get:function(){return this.props.handleKeydown},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"handlePointerDown",{get:function(){return this.props.handlePointerDown},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"itemClass",{get:function(){return this.props.itemClass},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"itemTabIndex",{get:function(){return this.props.itemTabIndex},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"unrankedItem",{get:function(){return this.props.unrankedItem},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),m.prototype.renderElement=function(){return c.createElement("div",{tabIndex:this.itemTabIndex,className:this.itemClass,onKeyDown:this.handleKeydown,onPointerDown:this.handlePointerDown,"data-sv-drop-target-ranking-item":this.index},c.createElement("div",{tabIndex:-1,style:{outline:"none"}},c.createElement("div",{className:this.cssClasses.itemGhostNode}),c.createElement("div",{className:this.cssClasses.itemContent},c.createElement("div",{className:this.cssClasses.itemIconContainer},c.createElement("svg",{width:"10",height:"16",viewBox:"0 0 10 16",className:this.question.getIconHoverCss(),xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M6 2C6 0.9 6.9 0 8 0C9.1 0 10 0.9 10 2C10 3.1 9.1 4 8 4C6.9 4 6 3.1 6 2ZM2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z"})),c.createElement("svg",{width:"10",height:"24",viewBox:"0 0 10 24",className:this.question.getIconFocusCss(),xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M10 5L5 0L0 5H4V9H6V5H10Z"}),c.createElement("path",{d:"M6 19V15H4V19H0L5 24L10 19H6Z"}))),c.createElement("div",{className:this.question.getItemIndexClasses(this.item)},this.unrankedItem?"":this.indexText),c.createElement("div",{className:this.cssClasses.controlLabel},this.text))))},m}(C.ReactSurveyElement);E.ReactQuestionFactory.Instance.registerQuestion("ranking",function(g){return c.createElement(b,g)})},"./src/react/reactquestion_rating.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionRating",function(){return b});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/element-factory.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.handleOnClick=v.handleOnClick.bind(v),v}return Object.defineProperty(g.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),g.prototype.handleOnClick=function(m){this.question.setValueFromClick(m.target.value),this.setState({value:this.question.value})},g.prototype.renderItem=function(m,v){var f=O.ReactElementFactory.Instance.createElement(this.question.itemComponentName,{question:this.question,item:m,index:v,key:"value"+v,handleOnClick:this.handleOnClick,isDisplayMode:this.isDisplayMode});return f},g.prototype.renderElement=function(){var m=this,v=this.question.cssClasses,f=this.question.minRateDescription?this.renderLocString(this.question.locMinRateDescription):null,l=this.question.maxRateDescription?this.renderLocString(this.question.locMaxRateDescription):null;return c.createElement("div",{className:this.question.ratingRootCss,ref:function(d){return m.setControl(d)}},c.createElement("fieldset",{role:"radiogroup"},c.createElement("legend",{role:"presentation",className:"sv-hidden"}),this.question.hasMinLabel?c.createElement("span",{className:v.minText},f):null,this.question.renderedRateItems.map(function(d,h){return m.renderItem(d,h)}),this.question.hasMaxLabel?c.createElement("span",{className:v.maxText},l):null))},g}(C.SurveyQuestionElementBase);E.ReactQuestionFactory.Instance.registerQuestion("rating",function(P){return c.createElement(b,P)})},"./src/react/reactquestion_tagbox.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionTagbox",function(){return P});var c=s("react"),C=s("./src/react/reactquestion_factory.tsx"),E=s("./src/react/dropdown-base.tsx"),O=s("./src/react/tagbox-item.tsx"),y=s("./src/react/tagbox-filter.tsx"),b=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(f[d]=l[d])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function f(){this.constructor=m}m.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)}}(),P=function(g){b(m,g);function m(v){return g.call(this,v)||this}return m.prototype.renderItem=function(v,f){var l=c.createElement(O.SurveyQuestionTagboxItem,{key:v,question:this.question,item:f});return l},m.prototype.renderInput=function(v){var f=this,l=v,d=this.question.selectedChoices.map(function(h,p){return f.renderItem("item"+p,h)});return c.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),tabIndex:v.inputReadOnly?void 0:0,disabled:this.question.isInputReadOnly,required:this.question.isRequired,onKeyDown:this.keyhandler,onBlur:this.blur,role:this.question.ariaRole,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy,"aria-expanded":this.question.ariaExpanded===null?void 0:this.question.ariaExpanded==="true","aria-controls":v.listElementId,"aria-activedescendant":v.ariaActivedescendant},c.createElement("div",{className:this.question.cssClasses.controlValue},d,c.createElement(y.TagboxFilterString,{model:l,question:this.question})),this.createClearButton())},m.prototype.renderElement=function(){var v=this.question.cssClasses,f=this.question.isOtherSelected?this.renderOther(v):null,l=this.renderSelect(v);return c.createElement("div",{className:this.question.renderCssRoot},l,f)},m}(E.SurveyQuestionDropdownBase);C.ReactQuestionFactory.Instance.registerQuestion("tagbox",function(g){return c.createElement(P,g)})},"./src/react/reactquestion_text.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionText",function(){return b});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/components/character-counter.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){return P.call(this,m)||this}return g.prototype.renderInput=function(){var m=this,v=this.question.getControlClass(),f=this.question.renderedPlaceholder;if(this.question.isReadOnlyRenderDiv())return c.createElement("div",null,this.question.value);var l=this.question.getMaxLength()?c.createElement(O.CharacterCounterComponent,{counter:this.question.characterCounter,remainingCharacterCounter:this.question.cssClasses.remainingCharacterCounter}):null;return c.createElement(c.Fragment,null,c.createElement("input",{id:this.question.inputId,disabled:this.isDisplayMode,className:v,type:this.question.inputType,ref:function(d){return m.setControl(d)},style:this.question.inputStyle,maxLength:this.question.getMaxLength(),min:this.question.renderedMin,max:this.question.renderedMax,step:this.question.renderedStep,size:this.question.inputSize,placeholder:f,list:this.question.dataListId,autoComplete:this.question.autocomplete,onBlur:this.question.onBlur,onFocus:this.question.onFocus,onChange:this.question.onChange,onKeyUp:this.question.onKeyUp,onKeyDown:this.question.onKeyDown,onCompositionUpdate:function(d){return m.question.onCompositionUpdate(d.nativeEvent)},"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-describedby":this.question.a11y_input_ariaDescribedBy}),l)},g.prototype.renderElement=function(){return this.question.dataListId?c.createElement("div",null,this.renderInput(),this.renderDataList()):this.renderInput()},g.prototype.renderDataList=function(){if(!this.question.dataListId)return null;var m=this.question.dataList;if(m.length==0)return null;for(var v=[],f=0;f<m.length;f++)v.push(c.createElement("option",{key:"item"+f,value:m[f]}));return c.createElement("datalist",{id:this.question.dataListId},v)},g}(C.SurveyQuestionUncontrolledElement);E.ReactQuestionFactory.Instance.registerQuestion("text",function(P){return c.createElement(b,P)})},"./src/react/reactsurveymodel.tsx":function(o,a,s){s.r(a),s.d(a,"ReactSurveyElementsWrapper",function(){return E});var c=s("survey-core"),C=s("./src/react/element-factory.tsx"),E=function(){function O(){}return O.wrapRow=function(y,b,P){var g=y.getRowWrapperComponentName(P),m=y.getRowWrapperComponentData(P);return C.ReactElementFactory.Instance.createElement(g,{element:b,row:P,componentData:m})},O.wrapElement=function(y,b,P){var g=y.getElementWrapperComponentName(P),m=y.getElementWrapperComponentData(P);return C.ReactElementFactory.Instance.createElement(g,{element:b,question:P,componentData:m})},O.wrapQuestionContent=function(y,b,P){var g=y.getQuestionContentWrapperComponentName(P),m=y.getElementWrapperComponentData(P);return C.ReactElementFactory.Instance.createElement(g,{element:b,question:P,componentData:m})},O.wrapItemValue=function(y,b,P,g){var m=y.getItemValueWrapperComponentName(g,P),v=y.getItemValueWrapperComponentData(g,P);return C.ReactElementFactory.Instance.createElement(m,{key:b==null?void 0:b.key,element:b,question:P,item:g,componentData:v})},O.wrapMatrixCell=function(y,b,P,g){g===void 0&&(g="cell");var m=y.getElementWrapperComponentName(P,g),v=y.getElementWrapperComponentData(P,g);return C.ReactElementFactory.Instance.createElement(m,{element:b,cell:P,componentData:v})},O}();c.SurveyModel.platform="react"},"./src/react/reacttimerpanel.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyTimerPanel",function(){return b});var c=s("react"),C=s("./src/react/components/svg-icon/svg-icon.tsx"),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.circleLength=440,v}return g.prototype.getStateElement=function(){return this.timerModel},Object.defineProperty(g.prototype,"timerModel",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"progress",{get:function(){return-this.timerModel.progress*this.circleLength},enumerable:!1,configurable:!0}),g.prototype.render=function(){if(!this.timerModel.isRunning)return null;var m=c.createElement("div",{className:this.timerModel.survey.getCss().timerRoot},this.timerModel.text);if(this.timerModel.showTimerAsClock){var v={strokeDasharray:this.circleLength,strokeDashoffset:this.progress},f=this.timerModel.showProgress?c.createElement(C.SvgIcon,{className:this.timerModel.getProgressCss(),style:v,iconName:"icon-timercircle",size:"auto"}):null;m=c.createElement("div",{className:this.timerModel.rootCss},f,c.createElement("div",{className:this.timerModel.textContainerCss},c.createElement("span",{className:this.timerModel.majorTextCss},this.timerModel.clockMajorText),this.timerModel.clockMinorText?c.createElement("span",{className:this.timerModel.minorTextCss},this.timerModel.clockMinorText):null))}return m},g}(O.ReactSurveyElement);E.ReactElementFactory.Instance.registerElement("sv-timerpanel",function(P){return c.createElement(b,P)})},"./src/react/row.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyRow",function(){return b});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/element-factory.tsx"),O=s("./src/react/reactsurveymodel.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.rootRef=c.createRef(),v.recalculateCss(),v}return g.prototype.recalculateCss=function(){this.row.visibleElements.map(function(m){return m.cssClasses})},g.prototype.getStateElement=function(){return this.row},Object.defineProperty(g.prototype,"row",{get:function(){return this.props.row},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"survey",{get:function(){return this.props.survey},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"css",{get:function(){return this.props.css},enumerable:!1,configurable:!0}),g.prototype.canRender=function(){return!!this.row&&!!this.survey&&!!this.creator&&this.row.visible},g.prototype.renderElementContent=function(){var m=this,v=this.row.visibleElements.map(function(f,l){var d=m.createElement(f,l),h=f.cssClassesValue,p=function(){var u=f;u&&!u.isDisposed&&u.isQuestion&&u.focusIn()};return c.createElement("div",{className:h.questionWrapper,style:f.rootStyle,"data-key":d.key,key:d.key,onFocus:p},m.row.isNeedRender?d:E.ReactElementFactory.Instance.createElement(f.skeletonComponentName,{element:f,css:m.css}))});return c.createElement("div",{ref:this.rootRef,className:this.row.getRowCss()},v)},g.prototype.renderElement=function(){var m=this.survey,v=this.renderElementContent(),f=O.ReactSurveyElementsWrapper.wrapRow(m,v,this.row);return f||v},g.prototype.componentDidMount=function(){var m=this;P.prototype.componentDidMount.call(this);var v=this.rootRef.current;if(v&&!this.row.isNeedRender){var f=v;setTimeout(function(){m.row.startLazyRendering(f)},10)}},g.prototype.shouldComponentUpdate=function(m,v){return P.prototype.shouldComponentUpdate.call(this,m,v)?(m.row!==this.row&&(m.row.isNeedRender=this.row.isNeedRender,this.stopLazyRendering()),this.recalculateCss(),!0):!1},g.prototype.stopLazyRendering=function(){this.row.stopLazyRendering(),this.row.isNeedRender=!this.row.isLazyRendering()},g.prototype.componentWillUnmount=function(){P.prototype.componentWillUnmount.call(this),this.stopLazyRendering()},g.prototype.createElement=function(m,v){var f=v?"-"+v:0,l=m.getType();return E.ReactElementFactory.Instance.isElementRegistered(l)||(l="question"),E.ReactElementFactory.Instance.createElement(l,{key:m.name+f,element:m,creator:this.creator,survey:this.survey,css:this.css})},g}(C.SurveyElementBase)},"./src/react/signaturepad.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionSignaturePad",function(){return b});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/components/svg-icon/svg-icon.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.state={value:v.question.value},v}return Object.defineProperty(g.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),g.prototype.renderElement=function(){var m=this,v=this.question.cssClasses,f=this.renderCleanButton();return c.createElement("div",{className:v.root,ref:function(l){return m.setControl(l)},style:{height:this.question.signatureHeight,width:this.question.signatureWidth}},c.createElement("div",{className:v.placeholder,style:{display:this.question.needShowPlaceholder()?"":"none"}},this.question.placeHolderText),c.createElement("div",null,c.createElement("canvas",{tabIndex:0})),f)},g.prototype.renderCleanButton=function(){var m=this;if(!this.question.canShowClearButton)return null;var v=this.question.cssClasses;return c.createElement("div",{className:v.controls},c.createElement("button",{type:"button",className:v.clearButton,title:this.question.clearButtonCaption,onClick:function(){return m.question.clearValue()}},this.question.cssClasses.clearButtonIconId?c.createElement(O.SvgIcon,{iconName:this.question.cssClasses.clearButtonIconId,size:"auto"}):c.createElement("span",null,"")))},g}(C.SurveyQuestionElementBase);E.ReactQuestionFactory.Instance.registerQuestion("signaturepad",function(P){return c.createElement(b,P)})},"./src/react/string-editor.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyLocStringEditor",function(){return b});var c=s("react"),C=s.n(c),E=s("survey-core"),O=s("./src/react/element-factory.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.onInput=function(f){v.locStr.text=f.target.innerText},v.onClick=function(f){f.preventDefault(),f.stopPropagation()},v.state={changed:0},v}return Object.defineProperty(g.prototype,"locStr",{get:function(){return this.props.locStr},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"style",{get:function(){return this.props.style},enumerable:!1,configurable:!0}),g.prototype.componentDidMount=function(){if(this.locStr){var m=this;this.locStr.onChanged=function(){m.setState({changed:m.state.changed+1})}}},g.prototype.componentWillUnmount=function(){this.locStr&&(this.locStr.onChanged=function(){})},g.prototype.render=function(){if(!this.locStr)return null;if(this.locStr.hasHtml){var m={__html:this.locStr.renderedHtml};return C.a.createElement("span",{className:"sv-string-editor",contentEditable:"true",suppressContentEditableWarning:!0,style:this.style,dangerouslySetInnerHTML:m,onBlur:this.onInput,onClick:this.onClick})}return C.a.createElement("span",{className:"sv-string-editor",contentEditable:"true",suppressContentEditableWarning:!0,style:this.style,onBlur:this.onInput,onClick:this.onClick},this.locStr.renderedHtml)},g}(C.a.Component);O.ReactElementFactory.Instance.registerElement(E.LocalizableString.editableRenderer,function(P){return C.a.createElement(b,P)})},"./src/react/string-viewer.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyLocStringViewer",function(){return b});var c=s("react"),C=s.n(c),E=s("survey-core"),O=s("./src/react/element-factory.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){var v=P.call(this,m)||this;return v.onChangedHandler=function(f,l){v.isRendering||v.setState({changed:v.state&&v.state.changed?v.state.changed+1:1})},v.rootRef=C.a.createRef(),v}return Object.defineProperty(g.prototype,"locStr",{get:function(){return this.props.locStr},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"style",{get:function(){return this.props.style},enumerable:!1,configurable:!0}),g.prototype.componentDidMount=function(){this.reactOnStrChanged()},g.prototype.componentWillUnmount=function(){this.locStr&&this.locStr.onStringChanged.remove(this.onChangedHandler)},g.prototype.componentDidUpdate=function(m,v){m.locStr&&m.locStr.onStringChanged.remove(this.onChangedHandler),this.reactOnStrChanged()},g.prototype.reactOnStrChanged=function(){this.locStr&&this.locStr.onStringChanged.add(this.onChangedHandler)},g.prototype.render=function(){if(!this.locStr)return null;this.isRendering=!0;var m=this.renderString();return this.isRendering=!1,m},g.prototype.renderString=function(){if(this.locStr.hasHtml){var m={__html:this.locStr.renderedHtml};return C.a.createElement("span",{ref:this.rootRef,className:"sv-string-viewer",style:this.style,dangerouslySetInnerHTML:m})}return C.a.createElement("span",{ref:this.rootRef,className:"sv-string-viewer",style:this.style},this.locStr.renderedHtml)},g}(C.a.Component);O.ReactElementFactory.Instance.registerElement(E.LocalizableString.defaultRenderer,function(P){return C.a.createElement(b,P)})},"./src/react/tagbox-filter.tsx":function(o,a,s){s.r(a),s.d(a,"TagboxFilterString",function(){return b});var c=s("react"),C=s("survey-core"),E=s("./src/react/reactquestion_factory.tsx"),O=s("./src/react/reactquestion_element.tsx"),y=function(){var P=function(g,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(v[l]=f[l])},P(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),b=function(P){y(g,P);function g(m){return P.call(this,m)||this}return Object.defineProperty(g.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),g.prototype.componentDidUpdate=function(m,v){P.prototype.componentDidUpdate.call(this,m,v),this.updateDomElement()},g.prototype.componentDidMount=function(){P.prototype.componentDidMount.call(this),this.updateDomElement()},g.prototype.updateDomElement=function(){if(this.inputElement){var m=this.inputElement,v=this.model.inputStringRendered;C.Helpers.isTwoValueEquals(v,m.value)||(m.value=this.model.inputStringRendered)}},g.prototype.onChange=function(m){var v=C.settings.environment.root;m.target===v.activeElement&&(this.model.inputStringRendered=m.target.value)},g.prototype.keyhandler=function(m){this.model.inputKeyHandler(m)},g.prototype.onBlur=function(m){this.model.onBlur(m)},g.prototype.onFocus=function(m){this.model.onFocus(m)},g.prototype.getStateElement=function(){return this.model},g.prototype.render=function(){var m=this;return c.createElement("div",{className:this.question.cssClasses.hint},this.model.showHintPrefix?c.createElement("div",{className:this.question.cssClasses.hintPrefix},c.createElement("span",null,this.model.hintStringPrefix)):null,c.createElement("div",{className:this.question.cssClasses.hintSuffixWrapper},this.model.showHintString?c.createElement("div",{className:this.question.cssClasses.hintSuffix},c.createElement("span",{style:{visibility:"hidden"},"data-bind":"text: model.filterString"},this.model.inputStringRendered),c.createElement("span",null,this.model.hintStringSuffix)):null,c.createElement("input",{type:"text",autoComplete:"off",id:this.question.getInputId(),inputMode:this.model.inputMode,ref:function(v){return m.inputElement=v},className:this.question.cssClasses.filterStringInput,disabled:this.question.isInputReadOnly,readOnly:this.model.searchEnabled?void 0:!0,size:this.model.inputStringRendered?void 0:1,role:this.model.filterStringEnabled?this.question.ariaRole:void 0,"aria-label":this.question.placeholder,"aria-expanded":this.question.ariaExpanded===null?void 0:this.question.ariaExpanded==="true","aria-controls":this.model.listElementId,"aria-activedescendant":this.model.ariaActivedescendant,placeholder:this.model.filterStringPlaceholder,onKeyDown:function(v){m.keyhandler(v)},onChange:function(v){m.onChange(v)},onBlur:function(v){m.onBlur(v)},onFocus:function(v){m.onFocus(v)}})))},g}(O.SurveyElementBase);E.ReactQuestionFactory.Instance.registerQuestion("sv-tagbox-filter",function(P){return c.createElement(b,P)})},"./src/react/tagbox-item.tsx":function(o,a,s){s.r(a),s.d(a,"SurveyQuestionTagboxItem",function(){return y});var c=s("react"),C=s("./src/react/reactquestion_element.tsx"),E=s("./src/react/components/svg-icon/svg-icon.tsx"),O=function(){var b=function(P,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},b(P,g)};return function(P,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");b(P,g);function m(){this.constructor=P}P.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),y=function(b){O(P,b);function P(g){return b.call(this,g)||this}return Object.defineProperty(P.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),P.prototype.canRender=function(){return!!this.item&&!!this.question},P.prototype.renderElement=function(){var g=this,m=this.renderLocString(this.item.locText),v=function(f){g.question.dropdownListModel.deselectItem(g.item.value),f.stopPropagation()};return c.createElement("div",{className:"sv-tagbox__item"},c.createElement("div",{className:"sv-tagbox__item-text"},m),c.createElement("div",{className:this.question.cssClasses.cleanItemButton,onClick:v},c.createElement(E.SvgIcon,{className:this.question.cssClasses.cleanItemButtonSvg,iconName:this.question.cssClasses.cleanItemButtonIconId,size:"auto"})))},P}(C.ReactSurveyElement)},"./src/settings.ts":function(o,a,s){s.r(a),s.d(a,"settings",function(){return O});var c=globalThis.document,C=c?{root:c,_rootElement:c.body,get rootElement(){var y;return(y=this._rootElement)!==null&&y!==void 0?y:c.body},set rootElement(y){this._rootElement=y},_popupMountContainer:c.body,get popupMountContainer(){var y;return(y=this._popupMountContainer)!==null&&y!==void 0?y:c.body},set popupMountContainer(y){this._popupMountContainer=y},svgMountContainer:c.head,stylesSheetsMountContainer:c.head}:void 0,E={file:{minWidth:"240px"},comment:{minWidth:"200px"}},O={designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(y){this.designMode.showEmptyDescriptions=y},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(y){this.designMode.showEmptyTitles=y},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(y){this.localization.useLocalTimeZone=y},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(y){this.localization.storeDuplicatedTranslations=y},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(y){this.localization.defaultLocaleName=y},web:{encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1,surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey"},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(y){this.web.encodeUrlParams=y},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(y){this.web.cacheLoadedChoices=y},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(y){this.web.cacheLoadedChoices=y},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(y){this.web.disableQuestionWhileLoadingChoices=y},get surveyServiceUrl(){return this.web.surveyServiceUrl},set surveyServiceUrl(y){this.web.surveyServiceUrl=y},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(y){this.triggers.executeCompleteOnValueChanged=y},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(y){this.triggers.changeNavigationButtonsOnComplete=y},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(y){this.triggers.executeSkipOnValueChanged=y},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(y){this.serialization.itemValueSerializeAsObject=y},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(y){this.serialization.itemValueSerializeDisplayText=y},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(y){this.serialization.localizableStringSerializeAsObject=y},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(y){this.lazyRender.enabled=y},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(y){this.lazyRender.firstBatchSize=y},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:E,rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(y){this.matrix.defaultRowName=y},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(y){this.matrix.defaultCellType=y},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(y){this.matrix.totalsSuffix=y},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(y){this.matrix.maxRowCount=y},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(y){this.matrix.maxRowCountInCondition=y},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(y){this.matrix.renderRemoveAsIcon=y},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(y){this.panel.maxPanelCountInCondition=y},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(y){this.panel.maxPanelCount=y},readOnly:{commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(y){this.readOnly.commentRenderMode=y},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(y){this.readOnly.textRenderMode=y},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(y){this.numbering.includeQuestionsWithHiddenTitle=y},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(y){this.numbering.includeQuestionsWithHiddenNumber=y},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1},expressionDisableConversionChar:"#",get commentPrefix(){return O.commentSuffix},set commentPrefix(y){O.commentSuffix=y},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,confirmActionFunc:function(y){return confirm(y)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},showItemsInOrder:"default",noneItemValue:"none",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:C,showMaxLengthIndicator:!0,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]}}},"./src/utils/responsivity-manager.ts":function(o,a,s){s.r(a),s.d(a,"ResponsivityManager",function(){return E}),s.d(a,"VerticalResponsivityManager",function(){return O});var c=s("./src/utils/utils.ts"),C=function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function g(){this.constructor=b}b.prototype=P===null?Object.create(P):(g.prototype=P.prototype,new g)}}(),E=function(){function y(b,P,g,m){var v=this;m===void 0&&(m=null),this.container=b,this.model=P,this.itemsSelector=g,this.dotsItemSize=m,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.recalcMinDimensionConst=!0,this.getComputedStyle=window.getComputedStyle.bind(window),this.model.updateCallback=function(f){f&&(v.isInitialized=!1),setTimeout(function(){v.process()},1)},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(f){return v.process()}),this.resizeObserver.observe(this.container.parentElement))}return y.prototype.getDimensions=function(b){return{scroll:b.scrollWidth,offset:b.offsetWidth}},y.prototype.getAvailableSpace=function(){var b=this.getComputedStyle(this.container),P=this.container.offsetWidth;return b.boxSizing==="border-box"&&(P-=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight)),P},y.prototype.calcItemSize=function(b){return b.offsetWidth},y.prototype.calcMinDimension=function(b){var P=this.minDimensionConst;return b.iconSize&&this.recalcMinDimensionConst&&(P=2*b.iconSize+this.paddingSizeConst),b.canShrink?P+(b.needSeparator?this.separatorSize:0):b.maxDimension},y.prototype.calcItemsSizes=function(){var b=this,P=this.model.actions,g=this.container.querySelectorAll(this.itemsSelector);(g||[]).forEach(function(m,v){var f=P[v];b.calcActionDimensions(f,m)})},y.prototype.calcActionDimensions=function(b,P){b.maxDimension=this.calcItemSize(P),b.minDimension=this.calcMinDimension(b)},Object.defineProperty(y.prototype,"isContainerVisible",{get:function(){return Object(c.isContainerVisible)(this.container)},enumerable:!1,configurable:!0}),y.prototype.process=function(){var b;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||(this.model.setActionsMode("large"),this.calcItemsSizes(),this.isInitialized=!0);var P=this.dotsItemSize;if(!this.dotsItemSize){var g=(b=this.container)===null||b===void 0?void 0:b.querySelector(".sv-dots");P=g&&this.calcItemSize(g)||this.dotsSizeConst}this.model.fit(this.getAvailableSpace(),P)}},y.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},y}(),O=function(y){C(b,y);function b(P,g,m,v,f){f===void 0&&(f=40);var l=y.call(this,P,g,m,v)||this;return l.minDimensionConst=f,l.recalcMinDimensionConst=!1,l}return b.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},b.prototype.getAvailableSpace=function(){var P=this.getComputedStyle(this.container),g=this.container.offsetHeight;return P.boxSizing==="border-box"&&(g-=parseFloat(P.paddingTop)+parseFloat(P.paddingBottom)),g},b.prototype.calcItemSize=function(P){return P.offsetHeight},b.prototype.calcActionDimensions=function(P,g){P.maxDimension=this.calcItemSize(g),P.minDimension=this.calcItemSize(g)},b}(E)},"./src/utils/utils.ts":function(o,a,s){s.r(a),s.d(a,"unwrap",function(){return u}),s.d(a,"getSize",function(){return x}),s.d(a,"doKey2ClickBlur",function(){return A}),s.d(a,"doKey2ClickUp",function(){return M}),s.d(a,"doKey2ClickDown",function(){return T}),s.d(a,"sanitizeEditableContent",function(){return U}),s.d(a,"Logger",function(){return $}),s.d(a,"mergeValues",function(){return Q}),s.d(a,"getElementWidth",function(){return w}),s.d(a,"isContainerVisible",function(){return L}),s.d(a,"classesToSelector",function(){return I}),s.d(a,"compareVersions",function(){return C}),s.d(a,"confirmAction",function(){return E}),s.d(a,"detectIEOrEdge",function(){return y}),s.d(a,"detectIEBrowser",function(){return O}),s.d(a,"loadFileFromBase64",function(){return b}),s.d(a,"isMobile",function(){return P}),s.d(a,"isShadowDOM",function(){return g}),s.d(a,"getElement",function(){return m}),s.d(a,"isElementVisible",function(){return v}),s.d(a,"findScrollableParent",function(){return f}),s.d(a,"scrollElementByChildId",function(){return l}),s.d(a,"navigateToUrl",function(){return d}),s.d(a,"createSvg",function(){return p}),s.d(a,"getIconNameFromProxy",function(){return h}),s.d(a,"increaseHeightByContent",function(){return D}),s.d(a,"getOriginalEvent",function(){return R}),s.d(a,"preventDefaults",function(){return S}),s.d(a,"findParentByClassNames",function(){return W}),s.d(a,"getFirstVisibleChild",function(){return F});var c=s("./src/settings.ts");function C(z,q){for(var K=/(\.0+)+$/,re=z.replace(K,"").split("."),Y=q.replace(K,"").split("."),Ee=Math.min(re.length,Y.length),ve=0;ve<Ee;ve++){var Oe=parseInt(re[ve],10)-parseInt(Y[ve],10);if(Oe)return Oe}return re.length-Y.length}function E(z){return c.settings&&c.settings.confirmActionFunc?c.settings.confirmActionFunc(z):confirm(z)}function O(){if(typeof window>"u")return!1;var z=window.navigator.userAgent,q=z.indexOf("MSIE "),K=z.indexOf("Trident/");return q>-1||K>-1}function y(){if(typeof window>"u")return!1;if(typeof y.isIEOrEdge>"u"){var z=window.navigator.userAgent,q=z.indexOf("MSIE "),K=z.indexOf("Trident/"),re=z.indexOf("Edge/");y.isIEOrEdge=re>0||K>0||q>0}return y.isIEOrEdge}function b(z,q){try{for(var K=atob(z.split(",")[1]),re=z.split(",")[0].split(":")[1].split(";")[0],Y=new ArrayBuffer(K.length),Ee=new Uint8Array(Y),ve=0;ve<K.length;ve++)Ee[ve]=K.charCodeAt(ve);var Oe=new Blob([Y],{type:re});typeof window<"u"&&window.navigator&&window.navigator.msSaveBlob&&window.navigator.msSaveOrOpenBlob(Oe,q)}catch{}}function P(){return typeof window<"u"&&typeof window.orientation<"u"}var g=function(z){return!!z&&!!("host"in z&&z.host)},m=function(z){var q=c.settings.environment.root;return typeof z=="string"?q.getElementById(z):z};function v(z,q){if(q===void 0&&(q=0),typeof c.settings.environment>"u")return!1;var K=c.settings.environment.root,re=g(K)?K.host.clientHeight:K.documentElement.clientHeight,Y=z.getBoundingClientRect(),Ee=Math.max(re,window.innerHeight),ve=-q,Oe=Ee+q,pe=Y.top,Ze=Y.bottom,st=Math.max(ve,pe),Te=Math.min(Oe,Ze);return st<=Te}function f(z){var q=c.settings.environment.root;return z?z.scrollHeight>z.clientHeight&&(getComputedStyle(z).overflowY==="scroll"||getComputedStyle(z).overflowY==="auto")||z.scrollWidth>z.clientWidth&&(getComputedStyle(z).overflowX==="scroll"||getComputedStyle(z).overflowX==="auto")?z:f(z.parentElement):g(q)?q.host:q.documentElement}function l(z){var q=c.settings.environment;if(q){var K=q.root,re=K.getElementById(z);if(re){var Y=f(re);Y&&Y.dispatchEvent(new CustomEvent("scroll"))}}}function d(z){!z||typeof window>"u"||!window.location||(window.location.href=z)}function h(z){if(!z)return z;var q=c.settings.customIcons[z];return q||z}function p(z,q,K,re,Y,Ee){if(Y){z!=="auto"&&(Y.style.width=(z||q||16)+"px",Y.style.height=(z||K||16)+"px");var ve=Y.childNodes[0],Oe=h(re);ve.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+Oe);var pe=Y.getElementsByTagName("title")[0];if(Ee)pe||(pe=document.createElementNS("http://www.w3.org/2000/svg","title"),Y.appendChild(pe));else{pe&&Y.removeChild(pe);return}pe.textContent=Ee}}function u(z){return typeof z!="function"?z:z()}function x(z){if(typeof z=="number")return""+z+"px";if(z&&typeof z=="string"&&z.length>0){var q=z[z.length-1];if(q>="0"&&q<="9"||q==".")try{var K=parseFloat(z);return""+K+"px"}catch{}}return z}var V="sv-focused--by-key";function A(z){var q=z.target;!q||!q.classList||q.classList.remove(V)}function M(z,q){if(!(z.target&&z.target.contentEditable==="true")){var K=z.target;if(K){var re=z.which||z.keyCode;if(re===9){K.classList&&!K.classList.contains(V)&&K.classList.add(V);return}if(q){if(!q.__keyDownReceived)return;q.__keyDownReceived=!1}re===13||re===32?K.click&&K.click():(!q||q.processEsc)&&re===27&&K.blur&&K.blur()}}}function T(z,q){if(q===void 0&&(q={processEsc:!0}),q&&(q.__keyDownReceived=!0),!(z.target&&z.target.contentEditable==="true")){var K=z.which||z.keyCode,re=[13,32];q.processEsc&&re.push(27),re.indexOf(K)!==-1&&z.preventDefault()}}function D(z,q){if(z){q||(q=function(re){return window.getComputedStyle(re)});var K=q(z);z.style.height="auto",z.style.height=z.scrollHeight+parseFloat(K.borderTopWidth)+parseFloat(K.borderBottomWidth)+"px"}}function R(z){return z.originalEvent||z}function S(z){z.preventDefault(),z.stopPropagation()}function I(z){var q=/\s*?([\w-]+)\s*?/g;return z.replace(q,".$1")}function w(z){return getComputedStyle?Number.parseFloat(getComputedStyle(z).width):z.offsetWidth}function L(z){return!!(z.offsetWidth||z.offsetHeight||z.getClientRects().length)}function F(z){for(var q,K=0;K<z.children.length;K++)!q&&getComputedStyle(z.children[K]).display!=="none"&&(q=z.children[K]);return q}function W(z,q){if(z)return q.every(function(K){return!K||z.classList.contains(K)})?z:W(z.parentElement,q)}function U(z){if(window.getSelection&&document.createRange&&z.childNodes.length>0){var q=document.getSelection(),K=q.getRangeAt(0);K.setStart(K.endContainer,K.endOffset),K.setEndAfter(z.lastChild),q.removeAllRanges(),q.addRange(K);var re=q.toString().replace(/\n/g,"").length;z.innerText=z.innerText.replace(/\n/g,""),K=document.createRange(),K.setStart(z.childNodes[0],z.innerText.length-re),K.collapse(!0),q.removeAllRanges(),q.addRange(K)}}function Q(z,q){if(!(!q||!z)&&typeof q=="object")for(var K in z){var re=z[K];!Array.isArray(re)&&re&&typeof re=="object"?((!q[K]||typeof q[K]!="object")&&(q[K]={}),Q(re,q[K])):q[K]=re}}var $=function(){function z(){this._result=""}return z.prototype.log=function(q){this._result+="->"+q},Object.defineProperty(z.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),z}()},react:function(o,a){o.exports=n},"react-dom":function(o,a){o.exports=r},"survey-core":function(o,a){o.exports=i}})})})(oT);var Vj=oT.exports;const wj="/CUF/assets/findLogo-74eb7ed4.png";var lg=function(t,e){return lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},lg(t,e)};function Et(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var $i=function(){return $i=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$i.apply(this,arguments)};function sT(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(E){try{C(r.next(E))}catch(O){a(O)}}function c(E){try{C(r.throw(E))}catch(O){a(O)}}function C(E){E.done?o(E.value):i(E.value).then(s,c)}C((r=r.apply(t,e||[])).next())})}function aT(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(C){return function(E){return c([C,E])}}function c(C){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,C[0]&&(n=0)),n;)try{if(r=1,i&&(o=C[0]&2?i.return:C[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,C[1])).done)return o;switch(i=0,o&&(C=[C[0]&2,o.value]),C[0]){case 0:case 1:o=C;break;case 4:return n.label++,{value:C[1],done:!1};case 5:n.label++,i=C[1],C=[0];continue;case 7:C=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(C[0]===6||C[0]===2)){n=0;continue}if(C[0]===3&&(!o||C[1]>o[0]&&C[1]<o[3])){n.label=C[1];break}if(C[0]===6&&n.label<o[1]){n.label=o[1],o=C;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(C);break}o[2]&&n.ops.pop(),n.trys.pop();continue}C=e.call(t,n)}catch(E){C=[6,E],i=0}finally{r=o=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}}function Ln(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cn(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function qi(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lT={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie=function(t,e){if(!t)throw ta(e)},ta=function(t){return new Error("Firebase Database ("+lT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uT=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Aj=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=t[n++],a=t[n++],s=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},ny={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,c=i+2<t.length,C=c?t[i+2]:0,E=o>>2,O=(o&3)<<4|s>>4,y=(s&15)<<2|C>>6,b=C&63;c||(b=64,a||(y=64)),r.push(n[E],n[O],n[y],n[b])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uT(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Aj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,s=a?n[t.charAt(i)]:0;++i;var c=i<t.length,C=c?n[t.charAt(i)]:64;++i;var E=i<t.length,O=E?n[t.charAt(i)]:64;if(++i,o==null||s==null||C==null||O==null)throw Error();var y=o<<2|s>>4;if(r.push(y),C!==64){var b=s<<4&240|C>>2;if(r.push(b),O!==64){var P=C<<6&192|O;r.push(P)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},cT=function(t){var e=uT(t);return ny.encodeByteArray(e,!0)},PE=function(t){return cT(t).replace(/\./g,"")},bE=function(t){try{return ny.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t){return zl(void 0,t)}function zl(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!Lj(r)||(t[r]=zl(t[r],e[r]));return t}function Lj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=$i({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[PE(JSON.stringify(n)),PE(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nj())}function jj(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fj(){return typeof self=="object"&&self.self===self}function Uj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hT(){return lT.NODE_ADMIN===!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wj="FirebaseError",Qj=function(t){Et(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=Wj,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ry.prototype.create),o}return e}(Error),ry=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,a=this.errors[e],s=a?zj(a,i):"Error",c=this.serviceName+": "+s+" ("+o+").",C=new Qj(o,c,i);return C},t}();function zj(t,e){return t.replace(Hj,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var Hj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){return JSON.parse(t)}function jt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pT=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Hl(bE(o[0])||""),n=Hl(bE(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Kj=function(t){var e=pT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$j=function(t){var e=pT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ho(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ug(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ff(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){for(var e=[],n=function(c,C){Array.isArray(C)?C.forEach(function(E){e.push(encodeURIComponent(c)+"="+encodeURIComponent(E))}):e.push(encodeURIComponent(c)+"="+encodeURIComponent(C))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],s=o[1];n(a,s)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _j=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],s=this.chain_[1],c=this.chain_[2],C=this.chain_[3],E=this.chain_[4],O,y,i=0;i<80;i++){i<40?i<20?(O=C^s&(c^C),y=1518500249):(O=s^c^C,y=1859775393):i<60?(O=s&c|C&(s|c),y=2400959708):(O=s^c^C,y=3395469782);var o=(a<<5|a>>>27)+O+E+y+r[i]&4294967295;E=C,C=c,c=(s<<30|s>>>2)&4294967295,s=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+C&4294967295,this.chain_[4]=this.chain_[4]+E&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},t}();function Gj(t,e){var n=new kj(t,e);return n.subscribe.bind(n)}var kj=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Jj(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Vh),o.error===void 0&&(o.error=Vh),o.complete===void 0&&(o.complete=Vh);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function Jj(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function Vh(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function Tn(t,e){return t+" failed: "+e+" argument "}function Ht(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Tn(t,e)+"must be a valid function.")}function EE(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Tn(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yj=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,ie(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ld=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t){return t&&t._delegate?t._delegate:t}var su=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gT=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new Pn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(Zj(e))try{this.getOrInitializeService({instanceIdentifier:vo})}catch{}try{for(var i=Ln(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=cn(o.value,2),s=a[0],c=a[1],C=this.normalizeInstanceIdentifier(s);try{var E=this.getOrInitializeService({instanceIdentifier:C});c.resolve(E)}catch{}}}catch(O){n={error:O}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=vo),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return sT(this,void 0,void 0,function(){var e;return aT(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(qi(qi([],cn(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),cn(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=vo),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=vo),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.options,o=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=Ln(this.instancesDeferred.entries()),C=c.next();!C.done;C=c.next()){var E=cn(C.value,2),O=E[0],y=E[1],b=this.normalizeInstanceIdentifier(O);a===b&&y.resolve(s)}}catch(P){n={error:P}}finally{try{C&&!C.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return s},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);var a=this.instances.get(i);return a&&e(a,i),function(){o.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var a=Ln(o),s=a.next();!s.done;s=a.next()){var c=s.value;try{c(e,n)}catch{}}}catch(C){r={error:C}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Xj(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=vo),this.component?this.component.multipleInstances?e:vo:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function Xj(t){return t===vo?void 0:t}function Zj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mT=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new gT(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function rr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho,iy=[],et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));var yT={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},eF=et.INFO,tF=(ho={},ho[et.DEBUG]="log",ho[et.VERBOSE]="log",ho[et.INFO]="info",ho[et.WARN]="warn",ho[et.ERROR]="error",ho),nF=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=tF[e];if(o)console[o].apply(console,rr(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},vT=function(){function t(e){this.name=e,this._logLevel=eF,this._logHandler=nF,this._userLogHandler=null,iy.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in et))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?yT[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,rr([this,et.DEBUG],e)),this._logHandler.apply(this,rr([this,et.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,rr([this,et.VERBOSE],e)),this._logHandler.apply(this,rr([this,et.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,rr([this,et.INFO],e)),this._logHandler.apply(this,rr([this,et.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,rr([this,et.WARN],e)),this._logHandler.apply(this,rr([this,et.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,rr([this,et.ERROR],e)),this._logHandler.apply(this,rr([this,et.ERROR],e))},t}();function rF(t){iy.forEach(function(e){e.setLogLevel(t)})}function iF(t,e){for(var n=function(a){var s=null;e&&e.level&&(s=yT[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(c,C){for(var E=[],O=2;O<arguments.length;O++)E[O-2]=arguments[O];var y=E.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");C>=(s??c.logLevel)&&t({level:et[C].toLowerCase(),message:y,args:E,type:c.name})}},r=0,i=iy;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gi,oF=(gi={},gi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",gi["bad-app-name"]="Illegal App name: '{$appName}",gi["duplicate-app"]="Firebase App named '{$appName}' already exists",gi["app-deleted"]="Firebase App named '{$appName}' already deleted",gi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",gi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",gi),os=new ry("app","Firebase",oF),CT="@firebase/app",sF="0.6.30",aF="@firebase/analytics",lF="@firebase/app-check",uF="@firebase/auth",cF="@firebase/database",fF="@firebase/functions",dF="@firebase/installations",hF="@firebase/messaging",pF="@firebase/performance",gF="@firebase/remote-config",mF="@firebase/storage",yF="@firebase/firestore",vF="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,df="[DEFAULT]",CF=(en={},en[CT]="fire-core",en[aF]="fire-analytics",en[lF]="fire-app-check",en[uF]="fire-auth",en[cF]="fire-rtdb",en[fF]="fire-fn",en[dF]="fire-iid",en[hF]="fire-fcm",en[pF]="fire-perf",en[gF]="fire-rc",en[mF]="fire-gcs",en[yF]="fire-fst",en["fire-js"]="fire-js",en[vF]="fire-js-all",en);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hs=new vT("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rc=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=fT(e),this.container=new mT(n.name),this._addComponent(new su("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=df),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=df),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Hs.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw os.create("app-deleted",{appName:this.name_})},t}();Rc.prototype.name&&Rc.prototype.options||Rc.prototype.delete||console.log("dc");var PF="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:C,setLogLevel:rF,onLog:E,apps:null,SDK_VERSION:PF,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:O}};r.default=r,Object.defineProperty(r,"apps",{get:s});function i(y){delete e[y]}function o(y){if(y=y||df,!Nn(e,y))throw os.create("no-app",{appName:y});return e[y]}o.App=t;function a(y,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var P=b;b={name:P}}var g=b;g.name===void 0&&(g.name=df);var m=g.name;if(typeof m!="string"||!m)throw os.create("bad-app-name",{appName:String(m)});if(Nn(e,m))throw os.create("duplicate-app",{appName:m});var v=new t(y,g,r);return e[m]=v,v}function s(){return Object.keys(e).map(function(y){return e[y]})}function c(y){var b=y.name;if(n.has(b))return Hs.debug("There were multiple attempts to register component "+b+"."),y.type==="PUBLIC"?r[b]:null;if(n.set(b,y),y.type==="PUBLIC"){var P=function(f){if(f===void 0&&(f=o()),typeof f[b]!="function")throw os.create("invalid-app-argument",{appName:b});return f[b]()};y.serviceProps!==void 0&&zl(P,y.serviceProps),r[b]=P,t.prototype[b]=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var d=this._getService.bind(this,b);return d.apply(this,y.multipleInstances?f:[])}}for(var g=0,m=Object.keys(e);g<m.length;g++){var v=m[g];e[v]._addComponent(y)}return y.type==="PUBLIC"?r[b]:null}function C(y,b,P){var g,m=(g=CF[y])!==null&&g!==void 0?g:y;P&&(m+="-"+P);var v=m.match(/\s|\//),f=b.match(/\s|\//);if(v||f){var l=['Unable to register library "'+m+'" with version "'+b+'":'];v&&l.push('library name "'+m+'" contains illegal characters (whitespace or "/")'),v&&f&&l.push("and"),f&&l.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Hs.warn(l.join(" "));return}c(new su(m+"-version",function(){return{library:m,version:b}},"VERSION"))}function E(y,b){if(y!==null&&typeof y!="function")throw os.create("invalid-log-argument");iF(y,b)}function O(y,b){if(b==="serverAuth")return null;var P=b;return P}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){var t=bF(Rc);t.INTERNAL=$i($i({},t.INTERNAL),{createFirebaseNamespace:PT,extendNamespace:e,createSubscribe:Gj,ErrorFactory:ry,deepExtend:zl});function e(n){zl(t,n)}return t}var oy=PT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EF=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(OF(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function OF(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t,e){t.INTERNAL.registerComponent(new su("platform-logger",function(n){return new EF(n)},"PRIVATE")),t.registerVersion(CT,sF,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Fj()&&self.firebase!==void 0){Hs.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var OE=self.firebase.SDK_VERSION;OE&&OE.indexOf("LITE")>=0&&Hs.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var xF=oy.initializeApp;oy.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return jj()&&Hs.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),xF.apply(void 0,t)};var na=oy;SF(na);var TF="firebase",bT="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na.registerVersion(TF,bT,"app");na.SDK_VERSION=bT;var RF="@firebase/database",DF="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ET="";function OT(t){ET=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IF=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),jt(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Hl(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MF=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return Nn(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ST=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new IF(e)}}catch{}return new MF},Ro=ST("localStorage"),cg=ST("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Is=new vT("@firebase/database"),xT=function(){var t=1;return function(){return t++}}(),TT=function(t){var e=Yj(t),n=new _j;n.update(e);var r=n.digest();return ny.encodeByteArray(r)},au=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=au.apply(null,i):typeof i=="object"?n+=jt(i):n+=i,n+=" "}return n},Ao=null,SE=!0,RT=function(t,e){ie(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Is.logLevel=et.VERBOSE,Ao=Is.log.bind(Is),e&&cg.set("logging_enabled",!0)):typeof t=="function"?Ao=t:(Ao=null,cg.remove("logging_enabled"))},Kt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(SE===!0&&(SE=!1,Ao===null&&cg.get("logging_enabled")===!0&&RT(!0)),Ao){var n=au.apply(null,t);Ao(n)}},lu=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Kt.apply(void 0,qi([t],cn(e)))}},fg=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+au.apply(void 0,qi([],cn(t)));Is.error(n)},Mr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+au.apply(void 0,qi([],cn(t)));throw Is.error(n),new Error(n)},Jt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+au.apply(void 0,qi([],cn(t)));Is.warn(n)},VF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ud=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wF=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ni="[MIN_NAME]",Vr="[MAX_NAME]",Jo=function(t,e){if(t===e)return 0;if(t===ni||e===Vr)return-1;if(e===ni||t===Vr)return 1;var n=hf(t),r=hf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},AF=function(t,e){return t===e?0:t<e?-1:1},Ta=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+jt(e))},sy=function(t){if(typeof t!="object"||t===null)return jt(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=jt(e[i]),r+=":",r+=sy(t[e[i]]);return r+="}",r},DT=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Wt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var IT=function(t){ie(!ud(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,o,a,s,c;t===0?(o=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(s=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=s+r,a=Math.round(t*Math.pow(2,n-s)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));var C=[];for(c=n;c;c-=1)C.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)C.push(o%2?1:0),o=Math.floor(o/2);C.push(i?1:0),C.reverse();var E=C.join(""),O="";for(c=0;c<64;c+=8){var y=parseInt(E.substr(c,8),2).toString(16);y.length===1&&(y="0"+y),O=O+y}return O.toLowerCase()},LF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function NF(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var jF=new RegExp("^-?(0*)\\d{1,10}$"),MT=-2147483648,ay=2147483647,hf=function(t){if(jF.test(t)){var e=Number(t);if(e>=MT&&e<=ay)return e}return null},ra=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw Jt("Exception was thrown by user callback.",n),e},Math.floor(0))}},FF=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ol=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UF=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){Jt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WF=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jt(e)},t}(),sl=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ly="5",VT="v",wT="s",AT="r",LT="f",BT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,NT="ls",QF="p",dg="ac",jT="websocket",FT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uy=function(){function t(e,n,r,i,o,a,s){o===void 0&&(o=!1),a===void 0&&(a=""),s===void 0&&(s=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ro.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ro.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function zF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function UT(t,e,n){ie(typeof e=="string","typeof type must == string"),ie(typeof n=="object","typeof params must == object");var r;if(e===jT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===FT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);zF(t)&&(n.ns=t.namespace);var i=[];return Wt(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HF=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),Nn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return fT(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wh={},Ah={};function cy(t){var e=t.toString();return wh[e]||(wh[e]=new HF),wh[e]}function KF(t,e){var n=t.toString();return Ah[n]||(Ah[n]=e()),Ah[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $F=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var s=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var c=function(E){s[E]&&ra(function(){r.onMessage_(s[E])})},C=0;C<s.length;++C)c(C);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xE="start",qF="close",_F="pLPCommand",GF="pRTLPCB",WT="id",QT="pw",zT="ser",kF="cb",JF="seg",YF="ts",XF="d",ZF="dframe",HT=1870,KT=30,e3=HT-KT,t3=25e3,n3=3e4,fy=function(){function t(e,n,r,i,o,a,s){var c=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lu(e),this.stats_=cy(n),this.urlFn=function(C){return c.appCheckToken&&(C[dg]=c.appCheckToken),UT(n,FT,C)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $F(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(n3)),wF(function(){if(!r.isClosed_){r.scriptTagHolder=new r3(function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var c=cn(a,5),C=c[0],E=c[1],O=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,C===xE)r.id=E,r.password=O;else if(C===qF)E?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(E,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+C)},function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var c=cn(a,2),C=c[0],E=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(C,E)},function(){r.onClosed_()},r.urlFn);var i={};i[xE]="t",i[zT]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[kF]=r.scriptTagHolder.uniqueCallbackIdentifier),i[VT]=ly,r.transportSessionId&&(i[wT]=r.transportSessionId),r.lastSessionId&&(i[NT]=r.lastSessionId),r.applicationId&&(i[QF]=r.applicationId),r.appCheckToken&&(i[dg]=r.appCheckToken),typeof location<"u"&&location.hostname&&BT.test(location.hostname)&&(i[AT]=LT);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!LF()&&!BF()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=cT(n),i=DT(r,e3),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[ZF]="t",r[WT]=e,r[QT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=jt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),r3=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xT(),window[_F+this.uniqueCallbackIdentifier]=e,window[GF+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";<\/script>'}var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){Kt("frame writing exception"),c.stack&&Kt(c.stack),Kt(c)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||Kt("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[WT]=this.myID,e[QT]=this.myPW,e[zT]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+KT+r.length<=HT){var a=this.pendingSegs.shift();r=r+"&"+JF+i+"="+a.seg+"&"+YF+i+"="+a.ts+"&"+XF+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(t3)),a=function(){clearTimeout(o),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Kt("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i3=16384,o3=45e3,pf=null;typeof MozWebSocket<"u"?pf=MozWebSocket:typeof WebSocket<"u"&&(pf=WebSocket);var bo=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lu(this.connId),this.stats_=cy(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var o={};return o[VT]=ly,typeof location<"u"&&location.hostname&&BT.test(location.hostname)&&(o[AT]=LT),n&&(o[wT]=n),r&&(o[NT]=r),i&&(o[dg]=i),UT(e,jT,o)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ro.set("previous_websocket_failure",!0);try{var i,o,a,s;if(!hT()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new pf(this.connURL,[],o)}}catch(C){this.log_("Error instantiating WebSocket.");var c=C.message||C.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(C){r.handleIncomingFrame(C)},this.mySock.onerror=function(C){r.log_("WebSocket error.  Closing connection.");var E=C.message||C.data;E&&r.log_(E),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&pf!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return Ro.isInMemoryStorage||Ro.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){Ro.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Hl(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(ie(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=DT(n,i3);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(o3))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s3=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[fy,bo]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=bo&&bo.isAvailable(),o=i&&!bo.previouslyFailed();if(e.webSocketOnly&&(i||Jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[bo];else{var a=this.transports_=[];try{for(var s=Ln(t.ALL_TRANSPORTS),c=s.next();!c.done;c=s.next()){var C=c.value;C&&C.isAvailable()&&a.push(C)}}catch(E){n={error:E}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a3=6e4,l3=5e3,u3=10*1024,c3=100*1024,Lh="t",TE="d",f3="s",RE="r",d3="e",DE="o",IE="a",ME="n",VE="p",h3="h",$T=function(){function t(e,n,r,i,o,a,s,c,C,E){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=s,this.onDisconnect_=c,this.onKill_=C,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lu("c:"+this.id+":"),this.transportManager_=new s3(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=ol(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>c3?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>u3?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(Lh in e){var n=e[Lh];n===IE?this.upgradeIfSecondaryHealthy_():n===RE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===DE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Ta("t",e),r=Ta("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:VE,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:IE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ME,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Ta("t",e),r=Ta("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Ta(Lh,e);if(TE in e){var r=e[TE];if(n===h3)this.onHandshake_(r);else if(n===ME){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===f3?this.onConnectionShutdown_(r):n===RE?this.onReset_(r):n===d3?fg("Server Error: "+r):n===DE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fg("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ly!==r&&Jt("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),ol(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(a3))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ol(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(l3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:VE,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ro.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qT=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _T=function(){function t(e){this.allowedEvents_=e,this.listeners_={},ie(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=qi([],cn(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},t.prototype.validateEventType_=function(e){ie(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wE=function(t){Et(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return ie(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(_T);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AE=32,LE=768,_e=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function He(){return new _e("")}function Ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _i(t){return t.pieces_.length-t.pieceNum_}function tt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new _e(t.pieces_,e)}function dy(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function p3(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Kl(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function GT(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _e(e,0)}function gt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _e)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new _e(n,0)}function Le(t){return t.pieceNum_>=t.pieces_.length}function fn(t,e){var n=Ae(t),r=Ae(e);if(n===null)return e;if(n===r)return fn(tt(t),tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function g3(t,e){for(var n=Kl(t,0),r=Kl(e,0),i=0;i<n.length&&i<r.length;i++){var o=Jo(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function hy(t,e){if(_i(t)!==_i(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Gn(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(_i(t)>_i(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var m3=function(){function t(e,n){this.errorPrefix_=n,this.parts_=Kl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=ld(this.parts_[r]);kT(this)}return t}();function y3(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ld(e),kT(t)}function v3(t){var e=t.parts_.pop();t.byteLength_-=ld(e),t.parts_.length>0&&(t.byteLength_-=1)}function kT(t){if(t.byteLength_>LE)throw new Error(t.errorPrefix_+"has a key path longer than "+LE+" bytes ("+t.byteLength_+").");if(t.parts_.length>AE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+AE+") or object contains a cycle "+Co(t))}function Co(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C3=function(t){Et(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return ie(n==="visible","Unknown event type: "+n),[this.visible_]},e}(_T);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ra=1e3,P3=60*5*1e3,b3=3*1e3,BE=30*1e3,E3=1.3,O3=3e4,S3="server_kill",NE=3,Lo=function(t){Et(e,t);function e(n,r,i,o,a,s,c,C){var E=t.call(this)||this;if(E.repoInfo_=n,E.applicationId_=r,E.onDataUpdate_=i,E.onConnectStatus_=o,E.onServerInfoUpdate_=a,E.authTokenProvider_=s,E.appCheckTokenProvider_=c,E.authOverride_=C,E.id=e.nextPersistentConnectionId_++,E.log_=lu("p:"+E.id+":"),E.interruptReasons_={},E.listens=new Map,E.outstandingPuts_=[],E.outstandingGets_=[],E.outstandingPutCount_=0,E.outstandingGetCount_=0,E.onDisconnectRequestQueue_=[],E.connected_=!1,E.reconnectDelay_=Ra,E.maxReconnectDelay_=P3,E.securityDebugCallback_=null,E.lastSessionId=null,E.establishConnectionTimer_=null,E.visible_=!1,E.requestCBHash_={},E.requestNumber_=0,E.realtime_=null,E.authToken_=null,E.appCheckToken_=null,E.forceTokenRefresh_=!1,E.invalidAuthTokenCount_=0,E.invalidAppCheckTokenCount_=0,E.firstConnection_=!0,E.lastConnectionAttemptTime_=null,E.lastConnectionEstablishedTime_=null,C&&!hT())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return C3.getInstance().on("visible",E.onVisible_,E),n.host.indexOf("fblocal")===-1&&wE.getInstance().on("online",E.onOnline_,E),E}return e.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(jt(a)),ie(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new Pn,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(c){var C=c.d;c.s==="ok"?(r.onDataUpdate_(o.p,C,!1,null),i.resolve(C)):i.reject(C)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[s];c===void 0||a!==c||(delete r.outstandingGets_[s],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+s+" timed out on connection"),i.reject(new Error("Client is offline.")))},b3),this.connected_&&this.sendGet_(s),i.promise},e.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,s=n._path.toString();this.log_("Listen called for "+s+" "+a),this.listens.has(s)||this.listens.set(s,new Map),ie(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ie(!this.listens.get(s).has(a),"listen() called twice for same path/queryId.");var c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(s).set(a,c),this.connected_&&this.sendListen_(c)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var s={p:o},c="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(c,s,function(C){var E=C.d,O=C.s;e.warnOnListenWarnings_(E,i);var y=r.listens.get(o)&&r.listens.get(o).get(a);y===n&&(r.log_("listen response",C),O!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(O,E))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Nn(n,"w")){var i=Ho(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Jt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||$j(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=BE)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=Kj(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var s=a.s,c=a.d||"error";n.authToken_===r&&(s==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(s,c))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),ie(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},s="n";o&&(a.q=i,a.t=o),this.sendRequest(s,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(s){o&&setTimeout(function(){o(s.s,s.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},e.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},e.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var s={p:r,d:i};a!==void 0&&(s.h=a),this.outstandingPuts_.push({action:n,request:s,onComplete:o}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(s){r.log_(i+" response",s),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(s.s,s.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var s=o.d;r.log_("reportStats","Error sending stats: "+s)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+jt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):fg("Unrecognized action received from server: "+jt(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;ie(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>O3&&(this.reconnectDelay_=Ra),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*E3)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return sT(this,void 0,void 0,function(){var n,r,i,o,a,s,c,C,E,O,y,b,P,g,m=this;return aT(this,function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,s=!1,c=null,C=function(){c?c.close():(s=!0,i())},E=function(f){ie(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)},this.realtime_={close:C,sendRequest:E},O=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(O),this.appCheckTokenProvider_.getToken(O)])];case 2:return y=cn.apply(void 0,[v.sent(),2]),b=y[0],P=y[1],s?Kt("getToken() completed but was canceled"):(Kt("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=P&&P.token,c=new $T(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(f){Jt(f+" ("+m.repoInfo_.toString()+")"),m.interrupt(S3)},a)),[3,4];case 3:return g=v.sent(),this.log_("Failed to get token: "+g),s||(this.repoInfo_.nodeAdmin&&Jt(g),C()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){Kt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){Kt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ug(this.interruptReasons_)&&(this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return sy(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new _e(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(n,r){Kt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=NE&&(this.reconnectDelay_=BE,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){Kt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=NE&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=Ln(this.listens.values()),s=a.next();!s.done;s=a.next()){var c=s.value;try{for(var C=(i=void 0,Ln(c.values())),E=C.next();!E.done;E=C.next()){var O=E.value;this.sendListen_(O)}}catch(P){i={error:P}}finally{try{E&&!E.done&&(o=C.return)&&o.call(C)}finally{if(i)throw i.error}}}}catch(P){n={error:P}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var y=0;y<this.outstandingPuts_.length;y++)this.outstandingPuts_[y]&&this.sendPut_(y);for(;this.onDisconnectRequestQueue_.length;){var b=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(b.action,b.pathString,b.data,b.onComplete)}for(var y=0;y<this.outstandingGets_.length;y++)this.outstandingGets_[y]&&this.sendGet_(y)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+ET.replace(/\./g,"-")]=1,dT()?n["framework.cordova"]=1:Uj()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=wE.getInstance().currentlyOnline();return ug(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(qT);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cd=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new Ne(ni,e),i=new Ne(ni,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return Ne.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zu,JT=function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Zu},set:function(n){Zu=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Jo(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw ta("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return Ne.MIN},e.prototype.maxPost=function(){return new Ne(Vr,Zu)},e.prototype.makePost=function(n,r){return ie(typeof n=="string","KeyIndex indexValue must always be a string."),new Ne(n,Zu)},e.prototype.toString=function(){return".key"},e}(cd),Ir=new JT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ec=function(){function t(e,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),sr=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??Gr.EMPTY_NODE,this.right=o??Gr.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Gr.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Gr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),x3=function(){function t(){}return t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new sr(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Gr=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,sr.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,sr.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new ec(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new ec(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new ec(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new ec(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new x3,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t,e){return Jo(t.name,e.name)}function py(t,e){return Jo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hg;function R3(t){hg=t}var YT=function(t){return typeof t=="number"?"number:"+IT(t):"string:"+t},XT=function(t){if(t.isLeafNode()){var e=t.val();ie(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Nn(e,".sv"),"Priority must be a string or number.")}else ie(t===hg||t.isEmpty(),"priority of unexpected type.");ie(t===hg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jE,Ks=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ie(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),XT(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return jE},set:function(e){jE=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Le(e)?this:Ae(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=Ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ie(r!==".priority"||_i(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(tt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+YT(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=IT(this.value_):e+=this.value_,this.lazyHash_=TT(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(ie(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return ie(i>=0,"Unknown leaf type: "+n),ie(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZT,eR;function D3(t){ZT=t}function I3(t){eR=t}var M3=function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?Jo(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return Ne.MIN},e.prototype.maxPost=function(){return new Ne(Vr,new Ks("[PRIORITY-POST]",eR))},e.prototype.makePost=function(n,r){var i=ZT(n);return new Ne(r,new Ks("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(cd),ot=new M3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V3=Math.log(2),w3=function(){function t(e){var n=function(o){return parseInt(Math.log(o)/V3,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),gf=function(t,e,n,r){t.sort(e);var i=function(c,C){var E=C-c,O,y;if(E===0)return null;if(E===1)return O=t[c],y=n?n(O):O,new sr(y,O.node,sr.BLACK,null,null);var b=parseInt(E/2,10)+c,P=i(c,b),g=i(b+1,C);return O=t[b],y=n?n(O):O,new sr(y,O.node,sr.BLACK,P,g)},o=function(c){for(var C=null,E=null,O=t.length,y=function(v,f){var l=O-v,d=O;O-=v;var h=i(l+1,d),p=t[l],u=n?n(p):p;b(new sr(u,p.node,f,null,h))},b=function(v){C?(C.left=v,C=v):(E=v,C=v)},P=0;P<c.count;++P){var g=c.nextBitIsOne(),m=Math.pow(2,c.count-(P+1));g?y(m,sr.BLACK):(y(m,sr.BLACK),y(m,sr.RED))}return E},a=new w3(t.length),s=o(a);return new Gr(r||e,s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bh,is={},mf=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return ie(is&&ot,"ChildrenNode.ts has not been loaded"),Bh=Bh||new t({".priority":is},{".priority":ot}),Bh},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=Ho(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Gr?n:null},t.prototype.hasIndex=function(e){return Nn(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){ie(e!==Ir,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Ne.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var s;i?s=gf(r,e.getCompare()):s=is;var c=e.toString(),C=$i({},this.indexSet_);C[c]=e;var E=$i({},this.indexes_);return E[c]=s,new t(E,C)},t.prototype.addToIndexes=function(e,n){var r=this,i=ff(this.indexes_,function(o,a){var s=Ho(r.indexSet_,a);if(ie(s,"Missing index implementation for "+a),o===is)if(s.isDefinedOn(e.node)){for(var c=[],C=n.getIterator(Ne.Wrap),E=C.getNext();E;)E.name!==e.name&&c.push(E),E=C.getNext();return c.push(e),gf(c,s.getCompare())}else return is;else{var O=n.get(e.name),y=o;return O&&(y=y.remove(new Ne(e.name,O))),y.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=ff(this.indexes_,function(i){if(i===is)return i;var o=n.get(e.name);return o?i.remove(new Ne(e.name,o)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Da,Re=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&XT(this.priorityNode_),this.children_.isEmpty()&&ie(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Da||(Da=new t(new Gr(py),null,mf.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Da},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?Da:n},t.prototype.getChild=function(e){var n=Ae(e);return n===null?this:this.getImmediateChild(n).getChild(tt(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(ie(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new Ne(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Da:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(e,n){var r=Ae(e);if(r===null)return n;ie(Ae(e)!==".priority"||_i(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(tt(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ot,function(c,C){n[c]=C.val(e),r++,o&&t.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+YT(this.getPriority().val())+":"),this.forEachChild(ot,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":TT(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new Ne(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new Ne(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new Ne(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,Ne.Wrap),o=i.peek();o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,Ne.Wrap),o=i.peek();o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===uu?-1:0},t.prototype.withIndex=function(e){if(e===Ir||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===Ir||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(ot),i=n.getIterator(ot),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===Ir?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),A3=function(t){Et(e,t);function e(){return t.call(this,new Gr(py),Re.EMPTY_NODE,mf.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return Re.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Re),uu=new A3;Object.defineProperties(Ne,{MIN:{value:new Ne(ni,Re.EMPTY_NODE)},MAX:{value:new Ne(Vr,uu)}});JT.__EMPTY_NODE=Re.EMPTY_NODE;Ks.__childrenNodeConstructor=Re;R3(uu);I3(uu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L3=!0;function Ct(t,e){if(e===void 0&&(e=null),t===null)return Re.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ie(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new Ks(n,Ct(e))}if(!(t instanceof Array)&&L3){var r=[],i=!1,o=t;if(Wt(o,function(C,E){if(C.substring(0,1)!=="."){var O=Ct(E);O.isEmpty()||(i=i||!O.getPriority().isEmpty(),r.push(new Ne(C,O)))}}),r.length===0)return Re.EMPTY_NODE;var a=gf(r,T3,function(C){return C.name},py);if(i){var s=gf(r,ot.getCompare());return new Re(a,Ct(e),new mf({".priority":s},{".priority":ot}))}else return new Re(a,Ct(e),mf.Default)}else{var c=Re.EMPTY_NODE;return Wt(t,function(C,E){if(Nn(t,C)&&C.substring(0,1)!=="."){var O=Ct(E);(O.isLeafNode()||!O.isEmpty())&&(c=c.updateImmediateChild(C,O))}}),c.updatePriority(Ct(e))}}D3(Ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gy=function(t){Et(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,ie(!Le(n)&&Ae(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?Jo(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=Ct(n),o=Re.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ne(r,o)},e.prototype.maxPost=function(){var n=Re.EMPTY_NODE.updateChild(this.indexPath_,uu);return new Ne(Vr,n)},e.prototype.toString=function(){return Kl(this.indexPath_,0).join("/")},e}(cd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B3=function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Jo(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return Ne.MIN},e.prototype.maxPost=function(){return Ne.MAX},e.prototype.makePost=function(n,r){var i=Ct(n);return new Ne(r,i)},e.prototype.toString=function(){return".value"},e}(cd),my=new B3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $s="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pg="-",tR="z",nR=786,N3=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=$s.charAt(n%64),n=Math.floor(n/64);ie(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=$s.charAt(e[i]);return ie(a.length===20,"nextPushId: Length should be 20."),a}}(),FE=function(t){if(t===""+ay)return pg;var e=hf(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<nR)return n.push(pg),n.join("");for(var i=n.length-1;i>=0&&n[i]===tR;)i--;if(i===-1)return Vr;var o=n[i],a=$s.charAt($s.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},UE=function(t){if(t===""+MT)return ni;var e=hf(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===pg?n.length===1?""+ay:(delete n[n.length-1],n.join("")):(n[n.length-1]=$s.charAt($s.indexOf(n[n.length-1])-1),n.join("")+tR.repeat(nR-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){return{type:"value",snapshotNode:t}}function qs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $l(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ql(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function j3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yy=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,o,a){ie(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(n);return s.getChild(i).equals(r.getChild(i))&&s.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange($l(n,s)):ie(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(qs(n,r)):a.trackChildChange(ql(n,r,s))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ot,function(i,o){n.hasChild(i)||r.trackChildChange($l(i,o))}),n.isLeafNode()||n.forEachChild(ot,function(i,o){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(ql(i,o,a))}else r.trackChildChange(qs(i,o))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?Re.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iR=function(){function t(e){this.indexedFilter_=new yy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,o,a){return this.matches(new Ne(n,r))||(r=Re.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=Re.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Re.EMPTY_NODE);var o=this;return n.forEachChild(ot,function(a,s){o.matches(new Ne(a,s))||(i=i.updateImmediateChild(a,Re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F3=function(){function t(e){this.rangedFilter_=new iR(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,o,a){return this.rangedFilter_.matches(new Ne(n,r))||(r=Re.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Re.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var s=o.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:c=this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(s.name,s.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Re.EMPTY_NODE);var C=void 0,E=void 0,O=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),C=this.rangedFilter_.getEndPost(),E=this.rangedFilter_.getStartPost();var y=this.index_.getCompare();O=function(m,v){return y(v,m)}}else o=i.getIterator(this.index_),C=this.rangedFilter_.getStartPost(),E=this.rangedFilter_.getEndPost(),O=this.index_.getCompare();for(var a=0,b=!1;o.hasNext();){var s=o.getNext();!b&&O(C,s)<=0&&(b=!0);var c=b&&a<this.limit_&&O(s,E)<=0;c?a++:i=i.updateImmediateChild(s.name,Re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,o){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(f,l){return s(l,f)}}else a=this.index_.getCompare();var c=e;ie(c.numChildren()===this.limit_,"");var C=new Ne(n,r),E=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),O=this.rangedFilter_.matches(C);if(c.hasChild(n)){for(var y=c.getImmediateChild(n),b=i.getChildAfterChild(this.index_,E,this.reverse_);b!=null&&(b.name===n||c.hasChild(b.name));)b=i.getChildAfterChild(this.index_,b,this.reverse_);var P=b==null?1:a(b,C),g=O&&!r.isEmpty()&&P>=0;if(g)return o!=null&&o.trackChildChange(ql(n,r,y)),c.updateImmediateChild(n,r);o!=null&&o.trackChildChange($l(n,y));var m=c.updateImmediateChild(n,Re.EMPTY_NODE),v=b!=null&&this.rangedFilter_.matches(b);return v?(o!=null&&o.trackChildChange(qs(b.name,b.node)),m.updateImmediateChild(b.name,b.node)):m}else return r.isEmpty()?e:O&&a(E,C)>=0?(o!=null&&(o.trackChildChange($l(E.name,E.node)),o.trackChildChange(qs(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(E.name,Re.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oR=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ot}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return ie(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return ie(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ni},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return ie(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return ie(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vr},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return ie(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ot},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function U3(t){return t.loadsAllData()?new yy(t.getIndex()):t.hasLimit()?new F3(t):new iR(t)}function W3(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Q3(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function gg(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function z3(t,e,n){var r;if(t.index_===Ir)typeof e=="string"&&(e=FE(e)),r=gg(t,e,n);else{var i=void 0;n==null?i=Vr:i=FE(n),r=gg(t,e,i)}return r.startAfterSet_=!0,r}function mg(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function H3(t,e,n){var r,i;return t.index_===Ir?(typeof e=="string"&&(e=UE(e)),i=mg(t,e,n)):(n==null?r=ni:r=UE(n),i=mg(t,e,r)),i.endBeforeSet_=!0,i}function fd(t,e){var n=t.copy();return n.index_=e,n}function WE(t){var e={};if(t.isDefault())return e;var n;return t.index_===ot?n="$priority":t.index_===my?n="$value":t.index_===Ir?n="$key":(ie(t.index_ instanceof gy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=jt(n),t.startSet_&&(e.startAt=jt(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+jt(t.indexStartName_))),t.endSet_&&(e.endAt=jt(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+jt(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function QE(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ot&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K3=function(t){Et(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=lu("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(ie(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,o){var a=this,s=n._path.toString();this.log_("Listen called for "+s+" "+n._queryIdentifier);var c=e.getListenId_(n,i),C={};this.listens_[c]=C;var E=WE(n._queryParams);this.restRequest_(s+".json",E,function(O,y){var b=y;if(O===404&&(b=null,O=null),O===null&&a.onDataUpdate_(s,b,!1,i),Ho(a.listens_,c)===C){var P;O?O===401?P="permission_denied":P="rest_error:"+O:P="ok",o(P,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=WE(n._queryParams),o=n._path.toString(),a=new Pn;return this.restRequest_(o+".json",i,function(s,c){var C=c;s===404&&(C=null,s=null),s===null?(r.onDataUpdate_(o,C,!1,null),a.resolve(C)):a.reject(new Error(C))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var s=cn(a,2),c=s[0],C=s[1];c&&c.accessToken&&(r.auth=c.accessToken),C&&C.token&&(r.ac=C.token);var E=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+qj(r);o.log_("Sending REST request for "+E);var O=new XMLHttpRequest;O.onreadystatechange=function(){if(i&&O.readyState===4){o.log_("REST Response for "+E+" received. status:",O.status,"response:",O.responseText);var y=null;if(O.status>=200&&O.status<300){try{y=Hl(O.responseText)}catch{Jt("Failed to parse JSON response for "+E+": "+O.responseText)}i(null,y)}else O.status!==401&&O.status!==404&&Jt("Got unsuccessful REST response for "+E+" Status: "+O.status),i(O.status);i=null}},O.open("GET",E,!0),O.send()})},e}(qT);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $3=function(){function t(){this.rootNode_=Re.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){return{value:null,children:new Map}}function ia(t,e,n){if(Le(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=Ae(e);t.children.has(r)||t.children.set(r,yf());var i=t.children.get(r);e=tt(e),ia(i,e,n)}}function yg(t,e){if(Le(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(ot,function(o,a){ia(t,new _e(o),a)}),yg(t,e)}else if(t.children.size>0){var r=Ae(e);if(e=tt(e),t.children.has(r)){var i=yg(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function vg(t,e,n){t.value!==null?n(e,t.value):q3(t,function(r,i){var o=new _e(e.toString()+"/"+r);vg(i,o,n)})}function q3(t,e){t.children.forEach(function(n,r){e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sR=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=$i({},e);return this.last_&&Wt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zE=10*1e3,_3=30*1e3,G3=5*60*1e3,k3=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new sR(e);var r=zE+(_3-zE)*Math.random();ol(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;Wt(n,function(o,a){a>0&&Nn(e.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),ol(this.reportStats_.bind(this),Math.floor(Math.random()*2*G3))},t}();function J3(t,e){t.statsToReport_[e]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fr||(fr={}));function vy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Cy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Py(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y3=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=fr.ACK_USER_WRITE,this.source=vy()}return t.prototype.operationForChild=function(e){if(Le(this.path)){if(this.affectedTree.value!=null)return ie(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new _e(e));return new t(He(),n,this.revert)}else return ie(Ae(this.path)===e,"operationForChild called for unrelated child."),new t(tt(this.path),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aR=function(){function t(e,n){this.source=e,this.path=n,this.type=fr.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Le(this.path)?new t(this.source,He()):new t(this.source,tt(this.path))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dd=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=fr.OVERWRITE}return t.prototype.operationForChild=function(e){return Le(this.path)?new t(this.source,He(),this.snap.getImmediateChild(e)):new t(this.source,tt(this.path),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var by=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=fr.MERGE}return t.prototype.operationForChild=function(e){if(Le(this.path)){var n=this.children.subtree(new _e(e));return n.isEmpty()?null:n.value?new dd(this.source,He(),n.value):new t(this.source,He(),n)}else return ie(Ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,tt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gi=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(Le(e))return this.isFullyInitialized()&&!this.filtered_;var n=Ae(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X3=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function Z3(t,e,n,r){var i=[],o=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(j3(a.childName,a.snapshotNode))}),Ia(t,i,"child_removed",e,r,n),Ia(t,i,"child_added",e,r,n),Ia(t,i,"child_moved",o,r,n),Ia(t,i,"child_changed",e,r,n),Ia(t,i,"value",e,r,n),i}function Ia(t,e,n,r,i,o){var a=r.filter(function(s){return s.type===n});a.sort(function(s,c){return t4(t,s,c)}),a.forEach(function(s){var c=e4(t,s,o);i.forEach(function(C){C.respondsTo(s.type)&&e.push(C.createEvent(c,t.query_))})})}function e4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function t4(t,e,n){if(e.childName==null||n.childName==null)throw ta("Should only compare child_ events.");var r=new Ne(e.childName,e.snapshotNode),i=new Ne(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t,e){return{eventCache:t,serverCache:e}}function al(t,e,n,r){return hd(new Gi(e,n,r),t.serverCache)}function lR(t,e,n,r){return hd(t.eventCache,new Gi(e,n,r))}function vf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ko(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nh,n4=function(){return Nh||(Nh=new Gr(AF)),Nh},jn=function(){function t(e,n){n===void 0&&(n=n4()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return Wt(e,function(r,i){n=n.set(new _e(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:He(),value:this.value};if(Le(e))return null;var r=Ae(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(tt(e),n);if(o!=null){var a=gt(new _e(r),o.path);return{path:a,value:o.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(Le(e))return this;var n=Ae(e),r=this.children.get(n);return r!==null?r.subtree(tt(e)):new t(null)},t.prototype.set=function(e,n){if(Le(e))return new t(n,this.children);var r=Ae(e),i=this.children.get(r)||new t(null),o=i.set(tt(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(Le(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=Ae(e),r=this.children.get(n);if(r){var i=r.remove(tt(e)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this},t.prototype.get=function(e){if(Le(e))return this.value;var n=Ae(e),r=this.children.get(n);return r?r.get(tt(e)):null},t.prototype.setTree=function(e,n){if(Le(e))return n;var r=Ae(e),i=this.children.get(r)||new t(null),o=i.setTree(tt(e),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(He(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(gt(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,He(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Le(e))return null;var o=Ae(e),a=this.children.get(o);return a?a.findOnPath_(tt(e),gt(n,o),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,He(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(Le(e))return this;this.value&&r(n,this.value);var i=Ae(e),o=this.children.get(i);return o?o.foreachOnPath_(tt(e),gt(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(He(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(gt(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yr=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new jn(null))},t}();function ll(t,e,n){if(Le(e))return new Yr(new jn(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,a=fn(i,e);return o=o.updateChild(a,n),new Yr(t.writeTree_.set(i,o))}else{var s=new jn(n),c=t.writeTree_.setTree(e,s);return new Yr(c)}}function Cg(t,e,n){var r=t;return Wt(n,function(i,o){r=ll(r,gt(e,i),o)}),r}function HE(t,e){if(Le(e))return Yr.empty();var n=t.writeTree_.setTree(e,new jn(null));return new Yr(n)}function Pg(t,e){return Yo(t,e)!=null}function Yo(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(fn(n.path,e)):null}function KE(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ot,function(r,i){e.push(new Ne(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new Ne(r,i.value))}),e}function Ui(t,e){if(Le(e))return t;var n=Yo(t,e);return n!=null?new Yr(new jn(n)):new Yr(t.writeTree_.subtree(e))}function bg(t){return t.writeTree_.isEmpty()}function _s(t,e){return uR(He(),t.writeTree_,e)}function uR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(ie(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=uR(gt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(gt(t,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t,e){return hR(e,t)}function r4(t,e,n,r,i){ie(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ll(t.visibleWrites,e,n)),t.lastWriteId=r}function i4(t,e,n,r){ie(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Cg(t.visibleWrites,e,n),t.lastWriteId=r}function o4(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function s4(t,e){var n=t.allWrites.findIndex(function(C){return C.writeId===e});ie(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var s=t.allWrites[a];s.visible&&(a>=n&&a4(s,r.path)?i=!1:Gn(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return l4(t),!0;if(r.snap)t.visibleWrites=HE(t.visibleWrites,r.path);else{var c=r.children;Wt(c,function(C){t.visibleWrites=HE(t.visibleWrites,gt(r.path,C))})}return!0}else return!1}function a4(t,e){if(t.snap)return Gn(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Gn(gt(t.path,n),e))return!0;return!1}function l4(t){t.visibleWrites=cR(t.allWrites,u4,He()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function u4(t){return t.visible}function cR(t,e,n){for(var r=Yr.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)Gn(n,a)?(s=fn(n,a),r=ll(r,s,o.snap)):Gn(a,n)&&(s=fn(a,n),r=ll(r,He(),o.snap.getChild(s)));else if(o.children){if(Gn(n,a))s=fn(n,a),r=Cg(r,s,o.children);else if(Gn(a,n))if(s=fn(a,n),Le(s))r=Cg(r,He(),o.children);else{var c=Ho(o.children,Ae(s));if(c){var C=c.getChild(tt(s));r=ll(r,He(),C)}}}else throw ta("WriteRecord should have .snap or .children")}}return r}function fR(t,e,n,r,i){if(!r&&!i){var o=Yo(t.visibleWrites,e);if(o!=null)return o;var a=Ui(t.visibleWrites,e);if(bg(a))return n;if(n==null&&!Pg(a,He()))return null;var s=n||Re.EMPTY_NODE;return _s(a,s)}else{var c=Ui(t.visibleWrites,e);if(!i&&bg(c))return n;if(!i&&n==null&&!Pg(c,He()))return null;var C=function(y){return(y.visible||i)&&(!r||!~r.indexOf(y.writeId))&&(Gn(y.path,e)||Gn(e,y.path))},E=cR(t.allWrites,C,e),s=n||Re.EMPTY_NODE;return _s(E,s)}}function c4(t,e,n){var r=Re.EMPTY_NODE,i=Yo(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ot,function(s,c){r=r.updateImmediateChild(s,c)}),r;if(n){var o=Ui(t.visibleWrites,e);return n.forEachChild(ot,function(s,c){var C=_s(Ui(o,new _e(s)),c);r=r.updateImmediateChild(s,C)}),KE(o).forEach(function(s){r=r.updateImmediateChild(s.name,s.node)}),r}else{var a=Ui(t.visibleWrites,e);return KE(a).forEach(function(s){r=r.updateImmediateChild(s.name,s.node)}),r}}function f4(t,e,n,r,i){ie(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=gt(e,n);if(Pg(t.visibleWrites,o))return null;var a=Ui(t.visibleWrites,o);return bg(a)?i.getChild(n):_s(a,i.getChild(n))}function d4(t,e,n,r){var i=gt(e,n),o=Yo(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=Ui(t.visibleWrites,i);return _s(a,r.getNode().getImmediateChild(n))}else return null}function h4(t,e){return Yo(t.visibleWrites,e)}function p4(t,e,n,r,i,o,a){var s,c=Ui(t.visibleWrites,e),C=Yo(c,He());if(C!=null)s=C;else if(n!=null)s=_s(c,n);else return[];if(s=s.withIndex(a),!s.isEmpty()&&!s.isLeafNode()){for(var E=[],O=a.getCompare(),y=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),b=y.getNext();b&&E.length<i;)O(b,r)!==0&&E.push(b),b=y.getNext();return E}else return[]}function g4(){return{visibleWrites:Yr.empty(),allWrites:[],lastWriteId:-1}}function Cf(t,e,n,r){return fR(t.writeTree,t.treePath,e,n,r)}function Ey(t,e){return c4(t.writeTree,t.treePath,e)}function $E(t,e,n,r){return f4(t.writeTree,t.treePath,e,n,r)}function Pf(t,e){return h4(t.writeTree,gt(t.treePath,e))}function m4(t,e,n,r,i,o){return p4(t.writeTree,t.treePath,e,n,r,i,o)}function Oy(t,e,n){return d4(t.writeTree,t.treePath,e,n)}function dR(t,e){return hR(gt(t.treePath,e),t.writeTree)}function hR(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y4=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;ie(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ie(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ql(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,$l(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,qs(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ql(r,e.snapshotNode,i.oldSnap));else throw ta("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v4=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),pR=new v4,Sy=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new Gi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Oy(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ko(this.viewCache_),o=m4(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){return{filter:t}}function P4(t,e){ie(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ie(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function b4(t,e,n,r,i){var o=new y4,a,s;if(n.type===fr.OVERWRITE){var c=n;c.source.fromUser?a=Eg(t,e,c.path,c.snap,r,i,o):(ie(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!Le(c.path),a=bf(t,e,c.path,c.snap,r,i,s,o))}else if(n.type===fr.MERGE){var C=n;C.source.fromUser?a=O4(t,e,C.path,C.children,r,i,o):(ie(C.source.fromServer,"Unknown source."),s=C.source.tagged||e.serverCache.isFiltered(),a=Og(t,e,C.path,C.children,r,i,s,o))}else if(n.type===fr.ACK_USER_WRITE){var E=n;E.revert?a=T4(t,e,E.path,r,i,o):a=S4(t,e,E.path,E.affectedTree,r,i,o)}else if(n.type===fr.LISTEN_COMPLETE)a=x4(t,e,n.path,r,o);else throw ta("Unknown operation type: "+n.type);var O=o.getChanges();return E4(e,a,O),{viewCache:a,changes:O}}function E4(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=vf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(rR(vf(e)))}}function gR(t,e,n,r,i,o){var a=e.eventCache;if(Pf(r,n)!=null)return e;var s=void 0,c=void 0;if(Le(n))if(ie(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var C=Ko(e),E=C instanceof Re?C:Re.EMPTY_NODE,O=Ey(r,E);s=t.filter.updateFullNode(e.eventCache.getNode(),O,o)}else{var y=Cf(r,Ko(e));s=t.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{var b=Ae(n);if(b===".priority"){ie(_i(n)===1,"Can't have a priority with additional path components");var P=a.getNode();c=e.serverCache.getNode();var g=$E(r,n,P,c);g!=null?s=t.filter.updatePriority(P,g):s=a.getNode()}else{var m=tt(n),v=void 0;if(a.isCompleteForChild(b)){c=e.serverCache.getNode();var f=$E(r,n,a.getNode(),c);f!=null?v=a.getNode().getImmediateChild(b).updateChild(m,f):v=a.getNode().getImmediateChild(b)}else v=Oy(r,b,e.serverCache);v!=null?s=t.filter.updateChild(a.getNode(),b,v,m,i,o):s=a.getNode()}}return al(e,s,a.isFullyInitialized()||Le(n),t.filter.filtersNodes())}function bf(t,e,n,r,i,o,a,s){var c=e.serverCache,C,E=a?t.filter:t.filter.getIndexedFilter();if(Le(n))C=E.updateFullNode(c.getNode(),r,null);else if(E.filtersNodes()&&!c.isFiltered()){var O=c.getNode().updateChild(n,r);C=E.updateFullNode(c.getNode(),O,null)}else{var y=Ae(n);if(!c.isCompleteForPath(n)&&_i(n)>1)return e;var b=tt(n),P=c.getNode().getImmediateChild(y),g=P.updateChild(b,r);y===".priority"?C=E.updatePriority(c.getNode(),g):C=E.updateChild(c.getNode(),y,g,b,pR,null)}var m=lR(e,C,c.isFullyInitialized()||Le(n),E.filtersNodes()),v=new Sy(i,m,o);return gR(t,m,n,i,v,s)}function Eg(t,e,n,r,i,o,a){var s=e.eventCache,c,C,E=new Sy(i,e,o);if(Le(n))C=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=al(e,C,!0,t.filter.filtersNodes());else{var O=Ae(n);if(O===".priority")C=t.filter.updatePriority(e.eventCache.getNode(),r),c=al(e,C,s.isFullyInitialized(),s.isFiltered());else{var y=tt(n),b=s.getNode().getImmediateChild(O),P=void 0;if(Le(y))P=r;else{var g=E.getCompleteChild(O);g!=null?dy(y)===".priority"&&g.getChild(GT(y)).isEmpty()?P=g:P=g.updateChild(y,r):P=Re.EMPTY_NODE}if(b.equals(P))c=e;else{var m=t.filter.updateChild(s.getNode(),O,P,y,E,a);c=al(e,m,s.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function qE(t,e){return t.eventCache.isCompleteForChild(e)}function O4(t,e,n,r,i,o,a){var s=e;return r.foreach(function(c,C){var E=gt(n,c);qE(e,Ae(E))&&(s=Eg(t,s,E,C,i,o,a))}),r.foreach(function(c,C){var E=gt(n,c);qE(e,Ae(E))||(s=Eg(t,s,E,C,i,o,a))}),s}function _E(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function Og(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c=e,C;Le(n)?C=r:C=new jn(null).setTree(n,r);var E=e.serverCache.getNode();return C.children.inorderTraversal(function(O,y){if(E.hasChild(O)){var b=e.serverCache.getNode().getImmediateChild(O),P=_E(t,b,y);c=bf(t,c,new _e(O),P,i,o,a,s)}}),C.children.inorderTraversal(function(O,y){var b=!e.serverCache.isCompleteForChild(O)&&y.value===void 0;if(!E.hasChild(O)&&!b){var P=e.serverCache.getNode().getImmediateChild(O),g=_E(t,P,y);c=bf(t,c,new _e(O),g,i,o,a,s)}}),c}function S4(t,e,n,r,i,o,a){if(Pf(i,n)!=null)return e;var s=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Le(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return bf(t,e,n,c.getNode().getChild(n),i,o,s,a);if(Le(n)){var C=new jn(null);return c.getNode().forEachChild(Ir,function(O,y){C=C.set(new _e(O),y)}),Og(t,e,n,C,i,o,s,a)}else return e}else{var E=new jn(null);return r.foreach(function(O,y){var b=gt(n,O);c.isCompleteForPath(b)&&(E=E.set(O,c.getNode().getChild(b)))}),Og(t,e,n,E,i,o,s,a)}}function x4(t,e,n,r,i){var o=e.serverCache,a=lR(e,o.getNode(),o.isFullyInitialized()||Le(n),o.isFiltered());return gR(t,a,n,r,pR,i)}function T4(t,e,n,r,i,o){var a;if(Pf(r,n)!=null)return e;var s=new Sy(r,e,i),c=e.eventCache.getNode(),C=void 0;if(Le(n)||Ae(n)===".priority"){var E=void 0;if(e.serverCache.isFullyInitialized())E=Cf(r,Ko(e));else{var O=e.serverCache.getNode();ie(O instanceof Re,"serverChildren would be complete if leaf node"),E=Ey(r,O)}E=E,C=t.filter.updateFullNode(c,E,o)}else{var y=Ae(n),b=Oy(r,y,e.serverCache);b==null&&e.serverCache.isCompleteForChild(y)&&(b=c.getImmediateChild(y)),b!=null?C=t.filter.updateChild(c,y,b,tt(n),s,o):e.eventCache.getNode().hasChild(y)?C=t.filter.updateChild(c,y,Re.EMPTY_NODE,tt(n),s,o):C=c,C.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Cf(r,Ko(e)),a.isLeafNode()&&(C=t.filter.updateFullNode(C,a,o)))}return a=e.serverCache.isFullyInitialized()||Pf(r,He())!=null,al(e,C,a,t.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R4=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new yy(r.getIndex()),o=U3(r);this.processor_=C4(o);var a=n.serverCache,s=n.eventCache,c=i.updateFullNode(Re.EMPTY_NODE,a.getNode(),null),C=o.updateFullNode(Re.EMPTY_NODE,s.getNode(),null),E=new Gi(c,a.isFullyInitialized(),i.filtersNodes()),O=new Gi(C,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=hd(O,E),this.eventGenerator_=new X3(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function D4(t){return t.viewCache_.serverCache.getNode()}function I4(t){return vf(t.viewCache_)}function M4(t,e){var n=Ko(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Le(e)&&!n.getImmediateChild(Ae(e)).isEmpty())?n.getChild(e):null}function GE(t){return t.eventRegistrations_.length===0}function V4(t,e){t.eventRegistrations_.push(e)}function kE(t,e,n){var r=[];if(n){ie(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(c){var C=c.createCancelEvent(n,i);C&&r.push(C)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var s=t.eventRegistrations_[a];if(!s.matches(e))o.push(s);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function JE(t,e,n,r){e.type===fr.MERGE&&e.source.queryId!==null&&(ie(Ko(t.viewCache_),"We should always have a full cache before handling merges"),ie(vf(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=b4(t.processor_,i,e,n,r);return P4(t.processor_,o.viewCache),ie(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,mR(t,o.changes,o.viewCache.eventCache.getNode(),null)}function w4(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(ot,function(o,a){r.push(qs(o,a))})}return n.isFullyInitialized()&&r.push(rR(n.getNode())),mR(t,r,n.getNode(),e)}function mR(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return Z3(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ef,yR=function(){function t(){this.views=new Map}return t}();function A4(t){ie(!Ef,"__referenceConstructor has already been defined"),Ef=t}function L4(){return ie(Ef,"Reference.ts has not been loaded"),Ef}function B4(t){return t.views.size===0}function xy(t,e,n,r){var i,o,a=e.source.queryId;if(a!==null){var s=t.views.get(a);return ie(s!=null,"SyncTree gave us an op for an invalid query."),JE(s,e,n,r)}else{var c=[];try{for(var C=Ln(t.views.values()),E=C.next();!E.done;E=C.next()){var s=E.value;c=c.concat(JE(s,e,n,r))}}catch(O){i={error:O}}finally{try{E&&!E.done&&(o=C.return)&&o.call(C)}finally{if(i)throw i.error}}return c}}function vR(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var s=Cf(n,i?r:null),c=!1;s?c=!0:r instanceof Re?(s=Ey(n,r),c=!1):(s=Re.EMPTY_NODE,c=!1);var C=hd(new Gi(s,c,!1),new Gi(r,i,!1));return new R4(e,C)}return a}function N4(t,e,n,r,i,o){var a=vR(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),V4(a,n),w4(a,n)}function j4(t,e,n,r){var i,o,a=e._queryIdentifier,s=[],c=[],C=ki(t);if(a==="default")try{for(var E=Ln(t.views.entries()),O=E.next();!O.done;O=E.next()){var y=cn(O.value,2),b=y[0],P=y[1];c=c.concat(kE(P,n,r)),GE(P)&&(t.views.delete(b),P.query._queryParams.loadsAllData()||s.push(P.query))}}catch(g){i={error:g}}finally{try{O&&!O.done&&(o=E.return)&&o.call(E)}finally{if(i)throw i.error}}else{var P=t.views.get(a);P&&(c=c.concat(kE(P,n,r)),GE(P)&&(t.views.delete(a),P.query._queryParams.loadsAllData()||s.push(P.query)))}return C&&!ki(t)&&s.push(new(L4())(e._repo,e._path)),{removed:s,events:c}}function CR(t){var e,n,r=[];try{for(var i=Ln(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Wi(t,e){var n,r,i=null;try{for(var o=Ln(t.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||M4(s,e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function PR(t,e){var n=e._queryParams;if(n.loadsAllData())return gd(t);var r=e._queryIdentifier;return t.views.get(r)}function bR(t,e){return PR(t,e)!=null}function ki(t){return gd(t)!=null}function gd(t){var e,n;try{for(var r=Ln(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Of;function F4(t){ie(!Of,"__referenceConstructor has already been defined"),Of=t}function U4(){return ie(Of,"Reference.ts has not been loaded"),Of}var W4=1,YE=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new jn(null),this.pendingWriteTree_=g4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function Ty(t,e,n,r,i){return r4(t.pendingWriteTree_,e,n,r,i),i?oa(t,new dd(vy(),e,n)):[]}function Q4(t,e,n,r){i4(t.pendingWriteTree_,e,n,r);var i=jn.fromObject(n);return oa(t,new by(vy(),e,i))}function Ti(t,e,n){n===void 0&&(n=!1);var r=o4(t.pendingWriteTree_,e),i=s4(t.pendingWriteTree_,e);if(i){var o=new jn(null);return r.snap!=null?o=o.set(He(),!0):Wt(r.children,function(a){o=o.set(new _e(a),!0)}),oa(t,new Y3(r.path,o,n))}else return[]}function cu(t,e,n){return oa(t,new dd(Cy(),e,n))}function z4(t,e,n){var r=jn.fromObject(n);return oa(t,new by(Cy(),e,r))}function H4(t,e){return oa(t,new aR(Cy(),e))}function K4(t,e,n){var r=Ry(t,n);if(r){var i=Dy(r),o=i.path,a=i.queryId,s=fn(o,e),c=new aR(Py(a),s);return Iy(t,o,c)}else return[]}function Sg(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&(e._queryIdentifier==="default"||bR(o,e))){var s=j4(o,e,n,r);B4(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var c=s.removed;a=s.events;var C=c.findIndex(function(f){return f._queryParams.loadsAllData()})!==-1,E=t.syncPointTree_.findOnPath(i,function(f,l){return ki(l)});if(C&&!E){var O=t.syncPointTree_.subtree(i);if(!O.isEmpty())for(var y=G4(O),b=0;b<y.length;++b){var P=y[b],g=P.query,m=SR(t,P);t.listenProvider_.startListening(ul(g),Sf(t,g),m.hashFn,m.onComplete)}}if(!E&&c.length>0&&!r)if(C){var v=null;t.listenProvider_.stopListening(ul(e),v)}else c.forEach(function(f){var l=t.queryToTagMap.get(yd(f));t.listenProvider_.stopListening(ul(f),l)});k4(t,c)}return a}function $4(t,e,n,r){var i=Ry(t,r);if(i!=null){var o=Dy(i),a=o.path,s=o.queryId,c=fn(a,e),C=new dd(Py(s),c,n);return Iy(t,a,C)}else return[]}function q4(t,e,n,r){var i=Ry(t,r);if(i){var o=Dy(i),a=o.path,s=o.queryId,c=fn(a,e),C=jn.fromObject(n),E=new by(Py(s),c,C);return Iy(t,a,E)}else return[]}function XE(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(g,m){var v=fn(g,r);i=i||Wi(m,v),o=o||ki(m)});var a=t.syncPointTree_.get(r);a?(o=o||ki(a),i=i||Wi(a,He())):(a=new yR,t.syncPointTree_=t.syncPointTree_.set(r,a));var s;if(i!=null)s=!0;else{s=!1,i=Re.EMPTY_NODE;var c=t.syncPointTree_.subtree(r);c.foreachChild(function(g,m){var v=Wi(m,He());v&&(i=i.updateImmediateChild(g,v))})}var C=bR(a,e);if(!C&&!e._queryParams.loadsAllData()){var E=yd(e);ie(!t.queryToTagMap.has(E),"View does not exist, but we have a tag");var O=J4();t.queryToTagMap.set(E,O),t.tagToQueryMap.set(O,E)}var y=pd(t.pendingWriteTree_,r),b=N4(a,e,n,y,i,s);if(!C&&!o){var P=PR(a,e);b=b.concat(Y4(t,e,P))}return b}function md(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,function(a,s){var c=fn(a,e),C=Wi(s,c);if(C)return C});return fR(i,e,o,n,r)}function _4(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(C,E){var O=fn(C,n);r=r||Wi(E,O)});var i=t.syncPointTree_.get(n);i?r=r||Wi(i,He()):(i=new yR,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=r!=null,a=o?new Gi(r,!0,!1):null,s=pd(t.pendingWriteTree_,e._path),c=vR(i,e,s,o?a.getNode():Re.EMPTY_NODE,o);return I4(c)}function oa(t,e){return ER(e,t.syncPointTree_,null,pd(t.pendingWriteTree_,He()))}function ER(t,e,n,r){if(Le(t.path))return OR(t,e,n,r);var i=e.get(He());n==null&&i!=null&&(n=Wi(i,He()));var o=[],a=Ae(t.path),s=t.operationForChild(a),c=e.children.get(a);if(c&&s){var C=n?n.getImmediateChild(a):null,E=dR(r,a);o=o.concat(ER(s,c,C,E))}return i&&(o=o.concat(xy(i,t,r,n))),o}function OR(t,e,n,r){var i=e.get(He());n==null&&i!=null&&(n=Wi(i,He()));var o=[];return e.children.inorderTraversal(function(a,s){var c=n?n.getImmediateChild(a):null,C=dR(r,a),E=t.operationForChild(a);E&&(o=o.concat(OR(E,s,c,C)))}),i&&(o=o.concat(xy(i,t,r,n))),o}function SR(t,e){var n=e.query,r=Sf(t,n);return{hashFn:function(){var i=D4(e)||Re.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?K4(t,n._path,r):H4(t,n._path);var o=NF(i,n);return Sg(t,n,null,o)}}}function Sf(t,e){var n=yd(e);return t.queryToTagMap.get(n)}function yd(t){return t._path.toString()+"$"+t._queryIdentifier}function Ry(t,e){return t.tagToQueryMap.get(e)}function Dy(t){var e=t.indexOf("$");return ie(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _e(t.substr(0,e))}}function Iy(t,e,n){var r=t.syncPointTree_.get(e);ie(r,"Missing sync point for query tag that we're tracking");var i=pd(t.pendingWriteTree_,e);return xy(r,n,i,null)}function G4(t){return t.fold(function(e,n,r){if(n&&ki(n)){var i=gd(n);return[i]}else{var o=[];return n&&(o=CR(n)),Wt(r,function(a,s){o=o.concat(s)}),o}})}function ul(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(U4())(t._repo,t._path):t}function k4(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=yd(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function J4(){return W4++}function Y4(t,e,n){var r=e._path,i=Sf(t,e),o=SR(t,n),a=t.listenProvider_.startListening(ul(e),i,o.hashFn,o.onComplete),s=t.syncPointTree_.subtree(r);if(i)ie(!ki(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=s.fold(function(O,y,b){if(!Le(O)&&y&&ki(y))return[gd(y).query];var P=[];return y&&(P=P.concat(CR(y).map(function(g){return g.query}))),Wt(b,function(g,m){P=P.concat(m)}),P}),C=0;C<c.length;++C){var E=c[C];t.listenProvider_.stopListening(ul(E),Sf(t,E))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X4=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),Z4=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=gt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return md(this.syncTree_,this.path_)},t}(),eU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ZE=function(t,e,n){if(!t||typeof t!="object")return t;if(ie(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return tU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return nU(t[".sv"],e);ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},tU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ie(!1,"Unexpected server value: "+t)}},nU=function(t,e,n){t.hasOwnProperty("increment")||ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&ie(!1,"Unexpected increment value: "+r);var i=e.node();if(ie(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},xR=function(t,e,n,r){return Vy(e,new Z4(n,t),r)},My=function(t,e,n){return Vy(t,new X4(e),n)};function Vy(t,e,n){var r=t.getPriority().val(),i=ZE(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){var a=t,s=ZE(a.getValue(),e,n);return s!==a.getValue()||i!==a.getPriority().val()?new Ks(s,Ct(i)):t}else{var c=t;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new Ks(i))),c.forEachChild(ot,function(C,E){var O=Vy(E,e.getImmediateChild(C),n);O!==E&&(o=o.updateImmediateChild(C,O))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wy=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function vd(t,e){for(var n=e instanceof _e?e:new _e(e),r=t,i=Ae(n);i!==null;){var o=Ho(r.node.children,i)||{children:{},childCount:0};r=new wy(i,r,o),n=tt(n),i=Ae(n)}return r}function Xo(t){return t.node.value}function Ay(t,e){t.node.value=e,xg(t)}function TR(t){return t.node.childCount>0}function rU(t){return Xo(t)===void 0&&!TR(t)}function Cd(t,e){Wt(t.node.children,function(n,r){e(new wy(n,t,r))})}function RR(t,e,n,r){n&&!r&&e(t),Cd(t,function(i){RR(i,e,!0,r)}),n&&r&&e(t)}function iU(t,e,n){for(var r=n?t:t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function fu(t){return new _e(t.parent===null?t.name:fu(t.parent)+"/"+t.name)}function xg(t){t.parent!==null&&oU(t.parent,t.name,t)}function oU(t,e,n){var r=rU(n),i=Nn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,xg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,xg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sU=/[\[\].#$\/\u0000-\u001F\u007F]/,aU=/[\[\].#$\u0000-\u001F\u007F]/,jh=10*1024*1024,Pd=function(t){return typeof t=="string"&&t.length!==0&&!sU.test(t)},DR=function(t){return typeof t=="string"&&t.length!==0&&!aU.test(t)},lU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),DR(t)},_l=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!ud(t)||t&&typeof t=="object"&&Nn(t,".sv")},wr=function(t,e,n,r){r&&e===void 0||du(Tn(t,"value"),e,n)},du=function(t,e,n){var r=n instanceof _e?new m3(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Co(r));if(typeof e=="function")throw new Error(t+"contains a function "+Co(r)+" with contents = "+e.toString());if(ud(e))throw new Error(t+"contains "+e.toString()+" "+Co(r));if(typeof e=="string"&&e.length>jh/3&&ld(e)>jh)throw new Error(t+"contains a string greater than "+jh+" utf8 bytes "+Co(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(Wt(e,function(a,s){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!Pd(a)))throw new Error(t+" contains an invalid key ("+a+") "+Co(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);y3(r,a),du(t,s,r),v3(r)}),i&&o)throw new Error(t+' contains ".value" child '+Co(r)+" in addition to actual children.")}},uU=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=Kl(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Pd(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(g3);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&Gn(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},IR=function(t,e,n,r){if(!(r&&e===void 0)){var i=Tn(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];Wt(e,function(a,s){var c=new _e(a);if(du(i,s,gt(n,c)),dy(c)===".priority"&&!_l(s))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),uU(i,o)}},Ly=function(t,e,n){if(!(n&&e===void 0)){if(ud(e))throw new Error(Tn(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_l(e))throw new Error(Tn(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cU=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Tn(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},hu=function(t,e,n,r){if(!(r&&n===void 0)&&!Pd(n))throw new Error(Tn(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Gl=function(t,e,n,r){if(!(r&&n===void 0)&&!DR(n))throw new Error(Tn(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},fU=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gl(t,e,n,r)},kn=function(t,e){if(Ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},MR=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Pd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!lU(n))throw new Error(Tn(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},dU=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Tn(t,e)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hU=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function bd(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();n!==null&&!hy(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function By(t,e,n){bd(t,n),VR(t,function(r){return hy(r,e)})}function Zn(t,e,n){bd(t,n),VR(t,function(r){return Gn(r,e)||Gn(e,r)})}function VR(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(pU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function pU(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();Ao&&Kt("event: "+n.toString()),ra(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wR="repo_interrupt",gU=25,mU=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yf(),this.transactionQueueTree_=new wy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function yU(t,e,n){if(t.stats_=cy(t.repoInfo_),t.forceRestClient_||FF())t.server_=new K3(t.repoInfo_,function(r,i,o,a){e0(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return t0(t,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Lo(t.repoInfo_,e,function(r,i,o,a){e0(t,r,i,o,a)},function(r){t0(t,r)},function(r){CU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=KF(t.repoInfo_,function(){return new k3(t.stats_,t.server_)}),t.infoData_=new $3,t.infoSyncTree_=new YE({startListening:function(r,i,o,a){var s=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(s=cu(t.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),s},stopListening:function(){}}),Ny(t,"connected",!1),t.serverSyncTree_=new YE({startListening:function(r,i,o,a){return t.server_.listen(r,o,i,function(s,c){var C=a(s,c);Zn(t.eventQueue_,r._path,C)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function AR(t){var e=t.infoData_.getNode(new _e(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function pu(t){return eU({timestamp:AR(t)})}function e0(t,e,n,r,i){t.dataUpdateCount++;var o=new _e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var s=ff(n,function(y){return Ct(y)});a=q4(t.serverSyncTree_,o,s,i)}else{var c=Ct(n);a=$4(t.serverSyncTree_,o,c,i)}else if(r){var C=ff(n,function(y){return Ct(y)});a=z4(t.serverSyncTree_,o,C)}else{var E=Ct(n);a=cu(t.serverSyncTree_,o,E)}var O=o;a.length>0&&(O=Gs(t,o)),Zn(t.eventQueue_,O,a)}function vU(t,e){t.interceptServerDataCallback_=e}function t0(t,e){Ny(t,"connected",e),e===!1&&EU(t)}function CU(t,e){Wt(e,function(n,r){Ny(t,n,r)})}function Ny(t,e,n){var r=new _e("/.info/"+e),i=Ct(n);t.infoData_.updateSnapshot(r,i);var o=cu(t.infoSyncTree_,r,i);Zn(t.eventQueue_,r,o)}function Ed(t){return t.nextWriteId_++}function PU(t,e){var n=_4(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=Ct(r).withIndex(e._queryParams.getIndex()),o=cu(t.serverSyncTree_,e._path,i);return By(t.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return sa(t,"get for query "+jt(e)+" failed: "+r),Promise.reject(new Error(r))})}function jy(t,e,n,r,i){sa(t,"set",{path:e.toString(),value:n,priority:r});var o=pu(t),a=Ct(n,r),s=md(t.serverSyncTree_,e),c=My(a,s,o),C=Ed(t),E=Ty(t.serverSyncTree_,e,c,C,!0);bd(t.eventQueue_,E),t.server_.put(e.toString(),a.val(!0),function(y,b){var P=y==="ok";P||Jt("set at "+e+" failed: "+y);var g=Ti(t.serverSyncTree_,C,!P);Zn(t.eventQueue_,e,g),Ji(t,i,y,b)});var O=Uy(t,e);Gs(t,O),Zn(t.eventQueue_,O,[])}function bU(t,e,n,r){sa(t,"update",{path:e.toString(),value:n});var i=!0,o=pu(t),a={};if(Wt(n,function(C,E){i=!1,a[C]=xR(gt(e,C),Ct(E),t.serverSyncTree_,o)}),i)Kt("update() called with empty data.  Don't do anything."),Ji(t,r,"ok",void 0);else{var s=Ed(t),c=Q4(t.serverSyncTree_,e,a,s);bd(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(C,E){var O=C==="ok";O||Jt("update at "+e+" failed: "+C);var y=Ti(t.serverSyncTree_,s,!O),b=y.length>0?Gs(t,e):e;Zn(t.eventQueue_,b,y),Ji(t,r,C,E)}),Wt(n,function(C){var E=Uy(t,gt(e,C));Gs(t,E)}),Zn(t.eventQueue_,e,[])}}function EU(t){sa(t,"onDisconnectEvents");var e=pu(t),n=yf();vg(t.onDisconnect_,He(),function(i,o){var a=xR(i,o,t.serverSyncTree_,e);ia(n,i,a)});var r=[];vg(n,He(),function(i,o){r=r.concat(cu(t.serverSyncTree_,i,o));var a=Uy(t,i);Gs(t,a)}),t.onDisconnect_=yf(),Zn(t.eventQueue_,He(),r)}function OU(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&yg(t.onDisconnect_,e),Ji(t,n,r,i)})}function n0(t,e,n,r){var i=Ct(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,a){o==="ok"&&ia(t.onDisconnect_,e,i),Ji(t,r,o,a)})}function SU(t,e,n,r,i){var o=Ct(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(a,s){a==="ok"&&ia(t.onDisconnect_,e,o),Ji(t,i,a,s)})}function xU(t,e,n,r){if(ug(n)){Kt("onDisconnect().update() called with empty data.  Don't do anything."),Ji(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,o){i==="ok"&&Wt(n,function(a,s){var c=Ct(s);ia(t.onDisconnect_,gt(e,a),c)}),Ji(t,r,i,o)})}function TU(t,e,n){var r;Ae(e._path)===".info"?r=XE(t.infoSyncTree_,e,n):r=XE(t.serverSyncTree_,e,n),By(t.eventQueue_,e._path,r)}function Tg(t,e,n){var r;Ae(e._path)===".info"?r=Sg(t.infoSyncTree_,e,n):r=Sg(t.serverSyncTree_,e,n),By(t.eventQueue_,e._path,r)}function LR(t){t.persistentConnection_&&t.persistentConnection_.interrupt(wR)}function RU(t){t.persistentConnection_&&t.persistentConnection_.resume(wR)}function DU(t,e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(t.statsListener_||(t.statsListener_=new sR(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);Wt(n,function(i,o){for(var a=i,s=i.length;s<r+2;s++)a+=" ";console.log(a+o)})}}function IU(t,e){t.stats_.incrementCounter(e),J3(t.statsReporter_,e)}function sa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Kt.apply(void 0,qi([r],cn(e)))}function Ji(t,e,n,r){e&&ra(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,e(a)}})}function MU(t,e,n,r,i,o){sa(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:xT(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Fy(t,e,void 0);a.currentInputSnapshot=s;var c=a.update(s.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{du("transaction failed: Data returned ",c,a.path),a.status=0;var C=vd(t.transactionQueueTree_,e),E=Xo(C)||[];E.push(a),Ay(C,E);var O=void 0;if(typeof c=="object"&&c!==null&&Nn(c,".priority"))O=Ho(c,".priority"),ie(_l(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var y=md(t.serverSyncTree_,e)||Re.EMPTY_NODE;O=y.getPriority().val()}var b=pu(t),P=Ct(c,O),g=My(P,s,b);a.currentOutputSnapshotRaw=P,a.currentOutputSnapshotResolved=g,a.currentWriteId=Ed(t);var m=Ty(t.serverSyncTree_,e,g,a.currentWriteId,a.applyLocally);Zn(t.eventQueue_,e,m),Od(t,t.transactionQueueTree_)}}function Fy(t,e,n){return md(t.serverSyncTree_,e,n)||Re.EMPTY_NODE}function Od(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||Sd(t,e),Xo(e)){var n=NR(t,e);ie(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&VU(t,fu(e),n)}else TR(e)&&Cd(e,function(i){Od(t,i)})}function VU(t,e,n){for(var r=n.map(function(y){return y.currentWriteId}),i=Fy(t,e,r),o=i,a=i.hash(),s=0;s<n.length;s++){var c=n[s];ie(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var C=fn(e,c.path);o=o.updateChild(C,c.currentOutputSnapshotRaw)}var E=o.val(!0),O=e;t.server_.put(O.toString(),E,function(y){sa(t,"transaction put response",{path:O.toString(),status:y});var b=[];if(y==="ok"){for(var P=[],g=function(v){n[v].status=2,b=b.concat(Ti(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&P.push(function(){return n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)}),n[v].unwatcher()},m=0;m<n.length;m++)g(m);Sd(t,vd(t.transactionQueueTree_,e)),Od(t,t.transactionQueueTree_),Zn(t.eventQueue_,e,b);for(var m=0;m<P.length;m++)ra(P[m])}else{if(y==="datastale")for(var m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{Jt("transaction at "+O.toString()+" failed: "+y);for(var m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=y}Gs(t,e)}},a)}function Gs(t,e){var n=BR(t,e),r=fu(n),i=NR(t,n);return wU(t,i,r),r}function wU(t,e,n){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(C){return C.status===0}),a=o.map(function(C){return C.currentWriteId}),s=function(C){var E=e[C],O=fn(n,E.path),y=!1,b;if(ie(O!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),E.status===4)y=!0,b=E.abortReason,i=i.concat(Ti(t.serverSyncTree_,E.currentWriteId,!0));else if(E.status===0)if(E.retryCount>=gU)y=!0,b="maxretry",i=i.concat(Ti(t.serverSyncTree_,E.currentWriteId,!0));else{var P=Fy(t,E.path,a);E.currentInputSnapshot=P;var g=e[C].update(P.val());if(g!==void 0){du("transaction failed: Data returned ",g,E.path);var m=Ct(g),v=typeof g=="object"&&g!=null&&Nn(g,".priority");v||(m=m.updatePriority(P.getPriority()));var f=E.currentWriteId,l=pu(t),d=My(m,P,l);E.currentOutputSnapshotRaw=m,E.currentOutputSnapshotResolved=d,E.currentWriteId=Ed(t),a.splice(a.indexOf(f),1),i=i.concat(Ty(t.serverSyncTree_,E.path,d,E.currentWriteId,E.applyLocally)),i=i.concat(Ti(t.serverSyncTree_,f,!0))}else y=!0,b="nodata",i=i.concat(Ti(t.serverSyncTree_,E.currentWriteId,!0))}Zn(t.eventQueue_,n,i),i=[],y&&(e[C].status=2,function(h){setTimeout(h,Math.floor(0))}(e[C].unwatcher),e[C].onComplete&&(b==="nodata"?r.push(function(){return e[C].onComplete(null,!1,e[C].currentInputSnapshot)}):r.push(function(){return e[C].onComplete(new Error(b),!1,null)})))},c=0;c<e.length;c++)s(c);Sd(t,t.transactionQueueTree_);for(var c=0;c<r.length;c++)ra(r[c]);Od(t,t.transactionQueueTree_)}}function BR(t,e){var n,r=t.transactionQueueTree_;for(n=Ae(e);n!==null&&Xo(r)===void 0;)r=vd(r,n),e=tt(e),n=Ae(e);return r}function NR(t,e){var n=[];return jR(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function jR(t,e,n){var r=Xo(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Cd(e,function(o){jR(t,o,n)})}function Sd(t,e){var n=Xo(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ay(e,n.length>0?n:void 0)}Cd(e,function(o){Sd(t,o)})}function Uy(t,e){var n=fu(BR(t,e)),r=vd(t.transactionQueueTree_,e);return iU(r,function(i){Fh(t,i)}),Fh(t,r),RR(r,function(i){Fh(t,i)}),n}function Fh(t,e){var n=Xo(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ie(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(ie(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ti(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Ay(e,void 0):n.length=o+1,Zn(t.eventQueue_,fu(e),i);for(var a=0;a<r.length;a++)ra(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function LU(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Ln(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var s=a.split("=");s.length===2?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Jt("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var Rg=function(t,e){var n=BU(t),r=n.namespace;n.domain==="firebase.com"&&Mr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Mr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||VF();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new uy(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new _e(n.pathString)}},BU=function(t){var e="",n="",r="",i="",o="",a=!0,s="https",c=443;if(typeof t=="string"){var C=t.indexOf("//");C>=0&&(s=t.substring(0,C-1),t=t.substring(C+2));var E=t.indexOf("/");E===-1&&(E=t.length);var O=t.indexOf("?");O===-1&&(O=t.length),e=t.substring(0,Math.min(E,O)),E<O&&(i=AU(t.substring(E,O)));var y=LU(t.substring(Math.min(t.length,O)));C=e.indexOf(":"),C>=0?(a=s==="https"||s==="wss",c=parseInt(e.substring(C+1),10)):C=e.length;var b=e.slice(0,C);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{var P=e.indexOf(".");r=e.substring(0,P).toLowerCase(),n=e.substring(P+1),o=r}"ns"in y&&(o=y.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FR=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+jt(this.snapshot.exportVal())},t}(),UR=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WR=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return ie(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NU=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new Pn;return OU(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){kn("OnDisconnect.remove",this._path);var e=new Pn;return n0(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){kn("OnDisconnect.set",this._path),wr("OnDisconnect.set",e,this._path,!1);var n=new Pn;return n0(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){kn("OnDisconnect.setWithPriority",this._path),wr("OnDisconnect.setWithPriority",e,this._path,!1),Ly("OnDisconnect.setWithPriority",n,!1);var r=new Pn;return SU(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){kn("OnDisconnect.update",this._path),IR("OnDisconnect.update",e,this._path,!1);var n=new Pn;return xU(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return Le(this._path)?null:dy(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ar(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=QE(this._queryParams),n=sy(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return QE(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=Qn(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=hy(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+p3(this._path)},t}();function xd(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function no(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ir){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!==ni)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==Vr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ot){if(e!=null&&!_l(e)||n!=null&&!_l(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ie(t.getIndex()instanceof gy||t.getIndex()===my,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Td(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ar=function(t){Et(e,t);function e(n,r){return t.call(this,n,r,new oR,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=GT(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(er),Rd=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new _e(e),r=$o(this.ref,e);return new t(this._node.getChild(n),r,ot)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new t(o,$o(n.ref,i),ot))})},t.prototype.hasChild=function(e){var n=new _e(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function QR(t,e){return t=Qn(t),t._checkNotDeleted("ref"),e!==void 0?$o(t._root,e):t._root}function r0(t,e){t=Qn(t),t._checkNotDeleted("refFromURL");var n=Rg(e,t._repo.repoInfo_.nodeAdmin);MR("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Mr("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),QR(t,n.path.toString())}function $o(t,e){return t=Qn(t),Ae(t._path)===null?fU("child","path",e,!1):Gl("child","path",e,!1),new Ar(t._repo,gt(t._path,e))}function jU(t,e){t=Qn(t),kn("push",t._path),wr("push",e,t._path,!0);var n=AR(t._repo),r=N3(n),i=$o(t,r),o=$o(t,r),a;return e!=null?a=Wy(o,e).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function FU(t){return kn("remove",t._path),Wy(t,null)}function Wy(t,e){t=Qn(t),kn("set",t._path),wr("set",e,t._path,!1);var n=new Pn;return jy(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function UU(t,e){t=Qn(t),kn("setPriority",t._path),Ly("setPriority",e,!1);var n=new Pn;return jy(t._repo,gt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function WU(t,e,n){if(kn("setWithPriority",t._path),wr("setWithPriority",e,t._path,!1),Ly("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new Pn;return jy(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function QU(t,e){IR("update",e,t._path,!1);var n=new Pn;return bU(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function zU(t){return t=Qn(t),PU(t._repo,t).then(function(e){return new Rd(e,new Ar(t._repo,t._path),t._queryParams.getIndex())})}var zR=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new FR("value",this,new Rd(e.snapshotNode,new Ar(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new UR(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),HR=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new UR(this,e,n):null},t.prototype.createEvent=function(e,n){ie(e.childName!=null,"Child events should have a childName.");var r=$o(new Ar(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new FR(e.type,this,new Rd(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function gu(t,e,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,s=function(E,O){Tg(t._repo,t,C),a(E,O)};s.userCallback=n.userCallback,s.context=n.context,n=s}var c=new WR(n,o||void 0),C=e==="value"?new zR(c):new HR(e,c);return TU(t._repo,t,C),function(){return Tg(t._repo,t,C)}}function Dg(t,e,n,r){return gu(t,"value",e,n,r)}function i0(t,e,n,r){return gu(t,"child_added",e,n,r)}function o0(t,e,n,r){return gu(t,"child_changed",e,n,r)}function s0(t,e,n,r){return gu(t,"child_moved",e,n,r)}function a0(t,e,n,r){return gu(t,"child_removed",e,n,r)}function l0(t,e,n){var r=null,i=n?new WR(n):null;e==="value"?r=new zR(i):e&&(r=new HR(e,i)),Tg(t._repo,t,r)}var yr=function(){function t(){}return t}(),KR=function(t){Et(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){wr("endAt",this._value,n._path,!0);var r=mg(n._queryParams,this._value,this._key);if(Td(r),no(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new er(n._repo,n._path,r,n._orderByCalled)},e}(yr);function HU(t,e){return hu("endAt","key",e,!0),new KR(t,e)}var KU=function(t){Et(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){wr("endBefore",this._value,n._path,!1);var r=H3(n._queryParams,this._value,this._key);if(Td(r),no(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new er(n._repo,n._path,r,n._orderByCalled)},e}(yr);function $U(t,e){return hu("endBefore","key",e,!0),new KU(t,e)}var $R=function(t){Et(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){wr("startAt",this._value,n._path,!0);var r=gg(n._queryParams,this._value,this._key);if(Td(r),no(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new er(n._repo,n._path,r,n._orderByCalled)},e}(yr);function qU(t,e){return t===void 0&&(t=null),hu("startAt","key",e,!0),new $R(t,e)}var _U=function(t){Et(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){wr("startAfter",this._value,n._path,!1);var r=z3(n._queryParams,this._value,this._key);if(Td(r),no(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new er(n._repo,n._path,r,n._orderByCalled)},e}(yr);function GU(t,e){return hu("startAfter","key",e,!0),new _U(t,e)}var kU=function(t){Et(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new er(n._repo,n._path,W3(n._queryParams,this._limit),n._orderByCalled)},e}(yr);function JU(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new kU(t)}var YU=function(t){Et(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new er(n._repo,n._path,Q3(n._queryParams,this._limit),n._orderByCalled)},e}(yr);function XU(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new YU(t)}var ZU=function(t){Et(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){xd(n,"orderByChild");var r=new _e(this._path);if(Le(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new gy(r),o=fd(n._queryParams,i);return no(o),new er(n._repo,n._path,o,!0)},e}(yr);function eW(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gl("orderByChild","path",t,!1),new ZU(t)}var tW=function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){xd(n,"orderByKey");var r=fd(n._queryParams,Ir);return no(r),new er(n._repo,n._path,r,!0)},e}(yr);function nW(){return new tW}var rW=function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){xd(n,"orderByPriority");var r=fd(n._queryParams,ot);return no(r),new er(n._repo,n._path,r,!0)},e}(yr);function iW(){return new rW}var oW=function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){xd(n,"orderByValue");var r=fd(n._queryParams,my);return no(r),new er(n._repo,n._path,r,!0)},e}(yr);function sW(){return new oW}var aW=function(t){Et(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if(wr("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new KR(this._value,this._key)._apply(new $R(this._value,this._key)._apply(n))},e}(yr);function lW(t,e){return hu("equalTo","key",e,!0),new aW(t,e)}function nr(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Qn(t);try{for(var a=Ln(r),s=a.next();!s.done;s=a.next()){var c=s.value;o=c._apply(o)}}catch(C){e={error:C}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}A4(Ar);F4(Ar);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uW="FIREBASE_DATABASE_EMULATOR_HOST",Ig={},qR=!1;function cW(t,e,n,r){t.repoInfo_=new uy(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function _R(t,e,n,r,i){var o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Mr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kt("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a=Rg(o,i),s=a.repoInfo,c,C=void 0;typeof process<"u"&&(C=process.env[uW]),C?(c=!0,o="http://"+C+"?ns="+s.namespace,a=Rg(o,i),s=a.repoInfo):c=!a.repoInfo.secure;var E=i&&c?new sl(sl.OWNER):new WF(t.name,t.options,e);MR("Invalid Firebase Database URL",a),Le(a.path)||Mr("Database URL must point to the root of a Firebase Database (not including a child path).");var O=dW(s,t,E,new UF(t.name,n));return new pW(O,t)}function fW(t,e){var n=Ig[e];(!n||n[t.key]!==t)&&Mr("Database "+e+"("+t.repoInfo_+") has already been deleted."),LR(t),delete n[t.key]}function dW(t,e,n,r){var i=Ig[e.name];i||(i={},Ig[e.name]=i);var o=i[t.toURLString()];return o&&Mr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new mU(t,qR,n,r),i[t.toURLString()]=o,o}function hW(t){qR=t}var pW=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(yU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ar(this._repo,He())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._rootInternal!==null&&(fW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&Mr("Cannot call "+e+" on a deleted database.")},t}();function gW(t,e,n,r){r===void 0&&(r={}),t=Qn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Mr("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Mr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new sl(sl.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:Bj(r.mockUserToken,t.app.options.projectId);o=new sl(a)}cW(i,e,n,o)}function mW(t){t=Qn(t),t._checkNotDeleted("goOffline"),LR(t._repo)}function yW(t){t=Qn(t),t._checkNotDeleted("goOnline"),RU(t._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vW={".sv":"timestamp"};function CW(){return vW}function PW(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bW=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function EW(t,e,n){var r;if(t=Qn(t),kn("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new Pn,a=function(c,C,E){var O=null;c?o.reject(c):(O=new Rd(E,new Ar(t._repo,t._path),ot),o.resolve(new bW(C,O)))},s=Dg(t,function(){});return MU(t._repo,t._path,e,a,s,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OW=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){xe("OnDisconnect.cancel",0,1,arguments.length),Ht("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){xe("OnDisconnect.remove",0,1,arguments.length),Ht("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){xe("OnDisconnect.set",1,2,arguments.length),Ht("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){xe("OnDisconnect.setWithPriority",2,3,arguments.length),Ht("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(e,n){if(xe("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Jt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ht("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(e);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SW=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return xe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cl=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return xe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return xe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return xe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return xe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return xe("DataSnapshot.child",0,1,arguments.length),e=String(e),Gl("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return xe("DataSnapshot.hasChild",1,1,arguments.length),Gl("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return xe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return xe("DataSnapshot.forEach",1,1,arguments.length),Ht("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return xe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return xe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return xe("DataSnapshot.ref",0,0,arguments.length),new Do(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),GR=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var o=this,a;xe("Query.on",2,4,arguments.length),Ht("Query.on","callback",n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i),c=function(E,O){n.call(s.context,new cl(o.database,E),O)};c.userCallback=n,c.context=s.context;var C=(a=s.cancel)===null||a===void 0?void 0:a.bind(s.context);switch(e){case"value":return Dg(this._delegate,c,C),n;case"child_added":return i0(this._delegate,c,C),n;case"child_removed":return a0(this._delegate,c,C),n;case"child_changed":return o0(this._delegate,c,C),n;case"child_moved":return s0(this._delegate,c,C),n;default:throw new Error(Tn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(xe("Query.off",0,3,arguments.length),cU("Query.off",e,!0),Ht("Query.off","callback",n,!0),EE("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,l0(this._delegate,e,i)}else l0(this._delegate,e)},t.prototype.get=function(){var e=this;return zU(this._delegate).then(function(n){return new cl(e.database,n)})},t.prototype.once=function(e,n,r,i){var o=this;xe("Query.once",1,4,arguments.length),Ht("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=new Pn,c=function(E,O){var y=new cl(o.database,E);n&&n.call(a.context,y,O),s.resolve(y)};c.userCallback=n,c.context=a.context;var C=function(E){a.cancel&&a.cancel.call(a.context,E),s.reject(E)};switch(e){case"value":Dg(this._delegate,c,C,{onlyOnce:!0});break;case"child_added":i0(this._delegate,c,C,{onlyOnce:!0});break;case"child_removed":a0(this._delegate,c,C,{onlyOnce:!0});break;case"child_changed":o0(this._delegate,c,C,{onlyOnce:!0});break;case"child_moved":s0(this._delegate,c,C,{onlyOnce:!0});break;default:throw new Error(Tn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},t.prototype.limitToFirst=function(e){return xe("Query.limitToFirst",1,1,arguments.length),new t(this.database,nr(this._delegate,JU(e)))},t.prototype.limitToLast=function(e){return xe("Query.limitToLast",1,1,arguments.length),new t(this.database,nr(this._delegate,XU(e)))},t.prototype.orderByChild=function(e){return xe("Query.orderByChild",1,1,arguments.length),new t(this.database,nr(this._delegate,eW(e)))},t.prototype.orderByKey=function(){return xe("Query.orderByKey",0,0,arguments.length),new t(this.database,nr(this._delegate,nW()))},t.prototype.orderByPriority=function(){return xe("Query.orderByPriority",0,0,arguments.length),new t(this.database,nr(this._delegate,iW()))},t.prototype.orderByValue=function(){return xe("Query.orderByValue",0,0,arguments.length),new t(this.database,nr(this._delegate,sW()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),xe("Query.startAt",0,2,arguments.length),new t(this.database,nr(this._delegate,qU(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),xe("Query.startAfter",0,2,arguments.length),new t(this.database,nr(this._delegate,GU(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),xe("Query.endAt",0,2,arguments.length),new t(this.database,nr(this._delegate,HU(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),xe("Query.endBefore",0,2,arguments.length),new t(this.database,nr(this._delegate,$U(e,n)))},t.prototype.equalTo=function(e,n){return xe("Query.equalTo",1,2,arguments.length),new t(this.database,nr(this._delegate,lW(e,n)))},t.prototype.toString=function(){return xe("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return xe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(xe("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ht(e,"cancel",i.cancel,!0),i.context=r,EE(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Tn(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new Do(this.database,new Ar(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Do=function(t){Et(e,t);function e(n,r){var i=t.call(this,n,new er(r._repo,r._path,new oR,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return xe("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return xe("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,$o(this._delegate,n))},e.prototype.getParent=function(){xe("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return xe("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){xe("Reference.set",1,2,arguments.length),Ht("Reference.set","onComplete",r,!0);var i=Wy(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(n,r){if(xe("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,Jt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}kn("Reference.update",this._delegate._path),Ht("Reference.update","onComplete",r,!0);var a=QU(this._delegate,n);return r&&a.then(function(){return r(null)},function(s){return r(s)}),a},e.prototype.setWithPriority=function(n,r,i){xe("Reference.setWithPriority",2,3,arguments.length),Ht("Reference.setWithPriority","onComplete",i,!0);var o=WU(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},e.prototype.remove=function(n){xe("Reference.remove",0,1,arguments.length),Ht("Reference.remove","onComplete",n,!0);var r=FU(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var o=this;xe("Reference.transaction",1,3,arguments.length),Ht("Reference.transaction","transactionUpdate",n,!1),Ht("Reference.transaction","onComplete",r,!0),dU("Reference.transaction","applyLocally",i,!0);var a=EW(this._delegate,n,{applyLocally:i}).then(function(s){return new SW(s.committed,new cl(o.database,s.snapshot))});return r&&a.then(function(s){return r(null,s.committed,s.snapshot)},function(s){return r(s,!1,null)}),a},e.prototype.setPriority=function(n,r){xe("Reference.setPriority",1,2,arguments.length),Ht("Reference.setPriority","onComplete",r,!0);var i=UU(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(n,r){var i=this;xe("Reference.push",0,2,arguments.length),Ht("Reference.push","onComplete",r,!0);var o=jU(this._delegate,n),a=o.then(function(c){return new e(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var s=new e(this.database,o);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return kn("Reference.onDisconnect",this._delegate._path),new OW(new NU(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(GR);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xf=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),gW(this._delegate,e,n,r)},t.prototype.ref=function(e){if(xe("database.ref",0,1,arguments.length),e instanceof Do){var n=r0(this._delegate,e.toString());return new Do(this,n)}else{var n=QR(this._delegate,e);return new Do(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";xe(n,1,1,arguments.length);var r=r0(this._delegate,e);return new Do(this,r)},t.prototype.goOffline=function(){return xe("database.goOffline",0,0,arguments.length),mW(this._delegate)},t.prototype.goOnline=function(){return xe("database.goOnline",0,0,arguments.length),yW(this._delegate)},t.ServerValue={TIMESTAMP:CW(),increment:function(e){return PW(e)}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xW=function(){bo.forceDisallow(),fy.forceAllow()},TW=function(){fy.forceDisallow()},RW=function(){return bo.isAvailable()},DW=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},IW=function(t,e){DU(t._delegate._repo,e)},MW=function(t,e){IU(t._delegate._repo,e)},VW=function(t){return t._delegate._repo.dataUpdateCount},wW=function(t,e){return vU(t._delegate._repo,e)};function AW(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=a===void 0?!1:a;OT(r);var c=new gT("auth-internal",new mT("database-standalone"));return c.setComponent(new su("auth-internal",function(){return i},"PRIVATE")),{instance:new xf(_R(e,c,void 0,n,s),e),namespace:o}}var LW=Object.freeze({__proto__:null,forceLongPolling:xW,forceWebSockets:TW,isWebSocketsAvailable:RW,setSecurityDebugCallback:DW,stats:IW,statsIncrementCounter:MW,dataUpdateCount:VW,interceptServerData:wW,initStandalone:AW});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BW=Lo;Lo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Lo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var NW=$T,jW=function(t){var e=Lo.prototype.put;return Lo.prototype.put=function(n,r,i,o){o!==void 0&&(o=t()),e.call(this,n,r,i,o)},function(){Lo.prototype.put=e}},FW=uy,UW=function(t){return t._delegate._queryIdentifier},WW=function(t){hW(t)},QW=Object.freeze({__proto__:null,DataConnection:BW,RealTimeConnection:NW,hijackHash:jW,ConnectionTarget:FW,queryIdentifier:UW,forceRestClient:WW});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zW=xf.ServerValue;function HW(t){OT(t.SDK_VERSION),t.INTERNAL.registerComponent(new su("database",function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new xf(_R(i,o,a,r),i)},"PUBLIC").setServiceProps({Reference:Do,Query:GR,Database:xf,DataSnapshot:cl,enableLogging:RT,INTERNAL:LW,ServerValue:zW,TEST_ACCESS:QW}).setMultipleInstances(!0)),t.registerVersion(RF,DF)}HW(na);const KW={apiKey:"AIzaSyDj-QobEqvtY0A0-wRzVuafTLC9B4xcxkQ",authDomain:"canadian-university-filter.firebaseapp.com",databaseURL:"https://canadian-university-filter-default-rtdb.firebaseio.com",projectId:"canadian-university-filter",storageBucket:"canadian-university-filter.appspot.com",messagingSenderId:"556366278548",appId:"1:556366278548:web:690159ba50e625a6c06981"};na.initializeApp(KW);async function kR(){const t=na.database().ref();t.once("value");try{return{data:[...(await t.once("value")).val()]}}catch(e){console.error("Error fetching data:",e)}}const $W=Array.from({length:41},(t,e)=>60+e),qW=$W.map(t=>({value:t.toString(),text:t.toString()})),JR=[];kR().then(t=>{t.data&&t.data.map(e=>JR.push(e.name))}).catch(t=>{console.log(t)});const _W={title:"CUF Questionnaire",description:"Please fill in the form to check your university eligility",logo:wj,questionErrorLocation:"bottom",logoHeight:"100px",logoFit:"cover",logoPosition:"right",elements:[{type:"dropdown",name:"cadStatus",title:"Are you a canadian or foreign student?",choices:[{value:"canadian",text:"Canadian Student"},{value:"foreign",text:"Foreign Student"}],isRequired:!0},{type:"dropdown",name:"major",title:"What is your chosen major?",choices:[{value:"engineering",text:"Engineering"},{value:"science",text:"Sciences"},{value:"commerce",text:"Commerce/Business"},{value:"art",text:"Art"}],isRequired:!0},{type:"dropdown",name:"grade",title:"What is your grade average?",choices:qW,isRequired:!0},{name:"tuition",type:"text",title:"Enter your tuition budget (CAD $)",description:"No spaces or symbols",inputType:"number",placeholder:"5000",isRequired:!0,validators:[{type:"numeric"}]},{type:"dropdown",name:"finalChoice",title:"Select your top university or view your best match",choices:[{value:"top",text:"Top University"},{value:"best",text:"Best Match"}],isRequired:!0},{type:"dropdown",name:"university",description:"If you selected the best match above, skip this question",title:"Select your chosen university",choices:JR}],showQuestionNumbers:!0,completeText:"Send",widthMode:"static",width:"800px"};function YR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=YR(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ri(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=YR(t))&&(r&&(r+=" "),r+=e);return r}const fl=t=>typeof t=="number"&&!isNaN(t),qo=t=>typeof t=="string",En=t=>typeof t=="function",Dc=t=>qo(t)||En(t)?t:null,Uh=t=>X.isValidElement(t)||qo(t)||En(t)||fl(t);function GW(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Dd(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=t;return function(a){let{children:s,position:c,preventExitTransition:C,done:E,nodeRef:O,isIn:y}=a;const b=r?`${e}--${c}`:e,P=r?`${n}--${c}`:n,g=X.useRef(0);return X.useLayoutEffect(()=>{const m=O.current,v=b.split(" "),f=l=>{l.target===O.current&&(m.dispatchEvent(new Event("d")),m.removeEventListener("animationend",f),m.removeEventListener("animationcancel",f),g.current===0&&l.type!=="animationcancel"&&m.classList.remove(...v))};m.classList.add(...v),m.addEventListener("animationend",f),m.addEventListener("animationcancel",f)},[]),X.useEffect(()=>{const m=O.current,v=()=>{m.removeEventListener("animationend",v),i?GW(m,E,o):E()};y||(C?v():(g.current=1,m.className+=` ${P}`,m.addEventListener("animationend",v)))},[y]),Ve.createElement(Ve.Fragment,null,s)}}function u0(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Kn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},tc=t=>{let{theme:e,type:n,...r}=t;return Ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Wh={info:function(t){return Ve.createElement(tc,{...t},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Ve.createElement(tc,{...t},Ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Ve.createElement(tc,{...t},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Ve.createElement(tc,{...t},Ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ve.createElement("div",{className:"Toastify__spinner"})}};function kW(t){const[,e]=X.useReducer(b=>b+1,0),[n,r]=X.useState([]),i=X.useRef(null),o=X.useRef(new Map).current,a=b=>n.indexOf(b)!==-1,s=X.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:a,getToast:b=>o.get(b)}).current;function c(b){let{containerId:P}=b;const{limit:g}=s.props;!g||P&&s.containerId!==P||(s.count-=s.queue.length,s.queue=[])}function C(b){r(P=>b==null?[]:P.filter(g=>g!==b))}function E(){const{toastContent:b,toastProps:P,staleId:g}=s.queue.shift();y(b,P,g)}function O(b,P){let{delay:g,staleId:m,...v}=P;if(!Uh(b)||function(T){return!i.current||s.props.enableMultiContainer&&T.containerId!==s.props.containerId||o.has(T.toastId)&&T.updateId==null}(v))return;const{toastId:f,updateId:l,data:d}=v,{props:h}=s,p=()=>C(f),u=l==null;u&&s.count++;const x={...h,style:h.toastStyle,key:s.toastKey++,...Object.fromEntries(Object.entries(v).filter(T=>{let[D,R]=T;return R!=null})),toastId:f,updateId:l,data:d,closeToast:p,isIn:!1,className:Dc(v.className||h.toastClassName),bodyClassName:Dc(v.bodyClassName||h.bodyClassName),progressClassName:Dc(v.progressClassName||h.progressClassName),autoClose:!v.isLoading&&(V=v.autoClose,A=h.autoClose,V===!1||fl(V)&&V>0?V:A),deleteToast(){const T=u0(o.get(f),"removed");o.delete(f),Kn.emit(4,T);const D=s.queue.length;if(s.count=f==null?s.count-s.displayedToast:s.count-1,s.count<0&&(s.count=0),D>0){const R=f==null?s.props.limit:1;if(D===1||R===1)s.displayedToast++,E();else{const S=R>D?D:R;s.displayedToast=S;for(let I=0;I<S;I++)E()}}else e()}};var V,A;x.iconOut=function(T){let{theme:D,type:R,isLoading:S,icon:I}=T,w=null;const L={theme:D,type:R};return I===!1||(En(I)?w=I(L):X.isValidElement(I)?w=X.cloneElement(I,L):qo(I)||fl(I)?w=I:S?w=Wh.spinner():(F=>F in Wh)(R)&&(w=Wh[R](L))),w}(x),En(v.onOpen)&&(x.onOpen=v.onOpen),En(v.onClose)&&(x.onClose=v.onClose),x.closeButton=h.closeButton,v.closeButton===!1||Uh(v.closeButton)?x.closeButton=v.closeButton:v.closeButton===!0&&(x.closeButton=!Uh(h.closeButton)||h.closeButton);let M=b;X.isValidElement(b)&&!qo(b.type)?M=X.cloneElement(b,{closeToast:p,toastProps:x,data:d}):En(b)&&(M=b({closeToast:p,toastProps:x,data:d})),h.limit&&h.limit>0&&s.count>h.limit&&u?s.queue.push({toastContent:M,toastProps:x,staleId:m}):fl(g)?setTimeout(()=>{y(M,x,m)},g):y(M,x,m)}function y(b,P,g){const{toastId:m}=P;g&&o.delete(g);const v={content:b,props:P};o.set(m,v),r(f=>[...f,m].filter(l=>l!==g)),Kn.emit(4,u0(v,v.props.updateId==null?"added":"updated"))}return X.useEffect(()=>(s.containerId=t.containerId,Kn.cancelEmit(3).on(0,O).on(1,b=>i.current&&C(b)).on(5,c).emit(2,s),()=>{o.clear(),Kn.emit(3,s)}),[]),X.useEffect(()=>{s.props=t,s.isToastActive=a,s.displayedToast=n.length}),{getToastToRender:function(b){const P=new Map,g=Array.from(o.values());return t.newestOnTop&&g.reverse(),g.forEach(m=>{const{position:v}=m.props;P.has(v)||P.set(v,[]),P.get(v).push(m)}),Array.from(P,m=>b(m[0],m[1]))},containerRef:i,isToastActive:a}}function c0(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function f0(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function JW(t){const[e,n]=X.useState(!1),[r,i]=X.useState(!1),o=X.useRef(null),a=X.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,s=X.useRef(t),{autoClose:c,pauseOnHover:C,closeToast:E,onClick:O,closeOnClick:y}=t;function b(d){if(t.draggable){d.nativeEvent.type==="touchstart"&&d.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",f),document.addEventListener("touchmove",v),document.addEventListener("touchend",f);const h=o.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=h.getBoundingClientRect(),h.style.transition="",a.x=c0(d.nativeEvent),a.y=f0(d.nativeEvent),t.draggableDirection==="x"?(a.start=a.x,a.removalDistance=h.offsetWidth*(t.draggablePercent/100)):(a.start=a.y,a.removalDistance=h.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function P(d){if(a.boundingRect){const{top:h,bottom:p,left:u,right:x}=a.boundingRect;d.nativeEvent.type!=="touchend"&&t.pauseOnHover&&a.x>=u&&a.x<=x&&a.y>=h&&a.y<=p?m():g()}}function g(){n(!0)}function m(){n(!1)}function v(d){const h=o.current;a.canDrag&&h&&(a.didMove=!0,e&&m(),a.x=c0(d),a.y=f0(d),a.delta=t.draggableDirection==="x"?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),h.style.transform=`translate${t.draggableDirection}(${a.delta}px)`,h.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function f(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",f),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",f);const d=o.current;if(a.canDrag&&a.didMove&&d){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),void t.closeToast();d.style.transition="transform 0.2s, opacity 0.2s",d.style.transform=`translate${t.draggableDirection}(0)`,d.style.opacity="1"}}X.useEffect(()=>{s.current=t}),X.useEffect(()=>(o.current&&o.current.addEventListener("d",g,{once:!0}),En(t.onOpen)&&t.onOpen(X.isValidElement(t.children)&&t.children.props),()=>{const d=s.current;En(d.onClose)&&d.onClose(X.isValidElement(d.children)&&d.children.props)}),[]),X.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||m(),window.addEventListener("focus",g),window.addEventListener("blur",m)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",m))}),[t.pauseOnFocusLoss]);const l={onMouseDown:b,onTouchStart:b,onMouseUp:P,onTouchEnd:P};return c&&C&&(l.onMouseEnter=m,l.onMouseLeave=g),y&&(l.onClick=d=>{O&&O(d),a.canCloseOnClick&&E()}),{playToast:g,pauseToast:m,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:l}}function XR(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return Ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},Ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function YW(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:o,className:a,style:s,controlledProgress:c,progress:C,rtl:E,isIn:O,theme:y}=t;const b=o||c&&C===0,P={...s,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:b?0:1};c&&(P.transform=`scaleX(${C})`);const g=Ri("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":E}),m=En(a)?a({rtl:E,type:i,defaultClassName:g}):Ri(g,a);return Ve.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:m,style:P,[c&&C>=1?"onTransitionEnd":"onAnimationEnd"]:c&&C<1?null:()=>{O&&r()}})}const XW=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=JW(t),{closeButton:o,children:a,autoClose:s,onClick:c,type:C,hideProgressBar:E,closeToast:O,transition:y,position:b,className:P,style:g,bodyClassName:m,bodyStyle:v,progressClassName:f,progressStyle:l,updateId:d,role:h,progress:p,rtl:u,toastId:x,deleteToast:V,isIn:A,isLoading:M,iconOut:T,closeOnClick:D,theme:R}=t,S=Ri("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${C}`,{"Toastify__toast--rtl":u},{"Toastify__toast--close-on-click":D}),I=En(P)?P({rtl:u,position:b,type:C,defaultClassName:S}):Ri(S,P),w=!!p||!s,L={closeToast:O,type:C,theme:R};let F=null;return o===!1||(F=En(o)?o(L):X.isValidElement(o)?X.cloneElement(o,L):XR(L)),Ve.createElement(y,{isIn:A,done:V,position:b,preventExitTransition:n,nodeRef:r},Ve.createElement("div",{id:x,onClick:c,className:I,...i,style:g,ref:r},Ve.createElement("div",{...A&&{role:h},className:En(m)?m({type:C}):Ri("Toastify__toast-body",m),style:v},T!=null&&Ve.createElement("div",{className:Ri("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},T),Ve.createElement("div",null,a)),F,Ve.createElement(YW,{...d&&!w?{key:`pb-${d}`}:{},rtl:u,theme:R,delay:s,isRunning:e,isIn:A,closeToast:O,hide:E,type:C,style:l,className:f,controlledProgress:w,progress:p||0})))},Id=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},ZW=Dd(Id("bounce",!0));Dd(Id("slide",!0));Dd(Id("zoom"));Dd(Id("flip"));const Mg=X.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=kW(t),{className:o,style:a,rtl:s,containerId:c}=t;function C(E){const O=Ri("Toastify__toast-container",`Toastify__toast-container--${E}`,{"Toastify__toast-container--rtl":s});return En(o)?o({position:E,rtl:s,defaultClassName:O}):Ri(O,Dc(o))}return X.useEffect(()=>{e&&(e.current=r.current)},[]),Ve.createElement("div",{ref:r,className:"Toastify",id:c},n((E,O)=>{const y=O.length?{...a}:{...a,pointerEvents:"none"};return Ve.createElement("div",{className:C(E),style:y,key:`container-${E}`},O.map((b,P)=>{let{content:g,props:m}=b;return Ve.createElement(XW,{...m,isIn:i(m.toastId),style:{...m.style,"--nth":P+1,"--len":O.length},key:`toast-${m.key}`},g)}))}))});Mg.displayName="ToastContainer",Mg.defaultProps={position:"top-right",transition:ZW,autoClose:5e3,closeButton:XR,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Qh,Po=new Map,Qa=[],e9=1;function ZR(){return""+e9++}function t9(t){return t&&(qo(t.toastId)||fl(t.toastId))?t.toastId:ZR()}function dl(t,e){return Po.size>0?Kn.emit(0,t,e):Qa.push({content:t,options:e}),e.toastId}function Tf(t,e){return{...e,type:e&&e.type||t,toastId:t9(e)}}function nc(t){return(e,n)=>dl(e,Tf(t,n))}function dt(t,e){return dl(t,Tf("default",e))}dt.loading=(t,e)=>dl(t,Tf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),dt.promise=function(t,e,n){let r,{pending:i,error:o,success:a}=e;i&&(r=qo(i)?dt.loading(i,n):dt.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(E,O,y)=>{if(O==null)return void dt.dismiss(r);const b={type:E,...s,...n,data:y},P=qo(O)?{render:O}:O;return r?dt.update(r,{...b,...P}):dt(P.render,{...b,...P}),y},C=En(t)?t():t;return C.then(E=>c("success",a,E)).catch(E=>c("error",o,E)),C},dt.success=nc("success"),dt.info=nc("info"),dt.error=nc("error"),dt.warning=nc("warning"),dt.warn=dt.warning,dt.dark=(t,e)=>dl(t,Tf("default",{theme:"dark",...e})),dt.dismiss=t=>{Po.size>0?Kn.emit(1,t):Qa=Qa.filter(e=>t!=null&&e.options.toastId!==t)},dt.clearWaitingQueue=function(t){return t===void 0&&(t={}),Kn.emit(5,t)},dt.isActive=t=>{let e=!1;return Po.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},dt.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const a=Po.get(o||Qh);return a&&a.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:ZR()};o.toastId!==t&&(o.staleId=t);const a=o.render||i;delete o.render,dl(a,o)}},0)},dt.done=t=>{dt.update(t,{progress:1})},dt.onChange=t=>(Kn.on(4,t),()=>{Kn.off(4,t)}),dt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},dt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Kn.on(2,t=>{Qh=t.containerId||t,Po.set(Qh,t),Qa.forEach(e=>{Kn.emit(0,e.content,e.options)}),Qa=[]}).on(3,t=>{Po.delete(t.containerId||t),Po.size===0&&Kn.off(0).off(1).off(5)});const n9=()=>{const[t,e]=X.useState(null),n=new Mj.Model(_W),r=o=>{o.preventDefault(),Object.keys(n.data).length<5?dt.error("Please complete the required questions",{position:"top-right",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):e(n.data)},i=X.useContext(Md);return Z.jsxs("div",{className:" overflow-auto w-full h-full text-center  p-4  lg:w-11/12",children:[!t&&Z.jsxs("div",{className:" bg-white ",children:[Z.jsx(Vj.Survey,{model:n}),Z.jsx("button",{onClick:r,className:" transition-all ease-in-out duration-300 p-7 mb-3 bg-purple-500 font-extrabold  rounded-2xl hover:scale-[1.02] hover:tracking-wider hover:bg-purple-300 ",children:"SUBMIT"})]}),t&&Z.jsx("div",{className:" bg-bodyBlue w-full h-full border-2 rounded-md shadow shadow-bodyGold border-zinc-500 flex justify-center items-center",children:Z.jsx(rT,{selectedUniversity:t.university,generalData:i,surveyData:t})}),Z.jsx("div",{className:"z-50"})]})},r9="/CUF/assets/body-939ec8a4.jpg",i9=()=>{const t=X.useContext(Md);return Z.jsxs("div",{className:"relative z-0 flex justify-center items-center",children:[Z.jsx("img",{className:" z-0 w-full h-screen object-cover",src:r9,alt:"bodyImage"}),t&&Z.jsx("div",{className:"absolute z-20 w-3/5 h-5/6 bg-bodyTurquoise border-2 border-zinc-500 flex justify-center ",children:Z.jsx(n9,{universities:t})}),!t&&Z.jsx("div",{className:"absolute text-bodyGold",children:Z.jsx(ty,{height:"300",width:"300",color:"#BFA181",ariaLabel:"triangle-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})})]})},o9="/CUF/assets/body2-b4aaa32b.jpg",s9=()=>{const t=X.useContext(Md),[e,n]=X.useState(!1),[r,i]=X.useState({univDropDown:"Algoma University"}),o=E=>{E.preventDefault(),i(O=>({...O,[E.target.name]:E.target.value}))},a=E=>{E.preventDefault(),n(!e)},[s,c]=X.useState(!1),C=()=>{c(!0)};return Z.jsxs("div",{className:"relative z-0 flex justify-center items-center",children:[Z.jsx("img",{className:" z-0 w-full h-screen object-cover",src:o9,alt:"bodyImage"}),t&&Z.jsxs(Z.Fragment,{children:[!e&&Z.jsx("div",{className:`absolute flex mb-56 w-2/3 transition-all duration-200 active:animate-none focus:animate-none hover:animate-none after:animate-none ${s?"animate-none":"animate-pulse"} `,children:Z.jsxs("form",{className:"w-full",onSubmit:a,children:[Z.jsx("select",{onClick:C,className:"w-2/3 p-3 text-black bg-white border rounded-md shadow-sm outline-none appearance-none focus:border-indigo-600",id:"univDropDown",name:"univDropDown",value:r.univDropDown,onChange:o,children:t.map((E,O)=>Z.jsx("option",{value:E.name,children:E.name},O))}),Z.jsx("button",{className:"border-2 w-2/6 p-2 rounded-br-xl rounded-tr-xl bg-bodyBlue text-lg text-bodyGold hover:bg-slate-300 transition-all delay-75 ease-in-out duration-300",children:"Search"})]})}),e&&Z.jsx("div",{className:"absolute z-20  w-5/6 h-5/6  bg-bodyBlue border-2 rounded-md shadow shadow-bodyGold border-zinc-500 flex justify-center items-center",children:Z.jsx(rT,{selectedUniversity:r.univDropDown,generalData:t})})]}),!t&&Z.jsx("div",{className:"absolute text-bodyGold",children:Z.jsx(ty,{height:"300",width:"300",color:"#BFA181",ariaLabel:"triangle-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})})]})};function a9(t){return ea({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.933.87a2.89 2.89 0 0 1 4.134 0l.622.638.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636zM7.002 11a1 1 0 1 0 2 0 1 1 0 0 0-2 0zm1.602-2.027c.04-.534.198-.815.846-1.26.674-.475 1.05-1.09 1.05-1.986 0-1.325-.92-2.227-2.262-2.227-1.02 0-1.792.492-2.1 1.29A1.71 1.71 0 0 0 6 5.48c0 .393.203.64.545.64.272 0 .455-.147.564-.51.158-.592.525-.915 1.074-.915.61 0 1.03.446 1.03 1.084 0 .563-.208.885-.822 1.325-.619.433-.926.914-.926 1.64v.111c0 .428.208.745.585.745.336 0 .504-.24.554-.627z"}}]})(t)}function l9(t){return ea({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"}}]})(t)}function u9(t){return ea({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"}}]})(t)}function c9(t){return ea({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 9.226l-8-6.21-8 6.21v-2.532l8-6.21 8 6.21zM14 9v6h-4v-4h-4v4h-4v-6l6-4.5z"}}]})(t)}function f9(){return Z.jsx("div",{className:" w-full h-20 bg-bodyBlue border-b-[2px] border-b-gray-800 opacity-95 flex justify-between  sticky z-50 top-0  text-bodyTurquoise",children:Z.jsx("div",{className:"w-1/2 border-2-bodyGold  rounded-3xl flex justify-center items-center mx-auto ",children:Z.jsxs("ul",{className:"flex flex-row  gap-20",children:[Z.jsx(mc,{to:"/CUF",children:Z.jsx("li",{className:"transform transition duration-300 hover:scale-110 hover:cursor-pointer  hover:text-bodyGold",children:Z.jsx(c9,{size:30})})}),Z.jsx(mc,{to:"/CUF/Find",children:Z.jsx("li",{className:"transform transition duration-300 hover:scale-110 hover:cursor-pointer  hover:text-bodyGold",children:Z.jsx(a9,{size:30})})}),Z.jsx(mc,{to:"/CUF/Find/University",children:Z.jsx("li",{className:"transform transition duration-300 hover:scale-110 hover:cursor-pointer  hover:text-bodyGold",children:Z.jsx(u9,{size:30})})})]})})})}function d9(t){return ea({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]})(t)}const h9=()=>Z.jsx("div",{className:" w-full h-40 border-t-[2px]-gray-800  border-b-gray-800 opacity-95 flex flex-col justify-center items-center sticky z-50 top-0 bg-bodyBlue text-bodyTurquoise",children:Z.jsxs("div",{className:"w-1/2 rounded-xl flex flex-col justify-center items-center gap-5 mx-auto",children:[Z.jsxs("ul",{className:" text-bodyGold text-base flex flex-row gap-10 justify-center items-center",children:[Z.jsx("li",{className:"transform transition duration-300 hover:scale-110 hover:cursor-pointer  hover:text-bodyGold",children:Z.jsx("a",{className:"",rel:"noopener noreferrer",href:"https://github.com/hakeem0114",target:"_blank",children:Z.jsx(d9,{size:30})})}),Z.jsx("li",{className:"transform transition duration-300 hover:scale-110 hover:cursor-pointer  hover:text-bodyGold",children:Z.jsx("a",{className:"",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/hakeemabdul-razak/",target:"_blank",children:Z.jsx(l9,{size:30})})})]}),Z.jsxs("ul",{className:" text-bodyGold text-base text-center ",children:[Z.jsx("li",{children:"Copyright @ Hakeem Abdul-Razak 2023"}),Z.jsx("li",{children:"Not affiliated with OUAC"})]})]})});const Md=X.createContext();function p9(){function t(){return Z.jsxs("div",{children:[Z.jsx(f9,{}),Z.jsx(ZV,{}),Z.jsx(h9,{})]})}const e=sw(Wp(Z.jsxs(Z.Fragment,{children:[Z.jsx(La,{path:"/CUF",element:Z.jsx(mw,{})}),Z.jsxs(La,{path:"/CUF/Find",element:Z.jsx(t,{}),children:[Z.jsx(La,{path:"/CUF/Find",element:Z.jsx(i9,{})}),Z.jsx(La,{path:"/CUF/Find/University",element:Z.jsx(s9,{})})]})]}))),[n,r]=X.useState(null);return X.useEffect(()=>{kR().then(i=>{i.data&&r(i.data)}).catch(i=>{console.log(i)})},[]),Z.jsx("div",{className:"scroll-smooth ",children:Z.jsx(Md.Provider,{value:n,children:Z.jsx(YV,{router:e})})})}zh.createRoot(document.getElementById("root")).render(Z.jsxs("div",{children:[Z.jsx(p9,{}),Z.jsx(Mg,{style:{zIndex:"1000"},position:"top-right",autoClose:500,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]}));
